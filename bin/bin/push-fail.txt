sdunlap@lc-atl-235:/projects/bfc_work1/sdunlap/erouter-linux-314(Prod_6.1.1mp1_Netgear)$ git push
Counting objects: 22, done.
Delta compression using up to 16 threads.
Compressing objects: 100% (20/20), done.
Writing objects: 100% (22/22), 2.92 KiB | 0 bytes/s, done.
Total 22 (delta 21), reused 2 (delta 2)
remote: git_branch==Prod_6.1.1mp1_Netgear
remote: It looks like 992 commits are to be processed
remote: allLog-;sdunlap@broadcom.com;2017-05-28 14:51:21 -0400;3bf6a7cd9ff42bf36ca151b350a581f167d4705a;SWRGROUTER-7066: CLONE - Update NTGR 6.1.1mp1 branch to be equivalent to 6.1.2mp1;
remote:  Make 6.1.1mp1_Netgear equal to 6.1.2mp1
remote:
remote:  refs #SWRGROUTER-7066
remote:  NOSANITY#
remote:
remote:  ;rbbswbld@broadcom.com;2017-02-22 17:02:04 -0500;9d7d303f9fcea1cf10f500d92f02c6240c0f8947;SWRGROUTER-2520 - Version update for release Prod_6.1.2mp1;
remote:  refs #SWRGROUTER-2520
remote:
remote:
remote:   Makefile | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;jayeshp@broadcom.com;2017-02-21 19:36:25 -0500;895dd7f195c678d6fbcbc008dc3d29da68f6efc7;SWRGROUTER-6540: WiFi: 3390: Unable to pass Upstream traffic when using an L2oGRE Tunnel;
remote:  Disable acceleration of upstream gre flow for 3390.
remote:  To enable acceleration enter following:
remote:  echo 0 > /proc/sys/net/flowmgr/disable_gre_accel
remote:
remote:  refs #SWRGROUTER-6540
remote:
remote:
remote:   drivers/bcm_media_gw/flowmgr/flowmgr.h |  6 ++
remote:   .../flowmgr/flowmgr_core.c             | 74 +++++++++++---
remote:   .../bcm_media_gw/flowmgr/flowmgr_fap.c | 15 +++
remote:   drivers/bcm_media_gw/include/bcmflow.h |  1 +
remote:   4 files changed, 80 insertions(+), 16 deletions(-)
remote:  ;jayeshp@broadcom.com;2017-02-15 14:34:36 -0500;3792dadc91dd6afd9cf4931dd671dededfb866f4;SWRGROUTER-6498: BUG: soft lockup - CPU#0 stuck for 23s!/CPU#1 stuck for 22s!;
remote:  There is no guarantee that each command will be completed on minimum
remote:  possible time and also internally will not yield the processor.
remote:  So its better to use mutex instead of spinlock.
remote:
remote:  refs #SWRGROUTER-6498
remote:
remote:
remote:   .../bcm_media_gw/include/proc_cmd.h    | 14 ++++++++------
remote:   1 file changed, 8 insertions(+), 6 deletions(-)
remote:  ;sy888189@broadcom.com;2017-02-14 13:01:22 -0500;f8173f2eb9fd55d8d3f26dddd4517270c2f05735;SWRGROUTER-6137: WiFi: 3390: L2oGRE : Constant FLOWMGR prints and US packet corruption when passing traffic.;
remote:  Removed copying of hard coded rdpa.ko since the wifi throughput issue has been fixed in Prod_6.1.2 erouter GIT sha 6fd42fe1f370707252194d1c398710d5efbbd546.
remote:
remote:  refs #SWRGROUTER-6137
remote:
remote:
remote:   Makefile | 7 -------
remote:   1 file changed, 7 deletions(-)
remote:  ;robey@broadcom.com;2017-02-09 10:46:45 +0800;34d7e1dd790425cb454691630143b9ab5a250782;SWRGROUTER-6385 GPL: ITC/RPC code should have dual/GPL copyright headers not proprietary headers.;
remote:  Update the copyright headers in the itc_rpc files
remote:  Also update the copyright headers in netdev_rfap.h, bcmflow.h, bcmgfap.h and a few other files.
remote:
remote:  refs #SWRGROUTER-6385
remote:
remote:  (cherry picked from commit ffefef2cda73ab9a3a48de6ff9daffc2b1672154)
remote:
remote:
remote:   .../cm/itc_rpc/itc_channel_defs.h      |  4 +-
remote:   .../cm/itc_rpc/itc_channel_structs.h   |  4 +-
remote:   .../cm/itc_rpc/itc_channel_tables.c    |  5 +-
remote:   .../cm/itc_rpc/itc_msg_defs.h          |  4 +-
remote:   .../cm/itc_rpc/itc_msg_q.c             |  3 +-
remote:   .../cm/itc_rpc/itc_msg_q.h             |  4 +-
remote:   .../bcm_media_gw/cm/itc_rpc/itc_rpc.c  |  3 +-
remote:   .../bcm_media_gw/cm/itc_rpc/itc_rpc.h  |  8 +-
remote:   .../bcm_media_gw/cm/itc_rpc/itc_user.c |  3 +-
remote:   .../bcm_media_gw/cm/itc_rpc/itc_user.h |  8 +-
remote:   drivers/bcm_media_gw/gfap/bcmgfap.h    | 57 ++++-------
remote:   drivers/bcm_media_gw/include/bcmflow.h |  4 +-
remote:   .../bcm_media_gw/include/netdev_rfap.h | 57 ++++-------
remote:   .../itc_rpc/itc_channel_tables.c       |  3 +-
remote:   .../bcm_media_gw/itc_rpc/itc_msg_q.c   |  3 +-
remote:   .../itc_rpc/itc_rpc_core.c             |  7 +-
remote:   .../bcm_media_gw/itc_rpc/itc_rpc_dbg.c |  6 +-
remote:   .../bcm_media_gw/itc_rpc/itc_rpc_dbg.h |  6 +-
remote:   .../bcm_media_gw/itc_rpc/itc_rpc_dt.c  |  5 +-
remote:   .../bcm_media_gw/itc_rpc/itc_user.c    |  3 +-
remote:   .../itc_rpc/itc_channel_defs.h         | 69 +++++---------
remote:   .../itc_rpc/itc_channel_structs.h      | 59 ++++--------
remote:   .../itc_rpc/itc_msg_defs.h             | 69 +++++---------
remote:   .../bcm_media_gw/itc_rpc/itc_msg_q.h   | 59 ++++--------
remote:   .../bcm_media_gw/itc_rpc/itc_rpc.h     | 69 +++++---------
remote:   .../bcm_media_gw/itc_rpc/itc_rpc_dt.h  | 67 +++++--------
remote:   .../bcm_media_gw/itc_rpc/itc_user.h    | 69 +++++---------
remote:   include/linux/bcm_media_gw/msgfifo.h   | 67 +++++--------
remote:   28 files changed, 286 insertions(+), 439 deletions(-)
remote:  ;xpl@broadcom.com;2017-02-06 13:36:23 +0800;b9c17f8cd480e361b02530786f6c0f4f6fc75e21;SWRGROUTER-5368: Do not cache routing failures due to disabled forwarding.;
remote:  Apply patch https://patchwork.kernel.org/patch/5278031/
remote:
remote:  refs #SWRGROUTER-5368
remote:
remote:  (cherry picked from commit 742bbd52d60b0077d7aa50f6d5d51046fe85d395)
remote:
remote:
remote:   net/ipv4/route.c | 1 +
remote:   1 file changed, 1 insertion(+)
remote:  ;jayeshp@broadcom.com;2017-01-25 21:22:28 -0500;855a814a0b7b8420031e7c61602d09eb485bb60f;SWRGROUTER-5436: 3390: improve network acceleration by accelerating UDP flows sooner;
remote:  Change UDP flow promotion threshold to 10 for 3390.
remote:
remote:  refs #SWRGROUTER-5436
remote:
remote:
remote:   drivers/bcm_media_gw/flowmgr/flowmgr_core.c | 4 ++++
remote:   1 file changed, 4 insertions(+)
remote:  ;jayeshp@broadcom.com;2017-01-25 21:01:51 -0500;19e8f65e37bd97e7873cb9da59fb883855a8298f;SWRGROUTER-6244: netxl vlan support;
remote:  Fix gre flow promotion issue which was
remote:  broken due to commit 06aacf8ebd0da5e300bd5c31fb4fa0391f2015c0.
remote:  Fix issue of removing tunnel device from flowmgr.
remote:
remote:  refs #SWRGROUTER-6244
remote:
remote:
remote:   .../flowmgr/flowmgr_core.c             | 53 ++++++++------
remote:   .../flowmgr/flowmgr_tunnel.c           | 19 ++++-
remote:   2 files changed, 47 insertions(+), 25 deletions(-)
remote:  ;jayeshp@broadcom.com;2017-01-25 20:41:02 -0500;78fdf3dcbc5e05293d3fcbb256a9d29eec753b8f;SWRGROUTER-6241: WiFi : 3390: Flow promotion errors seen during UDP test.;
remote:  Fix ignore port add endian issue.
remote:  Fix ignoreing of well defined ports for UDP flows.
remote:
remote:  refs #SWRGROUTER-6241
remote:
remote:
remote:   .../bcm_media_gw/flowmgr/flowmgr_core.c    | 10 ++++++----
remote:   1 file changed, 6 insertions(+), 4 deletions(-)
remote:  ;jaszczur@broadcom.com;2017-01-24 19:16:22 -0500;98bb9be6eb15df18da4a65b0e92916abff6a09d2;SWRGROUTER-6381: revert 'Revert "SWRGROUTER-6366: Revert switch phy control to switch driver via phylib"';
remote:  This reverts commit 75bc6868da1531cf5b152ca87dcc1ec825394740.
remote:
remote:  refs #SWRGROUTER-6381
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi    |  48 +-
remote:   arch/arm/boot/dts/rg.3390b0-vms.dts    |   4 +
remote:   arch/arm/boot/dts/rg.3390c0-vms.dts    |   4 +
remote:   arch/arm/boot/dts/rg.3390z0-vms.dts    |   4 +
remote:   .../dts/bcm33843mwvg_mgw_zephyr.dtsi   |  72 +-
remote:   .../boot/dts/bcm3384_mgw_zephyr.dtsi   |  63 +-
remote:   arch/mips/configs/bcm3384_defconfig    |   1 -
remote:   .../bcm_media_gw/dqnet/dqnet_core.c    |  22 +-
remote:   drivers/bcm_media_gw/dqnet/dqnet_dt.c  |  13 +-
remote:   .../dqnet/dqnet_nethooks.c             |   6 +-
remote:   drivers/bcm_media_gw/ethsw/Makefile    |  57 +-
remote:   .../bcm_media_gw/ethsw/ethsw_3383.c    | 381 +++++++
remote:   .../bcm_media_gw/ethsw/ethsw_3384.c    |  22 +-
remote:   .../bcm_media_gw/ethsw/ethsw_7145.c    | 742 +++++++++++++
remote:   .../bcm_media_gw/ethsw/ethsw_7145.h    | 303 +++++
remote:   .../ethsw/ethsw_arl_cache.c            |   7 +-
remote:   .../ethsw/ethsw_init_plat.c            |   6 +-
remote:   .../ethsw/ethsw_init_spi.c             |  37 -
remote:   drivers/bcm_media_gw/ethsw/ethsw_phy.c |  22 +-
remote:   drivers/bcm_media_gw/ethsw/ethsw_phy.h | 163 +++
remote:   .../bcm_media_gw/ethsw/ethsw_priv.h    |   2 +-
remote:   drivers/net/phy/bcm7xxx.c              |   3 +-
remote:   drivers/net/phy/mdio-unimac.c          |  55 +-
remote:   include/linux/brcmphy.h                |   1 -
remote:   24 files changed, 1778 insertions(+), 260 deletions(-)
remote:  ;jaszczur@broadcom.com;2017-01-23 18:37:40 -0500;75bc6868da1531cf5b152ca87dcc1ec825394740;SWRGROUTER-6366: Revert switch phy control to switch driver via phylib;
remote:  Revert the changes from commit 913034d3b8e69c90d0080b4ddcd859bc09778e18. This
remote:  was not a simple revert via git but rather a manual revert back to the
remote:  ethsw driver using phylib to control the phys on the switch.
remote:
remote:  Removed the use of the 53xxx phy driver as it incorporates switch core
remote:  control that conflicts with our ethsw switch driver.
remote:
remote:  Added the 53124/5 phy ID to the bcm7xxx phy7 driver so it is used for
remote:  the 3390 internal phys, the 53124/5, and 53134 external switch phys.
remote:
remote:  Changed the ethsw driver reference to the phys to allow it to correctly
remote:  associate the right phy at the right address with a switch port.
remote:
remote:  refs #SWRGROUTER-6366
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi    |  48 +-
remote:   arch/arm/boot/dts/rg.3390b0-vms.dts    |   4 -
remote:   arch/arm/boot/dts/rg.3390c0-vms.dts    |   4 -
remote:   arch/arm/boot/dts/rg.3390z0-vms.dts    |   4 -
remote:   .../dts/bcm33843mwvg_mgw_zephyr.dtsi   |  72 +-
remote:   .../boot/dts/bcm3384_mgw_zephyr.dtsi   |  63 +-
remote:   arch/mips/configs/bcm3384_defconfig    |   1 +
remote:   .../bcm_media_gw/dqnet/dqnet_core.c    |  22 +-
remote:   drivers/bcm_media_gw/dqnet/dqnet_dt.c  |  13 +-
remote:   .../dqnet/dqnet_nethooks.c             |   6 +-
remote:   drivers/bcm_media_gw/ethsw/Makefile    |  57 +-
remote:   .../bcm_media_gw/ethsw/ethsw_3383.c    | 381 -------
remote:   .../bcm_media_gw/ethsw/ethsw_3384.c    |  22 +-
remote:   .../bcm_media_gw/ethsw/ethsw_7145.c    | 742 -------------
remote:   .../bcm_media_gw/ethsw/ethsw_7145.h    | 303 -----
remote:   .../ethsw/ethsw_arl_cache.c            |   7 +-
remote:   .../ethsw/ethsw_init_plat.c            |   6 +-
remote:   .../ethsw/ethsw_init_spi.c             |  37 +
remote:   drivers/bcm_media_gw/ethsw/ethsw_phy.c |  22 +-
remote:   drivers/bcm_media_gw/ethsw/ethsw_phy.h | 163 ---
remote:   .../bcm_media_gw/ethsw/ethsw_priv.h    |   2 +-
remote:   drivers/net/phy/bcm7xxx.c              |   3 +-
remote:   drivers/net/phy/mdio-unimac.c          |  55 +-
remote:   include/linux/brcmphy.h                |   1 +
remote:   24 files changed, 260 insertions(+), 1778 deletions(-)
remote:  ;rbbswbld@broadcom.com;2017-01-19 17:57:35 -0500;4e4998622b47ec2b7ca70af33a61040a7f38cbe1;SWRGROUTER-2520 - Version update for release Prod_6.1.2mp1beta1;
remote:  refs #SWRGROUTER-2520
remote:
remote:
remote:   Makefile | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;jayeshp@broadcom.com;2017-01-19 16:13:28 -0500;ba9a57b3fe6bb082a21145e377872605aff55683;SWRGROUTER-6244: Add lock/unlock around proc command processing;
remote:  refs #SWRGROUTER-6244
remote:
remote:
remote:   drivers/bcm_media_gw/include/proc_cmd.h | 4 ++++
remote:   1 file changed, 4 insertions(+)
remote:  ;jayeshp@broadcom.com;2017-01-19 16:00:57 -0500;53c1c746d8c51c1e005464112c3883c1c888d416;SWRGROUTER-6244: netxl vlan support;
remote:  Added counter for ignored packets.
remote:  Imroved Tunnel network device detection.
remote:  Modified VLAN tag/untag detection.
remote:
remote:  refs #SWRGROUTER-6244
remote:
remote:
remote:   drivers/bcm_media_gw/flowmgr/flowmgr.h |  5 +
remote:   .../flowmgr/flowmgr_core.c             | 78 +++++++-------
remote:   2 files changed, 46 insertions(+), 37 deletions(-)
remote:  ;jayeshp@broadcom.com;2017-01-18 13:51:14 -0500;b7ac1d466993183253609d2f4de1f18bb46ed9dd;SWRGROUTER-6241: WiFi : 3390: Flow promotion errors seen during UDP test.;
remote:  Remove restriction of promoting UDP flows from conntrack orig direction.
remote:  UDP flows can be promoted from orig and repl direction.
remote:
remote:
remote:  refs #SWRGROUTER-6241
remote:
remote:
remote:   .../flowmgr/flowmgr_core.c             | 258 ++++++++-----
remote:   net/netfilter/nf_conntrack_offload.c   |   8 +-
remote:   2 files changed, 157 insertions(+), 109 deletions(-)
remote:  ;jayeshp@broadcom.com;2017-01-17 10:35:32 -0500;0aca476357310bc4f90c5d49729025f23e8e9dcb;SWRGROUTER-6309: Kernel module nf_nat_loopback does not work;
remote:  In case of NAT loopback, packets source/destination IP address will be modified.
remote:  So allow this if loopback was from ethX <-> ethX.
remote:
remote:  refs #SWRGROUTER-6309
remote:
remote:
remote:   .../bcm_media_gw/dqnet/dqnet_nethooks.c  | 12 ++++++++++++
remote:   1 file changed, 12 insertions(+)
remote:  ;petersu@broadcom.com;2017-01-17 10:06:16 -0500;89627efed5382705219eb7d387b2d4b0866cfe5b;SWRGROUTER-6178: improve dqm fifo read efficiency on arm with ldm;
remote:  refs #SWRGROUTER-6178
remote:
remote:
remote:   drivers/bcm_media_gw/dqm/dqm_core.c |  22 +-
remote:   drivers/bcm_media_gw/dqm/dqm_hw.h   | 281 +++++++++++++++-
remote:   2 files changed, 282 insertions(+), 21 deletions(-)
remote:  ;rbbswbld@broadcom.com;2017-01-13 10:46:46 -0500;6c98bb10e0b2a206fbdcc57213d2a019fdcb2706;SWRGROUTER-2520 - Version update to Prod_6.1.2mp1alpha0;
remote:  refs #SWRGROUTER-2520
remote:
remote:
remote:   Makefile | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;rbbswbld@broadcom.com;2017-01-12 16:49:53 -0500;4bf9616e6ce32037fc1dc3bb0961b4ea2dde3173;SWRGROUTER-2520 - Version update to Prod_6.1.2mp1_alpha0;
remote:  refs #SWRGROUTER-2520
remote:
remote:
remote:   Makefile | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;chicaiza@lc-atl-221.atl.broadcom.com;2017-01-11 14:23:45 -0500;e0125145a2c517e68b418e9e6d73d3d37ad6ea6d;SWRGROUTER-6306: Add support for new SPI flash parts;
remote:  Added support for the following SPI flash parts:
remote:  - Spansion S25FL132K
remote:  - MXIC MX25R3235F
remote:
remote:  refs #SWRGROUTER-6306
remote:
remote:
remote:   drivers/mtd/devices/m25p80.c | 2 ++
remote:   1 file changed, 2 insertions(+)
remote:  ;natarajs@broadcom.com;2017-01-11 10:41:02 -0800;3f1025ab891489fac9b1358e2d6699562190dd6d;SWRGROUTER-3644 Enable DWDS - cherry pick the changes from SWRGROUTER-5665;
remote:  Added new netlink port NETLINK_WLWDS
remote:
remote:  refs #SWRGROUTER-3644
remote:
remote:  (cherry picked from commit bfb066a837fc14279002108ab5da6fda10d8b56e)
remote:
remote:
remote:   include/uapi/linux/netlink.h | 3 ++-
remote:   1 file changed, 2 insertions(+), 1 deletion(-)
remote:  ;venky@cm-irv-1.lvn.broadcom.net;2017-01-06 12:26:12 -0800;20d33b5b89336e266c65618844ab43b5a0f8fe04;SWRGROUTER-4912: Add DT bindings documentation for WRFPWR driver.;
remote:  refs #SWRGROUTER-4912
remote:
remote:
remote:   .../bindings/bcm_media_gw/wrfpwr.txt   | 34 ++++++++++++++
remote:   1 file changed, 34 insertions(+)
remote:  ;sy888189@broadcom.com;2016-12-20 13:20:09 -0500;bc6b30150d424043ce65afa1ed6c51414a5d0c98;SWRGROUTER-6223: Need Hardcoded rdpa.ko;
remote:  Updated linux makefile to not copy rdpa.ko file for non-3390 platforms.
remote:
remote:  refs #SWRGROUTER-6223
remote:
remote:
remote:   Makefile | 2 ++
remote:   1 file changed, 2 insertions(+)
remote:  ;rbbswbld@broadcom.com;2016-12-20 11:39:55 -0500;bc8f975e03fdc5265fefa231c19a112bdd7070aa;SWRGROUTER-2520 - Version update for release Prod_6.1.2;
remote:  refs #SWRGROUTER-2520
remote:
remote:
remote:   Makefile | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;venky@cm-irv-1.lvn.broadcom.net;2016-12-19 18:11:50 -0800;c32bb660cbcbeb5101571236b063753f833e7e21;SWRGROUTER-6223: Need Hardcoded rdpa.ko;
remote:  Updated target for external modules to remove extra/runner/rdpa.ko
remote:  from the rootfs install dir.
remote:  make file Updated to remove "/extra/rdpa.ko" file
remote:
remote:  refs #SWRGROUTER-6223
remote:
remote:
remote:   Makefile | 3 +--
remote:   1 file changed, 1 insertion(+), 2 deletions(-)
remote:  ;sy888189@broadcom.com;2016-12-19 19:42:55 -0500;daa41b87898c6dea15743d5a89f6a78bf4349da4;SWRGROUTER-6223: Need Hardcoded rdpa.ko;
remote:  Updated target for external modules to remove extra/runner/rdpa.ko from the rootfs install dir.
remote:
remote:  refs #SWRGROUTER-6223
remote:
remote:
remote:   Makefile | 1 +
remote:   1 file changed, 1 insertion(+)
remote:  ;sy888189@broadcom.com;2016-12-16 15:54:15 -0500;1e46a37f2a89798a030b1156e041d97ebe3d5470;SWRGROUTER-6223: Need Hardcoded rdpa.ko;
remote:  Fixed issue where object files were not being removed in rg_apps/bcmdrivers/broadcom/runner/drivers/rdpa/ during make clean.
remote:
remote:  refs #SWRGROUTER-6223
remote:
remote:
remote:   Makefile | 6 ++++--
remote:   1 file changed, 4 insertions(+), 2 deletions(-)
remote:  ;sy888189@broadcom.com;2016-12-16 15:44:35 -0500;fc395676ec396b2a1d00f59c48902b01e2e87f5c;SWRGROUTER-6223: Need Hardcoded rdpa.ko;
remote:  Updated linux Makefile to not remove rg_apps/bcmdrivers/broadcom/runner/drivers/rdpa/rdpa.ko during make clean.
remote:
remote:  refs #SWRGROUTER-6223
remote:
remote:
remote:   Makefile | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;rp888308@broadcom.com;2016-12-15 18:25:13 -0500;5491ae68486e918283f0f32670dd1c9da1228afa;SWRGROUTER-6196 NAT Hairpining/Loopback - Optimize conntrack search;
remote:  Optimize data path for traffic flowing through LAN-to-WAN and WAN-to-LAN,
remote:  by moving NAT Loopback hook from NAT Layer-2 to NAT Layer-3
remote:
remote:  refs #SWRGROUTER-6196
remote:
remote:
remote:   .../netfilter/nf_nat_loopback.c            | 10 +++++++---
remote:   1 file changed, 7 insertions(+), 3 deletions(-)
remote:  ;sy888189@broadcom.com;2016-12-15 18:08:57 -0500;38475c96df3e4bf46749d72ebb121d9f38f01cb2;SWRGROUTER-6223: Need Hardcoded rdpa.ko;
remote:  Updated linux Makefile to copy rg_apps/bcmdrivers/broadcom/runner/drivers/rdpa/rdpa.ko over the rootfs installed rdpa.ko if it exists
remote:
remote:  refs #SWRGROUTER-6223
remote:
remote:
remote:   Makefile | 3 +++
remote:   1 file changed, 3 insertions(+)
remote:  ;venky@cm-irv-1.lvn.broadcom.net;2016-12-12 13:06:51 -0800;213fda7534f770c6f02a7cee2965e77846587120;SWRGROUTER-5739: WiFi: The WiFi Rx throughput has dropped in the Develop stream.;
remote:  refs #SWRGROUTER-5739
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;rbbswbld@broadcom.com;2016-12-07 13:32:05 -0500;2686f76256c5199354ed3c84d316349f359f022c;SWRGROUTER-2520 - Version update for release Prod_6.1.2beta2;
remote:  refs #SWRGROUTER-2520
remote:
remote:
remote:   Makefile | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;newcomer@broadcom.com;2016-12-02 15:05:30 -0500;705fccac5079c89d3140ffe7a51534a97670ae66;WRGROUTER-6058: On every boot RG kernel shows clock driver related                      trace warning on 3390wvg board;
remote:  The 3390Z0 device tree was including the MoCA clock definitions
remote:  that were added for 3390B0 powersave. These definitions have now
remote:  been moved to device specific includes.
remote:
remote:   *** Updates based on CoCo-76150. ***
remote:
remote:  refs #SWRGROUTER-6058
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390b0-bolt.dtsi | 1950 ++++++-------
remote:   arch/arm/boot/dts/rg.3390b0-vms.dts   |   48 -
remote:   arch/arm/boot/dts/rg.3390c0-vms.dts   |   48 -
remote:   3 files changed, 975 insertions(+), 1071 deletions(-)
remote:  ;newcomer@broadcom.com;2016-12-01 17:04:52 -0500;6ca0aefc7d3d1a8c50bd0f90d2b25004571dec2e;SWRGROUTER-6058: On every boot RG kernel shows clock driver related                  trace warning on 3390wvg board;
remote:  The 3390Z0 device tree was including the MoCA clock definitions
remote:  that were added for 3390B0 powersave. These definitions have now
remote:  been moved to device specific includes.
remote:
remote:  refs #SWRGROUTER-6058
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390b0-bolt.dtsi | 344 +++++++-------
remote:   arch/arm/boot/dts/rg.3390b0-dcm.dts   |  48 ++
remote:   arch/arm/boot/dts/rg.3390b0-moca.dtsi | 160 -------
remote:   arch/arm/boot/dts/rg.3390b0-vcm.dts   |  48 ++
remote:   arch/arm/boot/dts/rg.3390b0-vms.dts   |  48 ++
remote:   arch/arm/boot/dts/rg.3390b0-wvg.dts   |   2 +-
remote:   arch/arm/boot/dts/rg.3390c0-dcm.dts   |  48 ++
remote:   arch/arm/boot/dts/rg.3390c0-vcm.dts   |  48 ++
remote:   arch/arm/boot/dts/rg.3390c0-vms.dts   |  48 ++
remote:   arch/arm/boot/dts/rg.3390c0-wvg.dts   |  47 ++
remote:   arch/arm/boot/dts/rg.3390z0-bolt.dtsi |  71 +++
remote:   11 files changed, 579 insertions(+), 333 deletions(-)
remote:  ;newcomer@broadcom.com;2016-11-30 14:56:58 -0500;7ae23b331e97a1be8025d325c6613b84208f077c;SWRGROUTER-6066: 3390: Add code to the USB driver to clear OTP                       disable bits during the power on process.;
remote:  Some code changes based on feedback fro COCO 75830
remote:
remote:  refs #SWRGROUTER-6066
remote:
remote:
remote:   .../usb/host/usb-brcm-common-init.c    | 15 +++++++-------
remote:   1 file changed, 8 insertions(+), 7 deletions(-)
remote:  ;newcomer@broadcom.com;2016-11-30 14:56:40 -0500;65f0792e05ea38e1bddc45bf91e3ec2ca98b6c95;SWRGROUTER-6064: 3390 Powersave: Modify 3390B0 WVG device tree to                  disable unused USB and Zigbee nodes.;
remote:  Since the second USB core and Zigbee are not used on the 3390 WVG
remote:  board, device tree nodes with status=disabled have been added to
remote:  prevent those blocks from being powered up at boot.
remote:
remote:  refs #SWRGROUTER-6064
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390b0-wvg.dts | 47 +++++++++++++++++
remote:   1 file changed, 47 insertions(+)
remote:  ;newcomer@broadcom.com;2016-11-30 14:56:04 -0500;2dd560c57673cee13281271f51fbb71f7639091f;SWRGROUTER-6066: 3390: Add code to the USB driver to clear OTP                  disable bits during the power on process.;
remote:  If the OTP disable bits and HCI reset bits are present in the register
remote:  include definition file, they will be cleared during the bringup of
remote:  the USB core.
remote:
remote:  refs #SWRGROUTER-6066
remote:
remote:
remote:   .../usb/host/usb-brcm-common-init.c    | 23 ++++++++++++--
remote:   1 file changed, 20 insertions(+), 3 deletions(-)
remote:  ;petersu@broadcom.com;2016-11-21 17:28:32 -0500;57f565061400bf4a6e6503d596ff9a6ab4d4d1a6;SWRGROUTER-5858: UBI ECC errors - latest nand workaround from settop;
remote:  This commit includes the latest workaround for write protect,
remote:  block erase, and controller ready hardware timing issues
remote:
remote:  Code reviewed by Kamal Dasu
remote:
remote:  refs #SWRGROUTER-5858
remote:
remote:
remote:   drivers/mtd/nand/brcmstb_nand.c | 55 ++++++++++++++++++++-
remote:   1 file changed, 54 insertions(+), 1 deletion(-)
remote:  ;venky@cm-irv-1.lvn.broadcom.net;2016-11-17 12:52:11 -0800;4bb1218615d97a62d467398d1bd6c972c3357a26;SWRGROUTER-5991 Battery: Internal error: Oops: 207 [#1] SMP ARM Calling dqnet_wifi_close when unbind the driver sometime crash.;
remote:  refs #SWRGROUTER-5991
remote:
remote:
remote:   .../bcm_media_gw/dqnet/dqnet_core.c    | 16 +++++++-------
remote:   1 file changed, 8 insertions(+), 8 deletions(-)
remote:  ;ignatius@broadcom.com;2016-11-17 11:56:58 -0800;ac2c754b9b3b164322a6ba157bd8a6e2079c32b5;SWRGROUTER-6013: MAP: MAP driver is doing redundant work for fragmented packets.;
remote:  Missing struct keyword for sizeof()
remote:
remote:  refs #SWRGROUTER-6013
remote:
remote:  (cherry picked from commit b6685d34961cfa21d297c54eff0584cfde1f7801)
remote:
remote:
remote:   net/ipv6/map_encap.c | 3 ++-
remote:   1 file changed, 2 insertions(+), 1 deletion(-)
remote:  ;ignatius@broadcom.com;2016-11-17 11:42:30 -0800;0d40063d1e18daaff2a1be992caedb93dc9ca6de;SWRGROUTER-6013: MAP: MAP driver is doing redundant work for fragmented packets.;
remote:  Fix half ot the problem, the inner packet ipv4 fragmentation will be fragmented into a size, won't need ipv6 fragmentation.
remote:
remote:  refs #SWRGROUTER-6013
remote:
remote:  (cherry picked from commit 6e3fc4aa18eeb09cb6fb68c0d18e0bf2f73703d4)
remote:
remote:
remote:   net/ipv6/map_encap.c | 5 ++---
remote:   1 file changed, 2 insertions(+), 3 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-11-17 13:29:38 -0500;9018036c60fb0a9371af9626927c26a0cb4cd5ad;SWRGROUTER-5923 NETXL: Upstream (RX) data path optimization;
remote:  - Use SKB to pass packet to Runner
remote:  - Enable compilation of DQSKB driver
remote:
remote:
remote:  refs #SWRGROUTER-5923
remote:
remote:  (cherry picked from commit 9e66cf213b5a009c7309cba504d44e1ea324e1dd)
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi    |  4 +--
remote:   drivers/bcm_media_gw/Kconfig           |  2 +-
remote:   drivers/bcm_media_gw/dqskb/dqskb.h     |  1 +
remote:   .../bcm_media_gw/dqskb/dqskb_core.c    | 26 +++++++++++++-
remote:   drivers/bcm_media_gw/mdqm/mdqm_dt.c    |  2 +-
remote:   5 files changed, 30 insertions(+), 5 deletions(-)
remote:  ;xpl@broadcom.com;2016-11-17 14:47:16 +0800;20a6c7322be78f9913cc50fb4acd00d217959c27;SWRGROUTER-5267 NF: Change the size of spi in struct nf_conntrack_man_proto;
remote:  Change the size of spi in struct nf_conntrack_man_proto
remote:
remote:  refs #SWRGROUTER-5267
remote:
remote:  (cherry picked from commit dfb34c3c47291ef90a5c9dc4e3cf1b8d5e0f1db1)
remote:
remote:
remote:   .../linux/netfilter/nf_conntrack_tuple_common.h     | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;rd888237@broadcom.com;2016-11-15 14:46:46 -0500;0391b2a5d3ff24145a9bc83130b92e5a5bb17696;SWRGROUTER-5470 MODULE: do not free skb in dqnet when returning NETDEV_TX_BUSY;
remote:  Following the Linux network driver interface guidelines, modify the dqnet driver to not free an skbuff when returning NETDEV_TX_BUSY to indicate a full transmit queue.
remote:
remote:  refs #SWRGROUTER-5470
remote:
remote:
remote:   drivers/bcm_media_gw/dqnet/dqnet_core.c | 6 ++++--
remote:   1 file changed, 4 insertions(+), 2 deletions(-)
remote:  ;newcomer@broadcom.com;2016-11-14 12:21:32 -0500;6b183af1847027179468693ecd606a81458f1456;SWRGROUTER-6000: Need to add MoCA clock tree definition to 3390 BOLT device tree,                  for powersavings shut down.;
remote:  MoCA clock tree definitions added back in the 3390b0 BOLT dtsi, after being
remote:  dropped during the feat_Powersave to develop merge.
remote:
remote:  refs #SWRGROUTER-6000
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390b0-bolt.dtsi | 156 ++++++++++++++
remote:   1 file changed, 156 insertions(+)
remote:  ;dnguyen@broadcom.com;2016-11-09 16:25:38 -0800;2a768560ccd6fef69cb4e5c5166e4da1bbea1f05;SWRGROUTER-5745: WiFi DQM Interrupt coalescing parameters;
remote:  Sync up the DQM interrupt coalescing parameters to be consistent with Prod_6.1.1
remote:
remote:  refs #SWRGROUTER-5745
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi | 5 -----
remote:   1 file changed, 5 deletions(-)
remote:  ;dnguyen@broadcom.com;2016-11-09 15:29:06 -0800;f627ac826326c3d6e9f27236d77a6102c5cfe8fc;SWRGROUTER-5745: WiFi DQM Interrupt coalescing parameters;
remote:  Sync up the DQM interrupt coalescing parameters to be consistent with Prod_6.1.1
remote:
remote:  refs #SWRGROUTER-5745
remote:
remote:  (cherry picked from commit 5962be16ff43d70076562dbd67ee6e692bb06ee7)
remote:
remote:  Conflicts:
remote:  	arch/arm/boot/dts/rg.3390-base.dtsi
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi | 11 ++++++++---
remote:   1 file changed, 8 insertions(+), 3 deletions(-)
remote:  ;ignatius@broadcom.com;2016-11-09 14:54:27 -0800;64ec9fb00bfecbc600ed691dd041f562b4914dd9;SWRGROUTER-5629: With MAP-E configuration higher packet size ipv4 ping from DUT client crashes RG;
remote:  - Properly update the route MTU when a packet exceed the tunnel MTU is received.
remote:  - Fix the issue that the route object is released multiple times when MAP fragments packet.
remote:
remote:  refs #SWRGROUTER-5629
remote:
remote:  (cherry picked from commit 07a65dfc588e26511376f463b49af7c93a5acda8)
remote:
remote:
remote:   net/ipv6/map_encap.c | 6 ++++--
remote:   1 file changed, 4 insertions(+), 2 deletions(-)
remote:  ;enderby@lc-atl-221.atl.broadcom.com;2016-11-07 12:50:36 -0500;32c26759c9e537f6bb0ffc8be0f7670dfa70d72a;SWRGROUTER-5798:3390: DUT stuck after printing "ChipHalGlobalLock: Possibly stuck with lock value 0xa0";
remote:  Backed out addrconf GPL code change and changed SSK sched to NORMAL from RT.
remote:
remote:  refs #SWRGROUTER-5798
remote:
remote:
remote:   net/ipv6/addrconf.c | 9 ++++++---
remote:   1 file changed, 6 insertions(+), 3 deletions(-)
remote:  ;xpl@broadcom.com;2016-11-07 12:55:34 +0800;65bfbd01c754c88ba90c6bcf05b0e8cc8d280bae;SWRGROUTER-5267 NF: Fix wrong handling of esp packets;
remote:  Fix 3 bugs in nf_conntrack_proto_esp.c:
remote:  1. Should not use 192 as the IP range check condition.
remote:  2. Use different tspi for new connection.
remote:  3. reset r_spi to 0 for new connection.
remote:  And also change the size of spi in struct nf_conntrack_tuple.
remote:
remote:  refs #SWRGROUTER-5267
remote:
remote:  (cherry picked from commit 53f3a7866aff2f9775bf1067a128e2ef9d41b35f)
remote:
remote:
remote:   .../netfilter/nf_conntrack_proto_esp.c | 15 +++++++-------
remote:   .../net/netfilter/nf_conntrack_tuple.h |  2 +-
remote:   2 files changed, 9 insertions(+), 8 deletions(-)
remote:  ;rbbswbld@broadcom.com;2016-10-27 19:24:28 -0400;9e7891efa85a706bda318fe7a38c008ca10a47ed;SWRGROUTER-2520 - Version update for release Prod_6.1.2beta1;
remote:  refs #SWRGROUTER-2520
remote:
remote:
remote:   Makefile | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;rbbswbld@broadcom.com;2016-10-27 19:18:20 -0400;ae5ad3a33622eb6f58cb6c3dae1194cad946caf3;SWCM-46720:Rebase Prod_6.1.2 from develop;
remote:  refs #SWCM-46720
remote:
remote:  NOSANITY#
remote:
remote:
remote:   Makefile                               | 2 +-
remote:   drivers/bcm_media_gw/ethsw/ethsw_api.c | 2 --
remote:   2 files changed, 1 insertion(+), 3 deletions(-)
remote:  ;rbbswbld@broadcom.com;2016-10-27 18:30:43 -0400;a15076cc1cef750e77a6c80dc30537b73782a96c;SWRGROUTER-2520 - Version update to Prod_6.1.2alpha4;
remote:  refs #SWRGROUTER-2520
remote:
remote:  NOSANITY#
remote:
remote:
remote:   Makefile | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;rbbswbld@broadcom.com;2016-10-27 17:59:02 -0400;ab0df1aff516ba6bd6538c7a1fabe387c41157d6;SWCM-46720:Rebase Prod_6.1.2 from develop;
remote:  refs #SWCM-46720
remote:
remote:  NOSANITY#
remote:
remote:
remote:   Makefile                               |   2 +-
remote:   arch/arm/boot/dts/rg.3390-base.dtsi    |  43 ++--
remote:   arch/arm/boot/dts/rg.3390-wifi.dtsi    |   6 +-
remote:   arch/arm/boot/dts/rg.3390b0-dcm.dts    |   6 +-
remote:   arch/arm/boot/dts/rg.3390b0-smwvg.dts  |   6 +-
remote:   arch/arm/boot/dts/rg.3390b0-sv.dts     |   6 +-
remote:   arch/arm/boot/dts/rg.3390b0-vcm.dts    |   6 +-
remote:   arch/arm/boot/dts/rg.3390b0-vms.dts    |   6 +-
remote:   arch/arm/boot/dts/rg.3390b0-wvg.dts    |  55 +---
remote:   arch/arm/boot/dts/rg.3390b0.dts        |   2 +-
remote:   arch/arm/boot/dts/rg.3390c0-dcm.dts    |  53 +---
remote:   arch/arm/boot/dts/rg.3390c0-vcm.dts    |  63 +----
remote:   arch/arm/boot/dts/rg.3390c0-vms.dts    |  55 +---
remote:   arch/arm/boot/dts/rg.3390z0-bolt.dtsi  |  80 +++---
remote:   arch/arm/boot/dts/rg.3390z0-smwvg.dts  |  55 +---
remote:   arch/arm/boot/dts/rg.3390z0-vms.dts    |  54 +---
remote:   drivers/bcm_media_gw/Kconfig           |   7 +
remote:   drivers/bcm_media_gw/dqm/dqm_core.c    | 133 +++++-----
remote:   drivers/bcm_media_gw/dqm/dqm_dbg.c     |  12 +-
remote:   drivers/bcm_media_gw/dqm/dqm_hw.h      |  12 +-
remote:   .../bcm_media_gw/dqnet/dqnet_core.c    |  24 +-
remote:   .../bcm_media_gw/dqnet/dqnet_qmsg.c    |  12 +
remote:   .../bcm_media_gw/dqnet/dqnet_wifi.c    |   1 -
remote:   .../bcm_media_gw/ethsw/ethsw_3384.c    |  17 --
remote:   drivers/bcm_media_gw/ethsw/ethsw_api.c |  17 +-
remote:   .../flowmgr/flowmgr_core.c             |  67 +++--
remote:   .../bcm_media_gw/flowmgr/flowmgr_fap.c |  34 +--
remote:   .../flowmgr/flowmgr_procfs.c           |  18 ++
remote:   drivers/bcm_media_gw/fpm/fpm_core.c    |  11 +-
remote:   drivers/bcm_media_gw/netfilter/Kconfig |   3 +
remote:   .../bcm_media_gw/netfilter/Makefile    |   2 +
remote:   .../test/gpio_irqt/gpio_irqt_core.c    |  19 --
remote:   .../bcm_media_gw/wps/wps_gpio_core.c   |  26 +-
remote:   drivers/gpio/gpio-brcmstb.c            | 167 ++++++++++---
remote:   34 files changed, 433 insertions(+), 647 deletions(-)
remote:  ;rbbswbld@broadcom.com;2016-10-27 17:59:02 -0400;fd97bafd876cca668daed14a771de3f574ccb0f5;SWRGROUTER-2520 - Version update to Prod_6.1.2alpha4;
remote:  refs #SWRGROUTER-2520
remote:
remote:
remote:   Makefile | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;rbbswbld@broadcom.com;2016-10-27 17:59:01 -0400;48d2e16b8678b8bb5c96fe7edf300eaa09ffbc69;SWRGROUTER-2520 - Version update to Prod_6.1.2alpha3;
remote:  refs #SWRGROUTER-2520
remote:
remote:
remote:   Makefile | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;rbbswbld@broadcom.com;2016-10-27 17:59:01 -0400;2f705c874aa0709917afbd35cf5638f09d4f7ec7;SWCM-46720 Rebase Prod_6.1.2 from develop/develop_d31;
remote:  refs #SWCM-46720
remote:
remote:  NOSANITY#
remote:
remote:
remote:   Makefile                               |   2 +-
remote:   arch/arm/boot/dts/rg.3390a2.dts        | 118 +++++++++++++
remote:   drivers/bcm_media_gw/ethsw/ethsw_api.c |  40 +----
remote:   3 files changed, 120 insertions(+), 40 deletions(-)
remote:  ;rbbswbld@broadcom.com;2016-10-27 17:59:00 -0400;d08c14771e7b4f92ed78e6fa496b8dc45ab96d91;SWRGROUTER-2520 - Version update to Prod_6.1.2alpha2;
remote:  refs #SWRGROUTER-2520
remote:
remote:
remote:   Makefile | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;rbbswbld@broadcom.com;2016-10-27 17:59:00 -0400;ff4fff6ed23a960885290450ba4f4d58baae0828;SWRGROUTER-2520 - Copy merge for 6.1.2alpha2 release;
remote:  refs #SWRGROUTER-2520
remote:
remote:  NOSANITY#
remote:
remote:
remote:   Makefile                               |  2 +-
remote:   drivers/bcm_media_gw/Kconfig           |  2 +-
remote:   drivers/bcm_media_gw/bpcm/bpcm_core.c  | 15 ------
remote:   drivers/bcm_media_gw/ethsw/ethsw_api.c | 34 ++++++++++----
remote:   .../uapi/linux/netfilter/xt_connmark.h | 31 ++++++++++++
remote:   5 files changed, 59 insertions(+), 25 deletions(-)
remote:  ;rbbswbld@broadcom.com;2016-10-27 17:59:00 -0400;ea13a635ade747c02ce86b19d74215927c1e84c5;SWRGROUTER-2520 - Version update for release Prod_6.1.2alpha2;
remote:  refs #SWRGROUTER-2520
remote:
remote:  NOSANITY#
remote:
remote:
remote:   Makefile | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;czacker@broadcom.com;2016-10-27 17:58:59 -0400;262d62e525dc5404b06f236db9871886e324fab1;SWRGROUTER-5320: Bad BRCM tag opcode reported when traffic test fails.    We found that SWRGROUTER-5256 that added PAUSE frames was causing    issues on several different tests. We have now backed out the    changes and will have to reopen that issue and see if we can find    another appropriate fix.;
remote:  refs #SWRGROUTER-5320
remote:
remote:
remote:   drivers/bcm_media_gw/ethsw/ethsw_core.c | 1 -
remote:   1 file changed, 1 deletion(-)
remote:  ;czacker@broadcom.com;2016-10-27 17:58:59 -0400;674ce0a3e1f4d27e2471571abacea93386a61c30;SWRGROUTER-5320: Bad BRCM tag opcode reported when traffic test fails.    We found that SWRGROUTER-5256 that added PAUSE frames was causing    issues on several different tests. We have now backed out the    changes and will have to reopen that issue and see if we can find    another appropriate fix.;
remote:  refs #SWRGROUTER-5320
remote:
remote:
remote:   drivers/bcm_media_gw/ethsw/ethsw_core.c | 9 ---------
remote:   1 file changed, 9 deletions(-)
remote:  ;robey@broadcom.com;2016-10-27 17:58:58 -0400;0ce285ccaaf1b841ae7b756312b1270026341f84;SWRGROUTER-5253 Temporarily disable netxl in the build;
remote:  Temporarily disable nextxl so that the nightly build succeeds by setting the default in Kconfig to n.
remote:
remote:  refs #SWRGROUTER-5253
remote:
remote:
remote:   drivers/bcm_media_gw/Kconfig | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;rbbswbld@broadcom.com;2016-10-27 17:58:58 -0400;b2bfb0ac0dd272db77c8b50de478628471e0919b;SWRGROUTER-2520 - Version update to Prod_6.1.2alpha1;
remote:  refs #SWRGROUTER-2520
remote:
remote:
remote:   Makefile | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;rbbswbld@broadcom.com;2016-10-27 17:58:58 -0400;3bf4b3d894dff8440fb1769dffa3afc9689f4a40;SWRGROUTER-2520 - Version update for release Prod_6.1.2alpha2;
remote:  refs #SWRGROUTER-2520
remote:
remote:
remote:   Makefile | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;tross@broadcom.com;2016-10-27 17:58:57 -0400;3db2f6c177d26775e0ff5a126c47c1dbfa2af470;SWRGROUTER-5428: Kernel complains about MoCA clocks on 3390Z0;
remote:  Moved MoCA clock definitions to the rg.3390-moca.dtsi include file
remote:  so that they are not included on 3390Z0 boards.
remote:
remote:  refs #SWRGROUTER-5428
remote:  NOSANITY#
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi    |   6 -
remote:   arch/arm/boot/dts/rg.3390b0-bolt.dtsi  | 156 -------
remote:   arch/arm/boot/dts/rg.3390b0-moca.dtsi  | 160 +++++++
remote:   arch/arm/boot/dts/rg.3390z0-bolt.dtsi  |   8 +
remote:   arch/arm/boot/dts/rg.3390z0.dts        |  13 +-
remote:   arch/arm/include/asm/buzzz.h           |  31 --
remote:   arch/arm/mach-bcm/buzzz.c              | 299 -------------
remote:   .../dts/bcm33843mwvg_mgw_zephyr.dtsi   |  14 +-
remote:   .../boot/dts/bcm3384_mgw_zephyr.dtsi   |  14 +-
remote:   .../bcm_media_gw/ethsw/ethsw_core.c    |   2 -
remote:   drivers/gpio/Kconfig                   |   2 +-
remote:   .../uapi/linux/netfilter/xt_connmark.h |  31 --
remote:   kernel/sched/core.c                    |   4 -
remote:   net/ipv6/netfilter/Kconfig             |   1 +
remote:   14 files changed, 187 insertions(+), 554 deletions(-)
remote:  ;czacker@broadcom.com;2016-10-27 17:58:57 -0400;cf6e11c9662b8cfb189146c46748586ee5cdd40a;SWRGROUTER-3474: Create a phylib based driver for the SF2 and 531xx switches;
remote:  refs #SWRGROUTER-3474
remote:
remote:
remote:   drivers/bcm_media_gw/ethsw/ethsw_priv.h | 1 +
remote:   1 file changed, 1 insertion(+)
remote:  ;jayeshp@broadcom.com;2016-10-27 17:58:56 -0400;434a68fb298e473f3a55b8d5fded92768888efdc;SWRGROUTER-5310: SFAP support broken after NetXL update for 3390;
remote:  Restructured DQNET RX/TX processing code to make SFAP work in FPM mode
remote:  for 3390.
remote:
remote:  refs #SWRGROUTER-5310
remote:
remote:
remote:   drivers/bcm_media_gw/Kconfig           |  2 +-
remote:   .../bcm_media_gw/dqnet/dqnet_core.c    | 14 ++------------
remote:   2 files changed, 3 insertions(+), 13 deletions(-)
remote:  ;avagin@openvz.org;2016-10-27 17:58:56 -0400;8e9f92a5054c29212b35a9fbded0aca5069490a8;SWRGROUTER-4846 RG reboots due to the watchdog firing when running traffic test (kernel.org commit id ee214d54bf3d51259adf8917e26dc84df1cab05a);
remote:  netfilter: nf_conntrack: initialize net.ct.generation
remote:
remote:  [  251.920788] INFO: trying to register non-static key.
remote:  [  251.921386] the code is fine but needs lockdep annotation.
remote:  [  251.921386] turning off the locking correctness validator.
remote:  [  251.921386] CPU: 2 PID: 15715 Comm: socket_listen Not tainted 3.14.0+ #294
remote:  [  251.921386] Hardware name: Bochs Bochs, BIOS Bochs 01/01/2011
remote:  [  251.921386]  0000000000000000 000000009d18c210 ffff880075f039b8 ffffffff816b7ecd
remote:  [  251.921386]  ffffffff822c3b10 ffff880075f039c8 ffffffff816b36f4 ffff880075f03aa0
remote:  [  251.921386]  ffffffff810c65ff ffffffff810c4a85 00000000fffffe01 ffffffffa0075172
remote:  [  251.921386] Call Trace:
remote:  [  251.921386]  [<ffffffff816b7ecd>] dump_stack+0x45/0x56
remote:  [  251.921386]  [<ffffffff816b36f4>] register_lock_class.part.24+0x38/0x3c
remote:  [  251.921386]  [<ffffffff810c65ff>] __lock_acquire+0x168f/0x1b40
remote:  [  251.921386]  [<ffffffff810c4a85>] ? trace_hardirqs_on_caller+0x105/0x1d0
remote:  [  251.921386]  [<ffffffffa0075172>] ? nf_nat_setup_info+0x252/0x3a0 [nf_nat]
remote:  [  251.921386]  [<ffffffff816c1215>] ? _raw_spin_unlock_bh+0x35/0x40
remote:  [  251.921386]  [<ffffffffa0075172>] ? nf_nat_setup_info+0x252/0x3a0 [nf_nat]
remote:  [  251.921386]  [<ffffffff810c7272>] lock_acquire+0xa2/0x120
remote:  [  251.921386]  [<ffffffffa008ab90>] ? ipv4_confirm+0x90/0xf0 [nf_conntrack_ipv4]
remote:  [  251.921386]  [<ffffffffa0055989>] __nf_conntrack_confirm+0x129/0x410 [nf_conntrack]
remote:  [  251.921386]  [<ffffffffa008ab90>] ? ipv4_confirm+0x90/0xf0 [nf_conntrack_ipv4]
remote:  [  251.921386]  [<ffffffffa008ab90>] ipv4_confirm+0x90/0xf0 [nf_conntrack_ipv4]
remote:  [  251.921386]  [<ffffffff815e7b00>] ? ip_fragment+0x9f0/0x9f0
remote:  [  251.921386]  [<ffffffff815d8c5a>] nf_iterate+0xaa/0xc0
remote:  [  251.921386]  [<ffffffff815e7b00>] ? ip_fragment+0x9f0/0x9f0
remote:  [  251.921386]  [<ffffffff815d8d14>] nf_hook_slow+0xa4/0x190
remote:  [  251.921386]  [<ffffffff815e7b00>] ? ip_fragment+0x9f0/0x9f0
remote:  [  251.921386]  [<ffffffff815e98f2>] ip_output+0x92/0x100
remote:  [  251.921386]  [<ffffffff815e8df9>] ip_local_out+0x29/0x90
remote:  [  251.921386]  [<ffffffff815e9240>] ip_queue_xmit+0x170/0x4c0
remote:  [  251.921386]  [<ffffffff815e90d5>] ? ip_queue_xmit+0x5/0x4c0
remote:  [  251.921386]  [<ffffffff81601208>] tcp_transmit_skb+0x498/0x960
remote:  [  251.921386]  [<ffffffff81602d82>] tcp_connect+0x812/0x960
remote:  [  251.921386]  [<ffffffff810e3dc5>] ? ktime_get_real+0x25/0x70
remote:  [  251.921386]  [<ffffffff8159ea2a>] ? secure_tcp_sequence_number+0x6a/0xc0
remote:  [  251.921386]  [<ffffffff81606f57>] tcp_v4_connect+0x317/0x470
remote:  [  251.921386]  [<ffffffff8161f645>] __inet_stream_connect+0xb5/0x330
remote:  [  251.921386]  [<ffffffff8158dfc3>] ? lock_sock_nested+0x33/0xa0
remote:  [  251.921386]  [<ffffffff810c4b5d>] ? trace_hardirqs_on+0xd/0x10
remote:  [  251.921386]  [<ffffffff81078885>] ? __local_bh_enable_ip+0x75/0xe0
remote:  [  251.921386]  [<ffffffff8161f8f8>] inet_stream_connect+0x38/0x50
remote:  [  251.921386]  [<ffffffff8158b157>] SYSC_connect+0xe7/0x120
remote:  [  251.921386]  [<ffffffff810e3789>] ? current_kernel_time+0x69/0xd0
remote:  [  251.921386]  [<ffffffff810c4a85>] ? trace_hardirqs_on_caller+0x105/0x1d0
remote:  [  251.921386]  [<ffffffff810c4b5d>] ? trace_hardirqs_on+0xd/0x10
remote:  [  251.921386]  [<ffffffff8158c36e>] SyS_connect+0xe/0x10
remote:  [  251.921386]  [<ffffffff816caf69>] system_call_fastpath+0x16/0x1b
remote:  [  312.014104] INFO: rcu_sched detected stalls on CPUs/tasks: {} (detected by 0, t=60003 jiffies, g=42359, c=42358, q=333)
remote:  [  312.015097] INFO: Stall ended before state dump start
remote:
remote:  Fixes: 93bb0ceb75be ("netfilter: conntrack: remove central spinlock nf_conntrack_lock")
remote:  Cc: Jesper Dangaard Brouer <brouer@redhat.com>
remote:  Cc: Pablo Neira Ayuso <pablo@netfilter.org>
remote:  Cc: Patrick McHardy <kaber@trash.net>
remote:  Cc: Jozsef Kadlecsik <kadlec@blackhole.kfki.hu>
remote:  Cc: "David S. Miller" <davem@davemloft.net>
remote:  Signed-off-by: Andrey Vagin <avagin@openvz.org>
remote:  Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
remote:
remote:  refs #SWRGROUTER-4846
remote:
remote:
remote:   net/netfilter/nf_conntrack_core.c | 1 +
remote:   1 file changed, 1 insertion(+)
remote:  ;edumazet@google.com;2016-10-27 17:58:55 -0400;4e4d773fef23f18aec53f56ddd6e5f289982727c;SWRGROUTER-4846 RG reboots due to the watchdog firing when running traffic test (kernel.org commit id d5d20912d33f13766902a27087323f5c94e831c8);
remote:  netfilter: conntrack: Fix UP builds
remote:
remote:  ARRAY_SIZE(nf_conntrack_locks) is undefined if spinlock_t is an
remote:  empty structure. Replace it by CONNTRACK_LOCKS
remote:
remote:  Fixes: 93bb0ceb75be ("netfilter: conntrack: remove central spinlock nf_conntrack_lock")
remote:  Reported-by: kbuild test robot <fengguang.wu@intel.com>
remote:  Signed-off-by: Eric Dumazet <edumazet@google.com>
remote:  Cc: Jesper Dangaard Brouer <brouer@redhat.com>
remote:  Cc: Pablo Neira Ayuso <pablo@netfilter.org>
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:
remote:  refs #SWRGROUTER-4846
remote:
remote:
remote:   net/netfilter/nf_conntrack_core.c | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;brouer@redhat.com;2016-10-27 17:58:55 -0400;5091d18854d701849d89e1fb4f4d37c1222e11af;SWRGROUTER-4846 RG reboots due to the watchdog firing when running traffic test (kernel.org commit id 93bb0ceb75be2fdfa9fc0dd1fb522d9ada515d9c);
remote:  netfilter: conntrack: remove central spinlock nf_conntrack_lock
remote:
remote:  nf_conntrack_lock is a monolithic lock and suffers from huge contention
remote:  on current generation servers (8 or more core/threads).
remote:
remote:  Perf locking congestion is clear on base kernel:
remote:
remote:  -  72.56%  ksoftirqd/6  [kernel.kallsyms]    [k] _raw_spin_lock_bh
remote:     - _raw_spin_lock_bh
remote:        + 25.33% init_conntrack
remote:        + 24.86% nf_ct_delete_from_lists
remote:        + 24.62% __nf_conntrack_confirm
remote:        + 24.38% destroy_conntrack
remote:        + 0.70% tcp_packet
remote:  +   2.21%  ksoftirqd/6  [kernel.kallsyms]    [k] fib_table_lookup
remote:  +   1.15%  ksoftirqd/6  [kernel.kallsyms]    [k] __slab_free
remote:  +   0.77%  ksoftirqd/6  [kernel.kallsyms]    [k] inet_getpeer
remote:  +   0.70%  ksoftirqd/6  [nf_conntrack]       [k] nf_ct_delete
remote:  +   0.55%  ksoftirqd/6  [ip_tables]          [k] ipt_do_table
remote:
remote:  This patch change conntrack locking and provides a huge performance
remote:  improvement.  SYN-flood attack tested on a 24-core E5-2695v2(ES) with
remote:  10Gbit/s ixgbe (with tool trafgen):
remote:
remote:   Base kernel:   810.405 new conntrack/sec
remote:   After patch: 2.233.876 new conntrack/sec
remote:
remote:  Notice other floods attack (SYN+ACK or ACK) can easily be deflected using:
remote:   # iptables -A INPUT -m state --state INVALID -j DROP
remote:   # sysctl -w net/netfilter/nf_conntrack_tcp_loose=0
remote:
remote:  Use an array of hashed spinlocks to protect insertions/deletions of
remote:  conntracks into the hash table. 1024 spinlocks seem to give good
remote:  results, at minimal cost (4KB memory). Due to lockdep max depth,
remote:  1024 becomes 8 if CONFIG_LOCKDEP=y
remote:
remote:  The hash resize is a bit tricky, because we need to take all locks in
remote:  the array. A seqcount_t is used to synchronize the hash table users
remote:  with the resizing process.
remote:
remote:  Signed-off-by: Eric Dumazet <edumazet@google.com>
remote:  Signed-off-by: Jesper Dangaard Brouer <brouer@redhat.com>
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Reviewed-by: Florian Westphal <fw@strlen.de>
remote:  Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
remote:
remote:  refs #SWRGROUTER-4846
remote:
remote:
remote:   net/netfilter/nf_conntrack_core.c   | 47 +++++++----------
remote:   net/netfilter/nf_conntrack_helper.c |  8 +--
remote:   2 files changed, 21 insertions(+), 34 deletions(-)
remote:  ;rp888308@broadcom.com;2016-10-27 17:58:55 -0400;044835fb79578187c03a7c2c06686358a3ac261e;SWRGROUTER-4846 RG reboots due to the watchdog firing when running traffic test (kernel.org commit id ca7433df3a672efc88e08222cfa4b3aa965ca324);
remote:  netfilter: conntrack: seperate expect locking from nf_conntrack_lock
remote:
remote:  Netfilter expectations are protected with the same lock as conntrack
remote:  entries (nf_conntrack_lock).  This patch split out expectations locking
remote:  to use it's own lock (nf_conntrack_expect_lock).
remote:
remote:  Signed-off-by: Jesper Dangaard Brouer <brouer@redhat.com>
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Reviewed-by: Florian Westphal <fw@strlen.de>
remote:  Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
remote:
remote:  refs #SWRGROUTER-4846
remote:
remote:
remote:   net/netfilter/nf_conntrack_core.c   | 44 ++++++++++-------
remote:   net/netfilter/nf_conntrack_helper.c |  3 +-
remote:   2 files changed, 28 insertions(+), 19 deletions(-)
remote:  ;brouer@redhat.com;2016-10-27 17:58:54 -0400;79bbbb453bfb990a5bc245c335ee6e4671e0b653;SWRGROUTER-4846 RG reboots due to the watchdog firing when running traffic test (kernel.org commit id e1b207dac13ddb2f8ddebc7dc9729a97421909bd);
remote:  netfilter: avoid race with exp->master ct
remote:
remote:  Preparation for disconnecting the nf_conntrack_lock from the
remote:  expectations code.  Once the nf_conntrack_lock is lifted, a race
remote:  condition is exposed.
remote:
remote:  The expectations master conntrack exp->master, can race with
remote:  delete operations, as the refcnt increment happens too late in
remote:  init_conntrack().  Race is against other CPUs invoking
remote:  ->destroy() (destroy_conntrack()), or nf_ct_delete() (via timeout
remote:  or early_drop()).
remote:
remote:  Avoid this race in nf_ct_find_expectation() by using atomic_inc_not_zero(),
remote:  and checking if nf_ct_is_dying() (path via nf_ct_delete()).
remote:
remote:  Signed-off-by: Jesper Dangaard Brouer <brouer@redhat.com>
remote:  Signed-off-by: Florian Westphal <fw@strlen.de>
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
remote:
remote:  refs #SWRGROUTER-4846
remote:
remote:
remote:   net/netfilter/nf_conntrack_core.c | 39 ++++++++-----------
remote:   1 file changed, 17 insertions(+), 22 deletions(-)
remote:  ;brouer@redhat.com;2016-10-27 17:58:54 -0400;42b97ea4da2f7ba5b0e6d3465db8ae2b194a3760;SWRGROUTER-4846 RG reboots due to the watchdog firing when running traffic test (kernel.org commit id b7779d06f9950e14a008a2de970b44233fe49c86);
remote:  netfilter: conntrack: spinlock per cpu to protect special lists.
remote:
remote:  One spinlock per cpu to protect dying/unconfirmed/template special lists.
remote:  (These lists are now per cpu, a bit like the untracked ct)
remote:  Add a @cpu field to nf_conn, to make sure we hold the appropriate
remote:  spinlock at removal time.
remote:
remote:  Signed-off-by: Eric Dumazet <edumazet@google.com>
remote:  Signed-off-by: Jesper Dangaard Brouer <brouer@redhat.com>
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Reviewed-by: Florian Westphal <fw@strlen.de>
remote:  Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
remote:
remote:  refs #SWRGROUTER-4846
remote:
remote:
remote:   net/netfilter/nf_conntrack_core.c   | 23 +++++++++++------
remote:   net/netfilter/nf_conntrack_helper.c |  5 ++++
remote:   2 files changed, 20 insertions(+), 8 deletions(-)
remote:  ;brouer@redhat.com;2016-10-27 17:58:53 -0400;9d3fcac58ca7955e7522f7344978a9abfb37fc56;SWRGROUTER-4846 RG reboots due to the watchdog firing when running traffic test (kernel.org commit id b476b72a0f8514a5a4c561bab731ddd506a284e7);
remote:  netfilter: trivial code cleanup and doc changes
remote:
remote:  Changes while reading through the netfilter code.
remote:
remote:  Added hint about how conntrack nf_conn refcnt is accessed.
remote:  And renamed repl_hash to reply_hash for readability
remote:
remote:  Signed-off-by: Jesper Dangaard Brouer <brouer@redhat.com>
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Reviewed-by: Florian Westphal <fw@strlen.de>
remote:  Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
remote:
remote:  refs #SWRGROUTER-4846
remote:
remote:
remote:   net/netfilter/nf_conntrack_core.c | 22 ++++++++-----------
remote:   1 file changed, 9 insertions(+), 13 deletions(-)
remote:  ;czacker@broadcom.com;2016-10-27 17:58:53 -0400;cb9158add35041f6bac936ec2f926ae2f233a871;SWRGROUTER-5362: Need to make sure pause frames are NOT enabled on IMP ports but are enabled on LAN facing Ethernet ports;
remote:  refs #SWRGROUTER-5362
remote:
remote:
remote:   drivers/bcm_media_gw/ethsw/ethsw_core.c | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;czacker@broadcom.com;2016-10-27 17:58:52 -0400;775d345da995b3aeee2507516bc6898957786c9e;SWRGROUTER-5362: Need to make sure pause frames are NOT enabled on IMP ports but are enabled on LAN facing Ethernet ports;
remote:  refs #SWRGROUTER-5362
remote:
remote:
remote:   drivers/bcm_media_gw/ethsw/ethsw_core.c | 12 ++++++------
remote:   drivers/bcm_media_gw/ethsw/ethsw_core.h |  2 +-
remote:   2 files changed, 7 insertions(+), 7 deletions(-)
remote:  ;robey@broadcom.com;2016-10-27 17:58:52 -0400;31c3340945c609ec70d833f1c6c875fb432571ec;SWRGROUTER-5253 Temporarily disable netxl in the build;
remote:  Reenable netxl now tha thte nightly builds have been fixed by setting the default in Kconfig to m.
remote:
remote:  refs #SWRGROUTER-5253
remote:
remote:
remote:   drivers/bcm_media_gw/Kconfig | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;tross@broadcom.com;2016-10-27 17:58:51 -0400;d0857bcd69e56b5695a4216db23c41a3141c6e36;SWRGROUTER-5357: DQNET: Add support to set Ethernet port parameters via ethtool;
remote:  Added ethtool_ops.set_settings support to dqnet.
remote:
remote:  refs #SWRGROUTER-5357
remote:
remote:
remote:   drivers/bcm_media_gw/dqnet/dqnet_ethsw.c  | 4 ++--
remote:   drivers/bcm_media_gw/dqnet/dqnet_switch.c | 4 ++--
remote:   2 files changed, 4 insertions(+), 4 deletions(-)
remote:  ;tross@broadcom.com;2016-10-27 17:58:51 -0400;71b871f1ff8f914675240df74270725896f5ae84;SWRGROUTER-5329: Disable pause packet generation;
remote:  Temporarily disable switch pause packet generation until a proper
remote:  solution can be determined.
remote:
remote:  refs #SWRGROUTER-5329
remote:
remote:
remote:   drivers/bcm_media_gw/ethsw/ethsw_core.c | 10 ++++++++++
remote:   1 file changed, 10 insertions(+)
remote:  ;tross@broadcom.com;2016-10-27 17:58:51 -0400;b296935597e7ccd73205d159d6e26a21d4f9fef1;SWRGROUTER-5328: DQNET: Failure to remove BRCM tag results in SKB leak;
remote:  Free SKB if call to dqnet_rm_brcm_tag fails.
remote:
remote:  refs #SWRGROUTER-5328
remote:
remote:
remote:   drivers/bcm_media_gw/dqnet/dqnet_core.c | 12 +++++++++++-
remote:   1 file changed, 11 insertions(+), 1 deletion(-)
remote:  ;jayeshp@broadcom.com;2016-10-27 17:58:50 -0400;a62b734ac2b1b7695dffb6b2c84b286737af311f;SWRGROUTER-5310: SFAP support broken after NetXL update for 3390;
remote:  Use SKB based SFAP for 3390.
remote:  Enable bulding SFAP as lodable module.
remote:
remote:  refs #SWRGROUTER-5310
remote:
remote:
remote:   drivers/bcm_media_gw/Kconfig | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;czacker@broadcom.com;2016-10-27 17:58:49 -0400;4affa951aa1111cac09d27139b57bf969463c140;SWRGROUTER-5256: Ethernet drops packets while running LAN->WAN    traffic from 2 ethernet ports;
remote:  refs #SWRGROUTER-5256
remote:
remote:
remote:   drivers/bcm_media_gw/ethsw/ethsw_core.h | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;robey@broadcom.com;2016-10-27 17:58:49 -0400;ade1aa88f4ee002dfcd8c30a24187fc40c3b1c88;SWRGROUTER-5253 Temporarily disable netxl in the build;
remote:  Temporarily disable nextxl so that the nightly build succeeds by setting the default in Kconfig to n.
remote:
remote:  refs #SWRGROUTER-5253
remote:
remote:
remote:   drivers/bcm_media_gw/Kconfig | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;tross@broadcom.com;2016-10-27 17:58:49 -0400;51f7464ee43afdce2e288160e000a96d6a7f1d84;SWRGROUTER-4667: FPM buffer pool depletion when RG connected to external switch;
remote:  Add dqnet support for STP and enable STP in br0.
remote:
remote:  refs #SWRGROUTER-4667
remote:
remote:
remote:   .../bcm_media_gw/dqnet/dqnet_core.c    |  2 +-
remote:   .../bcm_media_gw/dqnet/dqnet_ethsw.c   |  4 +--
remote:   .../bcm_media_gw/dqnet/dqnet_switch.c  |  4 +--
remote:   drivers/bcm_media_gw/ethsw/ethsw_api.c | 20 ++++++++++++++
remote:   .../bcm_media_gw/ethsw/ethsw_priv.h    |  1 -
remote:   5 files changed, 25 insertions(+), 6 deletions(-)
remote:  ;tross@broadcom.com;2016-10-27 17:58:48 -0400;ec56201bbe1221d02e7ad61f35f90ec963953fcb;SWRGROUTER-4932: SV board won't boot using images from feat_PowerManagement branch.;
remote:  UniMAC was not being powered on boards with EthWAN support.
remote:
remote:  refs #SWRGROUTER-4932
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-ethwan.dtsi | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;skern@broadcom.com;2016-10-27 17:58:48 -0400;2e88f3b33909a6d7193a1fb766a3ddd91cc6accb;SWRGROUTER-4514: Perform periodic develop to feat_PowerManagement merges;
remote:  Perform periodic develop to feat_PowerManagement merges
remote:
remote:  refs #SWRGROUTER-4514
remote:
remote:
remote:   arch/arm/mach-bcm/Makefile             |  1 -
remote:   net/ipv6/netfilter/Makefile            |  6 -
remote:   .../nf_defrag_ipv6_hooks_notrack.c     | 96 --------------
remote:   3 files changed, 103 deletions(-)
remote:  ;skern@broadcom.com;2016-10-27 17:58:47 -0400;3906080b13ae327b939e7efa0b7b4dc985185467;SWRGROUTER-4514: Perform periodic develop to feat_PowerManagement merges;
remote:  Perform periodic develop to feat_PowerManagement merges
remote:
remote:  refs #SWRGROUTER-4514
remote:
remote:  Conflicts:
remote:  	arch/arm/boot/dts/rg.3390-base.dtsi
remote:  	arch/arm/boot/dts/rg.3390-wifi.dtsi
remote:  	arch/arm/boot/dts/rg.3390b0-moca.dtsi
remote:  	arch/mips/boot/dts/bcm33843mwvg_mgw_zephyr.dtsi
remote:  	arch/mips/boot/dts/bcm3384_mgw_zephyr.dtsi
remote:  	drivers/bcm_media_gw/Kconfig
remote:  	drivers/bcm_media_gw/Makefile
remote:  	drivers/bcm_media_gw/fpm/fpm_core.c
remote:  	drivers/i2c/busses/i2c-brcmstb.c
remote:  	drivers/watchdog/bcm7038_wdt.c
remote:  	net/ipv6/netfilter/Kconfig
remote:
remote:
remote:   arch/arm/include/asm/buzzz.h |  31 +++
remote:   arch/arm/mach-bcm/Makefile   |   1 +
remote:   arch/arm/mach-bcm/buzzz.c    | 299 +++++++++++++++++++++++
remote:   kernel/sched/core.c          |   4 +
remote:   net/ipv6/netfilter/Makefile  |   1 +
remote:   5 files changed, 336 insertions(+)
remote:  ;tross@broadcom.com;2016-10-27 17:58:47 -0400;9b3cccd583876a1184fdacbd4b1f73ed44a4863c;SWRGROUTER-4730: PM: Linux powers itself off after boot on DCM boards;
remote:  Override BMU power state on DCM & PHYDVT boards because BMU reports
remote:  incorrect state.
remote:
remote:  refs #SWRGROUTER-4730
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390z0.dts | 11 ++++++-----
remote:   1 file changed, 6 insertions(+), 5 deletions(-)
remote:  ;tross@broadcom.com;2016-10-27 17:58:47 -0400;d80c70bb12846aa90ee521b64814966695ac67d9;SWRGROUTER-4668: Enable dynamic clock scaling on FPM & UniMAC blocks;
remote:  Modify BPCM driver to enable dynamic clocks scaling on device tree BPCM
remote:  nodes that contain clock divider values for low and high gear.
remote:
remote:  refs #SWRGROUTER-4668
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi   | 10 ++-
remote:   drivers/bcm_media_gw/bpcm/bpcm_core.c | 67 ++++++++++++---
remote:   drivers/bcm_media_gw/bpcm/bpcm_priv.h | 26 ++++--
remote:   drivers/bcm_media_gw/bpcm/bpcm_proc.c | 35 +++++++-
remote:   4 files changed, 111 insertions(+), 27 deletions(-)
remote:  ;skern@broadcom.com;2016-10-27 17:58:46 -0400;a3445efa825abe33ee283e6c4897286f803a89f5;SWRGROUTER-3769: Perform periodic develop to feat_PowerManagement merges;
remote:  Perform periodic develop to feat_PowerManagement merges
remote:
remote:  refs #SWRGROUTER-3769
remote:
remote:  Conflicts:
remote:  	arch/arm/boot/dts/rg.3390-base.dtsi
remote:  	arch/arm/boot/dts/rg.3390-wifi.dtsi
remote:  	arch/arm/boot/dts/rg.3390b0-moca.dtsi
remote:  	arch/mips/boot/dts/bcm33843mwvg_mgw_zephyr.dtsi
remote:  	arch/mips/boot/dts/bcm3384_mgw_zephyr.dtsi
remote:  	drivers/bcm_media_gw/Kconfig
remote:  	drivers/bcm_media_gw/Makefile
remote:  	net/ipv6/netfilter/Kconfig
remote:
remote:
remote:   net/ipv6/netfilter/Makefile | 1 +
remote:   1 file changed, 1 insertion(+)
remote:  ;skern@broadcom.com;2016-10-27 17:58:46 -0400;ce7e60a4fd843f23273eb674e354585a8ef91ca5;SWRGROUTER-3901 MODULE: Implement support for CPU division to save power;
remote:  Implement support for CPU division to save power
remote:
remote:  refs #SWRGROUTER-3901
remote:
remote:
remote:   drivers/cpufreq/Kconfig | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;skern@broadcom.com;2016-10-27 17:58:45 -0400;145d5ba5aff3bfe713593142a48f3a026e7ad2ed;SWRGROUTER-4522 MODULE: 3390VCM: Modem is not able to complete any software downloads on feat_PowerManagement due to ItcNiTxCommon;
remote:  3390VCM: Modem is not able to complete any software downloads on feat_PowerManagement due to ItcNiTxCommon
remote:
remote:  refs #SWRGROUTER-4522
remote:
remote:
remote:   drivers/cpufreq/Kconfig | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;skern@broadcom.com;2016-10-27 17:58:45 -0400;fb07490bfb5f874d577dddc90e7c51c2c06b8cae;SWRGROUTER-4514 MODULE: Perform periodic develop to feat_PowerManagement merges;
remote:  Perform periodic develop to feat_PowerManagement merges
remote:
remote:  refs #SWRGROUTER-4514
remote:
remote:  	arch/arm/boot/dts/rg.3390-wifi.dtsi
remote:  	arch/arm/boot/dts/rg.3390b0-moca.dtsi
remote:  	arch/mips/boot/dts/bcm33843mwvg_mgw_zephyr.dtsi
remote:  	arch/mips/boot/dts/bcm3384_mgw_zephyr.dtsi
remote:  	drivers/bcm_media_gw/Kconfig
remote:  	drivers/bcm_media_gw/Makefile
remote:  	drivers/bcm_media_gw/netfilter/xt_l2ogre_mt.c
remote:  	drivers/bcm_media_gw/netfilter/xt_l2ogre_tg.c
remote:  	net/ipv6/netfilter/Kconfig
remote:
remote:
remote:   drivers/bcm_media_gw/netfilter/xt_l2ogre_mt.c | 0
remote:   drivers/bcm_media_gw/netfilter/xt_l2ogre_tg.c | 0
remote:   net/ipv6/netfilter/Kconfig                    | 1 -
remote:   net/ipv6/netfilter/Makefile                   | 1 +
remote:   4 files changed, 1 insertion(+), 1 deletion(-)
remote:  ;skern@broadcom.com;2016-10-27 17:58:44 -0400;92027977cc9bb179001a939e1cc5d106d9990920;SWRGROUTER-4514 MODULE: Perform periodic develop to feat_PowerManagement merges;
remote:  Perform periodic develop to feat_PowerManagement merges
remote:
remote:  refs #SWRGROUTER-4514
remote:
remote:  	arch/arm/boot/dts/rg.3390-wifi.dtsi
remote:  	arch/arm/boot/dts/rg.3390b0-moca.dtsi
remote:  	arch/mips/boot/dts/bcm33843mwvg_mgw_zephyr.dtsi
remote:  	arch/mips/boot/dts/bcm3384_mgw_zephyr.dtsi
remote:  	drivers/bcm_media_gw/Kconfig
remote:  	drivers/bcm_media_gw/Makefile
remote:  	drivers/bcm_media_gw/netfilter/xt_l2ogre_mt.c
remote:  	drivers/bcm_media_gw/netfilter/xt_l2ogre_tg.c
remote:  	net/ipv6/netfilter/Kconfig
remote:
remote:
remote:   drivers/bcm_media_gw/netfilter/xt_l2ogre_mt.c | 0
remote:   drivers/bcm_media_gw/netfilter/xt_l2ogre_tg.c | 0
remote:   net/ipv6/netfilter/Makefile                   | 1 +
remote:   3 files changed, 1 insertion(+)
remote:  ;tross@broadcom.com;2016-10-27 17:58:44 -0400;ad46083f749c4646f3ab6d52c70c50ccaa455f8a;SWRGROUTER-4363: Add proc interface to show current status of BPCM zones controlled by RG.;
remote:  Added proc interface to bpcm driver to show status.
remote:
remote:  refs #SWRGROUTER-4363
remote:
remote:
remote:   drivers/bcm_media_gw/bpcm/bpcm_core.c | 33 --------------
remote:   drivers/bcm_media_gw/bpcm/bpcm_priv.h | 26 ++++-------
remote:   drivers/bcm_media_gw/bpcm/bpcm_proc.c | 35 ++-------------
remote:   3 files changed, 13 insertions(+), 81 deletions(-)
remote:  ;tross@broadcom.com;2016-10-27 17:58:44 -0400;014737450f081ca44cf9b822b9a779754c9fec2a;SWRGROUTER-4070: Active power savings - Linux - Disable all MOCA items when MOCA not present;
remote:  Add MoCA clock tree to devixce tree. bcmstb-clk driver turns off all clocks
remote:  until a driver acquires them and turns them on. Thus power is off to MoCA
remote:  block unless bmoca exists in the device tree.
remote:
remote:  refs #SWRGROUTER-4070
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390b0-bolt.dtsi | 156 +++++++++++++
remote:   arch/arm/boot/dts/rg.3390b0-moca.dtsi | 160 --------------
remote:   2 files changed, 156 insertions(+), 160 deletions(-)
remote:  ;tross@broadcom.com;2016-10-27 17:58:43 -0400;07a7ea81439be76344fcc095a33750c2b754f4ac;SWRGROUTER-4232: Rename 3390R0 to 3390Z0 to match HW organization.;
remote:  Rename 3390R0 to 3390Z0 to match HW organization references to the chip.
remote:
remote:  refs #SWRGROUTER-4232
remote:
remote:
remote:   arch/arm/boot/dts/Makefile            |   2 +-
remote:   arch/arm/boot/dts/rg.3390r0-bolt.dtsi | 694 --------------
remote:   arch/arm/boot/dts/rg.3390r0.dts       |  44 -
remote:   arch/arm/boot/dts/rg.3390z0.dts       |  11 +-
remote:   4 files changed, 6 insertions(+), 745 deletions(-)
remote:  ;petersu@broadcom.com;2016-10-27 17:58:43 -0400;dc831cacf936967f9a4b03883cd5b6a39b793e34;SWRGROUTER-4004: 3390R: Update device tree selection process to use MFG_ID as well. 		Forgot to add rg3390r0-bolt.dtsi to the commit after adding pcie1;
remote:  refs #SWRGROUTER-4004
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390r0-bolt.dtsi | 31 ++++++++-------
remote:   1 file changed, 16 insertions(+), 15 deletions(-)
remote:  ;petersu@broadcom.com;2016-10-27 17:58:42 -0400;953da0eccd3af01e929ed11fd8381330042eac78;SWRGROUTER-4004: 3390R: Update device tree selection process to use MFG_ID as well.;
remote:  refs #SWRGROUTER-4004
remote:
remote:
remote:   arch/arm/boot/dts/Makefile            |   1 +
remote:   arch/arm/boot/dts/rg.3390r0-bolt.dtsi | 693 ++++++++++++++
remote:   arch/arm/boot/dts/rg.3390r0.dts       |  44 +
remote:   3 files changed, 738 insertions(+)
remote:  ;wubei@broadcom.com;2016-10-27 17:58:42 -0400;463036f82a7a14bca2261c76067a6dd70f70952a;IPv6: Disable reassemble the ipv6 fragment when disabling ipv6 firewall.;
remote:  Don't reassemble the ipv6 fragment to
remote:  pass unh ipv6 ready logo Interoperability test 2.7 (B)
remote:
remote:  refs #SWRGROUTER-3991
remote:
remote:  (cherry picked from commit 467d11bfe7e4c641ea4166d65f7c1b93e4a5d025)
remote:
remote:
remote:   net/ipv6/netfilter/Makefile            |  2 +
remote:   .../nf_defrag_ipv6_hooks_notrack.c     | 96 ++++++++++++++
remote:   2 files changed, 98 insertions(+)
remote:  ;enderby@lc-atl-221.atl.broadcom.com;2016-10-27 17:58:42 -0400;01c10f4865eb2863ad3444e424b088554b7c7981;SWRGROUTER-3305:I2C driver for WBID;
remote:  Implemented I2C driver support for WBID access
remote:
remote:  refs #SWRGROUTER-3305
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi | 7 -------
remote:   1 file changed, 7 deletions(-)
remote:  ;jcyr@broadcom.com;2016-10-27 17:58:41 -0400;7ea2461a4a204e1271aa60ab4dd5ee08a70fe653;add DTB suport for 3390B0 VCM board;
remote:  refs #SWRGROUTER-4079
remote:
remote:
remote:   arch/arm/boot/dts/Makefile | 1 +
remote:   1 file changed, 1 insertion(+)
remote:  ;tross@broadcom.com;2016-10-27 17:58:41 -0400;9e2afa6ca28104ddcdc5b6dbea5517664bd58ccb;SWRGROUTER-4255: Implement SW to turn on/off the UniMAC block;
remote:  Modify bpcm driver to allow device tree to specify initial power state
remote:  of each zone for each bpcm device.
remote:  Modify device tree to set initial power state of UniMAC based on board.
remote:
remote:  refs #SWRGROUTER-4255
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi   |  10 +-
remote:   arch/arm/boot/dts/rg.3390-ethwan.dtsi |   2 +-
remote:   drivers/bcm_media_gw/bpcm/bpcm_core.c | 100 ++++++--------
remote:   3 files changed, 48 insertions(+), 64 deletions(-)
remote:  ;rbbswbld@broadcom.com;2016-10-27 17:58:40 -0400;1e43b3fed0eacdd3b3834ea2d598ac6a3af2d17c;SWRGROUTER-2520 - Version update for release Prod_6.1.2alpha1;
remote:  refs #SWRGROUTER-2520
remote:
remote:
remote:   Makefile | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;rbbswbld@broadcom.com;2016-10-27 17:58:40 -0400;b4e6a7f608aa32290ffa8231fc7bdda5fe64f000;SWRGROUTER-2520 - Version update for release Prod_6.1.2alpha0;
remote:  refs #SWRGROUTER-2520
remote:
remote:
remote:   Makefile | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;rp888308@broadcom.com;2016-10-27 17:58:40 -0400;17c708bad859330e5270e4b7eb4da175ad156cd1;SWRGROUTER-5698 kthread implementation for mdqm device driver;
remote:  kthread implementation for mdqm device driver
remote:  Implement mdqm device type options in mdqm device driver to use it as a,
remote:  1. TX device or
remote:  2. RX device using kthread
remote:  3. RX device using napi
remote:  4. Implemented round robin dequeue method
remote:
remote:  refs #SWRGROUTER-5698
remote:
remote:
remote:   drivers/bcm_media_gw/mdqm/mdqm_core.c | 25 +++++++++++----
remote:   1 file changed, 19 insertions(+), 6 deletions(-)
remote:  ;skern@broadcom.com;2016-10-27 17:58:39 -0400;dd216ba3e55a19e22fd7f8daacb0b93fcc36c2c0;SWRGROUTER-5664: Option 82 for hotspot is not working - Crashes when set to 0x1;
remote:  Option 82 for hotspot is not working - Crashes when set to 0x1
remote:
remote:  refs #SWRGROUTER-5664
remote:
remote:  (cherry picked from commit fafb8cbd268ad1bc693ffdb832c13c3062bf59d5)
remote:
remote:  Conflicts:
remote:  	drivers/bcm_media_gw/netfilter/ebt_dhcpsnoop.c
remote:
remote:
remote:   .../netfilter/ebt_dhcpsnoop.c            | 12 ++++++++----
remote:   1 file changed, 8 insertions(+), 4 deletions(-)
remote:  ;tnobes@broadcom.com;2016-10-27 17:58:39 -0400;75609788f1494130bb5243135c2f7ad40c76846d;SWRGROUTER-1886 Runner GRE termination & FlowMgr GRE v4;
remote:  Fixes flow promotion to Runner for L2oGRE encapuslated flows. Tunnel object creation.
remote:  This still needs new Runner FW to work successfully.
remote:
remote:  refs #SWRGROUTER-1886
remote:
remote:
remote:   .../flowmgr/flowmgr_core.c             | 49 +++++++++++---
remote:   .../bcm_media_gw/flowmgr/flowmgr_fap.c | 40 +++++++----
remote:   2 files changed, 66 insertions(+), 23 deletions(-)
remote:  ;twhite@cm-irv-1.irv.broadcom.com;2016-10-27 17:58:38 -0400;2e8c42b77be6e3d884cc5fd7da25754eb8fb2bca;SWRGROUTER-5359: GFAP Primary VLAN Bridged mode (ETHWAN);
remote:  Fixed transitory bug in header file that broke the compile of the gfap binary h file.
remote:
remote:  refs #SWRGROUTER-5359
remote:
remote:
remote:   .../3384b0/gfap_binary_3384_ethwan.h   | 574 ++++++-------
remote:   1 file changed, 287 insertions(+), 287 deletions(-)
remote:  ;tross@broadcom.com;2016-10-27 17:58:38 -0400;bd785c578330a9ae32d1487cdfe4dccb33e4bc41;SWRGROUTER-5625: Remove PCIe2 from DT for Z0 parts.;
remote:  Remove PCIe2 from DT to match the new OTP config for Z0 parts.
remote:
remote:  refs #SWRGROUTER-5625
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390z0-bolt.dtsi | 4 ++++
remote:   1 file changed, 4 insertions(+)
remote:  ;twhite@cm-irv-1.irv.broadcom.com;2016-10-27 17:58:38 -0400;74c2fea48caf62f216e5707f1a30080a251e9ec7;SWRGROUTER-5359: GFAP Primary VLAN Bridged mode (ETHWAN);
remote:  Revisited. Fixed a logic bug in the FFE code where the mb_bridged check erroneously
remote:  matches all odd-numbered mac IDs for the local subnet check.
remote:
remote:  refs #SWRGROUTER-5359
remote:
remote:
remote:   .../3384b0/gfap_binary_3384_ethwan.h   | 570 ++++++-------
remote:   1 file changed, 285 insertions(+), 285 deletions(-)
remote:  ;tross@broadcom.com;2016-10-27 17:58:37 -0400;ffe6d2df3f60b2871181c9d0f4e1302e2f1d315c;SWRGROUTER-5607: Add ethtool support for EEE;
remote:  Add support to dqnet for ethtool EEE commands.
remote:  Add support to ethsw to get/set EEE parameters on each port.
remote:
remote:  refs #SWRGROUTER-5607
remote:
remote:
remote:   .../bcm_media_gw/dqnet/dqnet_ethtool.c | 80 +++++++++++++-
remote:   drivers/bcm_media_gw/ethsw/ethsw_api.c | 34 +++++-
remote:   2 files changed, 109 insertions(+), 5 deletions(-)
remote:  ;ignatius@broadcom.com;2016-10-27 17:58:37 -0400;0fade1f34a89fad51ce13bcea6ae9869aa94f389;SWRGROUTER-5586: MAP driver crash with fragmented IPv6 packet;
remote:  - fix porting issue related hlist_for each_entryXXXX() MACROs
remote:
remote:  refs #SWRGROUTER-5586
remote:
remote:
remote:   net/ipv6/map_defrag6.c | 9 +++++++--
remote:   1 file changed, 7 insertions(+), 2 deletions(-)
remote:  ;czacker@broadcom.com;2016-10-27 17:58:36 -0400;928c25828cbbdc5fd57e26f15608a45724d74018;SWRGROUTER-5465: RG Console error "ethsw_core: Invalid parameters". Cannot access webUI.;
remote:      We were calling the STP calls (for the 3390) for the 3384 but getting SPI atomic
remote:      errors because it was getting called within interupt context.  We have moved this
remote:      call to be platform specific and if needed can make the 3384 have it as a work
remote:      queue call so the sets are done outside of the interupt level.
remote:
remote:  refs #SWRGROUTER-5465
remote:
remote:
remote:   .../bcm_media_gw/ethsw/ethsw_3384.c    | 11 ++++
remote:   .../bcm_media_gw/ethsw/ethsw_core.c    | 45 +-------------
remote:   2 files changed, 14 insertions(+), 42 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-10-27 17:58:36 -0400;316dc09b6d913c141a03fc3c9506995e612ba9b1;SWRGROUTER-5488 WiFi: Allow WLEROUTER (for DHD) and NetXL coexistence at runtime;
remote:  Added device tree node 'wler_rfap' node to control enable/disable of wlerouter interface per radio.
remote:  Made mdqm driver module as a built in module.
remote:
remote:  refs #SWRGROUTER-5488
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-wifi.dtsi    |  5 +++
remote:   drivers/bcm_media_gw/Kconfig           |  2 +-
remote:   .../bcm_media_gw/dqnet/dqnet_core.c    |  2 +-
remote:   drivers/bcm_media_gw/mdqm/mdqm_core.c  | 25 ++++----------
remote:   4 files changed, 13 insertions(+), 21 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-10-27 17:58:35 -0400;a9593412f7c7ec72cf74d7dcad66883845d79182;SWRGROUTER-5288: With LAG enabled raw data TCP throughput is 50% lesser than UDP traffic;
remote:  When LAG is enabled, transmit and receive port for a flow can be different.
remote:  Modify flowmgr to allow asymmetric port in bi-directional TCP flow.
remote:
remote:  refs #SWRGROUTER-5288
remote:
remote:
remote:   drivers/bcm_media_gw/flowmgr/flowmgr_fap.c | 10 ++++++++--
remote:   1 file changed, 8 insertions(+), 2 deletions(-)
remote:  ;twhite@cm-irv-1.irv.broadcom.com;2016-10-27 17:58:35 -0400;4a37f03615c4a917bba11aec259155c095e45fb8;SWRGROUTER-5359: GFAP Primary VLAN Bridged mode (ETHWAN);
remote:  Added ETH1 as a WAN destination for the local subnet check on a bridged
remote:  flow match so web access is allowed when ETHWAN configuration is used in
remote:  primary VLAN bridged mode.  Also corrected call to setup lan entwork in fap_config
remote:  to use the wan device if the call for br0 fails because br0 is not assigned an
remote:  IP address in primary VLAN bridged mode.
remote:
remote:  refs #SWRGROUTER-5359
remote:
remote:
remote:   .../3384b0/gfap_binary_3384_ethwan.h   | 138 ++++++-------
remote:   1 file changed, 69 insertions(+), 69 deletions(-)
remote:  ;czacker@broadcom.com;2016-10-27 17:58:35 -0400;7cfd071e51b759452d82486091a6a764a6ed9f78;SWRGROUTER-5320: Bad BRCM tag opcode reported when traffic test fails.    We found that SWRGROUTER-5256 that added PAUSE frames was causing    issues on several different tests. We have now backed out the    changes and will have to reopen that issue and see if we can find    another appropriate fix.;
remote:  refs #SWRGROUTER-5320
remote:
remote:
remote:   drivers/bcm_media_gw/ethsw/ethsw_core.c | 1 -
remote:   1 file changed, 1 deletion(-)
remote:  ;czacker@broadcom.com;2016-10-27 17:58:34 -0400;50034be48df97e6427605b1b5ec48a76089c07e6;SWRGROUTER-5320: Bad BRCM tag opcode reported when traffic test fails.    We found that SWRGROUTER-5256 that added PAUSE frames was causing    issues on several different tests. We have now backed out the    changes and will have to reopen that issue and see if we can find    another appropriate fix.;
remote:  refs #SWRGROUTER-5320
remote:
remote:
remote:   drivers/bcm_media_gw/ethsw/ethsw_core.c | 9 ---------
remote:   1 file changed, 9 deletions(-)
remote:  ;tross@broadcom.com;2016-10-27 17:58:34 -0400;97533d6ee584a67b31400cc01b016217f55060dc;SWRGROUTER-5428: Kernel complains about MoCA clocks on 3390Z0;
remote:  Moved MoCA clock definitions to the rg.3390-moca.dtsi include file
remote:  so that they are not included on 3390Z0 boards.
remote:
remote:  refs #SWRGROUTER-5428
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390b0-bolt.dtsi | 156 ----
remote:   arch/arm/boot/dts/rg.3390b0-moca.dtsi | 160 ++++
remote:   arch/arm/boot/dts/rg.3390z0-bolt.dtsi | 650 +-------------
remote:   3 files changed, 177 insertions(+), 789 deletions(-)
remote:  ;tross@broadcom.com;2016-10-27 17:58:33 -0400;150932c5da4f2f0ecbc7bf4e2d8583a34b651254;SWRGROUTER-5416: Prevent Linux self power down when BMU reports power state of "unknown";
remote:  Change BA daemon and driver to interpret BMU's AC and unknown power states
remote:  as the same.
remote:
remote:  refs #SWRGROUTER-5416
remote:
remote:
remote:   drivers/bcm_media_gw/boot_assist/brcm_ba.c | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;czacker@broadcom.com;2016-10-27 17:58:33 -0400;bf6bb4c97028cd70ff8eedb72c23d7f4a837107c;SWRGROUTER-3474: Create a phylib based driver for the SF2 and 531xx switches;
remote:  refs #SWRGROUTER-3474
remote:
remote:
remote:   .../bcm_media_gw/ethsw/ethsw_3384.c    |  8 +--
remote:   drivers/bcm_media_gw/ethsw/ethsw_api.c | 50 +-------------
remote:   .../ethsw/ethsw_init_plat.c            |  2 +-
remote:   .../bcm_media_gw/ethsw/ethsw_priv.h    |  1 +
remote:   drivers/net/phy/mdio-unimac.c          |  4 +-
remote:   5 files changed, 7 insertions(+), 58 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-10-27 17:58:33 -0400;7a9564c6d748210586dac169f8c7f0b4d21847eb;SWRGROUTER-5310: SFAP support broken after NetXL update for 3390;
remote:  Restructured DQNET RX/TX processing code to make SFAP work in FPM mode
remote:  for 3390.
remote:
remote:  refs #SWRGROUTER-5310
remote:
remote:
remote:   drivers/bcm_media_gw/Kconfig           |  2 +-
remote:   .../bcm_media_gw/dqnet/dqnet_core.c    | 21 ++++----------
remote:   2 files changed, 7 insertions(+), 16 deletions(-)
remote:  ;venky@cm-irv-1.irv.broadcom.com;2016-10-27 17:58:32 -0400;46499fc6a7f966e868a0a76548eff6e9c817a77f;SWRGROUTER-4069: Active power savings - Linux - Disable WiFi block if radios disabled;
remote:  refs #SWRGROUTER-4069
remote:
remote:
remote:   drivers/bcm_media_gw/Makefile | 2 ++
remote:   1 file changed, 2 insertions(+)
remote:  ;avagin@openvz.org;2016-10-27 17:58:32 -0400;7fcf1d1a1da69638ad0f104d563ae8d029be30c9;SWRGROUTER-4846 RG reboots due to the watchdog firing when running traffic test (kernel.org commit id ee214d54bf3d51259adf8917e26dc84df1cab05a);
remote:  netfilter: nf_conntrack: initialize net.ct.generation
remote:
remote:  [  251.920788] INFO: trying to register non-static key.
remote:  [  251.921386] the code is fine but needs lockdep annotation.
remote:  [  251.921386] turning off the locking correctness validator.
remote:  [  251.921386] CPU: 2 PID: 15715 Comm: socket_listen Not tainted 3.14.0+ #294
remote:  [  251.921386] Hardware name: Bochs Bochs, BIOS Bochs 01/01/2011
remote:  [  251.921386]  0000000000000000 000000009d18c210 ffff880075f039b8 ffffffff816b7ecd
remote:  [  251.921386]  ffffffff822c3b10 ffff880075f039c8 ffffffff816b36f4 ffff880075f03aa0
remote:  [  251.921386]  ffffffff810c65ff ffffffff810c4a85 00000000fffffe01 ffffffffa0075172
remote:  [  251.921386] Call Trace:
remote:  [  251.921386]  [<ffffffff816b7ecd>] dump_stack+0x45/0x56
remote:  [  251.921386]  [<ffffffff816b36f4>] register_lock_class.part.24+0x38/0x3c
remote:  [  251.921386]  [<ffffffff810c65ff>] __lock_acquire+0x168f/0x1b40
remote:  [  251.921386]  [<ffffffff810c4a85>] ? trace_hardirqs_on_caller+0x105/0x1d0
remote:  [  251.921386]  [<ffffffffa0075172>] ? nf_nat_setup_info+0x252/0x3a0 [nf_nat]
remote:  [  251.921386]  [<ffffffff816c1215>] ? _raw_spin_unlock_bh+0x35/0x40
remote:  [  251.921386]  [<ffffffffa0075172>] ? nf_nat_setup_info+0x252/0x3a0 [nf_nat]
remote:  [  251.921386]  [<ffffffff810c7272>] lock_acquire+0xa2/0x120
remote:  [  251.921386]  [<ffffffffa008ab90>] ? ipv4_confirm+0x90/0xf0 [nf_conntrack_ipv4]
remote:  [  251.921386]  [<ffffffffa0055989>] __nf_conntrack_confirm+0x129/0x410 [nf_conntrack]
remote:  [  251.921386]  [<ffffffffa008ab90>] ? ipv4_confirm+0x90/0xf0 [nf_conntrack_ipv4]
remote:  [  251.921386]  [<ffffffffa008ab90>] ipv4_confirm+0x90/0xf0 [nf_conntrack_ipv4]
remote:  [  251.921386]  [<ffffffff815e7b00>] ? ip_fragment+0x9f0/0x9f0
remote:  [  251.921386]  [<ffffffff815d8c5a>] nf_iterate+0xaa/0xc0
remote:  [  251.921386]  [<ffffffff815e7b00>] ? ip_fragment+0x9f0/0x9f0
remote:  [  251.921386]  [<ffffffff815d8d14>] nf_hook_slow+0xa4/0x190
remote:  [  251.921386]  [<ffffffff815e7b00>] ? ip_fragment+0x9f0/0x9f0
remote:  [  251.921386]  [<ffffffff815e98f2>] ip_output+0x92/0x100
remote:  [  251.921386]  [<ffffffff815e8df9>] ip_local_out+0x29/0x90
remote:  [  251.921386]  [<ffffffff815e9240>] ip_queue_xmit+0x170/0x4c0
remote:  [  251.921386]  [<ffffffff815e90d5>] ? ip_queue_xmit+0x5/0x4c0
remote:  [  251.921386]  [<ffffffff81601208>] tcp_transmit_skb+0x498/0x960
remote:  [  251.921386]  [<ffffffff81602d82>] tcp_connect+0x812/0x960
remote:  [  251.921386]  [<ffffffff810e3dc5>] ? ktime_get_real+0x25/0x70
remote:  [  251.921386]  [<ffffffff8159ea2a>] ? secure_tcp_sequence_number+0x6a/0xc0
remote:  [  251.921386]  [<ffffffff81606f57>] tcp_v4_connect+0x317/0x470
remote:  [  251.921386]  [<ffffffff8161f645>] __inet_stream_connect+0xb5/0x330
remote:  [  251.921386]  [<ffffffff8158dfc3>] ? lock_sock_nested+0x33/0xa0
remote:  [  251.921386]  [<ffffffff810c4b5d>] ? trace_hardirqs_on+0xd/0x10
remote:  [  251.921386]  [<ffffffff81078885>] ? __local_bh_enable_ip+0x75/0xe0
remote:  [  251.921386]  [<ffffffff8161f8f8>] inet_stream_connect+0x38/0x50
remote:  [  251.921386]  [<ffffffff8158b157>] SYSC_connect+0xe7/0x120
remote:  [  251.921386]  [<ffffffff810e3789>] ? current_kernel_time+0x69/0xd0
remote:  [  251.921386]  [<ffffffff810c4a85>] ? trace_hardirqs_on_caller+0x105/0x1d0
remote:  [  251.921386]  [<ffffffff810c4b5d>] ? trace_hardirqs_on+0xd/0x10
remote:  [  251.921386]  [<ffffffff8158c36e>] SyS_connect+0xe/0x10
remote:  [  251.921386]  [<ffffffff816caf69>] system_call_fastpath+0x16/0x1b
remote:  [  312.014104] INFO: rcu_sched detected stalls on CPUs/tasks: {} (detected by 0, t=60003 jiffies, g=42359, c=42358, q=333)
remote:  [  312.015097] INFO: Stall ended before state dump start
remote:
remote:  Fixes: 93bb0ceb75be ("netfilter: conntrack: remove central spinlock nf_conntrack_lock")
remote:  Cc: Jesper Dangaard Brouer <brouer@redhat.com>
remote:  Cc: Pablo Neira Ayuso <pablo@netfilter.org>
remote:  Cc: Patrick McHardy <kaber@trash.net>
remote:  Cc: Jozsef Kadlecsik <kadlec@blackhole.kfki.hu>
remote:  Cc: "David S. Miller" <davem@davemloft.net>
remote:  Signed-off-by: Andrey Vagin <avagin@openvz.org>
remote:  Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
remote:
remote:  refs #SWRGROUTER-4846
remote:
remote:
remote:   net/netfilter/nf_conntrack_core.c | 1 +
remote:   1 file changed, 1 insertion(+)
remote:  ;edumazet@google.com;2016-10-27 17:58:31 -0400;f92cc723f8586a9a5bc56b23410fb119ce59678e;SWRGROUTER-4846 RG reboots due to the watchdog firing when running traffic test (kernel.org commit id d5d20912d33f13766902a27087323f5c94e831c8);
remote:  netfilter: conntrack: Fix UP builds
remote:
remote:  ARRAY_SIZE(nf_conntrack_locks) is undefined if spinlock_t is an
remote:  empty structure. Replace it by CONNTRACK_LOCKS
remote:
remote:  Fixes: 93bb0ceb75be ("netfilter: conntrack: remove central spinlock nf_conntrack_lock")
remote:  Reported-by: kbuild test robot <fengguang.wu@intel.com>
remote:  Signed-off-by: Eric Dumazet <edumazet@google.com>
remote:  Cc: Jesper Dangaard Brouer <brouer@redhat.com>
remote:  Cc: Pablo Neira Ayuso <pablo@netfilter.org>
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:
remote:  refs #SWRGROUTER-4846
remote:
remote:
remote:   net/netfilter/nf_conntrack_core.c | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;brouer@redhat.com;2016-10-27 17:58:31 -0400;3e4990cb804faba6407ac301c2964c805e5e0859;SWRGROUTER-4846 RG reboots due to the watchdog firing when running traffic test (kernel.org commit id 93bb0ceb75be2fdfa9fc0dd1fb522d9ada515d9c);
remote:  netfilter: conntrack: remove central spinlock nf_conntrack_lock
remote:
remote:  nf_conntrack_lock is a monolithic lock and suffers from huge contention
remote:  on current generation servers (8 or more core/threads).
remote:
remote:  Perf locking congestion is clear on base kernel:
remote:
remote:  -  72.56%  ksoftirqd/6  [kernel.kallsyms]    [k] _raw_spin_lock_bh
remote:     - _raw_spin_lock_bh
remote:        + 25.33% init_conntrack
remote:        + 24.86% nf_ct_delete_from_lists
remote:        + 24.62% __nf_conntrack_confirm
remote:        + 24.38% destroy_conntrack
remote:        + 0.70% tcp_packet
remote:  +   2.21%  ksoftirqd/6  [kernel.kallsyms]    [k] fib_table_lookup
remote:  +   1.15%  ksoftirqd/6  [kernel.kallsyms]    [k] __slab_free
remote:  +   0.77%  ksoftirqd/6  [kernel.kallsyms]    [k] inet_getpeer
remote:  +   0.70%  ksoftirqd/6  [nf_conntrack]       [k] nf_ct_delete
remote:  +   0.55%  ksoftirqd/6  [ip_tables]          [k] ipt_do_table
remote:
remote:  This patch change conntrack locking and provides a huge performance
remote:  improvement.  SYN-flood attack tested on a 24-core E5-2695v2(ES) with
remote:  10Gbit/s ixgbe (with tool trafgen):
remote:
remote:   Base kernel:   810.405 new conntrack/sec
remote:   After patch: 2.233.876 new conntrack/sec
remote:
remote:  Notice other floods attack (SYN+ACK or ACK) can easily be deflected using:
remote:   # iptables -A INPUT -m state --state INVALID -j DROP
remote:   # sysctl -w net/netfilter/nf_conntrack_tcp_loose=0
remote:
remote:  Use an array of hashed spinlocks to protect insertions/deletions of
remote:  conntracks into the hash table. 1024 spinlocks seem to give good
remote:  results, at minimal cost (4KB memory). Due to lockdep max depth,
remote:  1024 becomes 8 if CONFIG_LOCKDEP=y
remote:
remote:  The hash resize is a bit tricky, because we need to take all locks in
remote:  the array. A seqcount_t is used to synchronize the hash table users
remote:  with the resizing process.
remote:
remote:  Signed-off-by: Eric Dumazet <edumazet@google.com>
remote:  Signed-off-by: Jesper Dangaard Brouer <brouer@redhat.com>
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Reviewed-by: Florian Westphal <fw@strlen.de>
remote:  Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
remote:
remote:  refs #SWRGROUTER-4846
remote:
remote:
remote:   net/netfilter/nf_conntrack_core.c   | 47 +++++++----------
remote:   net/netfilter/nf_conntrack_helper.c |  8 +--
remote:   2 files changed, 21 insertions(+), 34 deletions(-)
remote:  ;rp888308@broadcom.com;2016-10-27 17:58:30 -0400;46369f700db7cc241bfd1f6f14e1ef41f7fedad5;SWRGROUTER-4846 RG reboots due to the watchdog firing when running traffic test (kernel.org commit id ca7433df3a672efc88e08222cfa4b3aa965ca324);
remote:  netfilter: conntrack: seperate expect locking from nf_conntrack_lock
remote:
remote:  Netfilter expectations are protected with the same lock as conntrack
remote:  entries (nf_conntrack_lock).  This patch split out expectations locking
remote:  to use it's own lock (nf_conntrack_expect_lock).
remote:
remote:  Signed-off-by: Jesper Dangaard Brouer <brouer@redhat.com>
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Reviewed-by: Florian Westphal <fw@strlen.de>
remote:  Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
remote:
remote:  refs #SWRGROUTER-4846
remote:
remote:
remote:   net/netfilter/nf_conntrack_core.c   | 44 ++++++++++-------
remote:   net/netfilter/nf_conntrack_helper.c |  3 +-
remote:   2 files changed, 28 insertions(+), 19 deletions(-)
remote:  ;brouer@redhat.com;2016-10-27 17:58:30 -0400;ec7f7aa04fdb59849d00dfcf65ff01e0a57bb01b;SWRGROUTER-4846 RG reboots due to the watchdog firing when running traffic test (kernel.org commit id e1b207dac13ddb2f8ddebc7dc9729a97421909bd);
remote:  netfilter: avoid race with exp->master ct
remote:
remote:  Preparation for disconnecting the nf_conntrack_lock from the
remote:  expectations code.  Once the nf_conntrack_lock is lifted, a race
remote:  condition is exposed.
remote:
remote:  The expectations master conntrack exp->master, can race with
remote:  delete operations, as the refcnt increment happens too late in
remote:  init_conntrack().  Race is against other CPUs invoking
remote:  ->destroy() (destroy_conntrack()), or nf_ct_delete() (via timeout
remote:  or early_drop()).
remote:
remote:  Avoid this race in nf_ct_find_expectation() by using atomic_inc_not_zero(),
remote:  and checking if nf_ct_is_dying() (path via nf_ct_delete()).
remote:
remote:  Signed-off-by: Jesper Dangaard Brouer <brouer@redhat.com>
remote:  Signed-off-by: Florian Westphal <fw@strlen.de>
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
remote:
remote:  refs #SWRGROUTER-4846
remote:
remote:
remote:   net/netfilter/nf_conntrack_core.c | 39 ++++++++-----------
remote:   1 file changed, 17 insertions(+), 22 deletions(-)
remote:  ;brouer@redhat.com;2016-10-27 17:58:29 -0400;3e273553fbda5f1776313e2b91f03a6e6ea659d3;SWRGROUTER-4846 RG reboots due to the watchdog firing when running traffic test (kernel.org commit id b7779d06f9950e14a008a2de970b44233fe49c86);
remote:  netfilter: conntrack: spinlock per cpu to protect special lists.
remote:
remote:  One spinlock per cpu to protect dying/unconfirmed/template special lists.
remote:  (These lists are now per cpu, a bit like the untracked ct)
remote:  Add a @cpu field to nf_conn, to make sure we hold the appropriate
remote:  spinlock at removal time.
remote:
remote:  Signed-off-by: Eric Dumazet <edumazet@google.com>
remote:  Signed-off-by: Jesper Dangaard Brouer <brouer@redhat.com>
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Reviewed-by: Florian Westphal <fw@strlen.de>
remote:  Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
remote:
remote:  refs #SWRGROUTER-4846
remote:
remote:
remote:   net/netfilter/nf_conntrack_core.c   | 23 +++++++++++------
remote:   net/netfilter/nf_conntrack_helper.c |  5 ++++
remote:   2 files changed, 20 insertions(+), 8 deletions(-)
remote:  ;brouer@redhat.com;2016-10-27 17:58:29 -0400;98d7591c26ce17dbf4ea4d772f20ee0e24b65f89;SWRGROUTER-4846 RG reboots due to the watchdog firing when running traffic test (kernel.org commit id b476b72a0f8514a5a4c561bab731ddd506a284e7);
remote:  netfilter: trivial code cleanup and doc changes
remote:
remote:  Changes while reading through the netfilter code.
remote:
remote:  Added hint about how conntrack nf_conn refcnt is accessed.
remote:  And renamed repl_hash to reply_hash for readability
remote:
remote:  Signed-off-by: Jesper Dangaard Brouer <brouer@redhat.com>
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Reviewed-by: Florian Westphal <fw@strlen.de>
remote:  Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
remote:
remote:  refs #SWRGROUTER-4846
remote:
remote:
remote:   net/netfilter/nf_conntrack_core.c | 22 ++++++++-----------
remote:   1 file changed, 9 insertions(+), 13 deletions(-)
remote:  ;rp888308@broadcom.com;2016-10-27 17:58:28 -0400;634e1e12941a5b3b98cd9e07abeaf1c7dfa9114d;SWRGROUTER-4846 RG reboots due to the watchdog firing when running traffic test;
remote:  1. Get status only for the promoted flow and TCP flows with established state
remote:  2. Add 2way or 3way handshake run-time option for nf_conntrack (default 2way handshake)
remote:  3. Disable keep master alive logic for slave connections
remote:
remote:  refs #SWRGROUTER-4846
remote:
remote:
remote:   drivers/bcm_media_gw/flowmgr/flowmgr.h |  2 ++
remote:   .../flowmgr/flowmgr_core.c             | 14 +++++++++++++-
remote:   .../bcm_media_gw/flowmgr/flowmgr_fap.c | 10 +++++-----
remote:   .../netfilter/nf_conntrack_offload.h   |  2 +-
remote:   4 files changed, 21 insertions(+), 7 deletions(-)
remote:  ;czacker@broadcom.com;2016-10-27 17:58:28 -0400;3bd281ce4480010cb9c1dc624fe9f6448b219a0c;SWRGROUTER-5362: Need to make sure pause frames are NOT enabled on IMP ports but are enabled on LAN facing Ethernet ports;
remote:  refs #SWRGROUTER-5362
remote:
remote:
remote:   drivers/bcm_media_gw/ethsw/ethsw_core.c | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;czacker@broadcom.com;2016-10-27 17:58:28 -0400;19a47aa2d6314f467257cc90ce582db985183a45;SWRGROUTER-5362: Need to make sure pause frames are NOT enabled on IMP ports but are enabled on LAN facing Ethernet ports;
remote:  refs #SWRGROUTER-5362
remote:
remote:
remote:   drivers/bcm_media_gw/ethsw/ethsw_core.c | 12 ++++++------
remote:   drivers/bcm_media_gw/ethsw/ethsw_core.h |  2 +-
remote:   2 files changed, 7 insertions(+), 7 deletions(-)
remote:  ;robey@broadcom.com;2016-10-27 17:58:27 -0400;6d63bb79fe13ff9c3527f340803c14477e12156c;SWRGROUTER-5253 Temporarily disable netxl in the build;
remote:  Reenable netxl now tha thte nightly builds have been fixed by setting the default in Kconfig to m.
remote:
remote:  refs #SWRGROUTER-5253
remote:
remote:
remote:   drivers/bcm_media_gw/Kconfig | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;tross@broadcom.com;2016-10-27 17:58:27 -0400;dc328112960c863f9c2c8ec57af3ced236bd1d32;SWRGROUTER-5357: DQNET: Add support to set Ethernet port parameters via ethtool;
remote:  Added ethtool_ops.set_settings support to dqnet.
remote:
remote:  refs #SWRGROUTER-5357
remote:
remote:
remote:   .../bcm_media_gw/dqnet/dqnet_ethsw.c   |  4 +-
remote:   .../bcm_media_gw/dqnet/dqnet_ethtool.c | 80 +-------------
remote:   .../bcm_media_gw/dqnet/dqnet_switch.c  |  4 +-
remote:   3 files changed, 5 insertions(+), 83 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-10-27 17:58:26 -0400;9b923c0ef7f607be776233e13493b02c67346c7e;SWRGROUTER-4512: Add support for passing SKB's to/from HW;
remote:  Updates after code review.
remote:
remote:  refs #SWRGROUTER-4512
remote:
remote:
remote:   drivers/bcm_media_gw/dqnet/dqnet_qmsg.c | 12 ------------
remote:   1 file changed, 12 deletions(-)
remote:  ;tross@broadcom.com;2016-10-27 17:58:26 -0400;b73ac7423735306d230832eb8078e16312d6442d;SWRGROUTER-5329: Disable pause packet generation;
remote:  Temporarily disable switch pause packet generation until a proper
remote:  solution can be determined.
remote:
remote:  refs #SWRGROUTER-5329
remote:
remote:
remote:   drivers/bcm_media_gw/ethsw/ethsw_core.c | 12 ++++++------
remote:   1 file changed, 6 insertions(+), 6 deletions(-)
remote:  ;tross@broadcom.com;2016-10-27 17:58:26 -0400;e078581f4d82ed481967866208bb90b2883a0280;SWRGROUTER-5328: DQNET: Failure to remove BRCM tag results in SKB leak;
remote:  Free SKB if call to dqnet_rm_brcm_tag fails.
remote:
remote:  refs #SWRGROUTER-5328
remote:
remote:
remote:   drivers/bcm_media_gw/dqnet/dqnet_core.c | 12 +++++++++++-
remote:   1 file changed, 11 insertions(+), 1 deletion(-)
remote:  ;jayeshp@broadcom.com;2016-10-27 17:58:25 -0400;695dab9d415d7c4fe3adf05c995e9c65d47065f0;SWRGROUTER-5310: SFAP support broken after NetXL update for 3390;
remote:  Use SKB based SFAP for 3390.
remote:  Enable bulding SFAP as lodable module.
remote:
remote:  refs #SWRGROUTER-5310
remote:
remote:
remote:   drivers/bcm_media_gw/Kconfig | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;ptimariu@broadcom.com;2016-10-27 17:58:25 -0400;576b6c17840cbb7502a1189eaf29efdc88c4741d;SWRGROUTER-5265: 3390B0 - Wifi: Data path not working;
remote:  Fix 3390 base device tree; revert HWM value change to queue 56
remote:
remote:  refs #SWRGROUTER-5265
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi | 4 ++--
remote:   1 file changed, 2 insertions(+), 2 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-10-27 17:58:24 -0400;91d7c4aecfca32d4504fd545297b48046ed04312;SWRGROUTER-1886: Runner GRE termination & FlowMgr GRE v4;
remote:  Fix bug in adding IP flows through flowmgr proc interface for Runner.
remote:
remote:  refs #SWRGROUTER-1886
remote:
remote:
remote:   .../flowmgr/flowmgr_core.c             | 16 ++++--------
remote:   .../flowmgr/flowmgr_procfs.c           | 18 --------------
remote:   2 files changed, 5 insertions(+), 29 deletions(-)
remote:  ;czacker@broadcom.com;2016-10-27 17:58:24 -0400;f963c0afcbfba6744b427ddce19700528aa607bc;SWRGROUTER-5256: Ethernet drops packets while running LAN->WAN    traffic from 2 ethernet ports;
remote:  refs #SWRGROUTER-5256
remote:
remote:
remote:   drivers/bcm_media_gw/ethsw/ethsw_core.h | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;robey@broadcom.com;2016-10-27 17:58:23 -0400;5c6076a2946dff83194038cacafe0eb08e242bba;SWRGROUTER-5253 Temporarily disable netxl in the build;
remote:  Temporarily disable nextxl so that the nightly build succeeds by setting the default in Kconfig to n.
remote:
remote:  refs #SWRGROUTER-5253
remote:
remote:
remote:   drivers/bcm_media_gw/Kconfig | 10 ++++++++++
remote:   1 file changed, 10 insertions(+)
remote:  ;tross@broadcom.com;2016-10-27 17:58:23 -0400;001b346e9cbcaf616e037208ab9714d3e6c39b80;SWRGROUTER-4667: FPM buffer pool depletion when RG connected to external switch;
remote:  Add dqnet support for STP and enable STP in br0.
remote:
remote:  refs #SWRGROUTER-4667
remote:
remote:
remote:   .../bcm_media_gw/dqnet/dqnet_core.c    |  4 +-
remote:   .../bcm_media_gw/dqnet/dqnet_ethsw.c   |  4 +-
remote:   .../bcm_media_gw/dqnet/dqnet_switch.c  |  4 +-
remote:   drivers/bcm_media_gw/ethsw/ethsw_api.c | 20 ++++++
remote:   .../bcm_media_gw/ethsw/ethsw_core.c    | 45 +++++++++++++-
remote:   .../bcm_media_gw/ethsw/ethsw_priv.h    |  1 -
remote:   6 files changed, 68 insertions(+), 10 deletions(-)
remote:  ;akatre@broadcom.com;2016-10-27 17:58:22 -0400;5293568090698f4b32cb2958ed7d0e2e202340d2;WiFi: "FPM Pool 0: pool full" errors while running concurrent traffic through both wifi radios.;
remote:  Minor coding style changes as per review.
remote:
remote:  refs #SWRGROUTER-4337
remote:
remote:
remote:   drivers/bcm_media_gw/fpm/fpm_core.c | 3 ++-
remote:   drivers/bcm_media_gw/fpm/fpm_priv.h | 2 +-
remote:   2 files changed, 3 insertions(+), 2 deletions(-)
remote:  ;tross@broadcom.com;2016-10-27 17:58:22 -0400;9249b256fe95b38a48d3d42bca2c1ad23fdf852f;SWRGROUTER-4821: Add support for BCM93390WVG design;
remote:  Added 3390B0-WVG, 3390Z0-WVG, and 3390C0-WVG DT files.
remote:
remote:  refs #SWRGROUTER-4821
remote:
remote:
remote:   arch/arm/boot/dts/Makefile | 16 +++++++++++++++-
remote:   1 file changed, 15 insertions(+), 1 deletion(-)
remote:  ;rp888308@broadcom.com;2016-10-27 17:58:22 -0400;5d60b733cc4d63b2a46d0820f14dc37f3284489b;SWRGROUTER-4008 Periodic traffic dropouts during bidirectional FTP test;
remote:  Fixing fast_death_timeout unit from second to jiffies
remote:
remote:  refs #SWRGROUTER-4008
remote:
remote:  (cherry picked from commit  1ee8aaec69a21826120e2699ebed4ae1ed69e4f0)
remote:
remote:
remote:   drivers/bcm_media_gw/flowmgr/flowmgr_core.c | 4 ++--
remote:   1 file changed, 2 insertions(+), 2 deletions(-)
remote:  ;tross@broadcom.com;2016-10-27 17:58:21 -0400;a1e6167ccd22606351a0a43cb4c7e3a76b2562db;SWRGROUTER-4932: SV board won't boot using images from feat_PowerManagement branch.;
remote:  UniMAC was not being powered on boards with EthWAN support.
remote:
remote:  refs #SWRGROUTER-4932
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-ethwan.dtsi | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;skern@broadcom.com;2016-10-27 17:58:21 -0400;322f567fbe8f7f7273c6f4bfc81a302113a81391;SWRGROUTER-4769: Update feat_MAP stream to latest develop;
remote:  Update feat_MAP stream to latest develop
remote:
remote:  refs #SWRGROUTER-4769
remote:
remote:      Squashed commit of the following:
remote:
remote:      commit e11a2479a3590f957328bad7f8e182f39113670f
remote:      Author: Peter Timariu <ptimariu@broadcom.com>
remote:      Date:   Wed May 25 17:00:09 2016 -0700
remote:
remote:          SWRGROUTER-4754: WiFi: buzz merge checkpatch fixes
remote:
remote:          - run checkpatch.pl with --fix-inplace and review
remote:          - fixed ws/tab, indentation, line length
remote:          - auto-fix linux kernel style issues
remote:          - add updated BCM copyright header in Makefile
remote:
remote:          SWRGROUTER-4754
remote:
remote:      commit 61885f434af839372f49072e04568fb7e547b0e8
remote:      Author: Tim Ross <tross@broadcom.com>
remote:      Date:   Wed May 25 17:19:28 2016 -0400
remote:
remote:          SWRGROUTER-4755: Update gpio-brcmstb.c to latest version from STBLinux 3.14-1.14.
remote:
remote:          Update gpio-brcmstb.c to STBLinux version 3.14-1.14.
remote:          Update wps and gpio-irqt drivers to workaround SWLINUX-4071.
remote:          Fix compiler warnings in wps driver.
remote:
remote:          SWRGROUTER-4755
remote:
remote:      commit 4d3a88409f12f66d26945ffae7dd1234e9819f14
remote:      Author: Peter Timariu <ptimariu@broadcom.com>
remote:      Date:   Wed May 25 10:33:57 2016 -0700
remote:
remote:          SWRGROUTER-4752: WiFi: remove BUZZZ dependency on userspace headers
remote:
remote:          - change <typedefs.h> into <linux/types.h>
remote:          - remove dependency on typedefs.h from wl path in Makefile
remote:          - change TRUE/FALSE to standard bool types;
remote:          - switch to uint32_t where uint32 was being used.
remote:
remote:          SWRGROUTER-4752
remote:
remote:      commit 7aaa02c4c7209844c757f3c0d871482d1d773aca
remote:      Merge: 4a52346 dff89ce
remote:      Author: Carlos Soto <csoto@broadcom.com>
remote:      Date:   Wed May 25 09:26:06 2016 -0400
remote:
remote:          Merge tag 'stblinux-3.14-1.14' into develop
remote:
remote:          Merge STB Linux branch stb-3.14 at tag stblinux-3.14-1.14
remote:
remote:          Merge consists of rebased commits so hash IDs are not compatible with
remote:          STB Linux repository
remote:
remote:          Corresponding commit ID on STB Linux repository: 5cd2b551970f2a0
remote:
remote:          SWRGROUTER-4677
remote:
remote:      commit dff89cedfde86a0dd0aff1cd0914e41c33ce07ef
remote:      Author: Alex Chu <alexchu@broadcom.com>
remote:      Date:   Wed May 4 17:15:16 2016 -0700
remote:
remote:          Bump version to stblinux-3.14-1.14
remote:
remote:          Signed-off-by: Alex Chu <alexchu@broadcom.com>
remote:          (cherry picked from commit 5cd2b551970f2a0d3b1d1a9f9f7b36c637e8ad66)
remote:
remote:      commit 8e2a80171f590d0fe29d94f3099f7e845ca4e36c
remote:      Author: Doug Berger <doug.berger@broadcom.com>
remote:      Date:   Fri Apr 29 20:06:13 2016 -0700
remote:
remote:          gpio: brcmstb: assume all instances are wakup sources
remote:
remote:          This commit uses the existance of a second interrupt in any gpio device
remote:          tree node as an indication that the second interrupt should be used by
remote:          all driver instances as the wakeup interrupt.
remote:
remote:          SWLINUX-4046
remote:
remote:          Signed-off-by: Doug Berger <doug.berger@broadcom.com>
remote:          (cherry picked from commit d141f6cb0152562a209006417d995ac3fe2d1ef3)
remote:
remote:      commit bf429cebbe1c0ca902ec0875e7a2d48218691437
remote:      Author: Florian Fainelli <florian.fainelli@broadcom.com>
remote:      Date:   Tue Apr 26 10:37:45 2016 -0700
remote:
remote:          brcmstb_defconfig: Compress kernel with XZ instead of GZIP
remote:
remote:          GZIP is the default kernel compression method, while it is a good tradeoff
remote:          between compression ratio and speed, recent additions to the default kernel
remote:          have made us get too close from the 4MB size, which is the typical "kernel"
remote:          partition provided by BOLT. Until we can afford not caring about size, switch
remote:          to the strongest compression algorithm that is supported: XZ, putting us back
remote:          into the safe zone for a while.
remote:
remote:          SWLINUX-4051
remote:
remote:          Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:          (cherry picked from commit 4c3dd042a8fc83e3157ee0448e7d3c9888772d8f)
remote:
remote:      commit 035d24c4efe7112391c4860a9d1e9202c5ae1990
remote:      Author: Florian Fainelli <florian.fainelli@broadcom.com>
remote:      Date:   Mon Apr 25 16:48:11 2016 -0700
remote:
remote:          Bump version to 3.14-1.14pre
remote:
remote:          Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:          (cherry picked from commit e12b228d40df0c85ecc1b8bf46f95fef1f29b8ed)
remote:
remote:      commit 6f39dde6c4e9286f6fb2163544256acc7aa4fba3
remote:      Author: Florian Fainelli <florian.fainelli@broadcom.com>
remote:      Date:   Thu Apr 21 15:32:35 2016 -0700
remote:
remote:          gpio: brcmstb: Save and restore registers for non wake-up banks
remote:
remote:          GPIO banks which are not capable of acting as wake-up source for the system
remote:          will lose their register contents upon S3 (deep sleep) suspend/resume
remote:          sequences. Make sure that we save a copy of their register contents during
remote:          suspend to restore them during resume.
remote:
remote:          SWLINUX-4046
remote:
remote:          Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:          (cherry picked from commit cfddd0ad3f3595634cb0d2f928d61aab62d78575)
remote:
remote:      Commit b2393948e253235a20014d02cb408b21199717de
remote:      Author: Florian Fainelli <florian.fainelli@broadcom.com>
remote:      Date:   Thu Apr 21 14:58:35 2016 -0700
remote:
remote:          gpio: brcmstb: Fix wake-up on GPIO interrupts
remote:
remote:          The current driver was missing a few key things to allow GPIO interrupts to be
remote:          properly used as wake-up sources as intended:
remote:
remote:          - the IRQCHIP_MASK_ON_SUSPEND should only apply to the non wake-up capable
remote:            controllers
remote:          - we need to know which GPIO interrupt line is requested to be a
remote:            wake-up source, and program its interrupt mask accordingly to make it able to
remote:            wake-up the system
remote:
remote:          In order to accomplish that, we introduce a per-GPIO bank bitmask of active
remote:          sources (wake_active) and program it into GIO_MASK when we are about to
remote:          suspend.
remote:
remote:          SWLINUX-4046
remote:
remote:          Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:          (cherry picked from commit 1e5d87cb14500501e2370584c42c4c0118d52034)
remote:
remote:      commit 5946d41e2e38dd182a63e85f86eddc5bfb9c8034
remote:      Author: Dave Chinner <dchinner@redhat.com>
remote:      Date:   Tue May 6 07:37:31 2014 +1000
remote:
remote:          xfs: remote attribute overwrite causes transaction overrun
remote:
remote:          [Upstream commit 8275cdd0e7ac550dcce2b3ef6d2fb3b808c1ae59]
remote:
remote:          Commit e461fcb ("xfs: remote attribute lookups require the value
remote:          length") passes the remote attribute length in the xfs_da_args
remote:          structure on lookup so that CRC calculations and validity checking
remote:          can be performed correctly by related code. This, unfortunately has
remote:          the side effect of changing the args->valuelen parameter in cases
remote:          where it shouldn't.
remote:
remote:          That is, when we replace a remote attribute, the incoming
remote:          replacement stores the value and length in args->value and
remote:          args->valuelen, but then the lookup which finds the existing remote
remote:          attribute overwrites args->valuelen with the length of the remote
remote:          attribute being replaced. Hence when we go to create the new
remote:          attribute, we create it of the size of the existing remote
remote:          attribute, not the size it is supposed to be. When the new attribute
remote:          is much smaller than the old attribute, this results in a
remote:          transaction overrun and an ASSERT() failure on a debug kernel:
remote:
remote:          XFS: Assertion failed: tp->t_blk_res_used <= tp->t_blk_res, file: fs/xfs/xfs_trans.c, line: 331
remote:
remote:          Fix this by keeping the remote attribute value length separate to
remote:          the attribute value length in the xfs_da_args structure. The enables
remote:          us to pass the length of the remote attribute to be removed without
remote:          overwriting the new attribute's length.
remote:
remote:          Also, ensure that when we save remote block contexts for a later
remote:          rename we zero the original state variables so that we don't confuse
remote:          the state of the attribute to be removes with the state of the new
remote:          attribute that we just added. [Spotted by Brain Foster.]
remote:
remote:          SWLINUX-3896
remote:
remote:          Signed-off-by: Dave Chinner <dchinner@redhat.com>
remote:          Reviewed-by: Brian Foster <bfoster@redhat.com>
remote:          Signed-off-by: Dave Chinner <david@fromorbit.com>
remote:          Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:          (cherry picked from commit 2b7073db4e7c87c7188c9a2296852cdb2c94d32e)
remote:
remote:      commit b99ca3e74a4e309bd0a44ad6fcf327d305f17a25
remote:      Author: Kamal Dasu <kdasu@broadcom.com>
remote:      Date:   Thu Mar 24 17:25:49 2016 -0400
remote:
remote:          spi: brcmstb: Reading status register inconsistency
remote:
remote:          Remove checks for case OPCODE_RDSR and calls to
remote:          bcmspi_emulate_flash_rdsr().
remote:
remote:          SWLINUX-4016
remote:
remote:          Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:          (cherry picked from commit 1617a463beafa16cb98d433d32fea3f26fce256c)
remote:
remote:      commit feca8e2988af108fc0c11838d13d4212296e7049
remote:      Author: Florian Fainelli <florian.fainelli@broadcom.com>
remote:      Date:   Tue Apr 12 10:10:34 2016 -0700
remote:
remote:          soc: brcmstb: nexus: Update IRQ API with additional BSC channels (F, G)
remote:
remote:          While we are at it bump the API version to indicate these additions, and
remote:          re-arrange the enum so all iic channels are ordered.
remote:
remote:          SWLINUX-4030
remote:
remote:          Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:          (cherry picked from commit 0b5bb03055cf992d7d2e1a77148a3aa68f17282d)
remote:
remote:      commit d52343722816e8ae28f6b66ff752e5e9d4ce3f71
remote:      Author: Edwin Chan <edwin.chan@broadcom.com>
remote:      Date:   Fri Mar 4 22:43:44 2016 -0800
remote:
remote:          bcmgenet: add begin/complete ethtool ops
remote:
remote:          Make sure clock is enabled for ethtool ops.
remote:
remote:          SWLINUX-4000
remote:
remote:          Signed-off-by: Edwin Chan <edwin.chan@broadcom.com>
remote:          (cherry picked from commit 1e844268df6cc71885f43550b350e464d8764c34)
remote:
remote:      commit 85ec5782216eb7fe8da5ce2a854d7d3b85435e0d
remote:      Author: Florian Fainelli <florian.fainelli@broadcom.com>
remote:      Date:   Fri Apr 1 15:27:56 2016 -0700
remote:
remote:          Bump version to 3.14-1.13
remote:
remote:          Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:          (cherry picked from commit 594cc49e5069ca97bf7ab2cf54f91ea6860605d4)
remote:
remote:      commit 5fc45747d45be7e8d3dbd51dd4fe9ad020dbf488
remote:      Author: Florian Fainelli <florian.fainelli@broadcom.com>
remote:      Date:   Tue Mar 22 19:31:44 2016 -0700
remote:
remote:          bsp: Select CONFIG_BCM7120_L2_IRQ
remote:
remote:          Now that the Nexus APIs are enabled, we can use the irq-bcm7120-l2 interrupt
remote:          controller which provides L2 interrupts for a different number of peripherals
remote:          and replaces the irq0-stub driver.
remote:
remote:          SWLINUX-3979
remote:
remote:          Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:          (cherry picked from commit 9e60a07595cb4e47578e2f76211e227770ca5f26)
remote:
remote:      commit d6fbffa994ee12a1ae4125ab61a2471b363e1088
remote:      Author: Doug Berger <doug.berger@broadcom.com>
remote:      Date:   Tue Mar 22 10:04:56 2016 -0700
remote:
remote:          BCMGENET: Power up the internal PHY before probing the MII
remote:
remote:          When using the internal PHY it must be powered up when the MII is probed
remote:          or the PHY will not be detected.  Since the PHY is powered up at reset
remote:          this has not been a problem.  However, when the kernel is restarted with
remote:          kexec the PHY will likely be powered down when the kernel starts so it
remote:          will not be detected and the Ethernet link will not be established.
remote:
remote:          This commit explicitly powers up the internal PHY when the GENET driver
remote:          is probed to correct this behavior.
remote:
remote:          SWLINUX-3829
remote:
remote:          Signed-off-by: Doug Berger <doug.berger@broadcom.com>
remote:          (cherry picked from commit bc40c11305e23ebf37b344f35c751b5d8eeb82ea)
remote:
remote:      commit 569397d467e55a7962ebd5c8c449097e363281f4
remote:      Author: Florian Fainelli <florian.fainelli@broadcom.com>
remote:      Date:   Thu Mar 10 12:00:42 2016 -0800
remote:
remote:          defconfig: Turn on CONFIG_GPIO_SYSFS
remote:
remote:          Makes it easier for people testing GPIOs to access them from user space.
remote:
remote:          SWLINUX-3979
remote:
remote:          Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:          (cherry picked from commit 74f5ab05041a09bbd306af614a8d05a30972f9a3)
remote:
remote:      commit 6e322f4ae283d2e95bc50532c3678eaae9b1ac39
remote:      Author: Bo (Andover) Zhang <zhang@broadcom.com>
remote:      Date:   Tue Jan 5 08:43:35 2016 -0500
remote:
remote:          irq: ipi: added support to set/clear IPI handlers.
remote:
remote:          Add support for definining custom IPI handlers, which is needed for supporting
remote:          a Trusted OS scheme.
remote:
remote:          SWLINUX-3917
remote:
remote:          Signed-off-by: Bo (Andover) Zhang <zhang@broadcom.com>
remote:          Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:          (cherry picked from commit a9a32943976fa92ba5958c0de5bbfe0dd4856e4a)
remote:
remote:      commit ddbbffe729fcd1dc6c7e0bd216ad5ac4131575c5
remote:      Author: Al Cooper <al.cooper@broadcom.com>
remote:      Date:   Fri Mar 4 11:29:34 2016 -0500
remote:
remote:          usb: Prevent USB DMA hardware from reading into BMEM
remote:
remote:          A USB hardware bug where the USB DMA engine will prefetch
remote:          beyond the end of the buffer can cause a Memory Range Checker
remote:          error by reading into BMEM. This is being fixed by reserving
remote:          the 4K preceding the start of each BMEM region. NOTE: The
remote:          USB DMA bug may be fixed in the latest chips, the 7271 and
remote:          7268, but this has not been verified.
remote:
remote:          SWLINUX-3996
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit 47772fa1469bd6e3a16024ee8a2f57fbf71abaab)
remote:
remote:      commit 875c9c53ae6d045e727c50b160667e018e9518b1
remote:      Author: Florian Fainelli <florian.fainelli@broadcom.com>
remote:      Date:   Mon Feb 29 15:24:52 2016 -0800
remote:
remote:          drivers: soc: memory: Switch get_pages() to vmalloc()
remote:
remote:          There is no need to be requesting contiguous kernel memory, nor direct mapped
remote:          memory for get_pages(), so switch it to vmalloc() which should lower the
remote:          pressure on high-order allocations.
remote:
remote:          SWLINUX-3991
remote:
remote:          Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:          (cherry picked from commit e8ea32ceeab02515e658f827cd4d06295ddb11e1)
remote:
remote:      commit 265791e11a836fcef5afaeb87fb379c9e2a2caa0
remote:      Author: Yevgeny Pats <yevgeny@perception-point.io>
remote:      Date:   Tue Jan 19 22:09:04 2016 +0000
remote:
remote:          KEYS: Fix keyring ref leak in join_session_keyring()
remote:
remote:          [Upstream commit 23567fd052a9abb6d67fe8e7a9ccdd9800a540f2]
remote:
remote:          This fixes CVE-2016-0728.
remote:
remote:          If a thread is asked to join as a session keyring the keyring that's already
remote:          set as its session, we leak a keyring reference.
remote:
remote:          This can be tested with the following program:
remote:
remote:          	#include <stddef.h>
remote:          	#include <stdio.h>
remote:          	#include <sys/types.h>
remote:          	#include <keyutils.h>
remote:
remote:          	int main(int argc, const char *argv[])
remote:          	{
remote:          		int i = 0;
remote:          		key_serial_t serial;
remote:
remote:          		serial = keyctl(KEYCTL_JOIN_SESSION_KEYRING,
remote:          				"leaked-keyring");
remote:          		if (serial < 0) {
remote:          			perror("keyctl");
remote:          			return -1;
remote:          		}
remote:
remote:          		if (keyctl(KEYCTL_SETPERM, serial,
remote:          			   KEY_POS_ALL | KEY_USR_ALL) < 0) {
remote:          			perror("keyctl");
remote:          			return -1;
remote:          		}
remote:
remote:          		for (i = 0; i < 100; i++) {
remote:          			serial = keyctl(KEYCTL_JOIN_SESSION_KEYRING,
remote:          					"leaked-keyring");
remote:          			if (serial < 0) {
remote:          				perror("keyctl");
remote:          				return -1;
remote:          			}
remote:          		}
remote:
remote:          		return 0;
remote:          	}
remote:
remote:          If, after the program has run, there something like the following line in
remote:          /proc/keys:
remote:
remote:          3f3d898f I--Q---   100 perm 3f3f0000     0     0 keyring   leaked-keyring: empty
remote:
remote:          with a usage count of 100 * the number of times the program has been run,
remote:          then the kernel is malfunctioning.  If leaked-keyring has zero usages or
remote:          has been garbage collected, then the problem is fixed.
remote:
remote:          SWLINUX-3989
remote:
remote:          Reported-by: Yevgeny Pats <yevgeny@perception-point.io>
remote:          Signed-off-by: David Howells <dhowells@redhat.com>
remote:          Acked-by: Don Zickus <dzickus@redhat.com>
remote:          Acked-by: Prarit Bhargava <prarit@redhat.com>
remote:          Acked-by: Jarod Wilson <jarod@redhat.com>
remote:          Signed-off-by: James Morris <james.l.morris@oracle.com>
remote:          Signed-off-by: Danesh Petigara <danesh.petigara@broadcom.com>
remote:          (cherry picked from commit 263bc053a5c03269e1bb36792b2ac4d721af6ef8)
remote:
remote:      commit 1765076cba2d422f93f8aee6a037eb2e742fe865
remote:      Author: Wolfram Sang <wsa@the-dreams.de>
remote:      Date:   Sun Feb 21 15:16:48 2016 +0100
remote:
remote:          i2c: brcmstb: allocate correct amount of memory for regmap
remote:
remote:          We want the size of the struct, not of a pointer to it. To be future
remote:          proof, just dereference the pointer to get the desired type.
remote:
remote:          [patch: https://patchwork.ozlabs.org/patch/585828/]
remote:
remote:          SWLINUX-3986
remote:
remote:          Signed-off-by: Wolfram Sang <wsa@the-dreams.de>
remote:          Acked-by: Gregory Fong <gregory.0xf0@gmail.com>
remote:          Acked-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Reviewed-by: Kamal Dasu <kdasu.kdev@gmail.com>
remote:          (cherry picked from commit 625491a972f08d2e31b03d6de6a5156ab92ddf93)
remote:
remote:      commit 8c17c3070c78c842b816efb3090634052aa407e2
remote:      Author: Florian Fainelli <florian.fainelli@broadcom.com>
remote:      Date:   Fri Feb 26 16:12:45 2016 -0800
remote:
remote:          brcmstb: bmem: correct bmem behavior in brcmstb_get_page()
remote:
remote:          When generating an address for bmem_find_region() from a pfn value we
remote:          must promote the unsigned long pfn value to the phy_addr_t type expected
remote:          by the bmem_find_region() function before performing the left shift.
remote:
remote:          Otherwise, there is a risk that the PAGE_SHIFT to the left will cause
remote:          meaningful bits of the pfn value to overflow the unsigned long data
remote:          type causing the address to unintentionally wrap.  This in turn can
remote:          cause a highmem address above 4GB to wrap back into the 4GB range and
remote:          be mistaken for being within a BMEM/BRCMSTB_CMA region.
remote:
remote:          SWLINUX-3980
remote:
remote:          Signed-off-by: Doug Berger <doug.berger@broadcom.com>
remote:          Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:          (cherry picked from commit 41daa14b328fdc490847918663545c11fa43b8bc)
remote:
remote:      commit bc5db38900e92e046db38c547e6046d715516e3a
remote:      Author: Florian Fainelli <florian.fainelli@broadcom.com>
remote:      Date:   Fri Feb 26 16:02:49 2016 -0800
remote:
remote:          defconfig: Turn on CONFIG_BRCMSTB_NEXUS_API
remote:
remote:          Turn on CONFIG_BRCMSTB_NEXUS_API=y by default, allowing Nexus to use the
remote:          different GPIO, virtual L1 and other APIs defined by the Linux kernel.
remote:
remote:          SWLINUX-3979
remote:
remote:          Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:          (cherry picked from commit f16217635322a8ca071d0d67c1c3c604badadfe6)
remote:
remote:      commit c44f72ddbe4c82da5f4192eca3aef56a1526d9ca
remote:      Author: Justin Chen <justin.chen@broadcom.com>
remote:      Date:   Fri Feb 12 11:13:19 2016 -0800
remote:
remote:          bsp: add SoC device with family id, product id and revision.
remote:
remote:          Added SoC driver at drivers/soc/brcmstb/common.c. Added two
remote:          helper functions for getting family/product ID located at
remote:          include/linux/soc/brcmstb/brcmstb.h.
remote:
remote:          Assigned the values of soc_dev_attribute accordingly:
remote:          family = chip family id
remote:          soc_id = product id
remote:          revision = product revision
remote:
remote:          SWLINUX-3946
remote:
remote:          Signed-off-by: Justin Chen <justin.chen@broadcom.com>
remote:          (cherry picked from commit 4fdfcd2a0a5c1c7b6f5d64e179c9705ec814e816)
remote:
remote:      commit cde6f9b12aa48d9e49e660613d4d22954f0f623b
remote:      Author: Jim Quinlan <james.quinlan@broadcom.com>
remote:      Date:   Tue Feb 9 11:02:45 2016 -0500
remote:
remote:          pci: confirm that SSC is on if it is indeed on
remote:
remote:          Before this commit, nothing would be printed if we successfully
remote:          entered SSC (spread spectrum clocking) mode.  Now, when we
remote:          successfully enter SSC, the link status line will have '(SSC)'
remote:          appended to it.
remote:
remote:          SWLINUX-3954
remote:
remote:          Signed-off-by: Jim Quinlan <james.quinlan@broadcom.com>
remote:          (cherry picked from commit d3f8ce55a6d7339ba5586d51a39303ce7891918e)
remote:
remote:      commit a27efa98933167a672efde7f759146d99ef7a691
remote:      Author: Jim Quinlan <james.quinlan@broadcom.com>
remote:      Date:   Tue Feb 9 10:49:23 2016 -0500
remote:
remote:          pci: enable PCIe advanced error reporting
remote:
remote:          SWLINUX-3953
remote:
remote:          Signed-off-by: Jim Quinlan <james.quinlan@broadcom.com>
remote:          (cherry picked from commit f684909500fe307d953974eac5fee999e2ec6f82)
remote:
remote:      commit 8dd49b84a5d737cda08604dcffb52f04d1bc4037
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Fri Jan 15 16:11:27 2016 -0500
remote:
remote:          pci: add MSI functionality
remote:
remote:          This commit adds MSI functionality to the BrcmSTB PCIe hardware.  The
remote:          code is influenced by the MSI implementation as seen in pcie-rcar.c.
remote:
remote:          This MSI implementation is complicated by two factors:
remote:
remote:          1. we have multiple root controllers (RC), each with their own MSI
remote:
remote:          2. we have some chips implemented where the PCIe interrupt is shared
remote:          with the MSI interrupt.  In addition, the MSI interrupt bits do
remote:          not have their own register; there are 8 bits starting at position
remote:          24 in the L2 interrupt register.
remote:
remote:          SWLINUX-3571
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit db87c836e1db2082783fd3f2d6ac00a747c040bb)
remote:
remote:      commit 26ea36f3da53f63ea642ac45ba027e701242b1cc
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Fri Jan 15 16:08:12 2016 -0500
remote:
remote:          pci: fix L2 interrupt initialization
remote:
remote:          The interrupt initialization code has been funky since day 0.
remote:          It doesn't really matter because the current code doesn't
remote:          handle interrupts.  Change the code to be more sensible.
remote:
remote:          SWLINUX-3571
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit e2cd4a303deb656b7808e64ccec7b0b741dcd986)
remote:
remote:      commit b3771a905d5593993e79716dcc72f2bbf0306efe
remote:      Author: Florian Fainelli <florian.fainelli@broadcom.com>
remote:      Date:   Mon Feb 8 12:57:58 2016 -0800
remote:
remote:          of: fdt: Export initial_boot_params
remote:
remote:          Some proprietary modules might be willing to get access to the flattened Device
remote:          Tree blob and extract information they care about, make that possible, but
remote:          surround the change with a CONFIG_BRCMSTB ifdef to make it obvious this is
remote:          specific to our kernel.
remote:
remote:          SWLINUX-3951
remote:
remote:          Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:          (cherry picked from commit 7987e11d9bb34cdb230c5f132a543541a2b25f10)
remote:
remote:      commit 134d98387ae969942f93d09a94cbc00e22168ab2
remote:      Author: Doug Berger <douglasb@broadcom.com>
remote:      Date:   Tue Feb 2 15:23:38 2016 -0800
remote:
remote:          soc: brcmstb: nexus: add brcmstb_gpio_remove() to API
remote:
remote:          The function brcmstb_gpio_remove() was added to the internal Nexus API to
remote:          allow the GPIO reservations to be released by Nexus.  This allows a Nexus
remote:          module to be removed without continuing to hold GPIO resources.
remote:
remote:          SWLINUX-3922
remote:
remote:          Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:          (cherry picked from commit da9cb2747c30f61ce59e30d13b9469586cb823d0)
remote:
remote:      commit 4ad474550a92a2f6869d92d96acfeec6956c8180
remote:      Author: Doug Berger <douglasb@broadcom.com>
remote:      Date:   Wed Jan 20 16:21:13 2016 -0800
remote:
remote:          soc: brcmstb: nexus: brcmstb_update32() access is properly synchronized
remote:
remote:          The implementation of the brcmstb_update32() function of the Nexus API has
remote:          been revised to use the same basic memory-mapped GPIO controllers as the
remote:          gpio-brcmstb driver.
remote:
remote:          The function is now merely a shell to preserve the API that calls a new
remote:          function (brcmstb_gpio_update32) located in the implementation of the Nexus
remote:          GPIO API that can use the same locks and accessors used by the gpio-brcmstb
remote:          driver.
remote:
remote:          SWLINUX-3922
remote:
remote:          Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:          (cherry picked from commit db7c2b0f2fc778ccf00053f3bf7a1c6cc7fd117a)
remote:
remote:      commit 6484a6a041487ed8b31809682f78c3e007395e9c
remote:      Author: Doug Berger <douglasb@broadcom.com>
remote:      Date:   Wed Jan 20 14:27:46 2016 -0800
remote:
remote:          soc: brcmstb: nexus: introduce GPIO_PER_BANK define
remote:
remote:          The symbol GIO_BANK_SIZE defines the byte-aligned address space occupied by
remote:          the registers of one bank within a GIO block.
remote:
remote:          The new symbol GPIO_PER_BANK defines the number of GPIO pins controlled by
remote:          a bank of GIO registers.
remote:
remote:          They both happen to equal 32 at the moment, but that should not be relied
remote:          upon, so they should not be used interchangeably like they were prior to
remote:          this commit.
remote:
remote:          SWLINUX-3922
remote:
remote:          Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:          (cherry picked from commit b9769d8b40a9ff8a8dd026de003b9bace64b54cc)
remote:
remote:      commit d0a7a70219020c06d964e3d836e0c6b0d1fb7955
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Dec 18 14:33:37 2015 -0800
remote:
remote:          soc: brcmstb: Report DDR controller frequency through sysfs
remote:
remote:          Expose a "frequency" sysfs atrribute which returns the DDR controller frequency
remote:          it is operating at. If the attribute is not found, 0 is reported, which should
remote:          be treated as an invalid frequency anyway.
remote:
remote:          SWLINUX-3637
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 1129a940601c23739d2f4dfbe6966b06e944b361)
remote:
remote:      commit 7bfa3ca649a9c14cfe6eb3d5b6c9769509e48dc8
remote:      Author: Doug Berger <douglasb@broadcom.com>
remote:      Date:   Tue Jan 26 15:50:08 2016 -0800
remote:
remote:          gpio: brcmstb: enable masking of interrupts when changing type
remote:
remote:          Mask the GPIO interrupt while its type is being changed, just in case
remote:          it can prevent a spurious interrupt.
remote:
remote:          SWLINUX-3931
remote:
remote:          Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:          (cherry picked from commit b97e54657d93b4329f089774c618e2a0c3f9ed7f)
remote:
remote:      commit b66bedd51d0883c0c6f078e380a1018557ddb268
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jan 25 14:38:22 2016 -0800
remote:
remote:          bsp: Remove 7145B0 BCHP headers
remote:
remote:          SWLINUX-3935
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 82adf567a749f811db5bc4f25d4b9e179ce05e7c)
remote:
remote:      commit 29e2ce40e86fb6447d9094802c4c16b85a802809
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jan 25 14:37:15 2016 -0800
remote:
remote:          bsp: Remove support for 7145B0
remote:
remote:          SWLINUX-3935
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 17c5a0d8e0c02686bfa05bca8badb95dc7f5f5b5)
remote:
remote:      commit f1f233784ca27af29ed0774a169e719b313c1519
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jan 25 14:36:50 2016 -0800
remote:
remote:          drivers: Remove support for 7145B0
remote:
remote:          SWLINUX-3935
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 761d5bb4e05d4afa0e897b5e587bec01813864ba)
remote:
remote:      commit 0798c502f23d9d08400eb17fe284d07ccbb0b93b
remote:      Author: Doug Berger <douglasb@broadcom.com>
remote:      Date:   Thu Jan 21 11:02:13 2016 -0800
remote:
remote:          gpio: brcmstb: release the bgc lock when invoking irq handlers
remote:
remote:          The basic memory-mapped GPIO controller lock must be released before calling
remote:          the registered GPIO interrupt handlers to allow the interrupt handlers to
remote:          access the hardware.  Otherwise, the hardware accesses will deadlock when
remote:          they attempt to grab the lock.
remote:
remote:          SWLINUX-3931
remote:
remote:          Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:          (cherry picked from commit db8b1c7b15b5bcf6b1be2421bdf561474d0c9887)
remote:
remote:      commit 16b70de17ef162fdacb244dd72e9c30d615d5a79
remote:      Author: Doug Berger <douglasb@broadcom.com>
remote:      Date:   Tue Jan 19 09:46:26 2016 -0800
remote:
remote:          gpio: brcmstb: correct the configuration of level interrupts
remote:
remote:          This commit corrects a bug when configuring the GPIO hardware for
remote:          IRQ_TYPE_LEVEL_LOW and IRQ_TYPE_LEVEL_HIGH interrupt types. The
remote:          hardware is now correctly configured to support those types.
remote:
remote:          SWLINUX-3934
remote:
remote:          Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:          (cherry picked from commit d56e81de691f7fd92b74a86fe38cc15ed0bba8ec)
remote:
remote:      commit 8b6a4c579f6f9036b4ff64951014498201972774
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Jan 15 17:24:31 2016 -0800
remote:
remote:          Bump version to 3.14-1.12pre
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 939a408dd39497fa79f52066b9576071bd6485cf)
remote:
remote:      commit 49fae7f88389c2f5c246fb259ccb991d4557a0fc
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Wed Jan 6 11:39:34 2016 -0500
remote:
remote:          usb: USB 3.0 device as rootfs fails to recover after S2 or S3
remote:
remote:          On systems using IPP (Invert Port Power), mounted USB 3.0
remote:          devices will get re-enumerated on S3 resume and the mounted
remote:          filesystem will no longer be accessible. This is happening
remote:          because a system using IPP will power up with USB power
remote:          enabled to the USB devices until the IPP can be set by software.
remote:          This is enough time for 3.0 devices to timeout on the 3.0
remote:          connect attempt (because the 3.0 PHY has not yet been enabled)
remote:          and fall back to a 2.0 device. This shouldn't be a problem
remote:          because the 3.0 devices in 2.0 mode would normally be power
remote:          cycled after the software sets IPP correctly, but the USB driver
remote:          turns on device power so quickly after we set IPP that the device
remote:          doesn't see the power cycle (on a 7445SV board it takes about
remote:          8ms for power to drop to zero). This change adds a 50ms delay
remote:          when IPP is being set. The delay is only added if IPP was not
remote:          already set to avoid delays if BOLT already set IPP.
remote:
remote:          SWLINUX-3919
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit b08af4b665e38bdcbd2f9511eaa5a107bf619030)
remote:
remote:      commit 351905d498f13ff7abd63833c3aae5b57426f797
remote:      Author: Doug Berger <douglasb@broadcom.com>
remote:      Date:   Wed Jan 13 12:47:32 2016 -0800
remote:
remote:          gpio: brcmstb: define irq_disable service
remote:
remote:          The gpiolib irqchip helpers will use irq_unmask if irq_enable is not
remote:          defined.  However, when using the handle_simple_irq() generic handler
remote:          the irq_disable service will not use irq_mask to disable the interrupt.
remote:
remote:          When using the handle_simple_irq() generic handler it should be enough
remote:          to define irq_enable and irq_disable, but since we are using the flag
remote:          IRQCHIP_MASK_ON_SUSPEND we need to define the irq_mask as well.
remote:
remote:          This commit just defines irq_disabled the same as irq_mask so that
remote:          calls to disable_irq for gpio interrupts will mask the interrupt.
remote:
remote:          SWLINUX-3931
remote:
remote:          Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:          (cherry picked from commit 56ce13556279cdbb64a7ad8760a60871551bf01e)
remote:
remote:      commit 9ac9421d274e1aab21e2583d4ff52cc8774acbd4
remote:      Author: Doug Berger <douglasb@broadcom.com>
remote:      Date:   Wed Jan 13 12:24:41 2016 -0800
remote:
remote:          gpio: brcmstb: only clear the status bits of serviced gpio
remote:
remote:          Reading and writing the gpio bank status register each time a pending
remote:          interrupt bit is serviced could cause new pending bits to be cleared
remote:          without servicing the associated interrupts.
remote:
remote:          SWLINUX-3931
remote:
remote:          Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:          (cherry picked from commit 5fa8656f3e0673c97052d6be82ee27b618017e07)
remote:
remote:      commit 6e13699b1557723b62dbe36ede599671c3b6b174
remote:      Author: Kamal Dasu <kdasu.kdev@gmail.com>
remote:      Date:   Wed Dec 16 15:49:09 2015 -0500
remote:
remote:          i2c: brcmstb: Adding support for CM and DSL SoCs
remote:
remote:          [upstream commit e2e5a2c618373b55bbb2eca2a6e535dddd04412c]
remote:
remote:          Broadcoms DSL, CM (cable modem)and STB I2C core implementation have
remote:          8 data in/out registers that can transfer 8 bytes or 32 bytes max.
remote:          Cable and DSL "Peripheral" i2c cores use single byte per data
remote:          register and the STB can use 4 byte per data register transfer.
remote:          Adding support to take care of this difference. Accordingly added
remote:          the compatible string for SoCs using the "Peripheral" I2C block.
remote:
remote:          Signed-off-by: Kamal Dasu <kdasu.kdev@gmail.com>
remote:          Reviewed-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Signed-off-by: Wolfram Sang <wsa@the-dreams.de>
remote:          (cherry picked from commit b32cfef3df73449725a4406c3fb84c81bbcc4889)
remote:
remote:      commit cae0660dc6938a01b7bd42b4db515cb82ebad53c
remote:      Author: Kamal Dasu <kdasu@broadcom.com>
remote:      Date:   Mon Dec 7 16:01:25 2015 -0500
remote:
remote:          i2c: brcmstb: Merge code with upstream commit
remote:
remote:          Merging upstream code changes to the current driver.
remote:          [upstream commit: b96bcbdd i2c: brcmstb: Add Broadcom settop SoC i2c
remote:          controller driver]
remote:
remote:          SWLINUX-3897
remote:
remote:          Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:          (cherry picked from commit 5c9733b6fe579b0df515b50dd63dd3d888ad2c63)
remote:
remote:      commit c64a9ad3551c23a706313c7ef9cd52c2fc15a25d
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Dec 28 11:15:07 2015 -0800
remote:
remote:          defconfig: Turn on CONFIG_IP_MROUTE
remote:
remote:          Turn on Linux's multicast IP router feature and support for PIM v1 and
remote:          v2, useful for building wireless routers.
remote:
remote:          SWLINUX-3885
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 009ed9fa7ecb22e65b66d1721e3d9f664987dd1c)
remote:
remote:      commit 949081c4592c813ba6e0d3dde467ded1711aef75
remote:      Author: Danesh Petigara <dpetigara@broadcom.com>
remote:      Date:   Tue Dec 15 10:11:14 2015 -0800
remote:
remote:          soc: brcmstb: preserve pstore buffer on panic
remote:
remote:          Writes a magic value to an AON sram register on panic
remote:          to preserve the pstore/ramoops buffer on reboot.
remote:
remote:          SWLINUX-3908
remote:
remote:          Signed-off-by: Danesh Petigara <dpetigara@broadcom.com>
remote:          (cherry picked from commit ee0841dc812a7cc7385792398f2c48849293d367)
remote:
remote:      commit 194911d971d40666a32d02b3dc7970ff4855b15e
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Mon Dec 7 17:45:47 2015 -0500
remote:
remote:          pci: fix how the DT property "interrupt-map" is handled
remote:
remote:          Currently, Bolt's DT has a PCIe property called "interrupt-map"
remote:          which is malformed.  Coming with SWBOLT-1718, the node will
remote:          be properly formatted.  This commit handles both cases; the
remote:          old "legacy" format and the new proper format.
remote:
remote:          The 4.1 branch PCI host driver will only handle the new format.
remote:
remote:          SWLINUX-3836
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit d653c3f04485480b21581fd9be59ea04b9c5d6d4)
remote:
remote:      commit 96a21ba74fbf82847d5a4aa31ec9ad267817c1a6
remote:      Author: Ben Zhang <benzh@chromium.org>
remote:      Date:   Thu Oct 30 17:14:21 2014 -0700
remote:
remote:          pstore/ram: Strip ramoops header for correct decompression
remote:
remote:          [Upstream commit a28726b4fb624f81d637a8afb9ea12fc16500f61]
remote:
remote:          pstore compression/decompression was added during 3.12.
remote:          The ramoops driver prepends a "====timestamp.timestamp-C|D\n"
remote:          header to the compressed record before handing it over to pstore
remote:          driver which doesn't know about the header. In pstore_decompress(),
remote:          the pstore driver reads the first "==" as a zlib header, so the
remote:          decompression always fails. For example, this causes the driver
remote:          to write /dev/pstore/dmesg-ramoops-0.enc.z instead of
remote:          /dev/pstore/dmesg-ramoops-0.
remote:
remote:          This patch makes the ramoops driver remove the header before
remote:          pstore decompression.
remote:
remote:          SWLINUX-3904
remote:
remote:          Signed-off-by: Ben Zhang <benzh@chromium.org>
remote:          Acked-by: Kees Cook <keescook@chromium.org>
remote:          Signed-off-by: Tony Luck <tony.luck@intel.com>
remote:          (cherry picked from commit e5ae22ff6886b50a2879085c6b7db18a92b8fed2)
remote:
remote:      commit 0a187f448ee0dbe208a06481cbd5fcd2b35b6f4d
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Fri Dec 11 20:00:39 2015 -0500
remote:
remote:          bsp: remove unneeded bchp files
remote:
remote:          Changes made by the script:
remote:
remote:          	/projects/stbgit/scripts/bin/linux_unneed_bchp.pl
remote:
remote:          SWLINUX-3862
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit 0c639823ca7a0f749bb35189dd9a434c575ef181)
remote:
remote:      commit ee629986feb56d674f259a611b33b1ea7799d2fa
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Dec 11 17:15:39 2015 -0800
remote:
remote:          Bump version to 3.14-1.11pre
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit f1e24d8d11a4e0d36478ef9b7bf818250d02a14b)
remote:
remote:      commit 1980669c65d2ee265eb5c1ec0265b29a22cd8f6c
remote:      Author: Doug Berger <douglasb@broadcom.com>
remote:      Date:   Thu Dec 10 18:22:56 2015 -0800
remote:
remote:          thermal: brcmstb_thermal: restrict negative temperatures
remote:
remote:          The thermal API in v3.14 of the kernel uses unsigned long values to
remote:          represent temperatures so negative values can not be used.
remote:
remote:          This commit restricts the temperature values reported by the get_temp()
remote:          function of the brcmstb_thermal driver so that negative values are
remote:          reported as 0.
remote:
remote:          SWLINUX-3890
remote:
remote:          Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:          (cherry picked from commit c913fa3535e20921143cc36f42dcf43561377512)
remote:
remote:      commit af7e67df454a9433808026d01be067728596be37
remote:      Author: Doug Berger <douglasb@broadcom.com>
remote:      Date:   Thu Dec 10 17:17:32 2015 -0800
remote:
remote:          thermal: brcmstb_thermal: represent temperatures with int data type
remote:
remote:          The brcmstb_thermal driver was not properly handling computations of
remote:          negative temperatures.  This was partly attributable to inconsistency
remote:          in the v3.14 kernel thermal API which largely defines temperatures to
remote:          be unsigned.
remote:
remote:          Later versions of the kernel have cleaned up the thermal API to always
remote:          represent temperatures with type int.  This commit changes the internal
remote:          representations of temperatures within the driver to use type int and
remote:          corrects the bounds checking and computations accordingly.
remote:
remote:          SWLINUX-3890
remote:
remote:          Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:          (cherry picked from commit 5cedf72ebced61a4be279b916a50565db831192d)
remote:
remote:      commit 6d64a0ddca4601446c3008f04912a6d0d6052ebc
remote:      Author: Markus Mayer <mmayer@broadcom.com>
remote:      Date:   Mon Nov 23 15:23:04 2015 -0800
remote:
remote:          soc: brcmstb: wktmr: Turn on CONFIG_RTC_CLASS
remote:
remote:          Now that we have RTC support in the wakeup-timer, we need to enable the
remote:          corresponding driver in the defconfig.
remote:
remote:          SWLINUX-3802
remote:
remote:          Signed-off-by: Markus Mayer <mmayer@broadcom.com>
remote:          (cherry picked from commit 6e93aa27fc6628db17ae67c077045e7bfaae6570)
remote:
remote:      commit d806683e51223a2d7d8df663b7e793c834a1944d
remote:      Author: Markus Mayer <mmayer@broadcom.com>
remote:      Date:   Mon Nov 23 10:22:39 2015 -0800
remote:
remote:          soc: brcmstb: wktmr: add RTC support
remote:
remote:          We add basic RTC support to the wake-timer driver.
remote:
remote:          SWLINUX-3802
remote:
remote:          Signed-off-by: Markus Mayer <mmayer@broadcom.com>
remote:          (cherry picked from commit 266befd9a4cfb0946996028d296a4c723bdcfd7c)
remote:
remote:      commit 83665c998e86947feeec96b6613090e5161104f4
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Wed Dec 2 18:23:09 2015 -0500
remote:
remote:          usb: Add connected retry on resume for non SS devices
remote:
remote:          Currently usb_port_resume waits for up to 2 seconds for CONNECT
remote:          status for SS devices only. This change will do the same thing for
remote:          non-SS devices even though the reason is a little different. This
remote:          will fix an issue where VBUS is turned off during system wide
remote:          "suspend to ram" and some 2.0 devices take greater than the current
remote:          max of 100ms to show connected after VBUS is enabled. This is most
remote:          commonly seen on hard drive based devices and USB3.0 devices plugged
remote:          into a 2.0 only port. This patch has been accepted upstream.
remote:
remote:          SWLINUX-3888
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit 51bc1a1637c1d9850cf4240e09d707e901c8deea)
remote:
remote:      commit 82cbe3516a2ff1ad2f38fdfc5e593bf4154a7e62
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue Dec 1 14:04:07 2015 -0800
remote:
remote:          sata_brcmstb: Add a module license to sata_brcmstb_phy.c
remote:
remote:          Fixes missing license issues seen while loading the module:
remote:
remote:          [    3.420411] sata_brcmstb_phy: module license 'unspecified' taints kernel.
remote:
remote:          SWLINUX-3870
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit c6651008bee5dfe3d5a6781eb0f29af802ff2149)
remote:
remote:      commit fc7fea67b1e83b09e65a7879f38fa96760940781
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue Dec 1 14:02:15 2015 -0800
remote:
remote:          sata_brcmstb: Remove speed limiting code.
remote:
remote:          This code is just parsing Device Tree properties, and locally storing a value,
remote:          we never use, nor program properly.
remote:
remote:          The proper way to limit the SATA speed is to use libata.force=<speed>G as
remote:          documented in Documentation/kernel-parameters.txt.
remote:
remote:          SWLINUX-3870
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit d19d2e9391f54f9668e86c557416a747bf301b43)
remote:
remote:      commit e07b585a4bfe62cd3c49a82817fc5a10807f6697
remote:      Author: Steve Rae <srae@broadcom.com>
remote:      Date:   Mon Nov 16 12:12:57 2015 -0800
remote:
remote:          packaging: add spec file
remote:
remote:          Add spec file for use with RPM based distributions.
remote:
remote:          SWSTB-322
remote:
remote:          Signed-off-by: Steve Rae <srae@broadcom.com>
remote:          (cherry picked from commit 29fba957060d322f213c8ef0737ef5f27a6dbd15)
remote:
remote:      commit dbd948dbc379e4894caf1fa245e406a13308cac0
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue Dec 1 11:37:36 2015 -0800
remote:
remote:          mmc: Fix sdhci_fix_caps() return code for 7445D0
remote:
remote:          The function returns void, not an integer, fix that.
remote:
remote:          SWLINUX-3834
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit bff68ce291b71b95ef6cbb27e4907e970d9cc390)
remote:
remote:      commit bbc0ebee08537f1aade2e2deb4fa8da3581a6063
remote:      Author: Kamal Dasu <kdasu@broadcom.com>
remote:      Date:   Thu Nov 19 15:51:31 2015 -0500
remote:
remote:          mtd: brcmstb_nand:: Detect sticky ucorrectable ECC errors on DMA reads
remote:
remote:          This change provides a workaround for [CRNAND-32] where nand controller
remote:          could have a possible sticky error after a PIO and a following DMA read. As
remote:          part of [CRNAND-57] we could do a PIO to verify erased page uncorr ecc
remote:          erorr to eliminate false positives.  But this has a side effect of running into
remote:          CRNAND-32. The fix retries a DMA if we see a uncorr_ecc after a DMA read
remote:          transactiion to overcome CRNAND-32 first and then deal with CRNAND-57 as usual.
remote:
remote:          SWLINUX-3675
remote:
remote:          Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:          (cherry picked from commit de6cdddaa3bdc24cbd47734e02f31e76953d8184)
remote:
remote:      commit a2aa3a147cc89e9e7b4d70afea3adc3e665da4ee
remote:      Author: Danesh Petigara <dpetigara@broadcom.com>
remote:      Date:   Fri Oct 23 23:54:53 2015 -0700
remote:
remote:          ARM: mmu: fix default vmalloc size for < 1GiB
remote:
remote:          The current default vmalloc size has been bumped up to
remote:          744MiB for platforms with >= 1 GiB (and if more than one
remote:          meminfo bank exists). As the memory banks > 760MiB (the
remote:          maximum lowmem size for a 3:1 kernel split) are split at
remote:          the lowmem/highmem boundary, the automatic bmem reservation
remote:          scheme breaks when 760MiB < memory size < 1GiB.
remote:
remote:          For example, if the bank size is 768MiB, it's split into
remote:          a 760MiB lowmem and 8MiB highmem bank. The bmem reservation
remote:          algorithm keeps all of the 760MiB for the system and only
remote:          ends up reserving 8MiB for bmem.
remote:
remote:          This patch sets the default vmalloc size for memory banks
remote:          > 760MiB to 744MiB. The change ensures the bmem automatic
remote:          reservation algorithm works correctly for 760MiB < memory
remote:          size < 1GiB.
remote:
remote:          SWLINUX-3853
remote:
remote:          Signed-off-by: Danesh Petigara <dpetigara@broadcom.com>
remote:          (cherry picked from commit 174cc928d2fa4c99b6a822cd5d5d9486f2dae892)
remote:
remote:      commit df01bd0a897d0f31dec77cc79af92fd67cd1f06e
remote:      Author: Danesh Petigara <dpetigara@broadcom.com>
remote:      Date:   Fri Oct 23 15:54:24 2015 -0700
remote:
remote:          brcmstb: memory: fix default bmem reservation
remote:
remote:          On single memory bank platforms, 20% of the available
remote:          memory is set aside for the system and the rest is reserved
remote:          as bmem. This scheme doesn't work well for very low memory
remote:          profiles (e.g. 256MiB), resulting in OOM conditions.
remote:
remote:          This patches adds the following changes to single memory
remote:          bank configurations:
remote:
remote:          - For bank sizes less than or equal to 128MiB, all memory
remote:          is allocated to the system and bmem reservation is skipped.
remote:
remote:          - For bank sizes larger than 128MiB,
remote:          reserved_bmem = 80% x (bank_size - 128MiB).
remote:
remote:          SWLINUX-3853
remote:
remote:          Signed-off-by: Danesh Petigara <dpetigara@broadcom.com>
remote:          (cherry picked from commit 13f37812e8ae00e0c07e5675ad7c1cf3598752ad)
remote:
remote:      commit cc208b2b21d00c650b3ae2dcd14641597e897cb0
remote:      Author: Kamal Dasu <kdasu@broadcom.com>
remote:      Date:   Mon Oct 19 16:58:19 2015 -0400
remote:
remote:          spi: brcmstb: Fix S3 boot for both read and write
remote:
remote:          S3 warm boot was broken for all 4-byte addressing parts
remote:          for reads as well as write access. Added proper mspi
remote:          reconfiguration on S3. Fix has been tested to work in both
remote:          Flex mode access and override access for reads. Also tested
remote:          writes to upper addresses using rw filesystem.
remote:
remote:          SWLINUX-3755
remote:
remote:          Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:          (cherry picked from commit 16e3b5c136fdf2908b6dfcc9ad380d70c1bebbf8)
remote:
remote:      commit 67fec65cfc39ada84676b0eac2ab70efecf94f16
remote:      Author: Kamal Dasu <kdasu@broadcom.com>
remote:      Date:   Mon Oct 19 16:53:00 2015 -0400
remote:
remote:          spi: brcmstb: spin_lock msg list when writing to hw
remote:
remote:          Add Program Page opcode dynamic debugging and also fixed
remote:          locking of list manipulatoin during the write operation.
remote:
remote:          SWLINUX-3755
remote:
remote:          Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:          (cherry picked from commit 58e4ad71b7271c1807d51ada2fdd76b7a6d17afa)
remote:
remote:      commit 468a10a0fa5461c70119d9065355bd215ec997e0
remote:      Author: Kamal Dasu <kdasu@broadcom.com>
remote:      Date:   Mon Oct 19 16:40:28 2015 -0400
remote:
remote:          spi: brcmstb: Add support for 4-byte address writes
remote:
remote:          Kernel needs support to enable/disable 4-byte addressing
remote:          by sending opcode EN4B/EX4B to mspi. Currently the
remote:          writes work for 4-byte address parts only when boot loader
remote:          sets it. However on S3 boot we need to resend the mspi
remote:          commands.
remote:
remote:          SWLINUX-3755
remote:
remote:          Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:          (cherry picked from commit 5811d1abab9735f82c03e08852d298b1b571ddbe)
remote:
remote:      commit 56e444fada0f8bbfefbb31b9d20e0275ffb0859b
remote:      Author: Kamal Dasu <kdasu@broadcom.com>
remote:      Date:   Mon Oct 19 17:34:33 2015 -0400
remote:
remote:          spi: brcmstb: Fix 4-byte reads in non flex mode
remote:
remote:          When flex mode is disabled driver should still be able to read
remote:          with 4-byte addressing. Fix sets the upper address byte to be
remote:          sent to the mspi in this mode via the tx buffer.
remote:
remote:          SWLINUX-3755
remote:
remote:          Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:          (cherry picked from commit 15c41ad6dc5dbaa6495481998fe761d511f290ef)
remote:
remote:      commit 6dc0837bf5817045be7b0979178898b01a7702af
remote:      Author: Kamal Dasu <kdasu@broadcom.com>
remote:      Date:   Mon Oct 19 16:27:29 2015 -0400
remote:
remote:          spi: brcmstb: Fix override control mode read access
remote:
remote:          Added support for reads in override control mode. We
remote:          set this mode only is the override register is set.
remote:          The use of override registers shall be driven by
remote:          boot loader configuration of the override control
remote:          register. Flex mode read is disabled in this mode.
remote:
remote:          SWLINUX-3755
remote:
remote:          Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:          (cherry picked from commit 7c26092d5591051b133bf9d93b9c0cd5b2ee63cb)
remote:
remote:      commit b2b0938124951ea73809ac9b0247242285c306c8
remote:      Author: Kamal Dasu <kdasu@broadcom.com>
remote:      Date:   Mon Oct 19 15:39:22 2015 -0400
remote:
remote:          spi: brcmstb: Fix flex mode 4byte addressing read commands
remote:
remote:          Use appropriate 4-byte address read commands. These commands
remote:          should work for all spi-nor vendors. Removed spansion specific
remote:          checks. Fixed for all 1-bit, 2-bit, 4-bit data lane access when
remote:          used with spi-nor parts that need 4-byte addressing.
remote:
remote:          SWLINUX-3755
remote:
remote:          Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:          (cherry picked from commit 84508d32249dff34fb337e84378ba5e3e5437900)
remote:
remote:      commit 6876b61c4461328d35f4b140d9e281a9733e27cd
remote:      Author: Kamal Dasu <kdasu@broadcom.com>
remote:      Date:   Mon Oct 19 15:25:03 2015 -0400
remote:
remote:          spi: brcmstb: Use dynamic debugging in the driver
remote:
remote:          Change the DBG macro to use pr_debug to enable dynamic
remote:          debugging for better runtime debugging.
remote:
remote:          SWLINUX-3755
remote:
remote:          Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:          (cherry picked from commit e7012e7c4edfa79638dde79bc764297525f80c70)
remote:
remote:      commit 7bdb2148e9aafb4fd7c75a490c5d3628992f4f9e
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Mon Oct 19 14:53:47 2015 -0400
remote:
remote:          usb: Change the way usb-brcm driver is disable for new USB style DT
remote:
remote:          The new style USB Device Tree uses a usb-phy instead of a
remote:          wrapper (the usb-brcm driver) and this changes the way the
remote:          usb-brcm driver is disabled when the new style is detected. The
remote:          driver now returns ENODEV instead of zero which stop any further
remote:          calls to the driver. This makes the previous commit 01f3e893197a,
remote:          which checked for a NULL priv in suspend and resume, un-necessary.
remote:
remote:          SWLINUX-3803
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit 9b3aa47bd210117b07c175e6868ca5b760503d51)
remote:
remote:      commit 0cbecb1559c08f61eb571487e7628b6eaf525039
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Oct 16 19:10:03 2015 -0700
remote:
remote:          Bump version to 3.14-1.10pre
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit d1177c0efe761e86d9cd7a395349977ca866a7d1)
remote:
remote:      commit 89a922cd7d4fc48b37458bac6bbf4f8936ed902a
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Oct 15 16:20:49 2015 -0700
remote:
remote:          include: brcmstb: Bump BRCMSTB_H_VERSION to 5
remote:
remote:          SWLINUX-3701, SWLINUX-3754, SWLINUX-3776, SWLINUX-3775
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 16fd6c641279cf6ca614b5c61a0e8a86338bd9fd)
remote:
remote:      commit af3b05289ad600425dc9d99b975319e442511471
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Oct 15 16:18:22 2015 -0700
remote:
remote:          soc: brcmstb: nexus: Add atomic register update API
remote:
remote:          Add a brcmstb_update32() function which updates, for now, the GPIO register
remote:          range after getting a successful virtual address to that register, and
remote:          verifying that Linux is not already owning one of the bits inside the mask it
remote:          attempts to modify.
remote:
remote:          If it succeeds, we update the internal GPIO bookeeping bitmap for Nexus to flag
remote:          that this GPIO is requested for Nexus use.
remote:
remote:          SWLINUX-3775
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 2418bdb55be74ed45f3a60cd8d245e5dcf05af9b)
remote:
remote:      commit baa470ec2462d8ddd902a5affbc9c95ab7f17b79
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Sep 30 17:08:15 2015 -0700
remote:
remote:          soc: brcmstb: nexus: Add GPIO interrupt resolution API
remote:
remote:          Add a Nexus API which allows Nexus to specify a GPIO offset and shift, and
remote:          obtain the corresponding virtual interrupt number corresponding to that GPIO
remote:          offset and shift.
remote:
remote:          Linux will do an implicit gpio_request() to guaranteed Nexus with exclusivity
remote:          on that specific GPIO.
remote:
remote:          Since we are adding another function, bump the API version accordingly in
remote:          brcmstb.h.
remote:
remote:          SWLINUX-3776
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 635d50300c6ca2f3235eda287ef036eb10d8445d)
remote:
remote:      commit 62cefe0072e9bb1df2caf99c9c64882f2771e37d
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Sep 11 16:43:55 2015 -0700
remote:
remote:          soc: brcmstb: nexus: Add brcmstb_get_l2_irq_id() API
remote:
remote:          Add a Nexus API under drivers/soc/brcmstb/nexus/irq.c which resolves a given
remote:          IRQ0 or IRQ0_AON L2 interrupt number into its corresponding Linux virtual IRQ
remote:          number that can be passed to request_irq().
remote:
remote:          Also add a selftest/example in tools/testing/brcmstb/irq-api/ which can be used
remote:          to test and verify that this behaves properly.
remote:
remote:          SWLINUX-3754
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 98782ec2f742a11ee48a9efed580f29371ca5caa)
remote:
remote:      commit 7048224738bf02eace4cfedddf7302fdac6fbce3
remote:      Author: Doug Berger <douglasb@broadcom.com>
remote:      Date:   Wed Oct 14 11:07:10 2015 -0700
remote:
remote:          soc: add nexus_version_check.h
remote:
remote:          This header file is not intended to be included by any files within the Linux
remote:          distribution.  It is provided with the distribution to be included by Nexus
remote:          software to provide a compile-time mechanism for communicating that changes
remote:          have been made to the Linux distribution that are known to be incompatible
remote:          with older versions of the Nexus software.
remote:
remote:          When such a change is made to the Linux distribution this file must be updated
remote:          to identify the version of the previous Nexus release that is no longer
remote:          compatible and a brief summary of the incompatibility should be included in
remote:          the error message.
remote:
remote:          SWLINUX-3701
remote:
remote:          Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:          (cherry picked from commit a8fd6b95a68cd6a486428440b582ba9663470edb)
remote:
remote:      commit 18892af60444f546e1c2306eb549be6ef163b91b
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Oct 16 15:12:43 2015 -0700
remote:
remote:          usb: Do not de-reference private context during suspend/resume
remote:
remote:          With BOLT v1.07, Device Tree contains a proper USB PHY Device Tree node
remote:          brcm_usb_instance_probe() bails out early because there is such a PHY, and so
remote:          we do not have a valid dev->drvdata pointer by the time we run
remote:          brcm_usb_suspend(), we fetch that private pointer using dev_get_drvadata() and
remote:          de-reference a NULL pointer.
remote:
remote:          Fixes: 2598787ab8c9 ("usb: Change Broadcom USB drivers structure to remove USB
remote:          wrapper driver")
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:
remote:          (cherry picked from commit 01f3e893197a3bfdf860cf3b9f71684cc3a4a8eb)
remote:
remote:      commit defa9767784bdc4ca610992fe8f301715eac6dc1
remote:      Author: David S. Miller <davem@davemloft.net>
remote:      Date:   Fri May 1 22:02:47 2015 -0400
remote:
remote:          ipv4: Missing sk_nulls_node_init() in ping_unhash().
remote:
remote:          [Upstream commit a134f083e79fb4c3d0a925691e732c56911b4326]
remote:
remote:          If we don't do that, then the poison value is left in the ->pprev
remote:          backlink.
remote:
remote:          This can cause crashes if we do a disconnect, followed by a connect().
remote:
remote:          SWLINUX-3845
remote:
remote:          Tested-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Reported-by: Wen Xu <hotdog3645@gmail.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          (cherry picked from commit 7e5cc14185569c00cde88ed59aad836794faf7ee)
remote:
remote:      commit 724c284dd8a2fecf9f0d1a36d6b79eae89633f75
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Tue Sep 15 10:15:22 2015 -0400
remote:
remote:          usb: Change Broadcom USB drivers structure to remove USB wrapper driver
remote:
remote:          The current Broadcom USB drivers (ohci, ehci, xhci and bdc) are setup
remote:          as child drivers to a USB wrapper driver. The wrapper driver handles
remote:          any global USB controller setup and then starts the child drivers. This
remote:          change will replace the wrapper driver with a usb-phy driver that will
remote:          do the global USB controller setup and the child drivers will become
remote:          normal drivers started by the device tree parser. The new functionality
remote:          requires a new style of USB Device Tree node descriptions and will
remote:          only work with a matching version of BOLT. The kernel will also support
remote:          the old style DT entries so it will work correctly with either version
remote:          of BOLT.
remote:
remote:          SWLINUX-3803
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit 2598787ab8c983ed983a97962c2493a55d05da69)
remote:
remote:      commit d10ef318333825a409023232cc82ff8eb59b9715
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Mon Sep 28 18:32:15 2015 -0400
remote:
remote:          mmc: Add ability to change driver strength from a Device Tree prop
remote:
remote:          Customers are requesting the ability to change the Host and Card
remote:          Driver Type (drive strength) because they are seeing interference
remote:          with WiFi and having Certification issues. This change allows new
remote:          Device Tree properties to change the default Driver Type for both
remote:          Host and Card. Not all cards support all Driver Types and if the
remote:          requested type is not supported the default will continue to be used.
remote:          The SD spec states that only UHS modes use selectable driver strength,
remote:          but our host controller allows it for HS mode as well. A customer
remote:          has requested support for the HS setting so an additional device
remote:          tree property was added for this.
remote:
remote:          The Device Tree properties that control the drive strength are:
remote:          "host-driver-strength", "host-hs-driver-strength" and
remote:          "card-driver-strength". These properties can have the value
remote:          "A", "B", "C", or "D". Where A is x1.5, B is x1.0 (default),
remote:          C is x0.75 and D is x0.5
remote:
remote:          NOTES
remote:           o Reducing Drive Strength may result in read/write errors
remote:             depending on the board design.
remote:           o The Host side settings are not supported on the 74371, which
remote:             uses the older version of the SDIO core.
remote:
remote:          SWLINUX-3828
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit d278d4756dec21638667b0198bf3bda7a7924477)
remote:
remote:      commit ee6cf7f5c7c6ff53b77b1ec467f060798237b5cc
remote:      Author: Adrian Hunter <adrian.hunter@intel.com>
remote:      Date:   Fri Feb 6 14:12:59 2015 +0200
remote:
remote:          mmc: sdhci: Add a callback to select drive strength
remote:
remote:          [Upstream commit cb8496482e8886bbd6bd79462d8062db572b0473]
remote:
remote:          Add a callbak to let host drivers select drive
remote:          strength.
remote:
remote:          SWLINUX-3828
remote:
remote:          Signed-off-by: Adrian Hunter <adrian.hunter@intel.com>
remote:          Signed-off-by: Ulf Hansson <ulf.hansson@linaro.org>
remote:          (cherry picked from commit 0a76b2bf55f39c1915a4c71be170313bf8bbe2af)
remote:
remote:      commit 262767ce998eb52eb6cd58968b31371a4edbd8df
remote:      Author: Petri Gynther <pgynther@google.com>
remote:      Date:   Wed May 20 14:35:00 2015 -0700
remote:
remote:          mmc: sdhci: fix driver type B and D handling in sdhci_do_set_ios()
remote:
remote:          [Upstream commit 43e943a04049d8f4ee96a940517a5fcb0f558ad2]
remote:
remote:          sdhci_do_set_ios() doesn't currently program SDHCI_HOST_CONTROL2
remote:          register correctly when host->preset_enabled == false.
remote:
remote:          Add code to handle the missing cases MMC_SET_DRIVER_TYPE_B and
remote:          MMC_SET_DRIVER_TYPE_D.
remote:
remote:          SWLINUX-3828
remote:
remote:          Signed-off-by: Petri Gynther <pgynther@google.com>
remote:          Signed-off-by: Ulf Hansson <ulf.hansson@linaro.org>
remote:          (cherry picked from commit 2375f98f63d9119ef9ee854dc94492e10b7140c8)
remote:
remote:      commit 0982e487890f167e4ef4eb02399fc96ed335abf2
remote:      Author: Adrian Hunter <adrian.hunter@intel.com>
remote:      Date:   Fri Feb 6 14:12:54 2015 +0200
remote:
remote:          mmc: core: Add 'card' to drive strength selection callback
remote:
remote:          [Upstream commit f168359efbb99d6f8591bb666d6510bb78df2d07]
remote:
remote:          In preparation for supporting also eMMC drive strength,
remote:          add the 'card' as a parameter so that the callback can
remote:          distinguish different types of cards if necessary.
remote:
remote:          SWLINUX-3828
remote:
remote:          Signed-off-by: Adrian Hunter <adrian.hunter@intel.com>
remote:          Signed-off-by: Ulf Hansson <ulf.hansson@linaro.org>
remote:          (cherry picked from commit b69ba9ab3834dc5e3cfda05c9d5927b2f294aa42)
remote:
remote:      commit 60885dc7e97741eb17fcdfcc52c7d10c2c1a609f
remote:      Author: Adrian Hunter <adrian.hunter@intel.com>
remote:      Date:   Fri Feb 6 14:12:52 2015 +0200
remote:
remote:          mmc: core: Allow card drive strength to be different to host
remote:
remote:          [Upstream commit b4f30a174e1fda8118eda038b5d8d5260db36ad5]
remote:
remote:          Initialization of UHS-I modes for SD and SDIO cards
remote:          employs a callback to allow the host driver to
remote:          choose a drive strength value. Currently that
remote:          assumes the card drive strength and host driver
remote:          type must be the same value. Change to let the
remote:          callback make that decision and return both the
remote:          card drive strength and host driver type.
remote:
remote:          SWLINUX-3828
remote:
remote:          Signed-off-by: Adrian Hunter <adrian.hunter@intel.com>
remote:          Signed-off-by: Ulf Hansson <ulf.hansson@linaro.org>
remote:          (cherry picked from commit c4c8afde60acd7581d5c8148926b1c377a79919c)
remote:
remote:      commit 9041a96077990a5b71934221bbd512046f8f883b
remote:      Author: Justin Chen <Justinc1@broadcom.com>
remote:      Date:   Thu Oct 8 18:38:46 2015 -0700
remote:
remote:          spi: brcmstb-mspi: Fix 16 bits_per_word transfers
remote:
remote:          The driver was incrementing by bytes when writing 16 bits into the buffer.
remote:          This cause the driver to send twice as much data for 16 bits_per_word
remote:          transfers. Changed driver to increment by 2 bytes if 16 bits_per_word is
remote:          set.
remote:
remote:          SWLINUX-3121
remote:
remote:          Signed-off-by: Justin Chen <Justinc1@broadcom.com>
remote:          (cherry picked from commit 76ca11bbc34dd06a15db4665e38ea33b1870060a)
remote:
remote:      commit 1976fed6c9e8183f1176a6b8714bfa78bdf153ed
remote:      Author: Tim Ross <tross@broadcom.com>
remote:      Date:   Mon Jul 20 17:51:10 2015 -0400
remote:
remote:          pci: turn off/on/on voltage regulator on suspend/resume/boot
remote:
remote:          Allow the PCIe RC driver to use fixed-voltage regulator(s)
remote:          to control the power of endpoint device(s).
remote:
remote:          SWLINUX-3735
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit f3c9e7b1cfd81fc7089729517824ca765dc92edf)
remote:
remote:      commit 542a9e5956044a909b9685b3b20e83e51085b99b
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Mon Sep 28 14:58:40 2015 -0400
remote:
remote:          gpio: brcmstb: have driver register during subsys_initcall()
remote:
remote:          Because regulators are started with subsys_initcall(), and gpio
remote:          references may be contained in the regulators, it makes sense
remote:          to start the brcmstb-gpio's with a subsys_initcall().  The
remote:          order within the drivers/Makefile ensures that the gpio
remote:          initialization happens prior to the regulator's initialization.
remote:
remote:          SWLINUX-3735
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit 9b7fb7601818c773fb2c6e3b037f2b07227a604f)
remote:
remote:      commit 4e6c165e7b85bc7b7c498b8c6edc1d50f8e1daa9
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Mon Sep 28 09:57:11 2015 -0400
remote:
remote:          pci: change from arch_initcall() to fs_initcall()
remote:
remote:          For unknown historical reasons, the PCIe host driver uses
remote:          arch_initcall().  This commit supplants this with fs_initcal().
remote:
remote:          SWLINUX-3735
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit b3a2e402f94cf9c606f6bb5c791c14a6244e1ccb)
remote:
remote:      commit fa2cc3486d489bcf9462b3064f8f04e77d7fccf2
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Thu Oct 1 10:35:18 2015 -0400
remote:
remote:          clk: Remove ordering restrictions for software clocks
remote:
remote:          After using "kexec" to load and run a new kernel, the new kernel
remote:          doesn't work normally.
remote:          1. It can't detect the plug/unplug of usb disk/ethernet cable.
remote:          2. If run with a usb disk plugged, there will be kernel panic.
remote:
remote:          This is the result of Software Clocks not setting up their parents
remote:          correctly when booting via kexec. The prevents the parent
remote:          clocks of the sw clock from being enabled. This is happening because
remote:          kexec uses /proc/device-tree to reconstruct the FDT that is used
remote:          to boot the new kernel and this changes the original node order to be
remote:          alphabetical and the clock software depends on the parent clock nodes
remote:          being defined before the software clock. This change removes the
remote:          ordering restriction and allows sw clocks and parents to be
remote:          defined in any order.
remote:
remote:          SWLINUX-3829
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit 350c3e2ff1ee679ff0afc311c28d6d94d33cdad2)
remote:
remote:      commit 3f5ee7fd224b53dc513766444fb9ef1db3782381
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Fri Oct 2 11:05:26 2015 -0400
remote:
remote:          mmc: Allow SDR50 mode for 7439b0 and 7445e0
remote:
remote:          SDR50 mode has been fixed for the 7439b0 and 7445e0 so don't
remote:          disable it.
remote:
remote:          SWLINUX-3834
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit 2fda787f008a08bb35b424d90437ad7022d74171)
remote:
remote:      commit 24ff46f94dee1c1f2700310a0d49fb074b1d8ea2
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue Aug 4 17:29:45 2015 -0700
remote:
remote:          pwm: Add Broadcom BCM7038 PWM controller support
remote:
remote:          Add support for the BCM7038-style PWM controller found in all BCM7xxx STB SoCs.
remote:          This controller has a hardcoded 2 channels per controller, and cascades a
remote:          variable frequency generator on top of a fixed frequency generator which offers
remote:          a range of a 148ns period all the way to ~622ms periods.
remote:
remote:          SWLINUX-3716
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit fa8c0ed0aaaa5de855d99acfdc57abd42aed78b9)
remote:
remote:      commit de1342d7c69b2f332ace6354749099151714fd97
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue Aug 4 17:29:24 2015 -0700
remote:
remote:          Documentation: dt: add Broadcom BCM7038 PWM controller binding
remote:
remote:          Add a binding documentation for the Broadcom BCM7038 PWM controller found in
remote:          BCM7xxx chips.
remote:
remote:          SWLINUX-3716
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit a6737e339875b5955cb72cd772f850c5620a0549)
remote:
remote:      commit 577907c4a5cd63ccb06f1dc8eccfcee508d1675c
remote:      Author: Florian Fainelli <f.fainelli@gmail.com>
remote:      Date:   Sat Sep 5 12:55:37 2015 -0700
remote:
remote:          net: dsa: bcm_sf2: Fix ageing conditions and operation
remote:
remote:          The comparison check between cur_hw_state and hw_state is currently
remote:          invalid because cur_hw_state is right shifted by G_MISTP_SHIFT, while
remote:          hw_state is not, so we end-up comparing bits 2:0 with bits 7:5, which is
remote:          going to cause an additional aging to occur. Fix this by not shifting
remote:          cur_hw_state while reading it, but instead, mask the value with the
remote:          appropriately shitfted bitmask.
remote:
remote:          The other problem with the fast-ageing process is that we did not set
remote:          the EN_AGE_DYNAMIC bit to request the ageing to occur for dynamically
remote:          learned MAC addresses. Finally, write back 0 to the FAST_AGE_CTRL
remote:          register to avoid leaving spurious bits sets from one operation to the
remote:          other.
remote:
remote:          SWLINUX-3728
remote:
remote:          Fixes: d1adb695f919 ("net: dsa: bcm_sf2: add HW bridging support")
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit ff121a18f798f3bcb64b8cf7f8bb1b8d4086dcf8)
remote:
remote:      commit 982417ca5a75aab7fe6487383a69ccc8d6de3191
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Apr 3 17:27:05 2014 -0700
remote:
remote:          BCMGENET: Implement RX coalescing control knobs
remote:
remote:          Add support for the ethtool rx-frames coalescing parameter which allows
remote:          defining the number of RX interrupts per frames received. The RDMA
remote:          engine supports a configurable timeout with a resolution of
remote:          approximately 8.192 us.
remote:
remote:          We can no longer enable the BDONE/PDONE interrupts as those would
remote:          fire for each packet/buffer received, which would defeat the MBDONE
remote:          interrupt purpose. The MBDONE interrupt is guaranteed to correspond to a
remote:          PDONE/BDONE interrupt when the threshold is set to 1.
remote:
remote:          SWLINUX-2569
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 5ab371e13f551aa8915e1d030311a7a2007a69d1)
remote:
remote:      commit a2733d1dfc10cba1deba585e11061424faf29b77
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Apr 3 17:23:58 2014 -0700
remote:
remote:          BCMGENET: Implement TX coalescing control knobs
remote:
remote:          Configuring the ethtool tx-frames property, which translates into N
remote:          packets before a TX interrupt is the simplest configuration scheme
remote:          because it requires no locking neither at the softare nor hardware
remote:          level, and is completely indepedent from the link speed. Since ethtool
remote:          does not allow per-tx queue coalescing parameters, we apply the same
remote:          setting to any transmit queue.
remote:
remote:          We can no longer enable the BDONE/PDONE interrupts as those would fire
remote:          for each packet/buffer received, which would defeat the MBDONE interrupt
remote:          purpose. The MBDONE interrupt is guaranteed to correspond to a
remote:          PDONE/BDONE interrupt when the threshold is set to 1, but offers
remote:          interrupt coalescing when the value is > 1.
remote:
remote:          Since the HW is configured to generate an interrupt when the ring
remote:          becomes emtpy, we have to deny any timeout/timer settings coming from
remote:          user-space to indicate we can only generate an interrupt very <N>
remote:          packets.
remote:
remote:          While we are at it, fix the DMA_INTR_THRESHOLD_MASK value which was off
remote:          by one bit (0xff vs. 0x1ff).
remote:
remote:          SWLINUX-2569
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 2056ab3bcd954270737ddc6934bb1ea7aedbc71f)
remote:
remote:      commit 3bafecebbcf402026d04d455ff6f49bb0ed8e28c
remote:      Author: Romain Izard <romain.izard.pro@gmail.com>
remote:      Date:   Fri Jun 27 10:51:07 2014 +0200
remote:
remote:          mmc: Allow forward compatibility for eMMC
remote:
remote:          [Upstream commit 03a59437ef6b6ad7fb0165cb9b96c08d6bf057fc]
remote:
remote:          As stated by the eMMC 5.0 specification, a chip should not be rejected
remote:          only because of the revision stated in the EXT_CSD_REV field of the
remote:          EXT_CSD register.
remote:
remote:          Remove the control on this value, the control of the CSD_STRUCTURE field
remote:          should be sufficient to reject future incompatible changes.
remote:
remote:          SWLINUX-3815
remote:
remote:          Signed-off-by: Romain Izard <romain.izard.pro@gmail.com>
remote:          Signed-off-by: Ulf Hansson <ulf.hansson@linaro.org>
remote:          Signed-off-by: Danesh Petigara <dpetigara@broadcom.com>
remote:          (cherry picked from commit ecdb8cd3a6628830bfc04dbba2816a0489fadb1d)
remote:
remote:      commit 520a1ae86d6964d351f89c823a96bf2282d20db6
remote:      Author: Dmitry Torokhov <dmitry.torokhov@gmail.com>
remote:      Date:   Thu Aug 6 19:15:30 2015 -0700
remote:
remote:          Input: do not emit unneeded EV_SYN when suspending
remote:
remote:          [Upstream commit 00159f19a5057cb779146afce1cceede692af346]
remote:
remote:          Do not emit EV_SYN/SYN_REPORT on suspend if there were no keys that are
remote:          still pressed as we are suspending the device (and in all other cases when
remote:          input core is forcibly releasing keys via input_dev_release_keys() call).
remote:
remote:          SWLINUX-3810
remote:
remote:          Reviewed-by: Benson Leung <bleung@chromium.org>
remote:          Signed-off-by: Dmitry Torokhov <dmitry.torokhov@gmail.com>
remote:          Signed-off-by: Danesh Petigara <dpetigara@broadcom.com>
remote:          (cherry picked from commit 38575d26e1bfdfe4e6244d199c440134733ddacb)
remote:
remote:      commit 5c34b786645623317fe7bfc9b8b70534e1ce9061
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Aug 24 18:43:40 2015 -0700
remote:
remote:          spi: brcmstb-mspi: refactor to use MMIO accessors
remote:
remote:          The driver was doing direct manipulation of a pointer to the iomapped region as
remote:          volatile data, which is not considered the "proper" way to do I/O (see
remote:          Documentation/volatile-considered-harmful.txt).  Change to use the MMIO
remote:          accessors, and insert the required memory barriers.
remote:
remote:          SWLINUX-3121
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 868c5b3b47a480421e17cfd6536e4ef83538100e)
remote:
remote:      commit 748d4efdf1bdc1fe9c8e459d5b909f57dccd5fbd
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Aug 24 14:22:57 2015 -0700
remote:
remote:          spi: brcmstb-mspi: get base freq and max speed dynamically if possible
remote:
remote:          The hardcoded SPI base frequency should only be used if we don't actually have
remote:          a clk provider.
remote:
remote:          SWLINUX-3121
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 4573187ba1207fe7cd93ad201370bf1885c439db)
remote:
remote:      commit 4d8287cb8975c9e3ff3385fee563bb6a009885af
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Tue Jul 21 19:30:21 2015 -0700
remote:
remote:          spi: brcmstb-mspi: remove unnecessary check for new params in spi_transfer
remote:
remote:          The speed, mode, and bits per word should never change in the middle of a
remote:          spi_transfer.  Checking for that in the loop within write_to_hw() was a
remote:          holdover from this function was called from transfer() in the dual bspi/mspi
remote:          driver, where it was necessary because that would handle multiple spi_transfers
remote:          at a time and it was important to know when to break.  Now that we're using
remote:          transfer_one(), remove the unnecessary test.
remote:
remote:          Also, it was misleading to have a function named ..._update_parms when calling
remote:          it one way was actually just a test that wouldn't actually update any
remote:          parameters.  Now it becomes a single-purpose function that fits its name.
remote:
remote:          SWLINUX-3121
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit ef6f4ecc7665f6a49c9857ef7a6080e90a01a19c)
remote:
remote:      commit e2cf2b190c6ce9562fd262c251e3f0fe7904ed60
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jul 20 19:45:29 2015 -0700
remote:
remote:          spi: brcmstb-mspi: various cleanup
remote:
remote:          - add debug output for >8-bit txfr, more comments
remote:          - don't BUG() on no data in write_to_hw (This really shouldn't be that
remote:            fatal of a case, if we hit this, just report it and don't actually
remote:            submit any data.)
remote:          - move fnb (find_next_byte output) check after write_to_hw loop to make
remote:            it clearer that it only is run at the loop end
remote:          - kill bcmspi_parms member chip_select (this was for bspi)
remote:          - document bcmspi_parms
remote:          - make legacy mspi ifdef naming consistent
remote:
remote:          SWLINUX-3121
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit f5ab7799c83fd6f54c46fe4f923ec17262d64bd7)
remote:
remote:      commit e85c983b10fde75824cf6ce20521a4a77d7b0abb
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jul 20 19:39:47 2015 -0700
remote:
remote:          spi: brcmstb-mspi: actually use chip select
remote:
remote:          Use the chip select value from the spidev so we can use something other than
remote:          CS0 and avoid talking to CS0 when we mean to talk to somebody else.
remote:
remote:          SWLINUX-3121
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit caeb7d718778a2dbaabb42a18bf6fa2e52bc1f87)
remote:
remote:      commit 91df4a4b7e058f40f948074b900c35a2ccc18b7a
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jul 20 17:37:14 2015 -0700
remote:
remote:          spi: brcmstb-mspi: use defines for cdram
remote:
remote:          Add some defines to make manipulating the CDRAM registers a bit less magic.
remote:
remote:          SWLINUX-3121
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 92cb09dff3095d673574d68abba6f7acf0d69974)
remote:
remote:      commit 6bd48682c86d048ac6f6730a3866c788421dd187
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jul 20 17:15:02 2015 -0700
remote:
remote:          spi: brcmstb-mspi: document find_next_byte, kill defunct loop
remote:
remote:          The 'while' loop could never actually loop, since it breaks out or returns
remote:          beforehand.
remote:
remote:          SWLINUX-3121
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit c442d533d7b473b1a9d4ff078173c2faf686f605)
remote:
remote:      commit ec98255ffda17a805d51a71e29f6d5409cf26f9b
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jul 20 12:55:01 2015 -0700
remote:
remote:          spi: brcmstb-mspi: don't reset waitqueue in bcmspi_transfer_one
remote:
remote:          In bcmspi_transfer_one(), we were calling init_completion on the same
remote:          completion object, which according to Documentation/scheduler/completion.txt is
remote:          "most likely a bug as it re-initializes the queue to an empty queue and
remote:          enqueued tasks could get "lost"".  The way we're currently doing things, we
remote:          never have more than one item in the waitqueue, but it's possible a future
remote:          optimization might do that, so let's change this now to avoid a potential
remote:          future problem.
remote:
remote:          SWLINUX-3121
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 99c49eba182e34eae2af3d80499760fe6ed5389e)
remote:
remote:      commit 38a17a804102fefe87bead45743afe0fdbabfdb4
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jul 20 12:44:09 2015 -0700
remote:
remote:          spi: brcmstb-mspi: fix completion timeout
remote:
remote:          We had the timeout set as msecs_to_jiffies(10), and were seeing bad timeout
remote:          values.  Now, with CONFIG_HZ=100, a jiffy is ~10 ms, so msecs_to_jiffies(10)
remote:          ends up returning 1 jiffy.  Unfortunately, if I understand correctly, waiting
remote:          for a single jiffy isn't that effective, because it means you could be waiting
remote:          for basically no time at all, depending on when your operation is scheduled to
remote:          occur.  This matches up with what we were seeing, which is that when several
remote:          SPI writes were scheduled in sequence, it would consistently fail after several
remote:          ms, which suggests the following:
remote:
remote:          time
remote:           |
remote:           v                                       tick occurs
remote:           |
remote:           v        other things happen
remote:           |
remote:           v        SPI write starts
remote:           |
remote:           v        SPI write finishes
remote:           |
remote:           v        next SPI write starts
remote:           |                                       tick occurs
remote:           v        SPI write is considered to have timed out
remote:
remote:          Increase the timeout to 11 (which will be rounded up to 2 jiffies) seems to
remote:          make this problem go away entirely, which further supports this idea.  But
remote:          looking at a sampling of SPI bus drivers in drivers/spi/ suggests that it's
remote:          probably just best to set a larger timeout value, so let's set it to HZ (will
remote:          result in 1s timeout).
remote:
remote:          SWLINUX-3121
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 17d3cc2abfab6fffb2bef6640060b22ae242859e)
remote:
remote:      commit a5ee4859853e8a1a4529c0ec653a6f7b40ac69fa
remote:      Author: Brian Norris <computersforpeace@gmail.com>
remote:      Date:   Tue Feb 10 19:28:15 2015 -0800
remote:
remote:          spi: Add Broadcom MSPI controller driver
remote:
remote:          Some comments that are NOT FOR UPSTREAM, explaining what was changed from
remote:          original spi-brcmstb driver:
remote:
remote:          - removes BSPI support (this should be made into a proper spi-nor framework
remote:            driver), which means we don't poke EBI CS anymore
remote:          - removes EBI CS switching, which is only needed for memory mapping
remote:          - add write lock field for use with BSPI
remote:          - use the BCM7120 L2 driver instead of twiddling L2 directly from here
remote:          - get rid of useless debug prints and unused fields
remote:          - use newer transfer_one spi core API
remote:          - use spi_transfer_is_last() instead of directly checking transfer_list
remote:          - remove unnecessary state and locking
remote:          - add timeout to wait_for_completion
remote:          - request mspi_done IRQ
remote:
remote:          Changes added by Gregory and Florian:
remote:
remote:          Until the spi-nor framework is used to allow using BSPI with this
remote:          driver, the spi-brcmstb driver, if enabled, should be used for HIF SPI
remote:          (MSPI+BSPI) instead.  This will then only be used when the compatible
remote:          string is "brcm,spi-brcmstb-mspi".
remote:
remote:          SWLINUX-3121
remote:
remote:          [gregory: This update was originally made by Brian Norris
remote:          <computersforpeace@gmail.com>.  I have left the authorship intact, and added
remote:          the commit message above describing the changes]
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:          (cherry picked from commit b4718d43bde1165dea2657e4565924804e1729b4)
remote:
remote:      commit 3a35adac4d1b33f8ab450be9f5b183039e519d55
remote:      Author: Beniamino Galvani <b.galvani@gmail.com>
remote:      Date:   Sat Nov 22 16:21:39 2014 +0100
remote:
remote:          spi: core: Add spi_transfer_is_last() helper
remote:
remote:          This adds the function spi_transfer_is_last() which can be used by
remote:          drivers to know whether a given transfer is the last one in the
remote:          current message.
remote:
remote:          Signed-off-by: Beniamino Galvani <b.galvani@gmail.com>
remote:          Signed-off-by: Mark Brown <broonie@kernel.org>
remote:          (cherry picked from commit 34215f5e8b977d5833a9c187729df95369c20576)
remote:
remote:      commit c3f901625bcd27ecea236697b9bfa66f4a6dcc68
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Wed Aug 26 14:46:32 2015 -0700
remote:
remote:          dt-bindings: spi: Add Broadcom MSPI binding
remote:
remote:          Add the binding for the Broadcom MSPI SPI master controller, used on various
remote:          Broadcom chips including BRCMSTB (BCM7XXX), Broadcom Cygnus, and more.
remote:
remote:          SWLINUX-3121
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 9140ff6c5d60a19db31252b7da71b910950298ec)
remote:
remote:      commit 714d185291fbd389bb4fd8b2c545983166d62b0b
remote:      Author: Danesh Petigara <dpetigara@broadcom.com>
remote:      Date:   Wed Sep 9 09:21:13 2015 -0400
remote:
remote:          usb: bdc: driver fails after resuming from S3 suspend
remote:
remote:          The BDC driver will fail after resuming from S3 suspend and this
remote:          will cause any upper layer gadget driver to fail.
remote:
remote:          SWLINUX-3799
remote:
remote:          Signed-off-by: Danesh Petigara <dpetigara@broadcom.com>
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit e887b38b61bbc7ace5ecbd46d1784d1bd772541e)
remote:
remote:      commit be4fd7fd46df1de18bd3472b609313b8f9491fec
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Sep 3 11:34:39 2015 -0700
remote:
remote:          BCMGENET: Fix error path in bcmgenet_mii_new_dt_init()
remote:
remote:          In case we parse the 'phy-mode' property, that is, of_get_phy_mode() returned
remote:          an error, we will take the "out" label, call mdiobus_unregister(), and then
remote:          return an error code. bcmgenet_mii_init() will take the "out" label as well and
remote:          call bcmgenet_mii_exit() calling bcmgenet_mii_free() which calls
remote:          mdiobus_unregister() a second time.
remote:
remote:          We would hit the BUG() condition on the mii_bus structure 'state' member and
remote:          crash the kernel.
remote:
remote:          Fix this by removing the mdiobus_unregister() call in
remote:          bcmgenet_mii_new_dt_init() since it duplicates the existing error path.
remote:
remote:          SWLINUX-3792
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 604e06a82739c435d8fe2c3ff9cbe2636eae41b5)
remote:
remote:      commit c98a2488d204efceb891ee8f385be2437ea6306f
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Sun Aug 16 20:06:23 2015 -0700
remote:
remote:          soc: brcmstb: Move Bus Interface Unit code to shared location
remote:
remote:          The code enabling or disabling Write Pairing is shared between all SoCs,
remote:          move this to a common location, and add a function declaration for this
remote:          code to run early: before SMP is initialized.
remote:
remote:          SWLINUX-3579
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 445a3e9f9fd869a3df4e7e76f812ee6f2213918a)
remote:
remote:      commit 6ca86c4e15a0e4e7da423e5d883d5a24b87c89af
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Sep 9 11:05:50 2015 -0700
remote:
remote:          Revert "mm: some brcmstb_get_page() cleanup"
remote:
remote:          This reverts commit e5308bd82743c1621ce4641a701cb2c07ec46235 since this causes
remote:          regressions O_DIRECT when using Nexus' playback application:
remote:
remote:          *** 00:00:00.603 playback: spdif audio: decoder 0 -> stereo
remote:          *** 00:00:01.604 playback: HDMI not connected
remote:          *** 00:00:01.604 playback: hdmi audio: decoder 0 -> stereo
remote:          *** 00:00:01.782 nexus_video_output: No HDMI Rx connected.. settings will not be applied
remote:          playback>
remote:          [   63.936454] Unable to handle kernel paging request at virtual address 72546f62
remote:          [   63.944243] pgd = da4e7a00
remote:          [   63.946960] [72546f62] *pgd=00000000
remote:          [   63.950561] Internal error: Oops: 205 [#1] SMP ARM
remote:          [   63.955356] Modules linked in: wakeup_drv(O) nexus(PO)
remote:          [   63.960540] CPU: 1 PID: 1460 Comm: nx_io_worker0 Tainted: P           O 3.14.28-1.9 #1
remote:          [   63.968465] task: db11a4c0 ti: d9830000 task.ti: d9830000
remote:          [   63.973879] PC is at nfs_create_request+0x88/0x128
remote:          [   63.978676] LR is at nfs_get_lock_context+0x50/0x110
remote:          [   63.983647] pc : [<c0195b44>]    lr : [<c018fe28>]    psr: 40030013
remote:          [   63.983647] sp : d9831de8  ip : 00000592  fp : db3265c0
remote:          [   63.995135] r10: dad21790  r9 : c0b9d094  r8 : 00000000
remote:          [   64.000365] r7 : da5a9100  r6 : da5a9100  r5 : 72546f62  r4 : db326600
remote:          [   64.006899] r3 : da5a911c  r2 : 00000002  r1 : 00000000  r0 : da5a9100
remote:          [   64.013434] Flags: nZcv  IRQs on  FIQs on  Mode SVC_32  ISA ARM  Segment user
remote:          [   64.020576] Control: 30c5387d  Table: 1a4e7a00  DAC: 55555555
remote:          [   64.026328] Process nx_io_worker0 (pid: 1460, stack limit = 0xd9830238)
remote:          [   64.032949] Stack: (0xd9831de8 to 0xd9832000)
remote:          [   64.037311] 1de0:                   00000000 00001000 0002e000 00000002 00000000 00001000
remote:          [   64.045497] 1e00: 00000000 c0194698 00001000 d99a3600 00000000 00000000 0002e000 ac92c000
remote:          [   64.053683] 1e20: 00001000 0000002f d99a3600 0000002f 00100000 00000001 d9830000 dad21790
remote:          [   64.061869] 1e40: d9831f00 00000001 00000000 00000000 00000000 dace6e48 00000000 dad217a4
remote:          [   64.070056] 1e60: d9831f08 dace6eb8 db3265c0 db3265c0 00000000 00001000 00100000 00000000
remote:          [   64.078242] 1e80: 00000038 dace6e48 c0565774 00000000 00000000 db11a4c0 c0565768 00000000
remote:          [   64.086428] 1ea0: dad21790 00000000 00000000 00000000 00000000 d9831f80 db11a4c0 0002f000
remote:          [   64.094614] 1ec0: ac92b000 00000000 00040088 c018cc04 00000000 00000000 00000001 da4e7980
remote:          [   64.102800] 1ee0: 00000001 00000000 00000000 d9831f80 db11a4c0 c00ce8c4 00000000 00000000
remote:          [   64.110987] 1f00: ac92b000 0002f000 db325840 00000000 00000000 00000000 db11a4c0 00000000
remote:          [   64.119173] 1f20: 00000000 00000000 00000000 00000000 0002f000 00000000 00000000 00000000
remote:          [   64.127359] 1f40: ac92b000 db325840 ac92b000 d9831f80 db325840 c00cef58 5a095f40 0037abb5
remote:          [   64.135544] 1f60: ffffffff 00000000 00000000 db325843 db325840 0002f000 ac92b000 c00cf600
remote:          [   64.143730] 1f80: 00000000 00000000 da478c81 0004104c 0002f000 ac92b000 00000003 c000eea4
remote:          [   64.151917] 1fa0: d9830000 c000ed20 0004104c 0002f000 00000006 ac92b000 0002f000 b6eac50c
remote:          [   64.160104] 1fc0: 0004104c 0002f000 ac92b000 00000003 00000000 b6ead524 b6ead524 00040088
remote:          [   64.168289] 1fe0: 00000000 87f6edc0 b6eedbf9 b6eedc00 80030030 00000006 00000000 00010074
remote:          [   64.176486] [<c0195b44>] (nfs_create_request) from [<c0194698>] (nfs_file_direct_read+0x460/0x834)
remote:          [   64.185457] [<c0194698>] (nfs_file_direct_read) from [<c018cc04>] (nfs_file_read+0x58/0xb4)
remote:          [   64.193823] [<c018cc04>] (nfs_file_read) from [<c00ce8c4>] (do_sync_read+0x80/0xa8)
remote:          [   64.201492] [<c00ce8c4>] (do_sync_read) from [<c00cef58>] (vfs_read+0x90/0x138)
remote:          [   64.208813] [<c00cef58>] (vfs_read) from [<c00cf600>] (SyS_read+0x40/0x94)
remote:          [   64.215701] [<c00cf600>] (SyS_read) from [<c000ed20>] (ret_fast_syscall+0x0/0x30)
remote:          [   64.223193] Code: e1831f92 e3310000 1afffffa e5845008 (e5953000)
remote:          [   64.229336] ---[ end trace 4a585ec805596471 ]---
remote:
remote:          SWLINUX-3769
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 370e9b1d7ea33c50cf49e11fad0d99071e4289a5)
remote:
remote:      commit a51d183e9c8d434bb5b4f0f2d19d05a204d539a6
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Aug 28 17:24:09 2015 -0700
remote:
remote:          Bump version to 3.14-1.9pre
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 996846184fe334a7bbe3a58c3d56b67ff04152e7)
remote:
remote:      commit 123501c62645b6a0dba7cde894c8b92f85bc9a06
remote:      Author: Justin Chen <Justinc1@broadcom.com>
remote:      Date:   Thu Aug 27 16:50:45 2015 -0700
remote:
remote:          watchdog_dev: Change watchdog naming to be consistent with alias
remote:
remote:          There isn't a way to differentiate multiple watchdogs because
remote:          the naming scheme is done through watchdog_dev. This change uses
remote:          the alias ID for the watchdog name. This makes it easy to cross
remote:          reference the watchdog with the device tree alias so we can know
remote:          which watchdog we are using.
remote:
remote:          If no alias is defined, the watchdog will use the default naming
remote:          scheme.
remote:
remote:          SWLINUX-3621
remote:
remote:          Signed-off-by: Justin Chen <Justinc1@broadcom.com>
remote:          (cherry picked from commit c218f81d0e8c136d22bbc36f184f42d5f2fa6dc5)
remote:
remote:      commit 2976a8097c0839eb3076b499545a0f4b14eeaf4d
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Jul 30 11:34:11 2015 -0700
remote:
remote:          net: dsa: Add netconsole support
remote:
remote:          Add support for netconsole using DSA slave network devices. We need to do
remote:          something very similar to what the 802.1q driver does: manage our own setup and
remote:          cleanup and hook into the transmit path of the slave devices to transmit
remote:          netpoll packets.
remote:
remote:          SWLINUX-3725
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 41a1515fe34be09a48966d0b0a1eb0a83db5007f)
remote:
remote:      commit d15dc0afbe57b876a15c0b224cbafff199056193
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Jul 30 11:12:45 2015 -0700
remote:
remote:          BCMSYSPORT: Add netconsole support
remote:
remote:          Implement a ndo_poll_controller() callback to allow netconsole to be used with
remote:          the SYSTEMPORT driver.
remote:
remote:          SWLINUX-3725
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 0e5be1bcf88b42da2553049aade4a4a6288e2911)
remote:
remote:      commit 9299ecc4365d4800fc34f405faa1eb3ca424d640
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Jul 30 10:43:34 2015 -0700
remote:
remote:          BCMGENET: Add netconsole support
remote:
remote:          Add netconsole support to the GENET driver by implementing a
remote:          ndo_poll_controller() callback which invokes the RX interrupt handler and
remote:          reclaims transmitted buffers.
remote:
remote:          SWLINUX-3725
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 2e4b3c665765fba1c659c6b8cc0880b9a41a42e6)
remote:
remote:      commit 0b750a7f98f9fa10c1c0ffe234d47899f9b50027
remote:      Author: Russell King <rmk+kernel@arm.linux.org.uk>
remote:      Date:   Tue May 19 17:06:44 2015 +0100
remote:
remote:          ARM: v7 setup function should invalidate L1 cache
remote:
remote:          All ARMv5 and older CPUs invalidate their caches in the early assembly
remote:          setup function, prior to enabling the MMU.  This is because the L1
remote:          cache should not contain any data relevant to the execution of the
remote:          kernel at this point; all data should have been flushed out to memory.
remote:
remote:          This requirement should also be true for ARMv6 and ARMv7 CPUs - indeed,
remote:          these typically do not search their caches when caching is disabled (as
remote:          it needs to be when the MMU is disabled) so this change should be safe.
remote:
remote:          ARMv7 allows there to be CPUs which search their caches while caching is
remote:          disabled, and it's permitted that the cache is uninitialised at boot;
remote:          for these, the architecture reference manual requires that an
remote:          implementation specific code sequence is used immediately after reset
remote:          to ensure that the cache is placed into a sane state.  Such
remote:          functionality is definitely outside the remit of the Linux kernel, and
remote:          must be done by the SoC's firmware before _any_ CPU gets to the Linux
remote:          kernel.
remote:
remote:          Changing the data cache clean+invalidate to a mere invalidate allows us
remote:          to get rid of a lot of platform specific hacks around this issue for
remote:          their secondary CPU bringup paths - some of which were buggy.
remote:
remote:          SWLINUX-3778
remote:
remote:          Reviewed-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Tested-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Tested-by: Heiko Stuebner <heiko@sntech.de>
remote:          Tested-by: Dinh Nguyen <dinguyen@opensource.altera.com>
remote:          Acked-by: Sebastian Hesselbarth <sebastian.hesselbarth@gmail.com>
remote:          Tested-by: Sebastian Hesselbarth <sebastian.hesselbarth@gmail.com>
remote:          Acked-by: Shawn Guo <shawn.guo@linaro.org>
remote:          Tested-by: Thierry Reding <treding@nvidia.com>
remote:          Acked-by: Thierry Reding <treding@nvidia.com>
remote:          Tested-by: Geert Uytterhoeven <geert+renesas@glider.be>
remote:          Tested-by: Michal Simek <michal.simek@xilinx.com>
remote:          Tested-by: Wei Xu <xuwei5@hisilicon.com>
remote:          Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
remote:          [gregory: dropped a bunch of changes for archs that aren't in 3.14, and didn't
remote:          check too carefully that this will work for anything but brcmstb]
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:          Conflicts:
remote:          	arch/arm/mach-bcm/Makefile
remote:          	arch/arm/mach-bcm/headsmp-brcmstb.S
remote:          	arch/arm/mach-bcm/platsmp-brcmstb.c
remote:          	arch/arm/mach-berlin/headsmp.S
remote:          	arch/arm/mach-berlin/platsmp.c
remote:          	arch/arm/mach-hisi/Makefile
remote:          	arch/arm/mach-hisi/core.h
remote:          	arch/arm/mach-hisi/platsmp.c
remote:          	arch/arm/mach-mvebu/headsmp-a9.S
remote:          	arch/arm/mach-rockchip/core.h
remote:          	arch/arm/mach-rockchip/headsmp.S
remote:          	arch/arm/mach-rockchip/platsmp.c
remote:          	arch/arm/mach-shmobile/common.h
remote:          	arch/arm/mach-shmobile/headsmp.S
remote:          	arch/arm/mach-socfpga/core.h
remote:          	arch/arm/mach-socfpga/platsmp.c
remote:
remote:          (cherry picked from commit f89d9c7ec86c2205b159e3d5dd8132084039bbff)
remote:
remote:      commit 713e7071ca3454818e528eb7f20389ac32fb0111
remote:      Author: Arnd Bergmann <arnd@arndb.de>
remote:      Date:   Sun Mar 16 18:04:54 2014 +0100
remote:
remote:          ARM: sunxi: fix build for THUMB2_KERNEL
remote:
remote:          Building an SMP kernel for the sunxi platform with THUMB2 instructions
remote:          fails with this error at the moment:
remote:
remote:          headsmp.S:7: Error: Thumb encoding does not support an immediate here -- `msr cpsr_fsxc,#0xd3'
remote:
remote:          Since the generic secondary_startup function already does
remote:          the same thing in a safe way, we can just drop the private
remote:          sunxi implementation and jump straight to secondary_startup.
remote:
remote:          SWLINUX-3778
remote:
remote:          Signed-off-by: Arnd Bergmann <arnd@arndb.de>
remote:          Cc: Maxime Ripard <maxime.ripard@free-electrons.com>
remote:          [gregory: we need this for secondary_startup]
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:          (cherry picked from commit 4f0ea929d10a429b37ae8707e1d9b55177f64a60)
remote:
remote:      commit a36639635a1c15ae7bf84bd76f7412202fd06c6a
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Aug 17 11:47:49 2015 -0700
remote:
remote:          ARM: brcmstb: backport upstream platsmp cleanups
remote:
remote:          The following were changes made by Brian during the upstream submission of the
remote:          SMP code:
remote:          - Add some more comments explaining what we have to do to bring down secondary
remote:            CPUs
remote:          - Get rid of some unnecessary tests
remote:          - Correct per_cpu_sw_state_wr() by moving the dmb() to before setting the
remote:            state and eliminating the dmb_sev(),
remote:          - Check in brcmstb_boot_secondary that we actually had the required DT nodes
remote:
remote:          (Yes, there's a typo in one of the comments, I'm keeping it to be consistent
remote:          with upstream for now)
remote:
remote:          SWLINUX-3778
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 850979dd90baaaf6491eb9dc2cf0ec5707f5933b)
remote:
remote:      commit 8a2943d5af7bc80fac91a9178467cd0e853cd334
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Aug 14 15:13:14 2015 -0700
remote:
remote:          soc: brcmstb: wktmr: Resolve section mismatch
remote:
remote:          register_persistent_clock() is annotated with __init and called from
remote:          brcmstb_wktmr_probe() which is not, causing a section mismatch.
remote:
remote:          Unwind module_platform_driver() to introduce separate module_init()/exit()
remote:          entry points and allowing using to call platform_driver_probe() with a specific
remote:          function annotated with __init.
remote:
remote:          SWLINUX-3721
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit affa5c913eb69fd9221a1970fc28199e2bb8c976)
remote:
remote:      commit 4cf80c5e57f7fa81f5f3426c0037cdde9d9e8bdf
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Aug 17 18:59:21 2015 -0700
remote:
remote:          ARM: brcmstb: add earlyprintk UART address for 74371a0
remote:
remote:          We were missing an explicit setting for DEBUG_UART_PHYS and
remote:          DEBUG_UART_VIRT for 74371a0, and was instead relying on the default
remote:          value being the right one.  Since this might not be the case, and we
remote:          know what it ought to be, just add the correct values.
remote:
remote:          SWLINUX-3780
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 7664fd8a8e6ac403a5d81525e1fa16302376948f)
remote:
remote:      commit 54528351505e6b2a0b39fc511ca0e701cdf00e11
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Wed Aug 12 20:19:56 2015 -0700
remote:
remote:          mm: some brcmstb_get_page() cleanup
remote:
remote:          brcmstb_get_page() does not actually use its vma argument, so get rid of that.
remote:          We still need to check that we actually have a vma beforehand though.  Also,
remote:          the next_page label in __get_user_pages() (GUP) already handles accounting so we'd
remote:          like to just jump there and not duplicate the logic.  While looking at that, I
remote:          realized that we were unnecessarily re-finding the current vma every iteration,
remote:          which should only be necessary when first calling GUP or when crossing a vma
remote:          bound, so by changing to jump to next_page and instead also calling
remote:          brcmstb_get_page() in the inner loop, that should help to optimize GUP for BMEM
remote:          and CMA.
remote:
remote:          SWLINUX-3769
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit e5308bd82743c1621ce4641a701cb2c07ec46235)
remote:
remote:      commit 29e8384551f2d0caf337ab70d6ef6685963abc17
remote:      Author: Justin Chen <Justinc1@broadcom.com>
remote:      Date:   Fri Aug 14 12:17:56 2015 -0700
remote:
remote:          watchdog: add support for brcmstb
remote:
remote:          Added documentation for device tree binding.
remote:
remote:          SWLINUX-3621
remote:
remote:          Signed-off-by: Justin Chen <Justinc1@broadcom.com>
remote:          (cherry picked from commit 8f71e0e602d57377069c15db0150827548d6b10c)
remote:
remote:      commit 7b6f69d7669535d88b6d56efaf124c41255823c6
remote:      Author: Ben Hutchings <ben.hutchings@codethink.co.uk>
remote:      Date:   Tue Jan 27 00:58:15 2015 +0000
remote:
remote:          net: phy: Invalidate LP advertising flags when restarting or disabling AN
remote:
remote:          [Upstream commit 9b3320ef702d1c7daf165d5c72c945f0be6b2bed]
remote:
remote:          It is possible to see the old value of the LP advertising flags
remote:          through ethtool after reconfiguring the PHY and before autonegotiation
remote:          completes.  If autonegotiation is turned off then the last value seen
remote:          will persist indefinitely.
remote:
remote:          SWLINUX-3766
remote:
remote:          Signed-off-by: Ben Hutchings <ben.hutchings@codethink.co.uk>
remote:          Acked-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 250be9fa7511092e2c38e6d60b7de2f9ce03534b)
remote:
remote:      commit 552528490df40c5bff8a3370e153cf1c9bc74e43
remote:      Author: Brian Hill <brian@houston-radar.com>
remote:      Date:   Tue Nov 11 13:39:39 2014 -0700
remote:
remote:          net: phy: Correctly handle MII ioctl which changes autonegotiation.
remote:
remote:          [Upstream commit 79ce0477ffe82e7e49e55179cd176a1c33382744]
remote:
remote:          When advertised capabilities are changed with mii-tool, such as:
remote:          mii-tool -A 10baseT
remote:          the existing handler has two errors.
remote:
remote:          - An actual PHY register value is provided by mii-tool, and this
remote:            must be mapped to internal state with mii_adv_to_ethtool_adv_t().
remote:          - The PHY state machine needs to be told that autonegotiation has
remote:            again been performed.  If not, the MAC will not be notified of
remote:            the new link speed and duplex, resulting in a possible config
remote:            mismatch.
remote:
remote:          SWLINUX-3766
remote:
remote:          Signed-off-by: Brian Hill <Brian@houston-radar.com>
remote:          Acked-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 9e4788657f319b030b04e8fe42b8c15791b478fb)
remote:
remote:      commit f86024647c7c79e02e1dc4287054c2cc6875176f
remote:      Author: Doug Berger <douglasb@broadcom.com>
remote:      Date:   Fri Aug 7 14:20:48 2015 -0700
remote:
remote:          thermal: brcmstb_thermal: maintain consistency of the private data
remote:
remote:          Set the regtype member of the private data structure before setting the
remote:          thermal member of the structure so that it will always be valid when
remote:          thermal is non-zero. This ensures consistency of the private data structure.
remote:
remote:          SWLINUX-3756
remote:
remote:          Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:          (cherry picked from commit 595f818a922fa0c41ca183c7e0502a5d43adc49a)
remote:
remote:      commit 8ee6f43ff88811f0ec0d7d26f8560a04a6635ddc
remote:      Author: Doug Berger <douglasb@broadcom.com>
remote:      Date:   Fri Aug 7 12:02:35 2015 -0700
remote:
remote:          thermal: brcmstb_thermal: fix unregister call
remote:
remote:          Thermal drivers registered thermal_zone_of_sensor_register() should be
remote:          deregistered with thermal_zone_of_sensor_unregister() instead of
remote:          thermal_zone_device_unregister().
remote:
remote:          SWLINUX-3756
remote:
remote:          Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:          (cherry picked from commit e39fdf8743dbc6d6e12ae946d47d22a1cb5a163a)
remote:
remote:      commit a0080894b07afb1a8810e7526270a2bb5e66e5dc
remote:      Author: Doug Berger <douglasb@broadcom.com>
remote:      Date:   Thu Aug 6 16:47:37 2015 -0700
remote:
remote:          thermal: brcmstb_thermal: add device pointer to private data
remote:
remote:          The Broadcom Set-Top Box Thermal driver now retains a pointer to its device
remote:          structure in its private data structure so that it is available for use with
remote:          device logging methods.  The previous version used a pointer to the
remote:          thermal_zone_device to locate its device structure, but the attempt to log an
remote:          error on the first attempt to read the thermal monitor before the pointer to
remote:          the thermal_zone_device had been established caused a NULL pointer dereference
remote:          and a kernel panic.
remote:
remote:          SWLINUX-3756
remote:
remote:          Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:          (cherry picked from commit ba8c19749253c3a55cb0faf81b138befa8de1e35)
remote:
remote:      commit 8d96ae09c9ba94b7b7b70d66113e62d026ce6ce5
remote:      Author: Kamal Dasu <kdasu@broadcom.com>
remote:      Date:   Tue Aug 4 15:17:59 2015 -0400
remote:
remote:          spi: brcmstb: Add QOR cmd support for quad io
remote:
remote:          brcmstb spi driver can use bspi hardware to read
remote:          Added QOR command support for reads to succeed.
remote:
remote:          SWLINUX-3618
remote:
remote:          Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:          (cherry picked from commit 4fe6465d2fd00c7f47b24c4e41617a3cc8b10e77)
remote:
remote:      commit 6e9198d55f90741302d93113a584b84fa520327b
remote:      Author: Danesh Petigara <dpetigara@broadcom.com>
remote:      Date:   Thu Jul 16 13:55:00 2015 -0700
remote:
remote:          libata: skip debounce delay on link resume
remote:
remote:          The link resume logic uses a 200msec delay while debouncing
remote:          the SControl register. The rationale behind that delay is
remote:          to accomodate some PHYs that behave badly if their SStatus/
remote:          SControl registers are pounded immediately on resume.
remote:          The Broadcom STB SATA PHY does not seem to have this issue.
remote:          This patch introduces a new link flag that allows platforms
remote:          to skip the debounce delay if it isn't needed.
remote:
remote:          SWLINUX-3745
remote:
remote:          Signed-off-by: Danesh Petigara <dpetigara@broadcom.com>
remote:          (cherry picked from commit a4c2d1939fdf58839db899f4d708b9f4394ef302)
remote:
remote:      commit 489c054dda54c16024c0537a3bd06200a422aecb
remote:      Author: Petri Gynther <pgynther@google.com>
remote:      Date:   Wed Apr 1 00:40:00 2015 -0700
remote:
remote:          BCMGENET: enable MoCA link state change detection
remote:
remote:          [Upstream commit 8d88c6ebb34c3e54debe81e9b0d81b60411f8179]
remote:
remote:          Currently, MoCA fixed PHYs are always in link-up state, regardless of
remote:          whether the link is actually up or not.
remote:
remote:          Add code to properly detect MoCA link state changes and to reflect the
remote:          new state in MoCA fixed PHY. Only GENET V3 and V4 MACs are capable of
remote:          detecting MoCA link state changes.
remote:
remote:          The code works as follows:
remote:          1. GENET MAC detects MoCA link state change and issues UMAC_IRQ_LINK_UP
remote:             or UMAC_IRQ_LINK_DOWN interrupt.
remote:          2. Link up/down interrupt is processed in bcmgenet_irq_task(), which
remote:             calls phy_mac_interrupt().
remote:          3. phy_mac_interrupt() updates the fixed PHY phydev->link and kicks
remote:             the PHY state machine.
remote:          4. PHY state machine proceeds to read the fixed PHY link status
remote:             register.
remote:          5. When the fixed PHY link status register is being read, the new
remote:             function bcmgenet_fixed_phy_link_update() gets called. It copies
remote:             the fixed PHY phydev->link value to the fixed PHY status->link.
remote:          6. PHY state machine receives the new link state of the fixed PHY.
remote:          7. MoCA fixed PHY link state now correctly reflects the real MoCA
remote:             hardware link state.
remote:
remote:          SWLINUX-3744
remote:
remote:          Signed-off-by: Petri Gynther <pgynther@google.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 415d214ad82b7e86a1fe38aa84f7876fb2b856ed)
remote:
remote:      commit 154469a0fd30d57448389ebef9cf8da6a864cabb
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jul 20 16:12:25 2015 -0700
remote:
remote:          BCMGENET: Fold bcmgenet_mii_config() in bcmgenet_mii_probe()
remote:
remote:          This is required for bcmgenet_mii_config() to know about the kind of PHY device
remote:          we are bound to (internal, MoCA, external etc...) and do either the appropriate
remote:          PHY and hardware setup in case we need.
remote:
remote:          Doing this during the driver probe time forced us to call this again during
remote:          bcmgenet_open() in case we never brought up the interface.
remote:
remote:          In order for bcmgenet_mii_config() to have full knowledge about the PHY device,
remote:          make sure we do assign priv->phydev with a correct PHY device pointer before
remote:          calling bcmgenet_mii_config().
remote:
remote:          SWLINUX-3744
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 5e0f094a403062ffcb09b2e032f5ee3325448f00)
remote:
remote:      commit bf2dd34e7eeb00cc36a60437de1298321706e879
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jul 20 16:25:31 2015 -0700
remote:
remote:          BCMGENET: Move check for MoCA PHY later
remote:
remote:          of_get_phy_mode() understands "moca" as a valid PHY mode, such that we will
remote:          never enter the < 0 condition and we will fail to assign priv->phy_type
remote:          correctly.
remote:
remote:          SWLINUX-3744
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 8b4e790c6462c6a0955f8c92330498c91731f8b5)
remote:
remote:      commit 51266fc3959c2283d25549295b7c89f72be4ddfb
remote:      Author: Petri Gynther <pgynther@google.com>
remote:      Date:   Mon Mar 30 00:29:35 2015 -0700
remote:
remote:          BCMGENET: fix the call to phy_mac_interrupt()
remote:
remote:          [Upstream commit 451e1ca2ab68b9184379fde7867f278c4b3efc61]
remote:
remote:          On phy_mac_interrupt() call, the new_link parameter should be 0 or 1.
remote:
remote:          SWLINUX-3744
remote:
remote:          Signed-off-by: Petri Gynther <pgynther@google.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit f7f14969611a2426754f63750ab71f6d9d256067)
remote:
remote:      commit 31c036155105fd0d0412a24accae7f67ffadc350
remote:      Author: Petri Gynther <pgynther@google.com>
remote:      Date:   Mon Mar 30 00:29:24 2015 -0700
remote:
remote:          BCMGENET: add UMAC_IRQ_LINK_EVENT
remote:
remote:          [Upstream commit e122966dd9aedb666df93f5ee6007e1688194611]
remote:
remote:          Add #define UMAC_IRQ_LINK_EVENT to simplify link event handling code.
remote:
remote:          SWLINUX-3744
remote:
remote:          Signed-off-by: Petri Gynther <pgynther@google.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 23e76393abd93803ad24a8a1d7e0043404e33577)
remote:
remote:      commit 227ac3c7abaaa7aea3773266b9b0272bd7f3059f
remote:      Author: Danesh Petigara <dpetigara@broadcom.com>
remote:      Date:   Mon Jul 13 11:30:38 2015 -0700
remote:
remote:          drivers: ata: wake port before DMA stop for ALPM
remote:
remote:          The AHCI driver code stops and starts port DMA engines at will
remote:          without considering the power state of the particular port. The
remote:          AHCI specification isn't very clear on how to handle this scenario,
remote:          leaving implementation open to interpretation.
remote:
remote:          Broadcom's STB SATA host controller is unable to handle port DMA
remote:          controller restarts when the port in question is in low power mode.
remote:          When a port enters partial or slumber mode, it's PHY is powered down.
remote:          When a controller restart is requested, the controller's internal
remote:          state machine expects the PHY to be brought back up by software which
remote:          never happens in this case, resulting in failures.
remote:
remote:          To avoid this situation, logic is added to manually wake up the port
remote:          just before it's DMA engine is stopped, if the port happens to be in
remote:          a low power state. HBA initiated power management ensures that the port
remote:          eventually returns to it's configured low power state, when the link is
remote:          idle (as per the conditions listed in the spec). A new host flag is also
remote:          added to ensure this logic is only exercised for hosts with the above
remote:          limitation.
remote:
remote:          SWLINUX-3620
remote:
remote:          Signed-off-by: Danesh Petigara <dpetigara@broadcom.com>
remote:          (cherry picked from commit bf8508c4eea6dad6ade28c7d6ddb79109608b68f)
remote:
remote:      commit efb51ce4f3b53346fd7c194127e1cc8a8cc6328d
remote:      Author: Danesh Petigara <dpetigara@broadcom.com>
remote:      Date:   Fri Jul 3 10:58:45 2015 -0700
remote:
remote:          ahci: disable DIPM on brcmstb SATA controller
remote:
remote:          The Broadcom STB SATA host controller does not support device
remote:          initiated power management. Disable support for this feature
remote:          so the driver never sends SETFEATURES commands to the device
remote:          to enable/disable DIPM.
remote:
remote:          SWLINUX-3620
remote:
remote:          Signed-off-by: Danesh Petigara <dpetigara@broadcom.com>
remote:          (cherry picked from commit f553564eff4da88a7fb70c449c27abf9d770fa1d)
remote:
remote:      commit 7fd3ddacd797ce345710bf0224b36cc8c8faede8
remote:      Author: Danesh Petigara <dpetigara@broadcom.com>
remote:      Date:   Mon Jul 13 11:25:38 2015 -0700
remote:
remote:          sata_brcmstb: enable support for ALPM
remote:
remote:          Enable support for ALPM in the host controller's capabilities
remote:          register. Also adjust the PLL  timeout to give it enough time
remote:          to lock when the port exits slumber mode.
remote:
remote:          SWLINUX-3620
remote:
remote:          Signed-off-by: Danesh Petigara <dpetigara@broadcom.com>
remote:          (cherry picked from commit f5b9f3772cf060bd8327474ca114a9d69e20b1e8)
remote:
remote:      commit bf5a1e73e066b6571a56c3f987276d7e9cc631e4
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Jul 17 18:15:56 2015 -0700
remote:
remote:          soc: brcmstb: wktmr: Implement persistent clock for sleep
remote:
remote:          In order to have the core kernel timekeeping code to work and be able to
remote:          account for time spent during sleep states, implement a persistent clock device
remote:          which utilizes the WKTMR.
remote:
remote:          ARM offers the ability to dynamically register such a device using
remote:          register_persistent_clock(), so we utilize this to provide a working
remote:          implementation.
remote:
remote:          While at it, fix the typo on the prescaler register define.
remote:
remote:          Note that the wktmr is now a singleton, and we will return -EBUSY if we find an
remote:          existing wake-timer instance while probing.
remote:
remote:          SWLINUX-3721
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 2e72031aad74bd0f050e4034c91fa7413a187897)
remote:
remote:      commit 9e6474d2823ac845dbe04d9bca75566bdc814e55
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Jul 22 10:36:10 2015 -0700
remote:
remote:          irqchip: bcm7120-l2: Fix interrupt status reads for multiple L1
remote:
remote:          Our irq-bcm7120-l2 interrupt controller driver utilizes the same handler
remote:          function for the different parent interrupts it services: UPG_MAIN, UPG_BSC for
remote:          instance.
remote:
remote:          The problem is that function reads the IRQSTAT register which can combine
remote:          interrupt causes for different parent interrupts, such that we can end-up in the
remote:          following situation:
remote:
remote:          - CPU takes an interrupt
remote:          - bcm7120_l2_intc_irq_handle() reads IRQSTAT
remote:          - generic_handle_irq() is invoked
remote:          - there are still pending interrupts flagged in IRQSTAT from a different parent
remote:          - handle_bad_irq() is invoked
remote:
remote:          In order to fix this, make sure that we always mask IRQSTAT with the
remote:          appropriate bits that correspond go the parent interrupt source this is coming
remote:          from. To simplify things, associate an unique structure per parent interrupt
remote:          handler to avoid multiplying the number of lookups.
remote:
remote:          While at it, remove the unused 'gc' argument from bcm7120_l2_intc_irq_handle().
remote:
remote:          SWLINUX-3747
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 96144b62fac9aeff32f35a8e8260d9833cebf06c)
remote:
remote:      commit 996eb6579b80135397fcb4b2e235db885877753d
remote:      Author: Kevin Cernekee <cernekee@gmail.com>
remote:      Date:   Thu Nov 6 22:44:24 2014 -0800
remote:
remote:          irqchip: bcm7120-l2: Fix missing nibble in gc->unused mask
remote:
remote:          [Upstream commit 0b5cb32ca5aea14bfcfda380e5da67b0abf35b4b]
remote:
remote:          This mask should have been 0xffff_ffff, not 0x0fff_ffff.
remote:
remote:          The change should not have an effect on current users (STB) because bits
remote:          31:27 are unused.
remote:
remote:          SWLINUX-3747
remote:
remote:          Signed-off-by: Kevin Cernekee <cernekee@gmail.com>
remote:          Acked-by: Arnd Bergmann <arnd@arndb.de>
remote:          Acked-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Link: https://lkml.kernel.org/r/1415342669-30640-10-git-send-email-cernekee@gmail.com
remote:          Signed-off-by: Jason Cooper <jason@lakedaemon.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit ffae1a1724b00e15db51db27d97d6b2f1f0215f8)
remote:
remote:      commit c52a979dc7a33d409b8ddb9386d1c6603cc27dcc
remote:      Author: Kevin Cernekee <cernekee@gmail.com>
remote:      Date:   Thu Nov 6 22:44:21 2014 -0800
remote:
remote:          irqchip: bcm7120-l2: Eliminate bad IRQ check
remote:
remote:          [Upstream commit f668f074ff58dea540d83bbed1b2c1171b0dd764]
remote:
remote:          This check may be prone to race conditions, e.g.
remote:
remote:          1) Some external event (e.g. GPIO level) causes an IRQ to become pending
remote:          2) Peripheral asserts the L2 IRQ
remote:          3) CPU takes an interrupt
remote:          4) The event from #1 goes away
remote:          5) bcm7120_l2_intc_irq_handle() reads back a 0 status
remote:
remote:          Unlike the hardware supported by brcmstb-l2, the bcm7120-l2 controller
remote:          does not latch the IRQ status.  Bits can change if the inputs to the
remote:          controller change.  Also, do_bad_IRQ() is an ARM-specific macro.
remote:
remote:          So let's just nuke it.
remote:
remote:          SWLINUX-3747
remote:
remote:          Signed-off-by: Kevin Cernekee <cernekee@gmail.com>
remote:          Acked-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Acked-by: Arnd Bergmann <arnd@arndb.de>
remote:          Link: https://lkml.kernel.org/r/1415342669-30640-7-git-send-email-cernekee@gmail.com
remote:          Signed-off-by: Jason Cooper <jason@lakedaemon.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 66d853d61ee613ad7825d71bfa6ef1e757cbd0bf)
remote:
remote:      commit fb5ba779f2fc6bee4630d37974571fa9f65470ff
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jul 27 16:39:08 2015 -0700
remote:
remote:          brcmstb: memory: add special vmap() for BMEM
remote:
remote:          vmap(), by default, checks to see that the number of pages is not larger than
remote:          the total number of pages managed by Linux.  Usually, this is a nice sanity
remote:          check, and we want to keep that for any of the kernel's vmap() invocations.
remote:          However, this is a problem for our use case because we actually want to vmap()
remote:          pages that are _not_ managed by Linux.  This essentially copies vmap() but
remote:          removes the check against totalram_pages.
remote:
remote:          SWLINUX-3730
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 7b55ad0cce0e19d6e05c0a503b7e14d5e6b193c1)
remote:
remote:      commit 2fb3622542183ea37adc2f802afb7a1c78612ed6
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Fri Jul 24 15:43:53 2015 -0700
remote:
remote:          brcmstb: memory: add function to kva map based on phys addr
remote:
remote:          Add function brcmstb_memory_kva_map_phys() to take in a physical address
remote:          instead of a page.  This API will be used by refsw, which was just converting
remote:          to a struct page * to call our function.
remote:
remote:          Bump BRCMSTB_H_VERSION to 4.
remote:
remote:          SWLINUX-3730
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 27015fd335fbae37a08b1e73cbf4e68e9337ec64)
remote:
remote:      commit ccec1782e60cc8a7f8f772af7edcaf059a57f289
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Thu Jul 23 15:42:50 2015 -0700
remote:
remote:          soc: brcmstb: move kva_(un)map functions to memory API
remote:
remote:          The kernel VA map and unmap functions are not really just for CMA and will also
remote:          be used for BMEM, so move there.  Also modify cma_driver.h so that it will
remote:          continue to be possible to use the names cma_dev_kva_{map,unmap}.
remote:
remote:          Bump BRCMSTB_H_VERSION to 3.
remote:
remote:          SWLINUX-3730
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 8a7fb96af0f302c4f242ab485b926b4a9014d459)
remote:
remote:      commit 3996e3208028c185a2771367e78559617304de77
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Wed Jul 22 14:16:41 2015 -0400
remote:
remote:          usb: bdc: Fix compiler error when CONFIG_USB_GADGET_VERBOSE is enabled
remote:
remote:          Fix compiler error in the USB BDC driver when the config options
remote:          CONFIG_USB_GADGET_DEBUG and CONFIG_USB_GADGET_VERBOSE are enabled
remote:          in the defconfig.
remote:
remote:          SWLINUX-3746
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit b1847e591c96fd7fbcf3460250df11a2556c4761)
remote:
remote:      commit 12d49c9f15dd64b020b549efde7a71775dc18c80
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jul 20 14:29:54 2015 -0700
remote:
remote:          Bump version to 3.14-1.8pre
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit cde111bd52a20199a26d1173f2cdd7cac7bd885f)
remote:
remote:      commit c9424976df5425e77f004b5786af33b213d9af3b
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Jul 15 17:25:30 2015 -0700
remote:
remote:          BCMGENET: Delay PHY initialization to bcmgenet_open()
remote:
remote:          We are currently doing a full PHY initialization and starting the PHY state
remote:          machine during bcmgenet_mii_init() which is executed in the probe function.
remote:          This is convenient to determine whether we can attach to a proper PHY device
remote:          but comes with expense of spending up to 10ms per MDIO transaction, which
remote:          slows things down.
remote:
remote:          This also creates a situation where we end-up attaching twice to the PHY,
remote:          which is not quite correct either.
remote:
remote:          Fix this by moving bcmgenet_mii_probe() into bcmgenet_open().
remote:
remote:          SWLINUX-3743
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 5043be0c54365e785a08a97ecbc24968927ec051)
remote:
remote:      commit ae56714f97bfa4392863bf95cd94962c9e78ac1c
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Jul 17 10:00:03 2015 -0700
remote:
remote:          BCMGENET: Use correct dev_id for free_irq
remote:
remote:          bcmgenet_open()'s error path calls free_irq() with a dev_id argument different
remote:          from the one we used to call request_irq() with, this will make us trip over
remote:          the warning in kernel/irq/manage.c::__free_irq() against "action" since we
remote:          cannot find a corresponding action mapped to this interrupt.
remote:
remote:          SWLINUX-3743
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 97b0f4c5c25bb208fdca9eed8e76c77c415d9191)
remote:
remote:      commit 95c018426f3fc0ff3d5f83307298cead43e01cb3
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Wed Jul 15 12:10:48 2015 -0700
remote:
remote:          brcmstb_defconfig: enable CONFIG_HZ_1000
remote:
remote:          Timer latency is too high with the default of 100, so increase to 1000.
remote:
remote:          Tested using nexus baseline with the following change:
remote:
remote:          --- a/nexus/platforms/common/src/nexus_platform.c
remote:          +++ b/nexus/platforms/common/src/nexus_platform.c
remote:          @@ -681,6 +681,14 @@ NEXUS_Error NEXUS_Platform_Init_tagged( const NEXUS_PlatformSettings *pSettings,
remote:               preInitState = NEXUS_Platform_P_PreInit();
remote:               if (!preInitState) {errCode = -1; goto err_preinit;} /* no BERR_TRACE possible */
remote:
remote:          +    {
remote:          +        unsigned loops = 50;
remote:          +        while (loops--) {
remote:          +            BKNI_Sleep(1);
remote:          +            BDBG_WRN(("here"));
remote:          +        }
remote:          +    }
remote:          +
remote:               NEXUS_Platform_GetReleaseVersion(g_platformSwVersion,100);
remote:               BDBG_WRN(("%s boxmode %d",g_platformSwVersion, preInitState->boxMode));
remote:
remote:          SWLINUX-3443
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 149b9b1da0e6f384f7e5f83d20a9bc6f50edc8d2)
remote:
remote:      commit 2a0e01144059562bddf0a3e127276b9a9b29b643
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Wed Jul 15 13:15:40 2015 -0400
remote:
remote:          usb: gadget: bdc: Add device-tree binding document for BDC driver
remote:
remote:          SWLINUX-3630
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit a8a40ea7cd00637b77cae19cf2a23734b037d5b5)
remote:
remote:      commit cc240b7e8dfd65129c5c9cde2598d704fdfaa6e9
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Wed Jul 15 09:25:06 2015 -0400
remote:
remote:          usb: gadget: bdc: Add additional configuration setup for BDC
remote:
remote:          This will enable the BDC base driver that can be used by any
remote:          Gadget driver. To test this driver a Gadget driver can be enabled
remote:          in the defconfig file.
remote:          Storage support:
remote:          CONFIG_USB_F_MASS_STORAGE=y
remote:          CONFIG_USB_MASS_STORAGE=y
remote:          Ethernet dongle support:
remote:          CONFIG_USB_ETH=y
remote:
remote:          SWLINUX-3630
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit e202e40f6a42042e00a7b98b3d80de136db16e27)
remote:
remote:      commit c78d52a396dc150e8a62154119d89caf16201136
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Wed Jul 15 09:21:43 2015 -0400
remote:
remote:          usb: gadget: bdc: Minor cleanup in usb-brcm.c
remote:
remote:          SWLINUX-3630
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit 91d47c93a6b289db8ba1b6e848af2994917c0427)
remote:
remote:      commit d70e04fb176a66a76d4e614aabfe5ae23da7b53b
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Fri Jun 19 11:12:16 2015 -0400
remote:
remote:          usb: gadget: bdc: Fix a driver crash on disconnect
remote:
remote:          ep_dequeue() in bdc_ep.c was capturing the hw dequeue pointer
remote:          incorrectly by reading the wrong register for the upper 32 bits.
remote:
remote:          SWLINUX-3630
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit 1d3ef38aedc034914b3b2f4930a9be58a8f7af72)
remote:
remote:      commit ebecdffa99d4748524d311a0ba38845eb87b56c1
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Jan 22 13:52:54 2015 -0800
remote:
remote:          usb: gadget: bdc: hook a quick Device Tree compatible string
remote:
remote:          Allows Device Tree probing
remote:
remote:          SWLINUX-3630
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit e8f5f48012969e6f10e0636f4e6dfd43eb4ee934)
remote:
remote:      commit db4b478cf1e02d1e64478f9c4b7703b729a63055
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Jan 16 16:48:56 2015 -0800
remote:
remote:          usb: gadget: bdc: fix bdc_stop function prototype
remote:
remote:          SWLINUX-3630
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit f3f765fc7129c00c8c1d9991eb89fb7aa8b77067)
remote:
remote:      commit b9577f103f12e9ebe37b72c57500d7ecfd6ea4dc
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Jan 16 16:45:57 2015 -0800
remote:
remote:          usb: gadget: Introduce usb_gadget_giveback_request()
remote:
remote:          All USB peripheral controller drivers call completion routines directly.
remote:          This patch adds usb_gadget_giveback_request() which will be used instead
remote:          of direct invocation in the next patch. The goal here is to have a place
remote:          where common functionality can be added.
remote:
remote:          SWLINUX-3630
remote:
remote:          Signed-off-by: Michal Sojka <sojka@merica.cz>
remote:          Acked-by: Felipe Balbi <balbi@ti.com>
remote:          Tested-by: Felipe Balbi <balbi@ti.com>
remote:          Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
remote:          [fainelli: make it apply to 3.14]
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:
remote:          (cherry picked from commit 39163dad04c3649770bcb73534bd0f02d5ac4eef)
remote:
remote:      commit ef02a1622ed64b3ade2396d5218cfb0a2bbc2021
remote:      Author: John W. Linville <linville@tuxdriver.com>
remote:      Date:   Tue Jan 6 14:49:47 2015 -0500
remote:
remote:          usb: gadget: udc: avoid dereference before NULL check in ep_queue
remote:
remote:          Coverity: CID 1260069
remote:
remote:          SWLINUX-3630
remote:
remote:          Signed-off-by: John W. Linville <linville@tuxdriver.com>
remote:          Cc: Felipe Balbi <balbi@ti.com>
remote:          Cc: stable <stable@vger.kernel.org>
remote:          Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit bfce096be610f6d4f5f1ce2acc0e1547a638f746)
remote:
remote:      commit 91e74ab695553888ca43c4b5409986e01de67522
remote:      Author: Dan Carpenter <dan.carpenter@oracle.com>
remote:      Date:   Sat Nov 29 15:49:17 2014 +0300
remote:
remote:          usb: gadget: udc: missing curly braces
remote:
remote:          There were curly braces intended here.
remote:
remote:          SWLINUX-3630
remote:
remote:          Signed-off-by: Dan Carpenter <dan.carpenter@oracle.com>
remote:          Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit d9d74cba7958bd1570cde46edf5d19e8d6d9ea52)
remote:
remote:      commit 35b86185202ec2e50aababd87bf9adac14cbaed2
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Jan 16 16:26:38 2015 -0800
remote:
remote:          usb: gadget: Add UDC driver for Broadcom USB3.0 device controller IP BDC
remote:
remote:          This patch adds a UDC driver for Broadcom's USB3.0 Peripheral core named BDC.
remote:          BDC supports control traffic on ep0 and bulk/Int/Isoch traffic on all other
remote:          endpoints.
remote:
remote:          [ balbi@ti.com : fix build error on randconfig due to lack of
remote:          	<linux/dmapool.h> ]
remote:
remote:          SWLINUX-3630
remote:
remote:          Signed-off-by: Ashwini Pahuja <ashwini.linux@gmail.com>
remote:          Signed-off-by: Felipe Balbi <balbi@ti.com>
remote:          [fainelli: resolve file move to be in drivers/usb/gadget/]
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:
remote:          (cherry picked from commit 992aae1084928a4acd14918035d84837219a10d4)
remote:
remote:      commit d5c92b893188bab5c93e08f5ec90cba9168adea3
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jul 13 18:00:40 2015 -0700
remote:
remote:          soc: brcmstb: default to bmem
remote:
remote:          Change default reservation type from CMA to BMEM.
remote:
remote:          SWLINUX-3730
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit b2a60a30c3f3be3c72b34ed59e79d2dadf74bf3d)
remote:
remote:      commit 2a379b7b48c975336d27518909e0ee639f19ea12
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue Jul 14 12:32:18 2015 -0700
remote:
remote:          BCMGENET: Remove excessive PHY reset
remote:
remote:          We are currently issuing multiple PHY resets during a suspend/resume,
remote:          first during bcmgenet_power_up() which does a hardware reset, then a
remote:          software reset by calling bcmgenet_mii_reset(). This is both unnecessary
remote:          and can take as long as 10ms per MDIO transactions while we re-apply
remote:          workarounds because we do not yet have MDIO interrupts enabled.
remote:
remote:          phy_resume() takes care of re-apply our workarounds in case we need any,
remote:          and bcmgenet_power_up() does a PHY hardware reset, all of this is more
remote:          than enough to guarantee that the PHY operates correctly.
remote:
remote:          SWLINUX-3736
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 52ed8d25f2e4065adc92b32949f3a671f52d11a6)
remote:
remote:      commit f40a3a4b87c68720f13bfc89c1ecfce48c6ddcaf
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Tue Jun 30 10:47:47 2015 -0400
remote:
remote:          usb: Enable USB 3.0 SSC on both ports
remote:
remote:          Currently, USB 3.0 SSC is enabled via port 0 MDIO registers, which
remote:          should have been adequate. However, due to a bug in the USB 3.0 PHY,
remote:          it must be enabled via both ports.
remote:
remote:          SWLINUX-3722
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit ea1d8977994f57427209158f6ca966933904f004)
remote:
remote:      commit c48e34663e4f7d32a42f3744a423479e000fb472
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jun 29 18:07:30 2015 -0700
remote:
remote:          soc: brcmstb: memory: fix regression in memblock reserve adjustment
remote:
remote:          When updating the default reservation code to handle reserved-memory[1]
remote:          DT entries in addition to memreserve, I made an off-by-one error when
remote:          checking for the unhandled 'split region' case and could also set the
remote:          incorrect size for memreserve at the end of a region.  Fix that,
remote:          simplify the logic a bit, and add some (hopefully) clarifying comments.
remote:
remote:          [1] https://www.kernel.org/doc/Documentation/devicetree/bindings/reserved-memory/reserved-memory.txt
remote:              http://jira.broadcom.com/browse/SWLINUX-3647
remote:
remote:          fixes #SWLINUX-3713
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit a40e62fd2bb44796523518ddbacd45940439a449)
remote:
remote:      commit d2dc9d30834d9ea858076abba945e715f7063088
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Mon Jun 29 18:05:47 2015 -0400
remote:
remote:          mmc: Some Micron eMMC devices cause reboot to hang
remote:
remote:          When using eMMC as the boot device, some Micron eMMC devices will
remote:          cause reboot to hang. This is a result of the eMMC device not going
remote:          into boot mode after the hardware sends CMD0 to reset the eMMC
remote:          device. This only happens if the kernel driver sends CMD5 (SLEEP_WAKE),
remote:          to put the device into sleep state, before restarting the system.
remote:          The fix is to add a quirk that avoids sending the SLEEP command
remote:          and to use MMC_FIXUP to set the quirk for these Micron devices.
remote:
remote:          SWLINUX-3720
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit 58a56945f7ab3bbe17a9ed15ce9f15763210a42f)
remote:
remote:      commit 3e1773226be12696891208e7ed7cc94c3d2a0c7e
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Jun 5 16:34:42 2015 -0700
remote:
remote:          net: phy: mdio-bcm-unimac: workaround initial read failures for integrated PHYs
remote:
remote:          All BCM7xxx integrated Gigabit PHYs have an issue in their MDIO
remote:          management controller which will make the initial read or write to them
remote:          to fail and return 0xffff. This is a real issue as the typical first
remote:          thing we do is read from MII_PHYSID1 and MII_PHYSID2 from get_phy_id()
remote:          to register a driver for these PHYs.
remote:
remote:          Coupled with the workaround in drivers/net/phy/bcm7xxx.c, this
remote:          workaround for the MDIO bus controller consists in scanning the list of
remote:          PHYs to do this initial read workaround for as part of the MDIO bus
remote:          reset routine which is invoked prior to mdiobus_scan().
remote:
remote:          Once we have a proper PHY driver/device registered, all workarounds are
remote:          located there (e.g: power management suspend/resume calls).
remote:
remote:          SWLINUX-3684
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit fb4d51ba013462d04625080420c4316d35df03a0)
remote:
remote:      commit 6d8da89cdacdb42b1c249c69df71b1b4c4a6d3d7
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Jun 5 16:25:05 2015 -0700
remote:
remote:          net: bcmgenet: workaround initial read failures for integrated PHYs
remote:
remote:          All BCM7xxx integrated Gigabit PHYs have an issue in their MDIO
remote:          management controller which will make the initial read or write to them
remote:          to fail and return 0xffff. This is a real issue as the typical first
remote:          thing we do is read from MII_PHYSID1 and MII_PHYSID2 from get_phy_id()
remote:          to register a driver for these PHYs.
remote:
remote:          Coupled with the workaround in drivers/net/phy/bcm7xxx.c, this
remote:          workaround for the MDIO bus controller consists in scanning the list of
remote:          PHYs to do this initial read workaround for as part of the MDIO bus
remote:          reset routine which is invoked prior to mdiobus_scan().
remote:
remote:          Once we have a proper PHY driver/device registered, all workarounds are
remote:          located there (e.g: power management suspend/resume calls).
remote:
remote:          SWLINUX-3684
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 030f1f1693718d481c5023045acb2416dbb3d962)
remote:
remote:      commit 1d23399fbac172e3b5f8a2159ab5b714b52a5a0e
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Jun 3 11:53:03 2015 -0700
remote:
remote:          net: phy: bcm7xxx: workaround MDIO management controller initial read
remote:
remote:          The initial MDIO read or write towards the BCM7xxx integrated PHY may
remote:          fail, workaround this by inserting a dummy MII_BMSR read to force the
remote:          MDIO management controller to see at least one valid transaction and get
remote:          out of stuck state out of reset.
remote:
remote:          SWLINUX-3684
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 35f9349943c8d96764266158478f495a05452e8d)
remote:
remote:      commit 780f24696e5e9f2c6114114025c654b54310fb96
remote:      Author: Daniel Mack <zonque@gmail.com>
remote:      Date:   Mon Jun 2 13:32:45 2014 +0200
remote:
remote:          net: of_mdio: use int type for address variable
remote:
remote:          Use int rather than u32 to fix the following warning:
remote:
remote:          drivers/of/of_mdio.c:147 of_mdiobus_register() warn: unsigned 'addr' is
remote:          never less than zero.
remote:
remote:          SWLINUX-3684
remote:
remote:          Signed-off-by: Daniel Mack <zonque@gmail.com>
remote:          Fixes: 8f8382888cba ("net: of_mdio: factor out code to parse a phy's 'reg' property")
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 98956aadf44a33fee23199151c2622aa1fa85c91)
remote:
remote:      commit db6ad47c825196103c6863ed3de7a87954236400
remote:      Author: Daniel Mack <zonque@gmail.com>
remote:      Date:   Sat May 24 09:34:27 2014 +0200
remote:
remote:          net: of_mdio: don't store the length of a property if we don't need to
remote:
remote:          of_get_property() can be called with NULL as 2nd argument if the caller
remote:          is not interested in the length of a property. Use that here so we can
remote:          get rid of a variable.
remote:
remote:          SWLINUX-3684
remote:
remote:          Signed-off-by: Daniel Mack <zonque@gmail.com>
remote:          Reviewed-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 84367958b3592bf433f29e2c3f7975998be37788)
remote:
remote:      commit 0d669d7e9c0da6e8ca4f0dea5007437bd51b6ab3
remote:      Author: Florian Fainelli <f.fainelli@gmail.com>
remote:      Date:   Tue Mar 10 16:57:11 2015 -0700
remote:
remote:          of: mdio: export of_mdio_parse_addr
remote:
remote:          [Upstream commit 33d6737761ea425d43f3b6e4561573a4020982f2]
remote:
remote:          Export of_mdio_parse_addr() which allows parsing a given Ethernet PHY
remote:          node MDIO address, verify it is within the allowed range, and return
remote:          its value. This is going to be useful for the DSA code which needs to
remote:          deal with multiple layers of MDIO buses.
remote:
remote:          SWLINUX-3684
remote:
remote:          Acked-by: Rob Herring <robh@kernel.org>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit cc7db93f3633d497a1af7f7091d53039082bad68)
remote:
remote:      commit c1f8193c858618124e0948b251381de1725f8b45
remote:      Author: Daniel Mack <zonque@gmail.com>
remote:      Date:   Sat May 24 09:34:25 2014 +0200
remote:
remote:          net: of_mdio: factor out code to parse a phy's 'reg' property
remote:
remote:          [Upstream commit 8f8382888cbaf6de13046437d41a1c3d1394d51f]
remote:
remote:          Factor out some logic into of_mdio_parse_addr() so it can be reused
remote:          later. While at it, use of_property_read_u32() rather than open-coding
remote:          the same logic again.
remote:
remote:          SWLINUX-3684
remote:
remote:          Signed-off-by: Daniel Mack <zonque@gmail.com>
remote:          Reviewed-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit d29685d835ccd606c0d0b4eb71e6cf0e674414ac)
remote:
remote:      commit 37941d56b7216831bac56df07917474529d54635
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Fri Jun 5 08:21:37 2015 -0400
remote:
remote:          usb: BDC: Configure Host/Device mode port sharing based on DT
remote:
remote:          The "device" property in the ""brcm,usb-instance" node will
remote:          specify how a port will be shared between USB Host and Device
remote:          controllers. "off" will will be host only, "on" will be device
remote:          only and "dual" will be the DRD (Dual Role Device) mode.
remote:          This property will be used by the USB wrapper driver to configure
remote:          the USB ctrl registers properly.
remote:          NOTES:
remote:          - "dual" mode is broken on the 7439bx but will be fixed in
remote:            future chips.
remote:          - The combination of enabled DT nodes for ohci ehic xhci and bdc
remote:            are expected to be correct for the chosen mode.
remote:
remote:          SWLINUX-3693
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit 26fceffcef460a225dba612a7f7eef6008ea7c21)
remote:
remote:      commit 7aa6f8164bbb326f54968ccc93cca26bf4d6a935
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Wed Jun 3 17:38:16 2015 -0400
remote:
remote:          usb: Update bchp_usb_ctrl.h for 7439b0
remote:
remote:          SWLINUX-3693
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit 7d843e13e369df6f9847e3eb331b49faec46e400)
remote:
remote:      commit 682473a472b4e017619304b8b74cb9dc407cbaf5
remote:      Author: Shane Yi <shyi@broadcom.com>
remote:      Date:   Thu Jun 11 10:42:36 2015 -0700
remote:
remote:          bsp: added Kconfig entries for 3390b0
remote:
remote:          SWLINUX-3667
remote:
remote:          Signed-off-by: Shane Yi <shyi@broadcom.com>
remote:          (cherry picked from commit f5c9027e13632712873b5f729d0c2c50507f12be)
remote:
remote:      commit a0af8af67219ec6d78becb182bf23579e3f091e2
remote:      Author: Shane Yi <shyi@broadcom.com>
remote:      Date:   Thu Jun 11 10:41:03 2015 -0700
remote:
remote:          bsp: added bchp headers for 3390b0
remote:
remote:          SWLINUX-3667
remote:
remote:          Signed-off-by: Shane Yi <shyi@broadcom.com>
remote:          (cherry picked from commit db6855767a0885b735df38bd63df99e87a07de78)
remote:
remote:      commit 3ebc0a66d873112acaf9030a3a602603aff741f9
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Jun 19 15:53:44 2015 -0700
remote:
remote:          Revert "BCMSYSPORT: Switch TX reclaim to NAPI context"
remote:
remote:          This reverts commit ac4a2acc2453bccb87e6a16d1fd1313be305b531. This change
remote:          is causing a performance regression as reported by Alex Chu during SQA.
remote:
remote:          3.14 is missing some upstream changes that are required to do less interrupt
remote:          masking while executing NAPI which give a significant performance boost
remote:          this is no longer a problem on 4.1 and newer.
remote:
remote:          SWLINUX-3690
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit b69c20822f4ffed2f2a8f140cb88d15a26b47037)
remote:
remote:      commit 07d9e26222a3ae4150c58d8621ff934ab25b4b28
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Jun 19 13:48:52 2015 -0700
remote:
remote:          Revert "BCMSYSPORT: rewrite bcm_sysport_rx_refill"
remote:
remote:          This reverts commit ced41ec297954d70a43b059bd4f44669e368e1dc. Alex Chu reported
remote:          a noticeable performance drop, ranging from ~940Mbits/sec to ~760Mbits/sec.
remote:
remote:          These changes were tested against an upstream kernel which contains some
remote:          improvements on how SKB allocation in NAPI context operate, and these changes
remote:          are not in 3.14 yet and way too invasive to backport.
remote:
remote:          Revert back to the previous behavior which consists in invalidating data cache
remote:          lines after DMA, processing the packet, and then re-allocating it during the
remote:          refill operation.
remote:
remote:          SWLINUX-3690
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit d41e2147419f44920bfbb2c555f08cda7b5ceabd)
remote:
remote:      commit b8d163fb102b52854aa5b824ff66fa5a78f45d1f
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jun 15 14:32:04 2015 -0700
remote:
remote:          soc: brcmstb: memory: fix up default reserve alignment
remote:
remote:          When moving the default reservation logic, I accidentally left out a
remote:          crucial change for the 512M DRAM case: alignment fixing.  While this
remote:          should _hopefully_ only be required for 512M, we actually want to be
remote:          pageblock-aligned all the time (well, it's not pageblock for transparent
remote:          hugepages, but it's easier to just say pageblock), and it's certainly
remote:          possible that some memory reservations might not be so aligned.  So just
remote:          do the alignment all of the time like we were doing in cma_driver
remote:          before.
remote:
remote:          Tested on 73649a0 (512M RAM) that default boot-time CMA reserve works
remote:          and 'cmatool unittest' passes all tests after this change.
remote:
remote:          SWLINUX-3504
remote:
remote:          Reported-by: Alex Chu <alexchu@broadcom.com>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 8f699ad52a5c50d3409a638bee874d117b3b7ec7)
remote:
remote:      commit f4b8ca8305bbc0b9d4a441a40add70a0acfb5525
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Jun 10 11:55:20 2015 -0700
remote:
remote:          net: dsa: bcm_sf2: do not use indirect reads and writes for 7445E0
remote:
remote:          7445E0 contains an ECO (HW7445-1526) which disconnected the internal SF2
remote:          pseudo-PHY which was known to conflict with the external pseudo-PHY of
remote:          BCM53125 switches. This motivated the need to utilize the internal SF2
remote:          MDIO controller via indirect register reads/writes to control external
remote:          Broadcom switches due to this address conflict (both responded at
remote:          address 30d).
remote:
remote:          For 7445E0, the internal pseudo-PHY of the SF2 switch got disconnected,
remote:          and as a consequence this prevents the internal SF2 MDIO bus controller
remote:          from reading data (reads back everything as 0) since the MDI line is
remote:          tied low.
remote:
remote:          Fix this by making the indirect register reads and writes conditional to
remote:          7445D0, on 7445E0 we can utilize the SWITCH_MDIO controller (backed by
remote:          mdio-unimac and not the DSA created slave MII bus).
remote:
remote:          SWLINUX-3699
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 09d5d3e8bc3be21072000ee3098f7edc5b0cfea9)
remote:
remote:      commit 5205378f2f92d9742162e4ffe50afc26d43cfaae
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Jun 10 11:54:36 2015 -0700
remote:
remote:          net: phy: mdio-unimac: handle broken turn-around for specific PHYs
remote:
remote:          Some Ethernet PHYs/switches such as Broadcom's BCM53125 have a hardware bug
remote:          which makes them not release the MDIO line during turn-around time.  This gets
remote:          flagged by the UniMAC MDIO controller as a read failure, and we fail the read
remote:          transaction.
remote:
remote:          Check the MDIO bus phy_ignore_ta_mask bitmask for the PHY we are reading
remote:          from and if it is listed in this bitmask, ignore the read failure and proceed
remote:          with returning the data we read out of the controller.
remote:
remote:          SWLINUX-2863
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 7656d1c266a4e3b1d9ecb55521e74d92990ed524)
remote:
remote:      commit 0446e75742f218e2263cf277ff39a7d109ad5ab9
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu May 14 16:10:59 2015 -0700
remote:
remote:          BCMGENET: handle broken turn-around for specific PHYs
remote:
remote:          Some Ethernet PHYs/switches such as Broadcom's BCM53125 have a hardware bug
remote:          which makes them not release the MDIO line during turn-around time.  This gets
remote:          flagged by the GENET MDIO controller as a read failure, and we fail the read
remote:          transaction.
remote:
remote:          Check the MDIO bus phy_ignore_ta_mask bitmask for the PHY we are reading from
remote:          and if it is listed in this bitmask, ignore the read failure and proceed with
remote:          returning the data we read out of the controller.
remote:
remote:          SWLINUX-2863
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit a43d720e7d282ea8f1d3c8668eb09c5ea132eb7a)
remote:
remote:      commit 825881565770b4e5798f4c1d67236466b24b9c00
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Jun 10 11:52:22 2015 -0700
remote:
remote:          net: phy: ethsw: flag switch pseudo-PHY as having broken turn-around
remote:
remote:          We will able to successfully detect switches since we typically use address 0
remote:          to read the switch's MII_PHYSID1/2 register, therefore ethsw_probe() will be
remote:          invoked and we use it to tell the MDIO bus controller that the switch
remote:          pseudo-PHY (30d) has a broken turn-around and that it should ignore read
remote:          failures at this address.
remote:
remote:          SWLINUX-2863
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit acf19dab2df595c3daf67d24eee1bf519adc7b9d)
remote:
remote:      commit cbb740c79596ba9cc3bd6fe961c82f678fb66fc4
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Jun 10 17:07:00 2015 -0700
remote:
remote:          net: dsa: bcm_sf2: Utilized BRCM_PSEUDO_PHY_ADDR
remote:
remote:          Replace the open-coded constant 30 with its definition from brcmphy.h
remote:
remote:          SWLINUX-2863
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 73b2ae6459fc70bc95a9d30788c93bdc8597393f)
remote:
remote:      commit dc5d071fdf513c93addf5ceafa9eef7027f20d3b
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Jun 10 17:00:49 2015 -0700
remote:
remote:          net: phy: ethsw: Utilize BRCM_PSEUDO_PHY_ADDR
remote:
remote:          Replace our local constant with the shared header constant.
remote:
remote:          SWLINUX-2863
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 9ac13a3c4baefe90835c0de7a28bd01fc19f912c)
remote:
remote:      commit b41a796cdd86356bb033be2c6a6379e0252adf04
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Jun 10 16:42:27 2015 -0700
remote:
remote:          net: phy: define Broadcom pseudo-PHY address in brcmphy.h
remote:
remote:          Define the pseudo-PHY address (30) which is used by all Broadcom Ethernet
remote:          switches in a shared header file.
remote:
remote:          SWLINUX-2863
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 0ece811de6e2fbb4e58f01211051f986262f3612)
remote:
remote:      commit 8fbc3dcd066002ff814c92eea4a5f3c1ecc3c690
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue May 12 10:33:26 2015 -0700
remote:
remote:          net: phy: mdio-gpio: Handle phy_ignore_ta_mask
remote:
remote:          [Upstream commit ea48b2b8ada594e985b86da98b0c966d1ae23a4b]
remote:
remote:          Update mdiobb_read() to read whether the PHY has a broken turn-around,
remote:          and if it does, ignore it to make the read succeeed.
remote:
remote:          SWLINUX-2863
remote:
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit dd44b091601a6b97fd64954b7fe9207fb387d700)
remote:
remote:      commit 697ec7f944116fed5a271bcd32e7dd190258cad0
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue May 12 10:33:25 2015 -0700
remote:
remote:          of: mdio: Add a "broken-turn-around" property
remote:
remote:          [Upstream commit ab6016e0c134c3a564e6750f5b246ba17ada4686]
remote:
remote:          Some Ethernet PHY devices/switches may not properly release the MDIO bus
remote:          during turn-around time, and fail to drive it low, which can be seen by
remote:          some controllers as a read failure, while the data clocked in is still
remote:          correct.
remote:
remote:          Add a boolean property "broken-turn-around" which is parsed by the
remote:          generic MDIO bus probing code and will set the corresponding bit in the
remote:          MDIO bus phy_ignore_ta_mask bitmask for MDIO bus drivers to utilize that
remote:          information.
remote:
remote:          SWLINUX-2863
remote:
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 1d051efb5c36128c6ba2243dab04308882a73aaf)
remote:
remote:      commit 3d712815623c55197feeeeb5c6c16aa8b79d504b
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue May 12 10:33:24 2015 -0700
remote:
remote:          net: phy: Add phy_ignore_ta_mask to account for broken turn-around
remote:
remote:          [Upstream commit 922f2dd1b65a888e34c472979460dc23211750a2]
remote:
remote:          Some PHY devices/switches will not release the turn-around line as they
remote:          should do at the end of a MDIO transaction. To help with such
remote:          situations, allow MDIO bus drivers to be made aware of such
remote:          restrictions.
remote:
remote:          SWLINUX-2863
remote:
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 85912a596952be41f883db2b6c043add5e01ccc6)
remote:
remote:      commit ff988f8816d6d3f78b1f786820f4f335d52bd23c
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue Jun 9 19:38:12 2015 -0700
remote:
remote:          Bump version to 3.14-1.7pre
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit a86f1185be47c7821055d910b5c1e21ffdb51d1a)
remote:
remote:      commit 95085b4f94a51dd53d1a94b1123ae517f17ed803
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Fri Jun 5 08:18:56 2015 -0400
remote:
remote:          usb: Fix usb-brcm-common-init module license.
remote:
remote:          This module is used by both BOLT and the Linux kernel so it
remote:          needs a license that works for both. Fix this by replacing the
remote:          GPLv2 license with the BSD license.
remote:
remote:          SWLINUX-3693
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit ba25d115e58f9498777faeb8a6bdc85aca194359)
remote:
remote:      commit 921295c9cb440c0d5210957bc8568d864f31f5b0
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jun 8 19:13:13 2015 -0700
remote:
remote:          cma: brcm-cma: change brcm_cma=0 to disable brcm cma
remote:
remote:          Before, we would just return 0 as an invalid size.  While it is invalid, this
remote:          will a) be caught later and b) the value should be used like the bmem code to
remote:          indicate that we want to disable using this entirely, since there isn't another
remote:          easy way to do that.
remote:
remote:          SWLINUX-3504
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit b0426ccecd3c73a7b83663a84f8dd31d12d91d34)
remote:
remote:      commit 9026bcf80ddaf976f016fffe1c1f46baca392181
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jun 8 18:39:14 2015 -0700
remote:
remote:          soc: brcmstb: add back default CMA reservation, allow BMEM via switch
remote:
remote:          Introduces two shared variables, brcmstb_default_reserve and
remote:          brcmstb_memory_override_defaults, for the reserve functions to determine
remote:          whether to set up the default reservations for CMA or BMEM.  In order to change
remote:          the default, modify the value of brcmstb_default_reserve and recompile.
remote:          Specifying any brcm_cma or bmem parameter on the kernel boot line will result
remote:          in the selected default being overridden with manual reservations.
remote:
remote:          Bump memory API version to 2 for the additions.
remote:
remote:          SWLINUX-3504
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 4e9707e26c1f18a239672201ae91759cad5189bb)
remote:
remote:      commit acba179a68ef6853e2782296eed2bc993023404e
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jun 8 16:32:26 2015 -0700
remote:
remote:          soc: brcmstb: move default reserve from bmem to memory API
remote:
remote:          This is prep for sharing this code back to cma_driver.  Introduces a dependency
remote:          on BRCMSTB_MEMORY_API so update Kconfig accordingly.
remote:
remote:          SWLINUX-3504
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit cf23bd03500ce52f9585e106290f0df625651a8d)
remote:
remote:      commit d29f3419186ab3a8dfe909ab2a4e0def086415fe
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Fri Jun 5 15:43:56 2015 -0400
remote:
remote:          pci: issue warning when dma-ranges prop is observed
remote:
remote:          Recently, Bolt began adding optionally the "dma-ranges" property
remote:          to the PCIe nodes.  This property instructs Linux how to massage
remote:          the dma_addr_t values obtained when allocating DMA memory for
remote:          use with PCIe drivers.  Currently, this Linux functionality is
remote:          a WIP so just issue a warning for now when we see the property.
remote:
remote:          SWLINUX-3694
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit aad79cdaa0c65c2fd3b0ce81a5579286de24e207)
remote:
remote:      commit e0336cd031e3a642aec991dfc02d187c44213bf6
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Thu Jun 4 16:24:16 2015 -0400
remote:
remote:          pci: make use of 'brcm,log2-scb-sizes' property if present
remote:
remote:          The 'brcm,log2-scb-sizes' property indicates how large the SCB window
remote:          must be to project an inbound region to PCIe space.  This commit
remote:          reads the property if present and overrides the default value
remote:          for the window size.
remote:
remote:          SWLINUX-3694
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit 4d9f5f63c4aadf3781b89110e450fe752ef7f545)
remote:
remote:      commit 54464a1e93827190ac63802980a7112a0fd1b4ab
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jun 8 10:37:25 2015 -0700
remote:
remote:          net: phy: bcm7xxx: Update E0+ GPHY workaround based on HW7445-1949
remote:
remote:          A new workaround to solve marginal 100BaseT rise/fall time has been provided in
remote:          HW7445-1949, update the AFE_TX_CONFIG register parameters based on the hardware
remote:          group recommendations. This workaround applies to all E0 and newer GPHY
remote:          revisions.
remote:
remote:          SWLINUX-3697
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 3602ca04a3db83b3c947acf9c336a4184aa442e5)
remote:
remote:      commit 28fb74d573f6b067ce82f1d9733b420458399370
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jun 8 10:35:35 2015 -0700
remote:
remote:          net: phy: bcm7xxx: Update D0 GPHY workaround based on HW7445-1804
remote:
remote:          A new workaround to solve marginal 100BaseT rise/fall time has been provided in
remote:          HW7445-1804, update the AFE_TX_CONFIG register parameters based on the hardware
remote:          group recommendations.
remote:
remote:          SWLINUX-3697
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 7419ba64b840c3135aa4fa114e9570f793c76867)
remote:
remote:      commit 11428cdcdb0a2733fa79cb26d370c2bf4abf31d2
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jun 1 16:23:57 2015 -0700
remote:
remote:          BCMGENET: Power on MII block for all MII modes
remote:
remote:          The RGMII block is currently only powered on when using RGMII or RGMII_NO_ID,
remote:          which is not correct when using the GENET interface in MII or Reverse MII
remote:          modes. We always need to power on the RGMII interface for this block to
remote:          properly work.
remote:
remote:          SWLINUX-3683
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 113502e0d8c39483f6d2da0e381cd297de6f1919)
remote:
remote:      commit 3a899c7135ef7706fc9e1cff629250bb53a452ff
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Wed Jun 3 18:44:11 2015 -0700
remote:
remote:          dt-bindings: brcmstb-gpio: remove interrupt-names, update examples
remote:
remote:          We don't actually use the "interrupt-names" property, so remove it from
remote:          the listed optional properties and from the examples.  And since we're
remote:          modifying the examples, also follow Brian's suggestions to:
remote:
remote:          - change #gpio-cells, #interrupt-cells, and brcm,gpio-bank-widths from
remote:            hex to dec
remote:          - use phandles
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 139bc47f8f2649e183283c994be139d0044aa6d4)
remote:
remote:      commit 4bb440271fb87bea35c141289862511fea9f217a
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Tue Jun 2 20:17:29 2015 -0700
remote:
remote:          gpio: brcmstb: support wakeup from S5 cold boot
remote:
remote:          For wake from S5, we need to:
remote:          - register a reboot handler
remote:          - set wakeup capability before requesting IRQ so wakeup count is incremented
remote:          - mask all GPIO IRQs and clear any pending interrupts during driver probe to
remote:            since no driver will yet be registered to handle any IRQs carried over from
remote:            boot at that time, and it's possible that the booted kernel does not request
remote:            the same IRQ anyway.
remote:
remote:          This means that /sys/.../power/wakeup_count is valid at boot time,
remote:          and we can properly account for S5 wakeup stats. e.g.:
remote:
remote:            ### After waking from S5 from a GPIO key
remote:            # cat /sys/bus/platform/drivers/brcmstb-gpio/f04172c0.gpio/power/wakeup
remote:            enabled
remote:            # cat /sys/bus/platform/drivers/brcmstb-gpio/f04172c0.gpio/power/wakeup_count
remote:            1
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit c6c609b5e17b3d12bd68d3c85a642e297a1b0854)
remote:
remote:      commit fe446931a14190ae615eb642bfaaeee4be4901cb
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Tue Jun 2 14:33:26 2015 -0700
remote:
remote:          gpio: brcmstb: switch to using gpiolib irqchip helpers
remote:
remote:          Switches the BRCMSTB UPG GIO driver to using the gpiolib irqchip helpers
remote:          in the gpiolib core.  This lets us reduce the amount of duplicated code
remote:          a bit.  For this to work, the irq setup function is changed to be called
remote:          once per bank instead of once per device.
remote:
remote:          What wasn't obvious to me before: you can have multiple chained irqchips
remote:          and associated IRQ domains for a single parent IRQ, and as long as the
remote:          xlate function is written correctly, a GPIO IRQ request end up checking
remote:          the correct domain and will get associated with the correct IRQ.  What
remote:          helps make this clear is to read
remote:            drivers/gpio/gpiolib-of.c:
remote:             - of_gpiochip_find_and_xlate()
remote:             - of_get_named_gpiod_flags()
remote:            drivers/gpio/gpiolib.c:
remote:             - gpiochip_find()
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit bd08857fde1fc4c2bd2b05aced340f85a721059e)
remote:
remote:      commit 867e5302deb87ae36296b48b018f90bee8b3e320
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Tue Jun 2 20:16:48 2015 -0700
remote:
remote:          gpio: brcmstb: add missing sanity checks
remote:
remote:          Check the return values of {enable,disable}_irq_wake, check for
remote:          brcmstb_gpio_irq_handler being called before anything can actually
remote:          handle the IRQ, and add a missing newline.  Also return IRQ_NONE in
remote:          irq_set_wake if we didn't get called with the right irq.
remote:
remote:          While we're at it, make a trivial change from of_find_property() to
remote:          of_property_read_bool() when checking for "interrupt-controller".
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 31fd5393318751c6e8abe8e1c6d19d79b3e436b8)
remote:
remote:      commit 722eccbca53020f47fe9e77de566936caf05cc77
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jun 1 15:52:07 2015 -0700
remote:
remote:          gpio: brcmstb: fix null ptr dereference in driver remove
remote:
remote:          If a failure occurs during probe, brcmstb_gpio_remove() is called. In remove,
remote:          we call platform_get_drvdata(), but at the time of failure in the probe the
remote:          driver data hadn't yet been set which leads to a NULL ptr dereference in the
remote:          remove's list_for_each.  Call platform_set_drvdata() and set up list head right
remote:          after allocating the priv struct to both avoid the null pointer dereference
remote:          that could occur today.  To guard against potential future changes, check for
remote:          null pointer in remove.
remote:
remote:          SWLINUX-3604
remote:
remote:          Reported-by: Tim Ross <tross@broadcom.com>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 6db5d7318424b75086bd041a3ee135444dd7d501)
remote:
remote:      commit c72340f6d1e3ed4efcfd2074104e8ed6f98f666c
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jun 1 10:35:02 2015 -0700
remote:
remote:          gpio: brcmstb: temporarily demote missing IRQ from err to warn
remote:
remote:          Since we are using the IRQ0 stub by default, the attempt to get the IRQ for the
remote:          GPIO controller will fail.  So for now, don't fail probe, only warn and tell
remote:          the user how they can get GPIO interrupt support in linux.
remote:
remote:          Revert me when BCM7120_L2_IRQ=y is the default.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit ab1c7246da1447879a5168885ebf87abaf4a568a)
remote:
remote:      commit e349df58bde5d5354040633e57b8d5a5c3c3ee8e
remote:      Author: Jarkko Nikula <jarkko.nikula@linux.intel.com>
remote:      Date:   Tue Sep 16 16:23:15 2014 +0300
remote:
remote:          gpio: Fix potential NULL handler data in chained irqchip handler
remote:
remote:          [Upstream commit 324b0398781e7afb846378dd2d8a4374faaf236b]
remote:
remote:          There is possibility with misconfigured pins that interrupt occurs instantly
remote:          after setting irq_set_chained_handler() in gpiochip_set_chained_irqchip().
remote:          Now if handler gets called before irq_set_handler_data() the handler gets
remote:          NULL handler data.
remote:
remote:          Fix this by moving irq_set_handler_data() call before
remote:          irq_set_chained_handler() in gpiochip_set_chained_irqchip().
remote:
remote:          SWLINUX-3604
remote:
remote:          Cc: Stable <stable@vger.kernel.org> # 3.15+
remote:          Reviewed-by: Alexandre Courbot <acourbot@nvidia.com>
remote:          Signed-off-by: Jarkko Nikula <jarkko.nikula@linux.intel.com>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit afcedf4920729e2019f0054c87d018e214a14b0b)
remote:
remote:      commit e566ea8ee679a8da1d00ce744a5c8d44e1fd14c7
remote:      Author: Paul Bolle <pebolle@tiscali.nl>
remote:      Date:   Fri Sep 5 13:09:25 2014 +0200
remote:
remote:          gpio: fix 'CONFIG_GPIO_IRQCHIP' comments
remote:
remote:          [Upstream commit 7d75a871888e3f5e1a7c99bf240d1cd67d8bdfa0]
remote:
remote:          These two typos were introduced in commit 1425052097b5 ("gpio: add IRQ
remote:          chip helpers in gpiolib").
remote:
remote:          The correct symbol name is CONFIG_GPIOLIB_IRQCHIP.
remote:
remote:          SWLINUX-3604
remote:
remote:          [jkosina@suse.cz: add changelog]
remote:          Signed-off-by: Paul Bolle <pebolle@tiscali.nl>
remote:          Signed-off-by: Jiri Kosina <jkosina@suse.cz>
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit ee7331e7cbb3c94db9f02633208047aff86e3b7d)
remote:
remote:      commit badde22c79c9f7f8911852d092beee19d24d78e3
remote:      Author: Thierry Reding <treding@nvidia.com>
remote:      Date:   Wed Apr 23 17:28:08 2014 +0200
remote:
remote:          gpio: of: Remove unneeded dummy function
remote:
remote:          [Upstream commit 47a95fe71662fa38ff3abe9956f1ca1451fa6e70]
remote:
remote:          of_find_gpio() is always called under an IS_ENABLED(CONFIG_OF), so the
remote:          dummy implementation provided for !OF configurations is not needed.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Thierry Reding <treding@nvidia.com>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 014059ea2f474a91e70e7cd6074ccb85174c9bcb)
remote:
remote:      commit cca139d3fb54d0a56277cd3e2caf05b4e7a5f4c9
remote:      Author: Linus Walleij <linus.walleij@linaro.org>
remote:      Date:   Wed Apr 23 16:45:12 2014 +0200
remote:
remote:          gpio: do not set up hardware for IRQ_TYPE_NONE
remote:
remote:          [Upstream commit 1333b90f33623cdc4028a3523bc186330573990a]
remote:
remote:          Some GPIO irqchip drivers exploit the irqdomain mapping
remote:          function to set up the IRQ default type in the hardware,
remote:          make sure that if we pass IRQ_TYPE_NONE, no hardware setup
remote:          whatsoever takes place (this should be the norm) until
remote:          later when the IRQ gets utilized.
remote:
remote:          SWLINUX-3604
remote:
remote:          Cc: Ezequiel Garcia <ezequiel.garcia@free-electrons.com>
remote:          Cc: Santosh Shilimkar <santosh.shilimkar@ti.com>
remote:          Cc: linux-omap <linux-omap@vger.kernel.org>
remote:          Tested-by: Peter Ujfalusi <peter.ujfalusi@ti.com>
remote:          Tested-by: Javier Martinez Canillas <javier@dowhile0.org>
remote:          Tested-by: Nishanth Menon <nm@ti.com>
remote:          Acked-by: Nishanth Menon <nm@ti.com>
remote:          Tested-by: Tony Lindgren <tony@atomide.com>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit c859e437358baa7e95a5cf502be11edae5793797)
remote:
remote:      commit 30d929b5cf97760475dd94621f2f6efb25697474
remote:      Author: Linus Walleij <linus.walleij@linaro.org>
remote:      Date:   Tue Apr 22 14:01:46 2014 +0200
remote:
remote:          gpio: put GPIO IRQs into their own lock class
remote:
remote:          [Upstream commit e45d1c80c0eee88e82751461e9cac49d9ed287bc]
remote:
remote:          Another feature that is duplicated in a number of GPIO irqchips
remote:          is that these cascades IRQs are assigned their own lock class
remote:          so as to avoid warnings about lockdep recursions. Do this also
remote:          in the generic GPIO irqchip helpers for smooth transition to
remote:          this core infrastructure.
remote:
remote:          SWLINUX-3604
remote:
remote:          Cc: Thomas Gleixner <tglx@linutronix.de>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 714a2554d38f3601320db081b41cfee68589ab70)
remote:
remote:      commit 9b8d755ab24d244f393c64ff290cfc7f43f7f324
remote:      Author: Linus Walleij <linus.walleij@linaro.org>
remote:      Date:   Wed Apr 9 13:34:39 2014 +0200
remote:
remote:          gpio: support threaded interrupts in irqchip helpers
remote:
remote:          [Upstream commit 1c8732bb0355b929b09173464cdca7df4d516f89]
remote:
remote:          Some off-chip GPIO expanders need to be communicated by I2C or
remote:          SPI traffic, but may still support IRQs. By the sleeping nature
remote:          of such buses, such IRQ handlers need to be threaded. Support
remote:          such handlers in the gpiochip irqchip helpers by flagging IRQs
remote:          as threaded if the .can_sleep property of the gpiochip is
remote:          true.
remote:
remote:          Helpfully deny registration of chained IRQ handlers if the
remote:          .can_sleep property is set, as such chips will invariably need
remote:          a nested handler rather than a chained handler.
remote:
remote:          SWLINUX-3604
remote:
remote:          Cc: Thomas Gleixner <tglx@linutronix.de>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit df749dcfb45e74fd739cb35a2e033adf501535e3)
remote:
remote:      commit 87a2eadd092b292b26265b35fe65409c0bfed109
remote:      Author: Linus Walleij <linus.walleij@linaro.org>
remote:      Date:   Wed Apr 9 13:20:38 2014 +0200
remote:
remote:          gpio: set data first, then chip and handler
remote:
remote:          [Upstream commit 7633fb959b711a8d91548911eb087fb931c7b8e4]
remote:
remote:          During irq mapping, in irq_set_chip_and_handler() the process
remote:          of setting this up may incur calls to lock the irqchip, which
remote:          in turn may need to dereference and use the chip data. So set
remote:          the data first, then set the chip and handler.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 36bd53062d57cab74fc1e7a2345bef4acfc66539)
remote:
remote:      commit e44c42bd3215540e48a20e9b03a2d6c4a29a5897
remote:      Author: Linus Walleij <linus.walleij@linaro.org>
remote:      Date:   Fri Mar 28 20:42:01 2014 +0100
remote:
remote:          gpio: unmap gpio irqs properly
remote:
remote:          [Upstream commit c3626fdea044cc97bfc035ebb048f7619acb6736]
remote:
remote:          When using the irqchip helper inside the gpiolib, make sure
remote:          the IRQs are unmapped/disposed before the irqdomain is removed
remote:          as part of removing the gpiochip.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit d462aefdead8ea30054e1d561f2570fe10d76b02)
remote:
remote:      commit dc8cf272820792f6c9266af2f03cb3824e076a10
remote:      Author: Linus Walleij <linus.walleij@linaro.org>
remote:      Date:   Tue Mar 25 10:40:18 2014 +0100
remote:
remote:          gpio: add IRQ chip helpers in gpiolib
remote:
remote:          [Upstream commit 1425052097b53de841e064dc190a9009480c208c]
remote:
remote:          This provides a function gpiochip_irqchip_add() to set
remote:          up an irqchip for a GPIO controller, and a function
remote:          gpiochip_set_chained_irqchip() to chain it to a parent
remote:          irqchip.
remote:
remote:          Most GPIOs are of the type where a number of lines form
remote:          a cascaded interrupt controller chained onto
remote:          the primary system interrupt controller (or further down the
remote:          chain) so let's add this helper and factor the code to
remote:          request the lines to be used as IRQs, the .to_irq() function
remote:          and the irqdomain into the core as well.
remote:
remote:          SWLINUX-3604
remote:
remote:          Acked-by: Thomas Gleixner <tglx@linutronix.de>
remote:          Acked-by: Alexandre Courbot <acourbot@nvidia.com>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit ae5165c6bcc91ca129402cc5fffa82656eb4db76)
remote:
remote:      commit 22748012bbaf82b2a765507b1a3804fd7ea7c0eb
remote:      Author: Thomas Gleixner <tglx@linutronix.de>
remote:      Date:   Sat Mar 8 08:59:58 2014 +0100
remote:
remote:          genirq: Provide irq_request/release_resources chip callbacks
remote:
remote:          [Upstream commit f438acdf3de8f19ad2789eddbf52e3280292759b]
remote:
remote:          For certain irq types, e.g. gpios, it's necessary to request resources
remote:          before starting up the irq.
remote:
remote:          This might fail so we cannot use the irq_startup() callback because we
remote:          might call the irq_set_type() callback before that which does not make
remote:          sense when the resource is not available. Calling irq_startup() before
remote:          irq_set_type() can lead to spurious interrupts which is not desired
remote:          either.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
remote:          Cc: Jean-Jacques Hiblot <jjhiblot@traphandler.com>
remote:          Cc: Grant Likely <grant.likely@linaro.org>
remote:          Cc: linux-arm-kernel@lists.infradead.org
remote:          Reviewed-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Link: http://lkml.kernel.org/r/alpine.DEB.2.02.1403080857160.18573@ionos.tec.linutronix.de
remote:          Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit cc8c8e48691674a7b98dda49a8f9461787e608c4)
remote:
remote:      commit 1c677ef2ff4406cdcd5d84d03f8ecc7fe4467ca4
remote:      Author: Mika Westerberg <mika.westerberg@linux.intel.com>
remote:      Date:   Mon Mar 10 14:54:50 2014 +0200
remote:
remote:          gpiolib: Allow GPIO chips to request their own GPIOs
remote:
remote:          [Upstream commit 77c2d7929d7d7f0e391b17f85d2d954912ed0590]
remote:
remote:          Sometimes it is useful to allow GPIO chips themselves to request GPIOs they
remote:          own through gpiolib API. One use case is ACPI ASL code that should be able
remote:          to toggle GPIOs through GPIO operation regions.
remote:
remote:          We can't use gpio_request() because it will pin the module to the kernel
remote:          forever (it calls try_module_get()). To solve this we move module refcount
remote:          manipulation to gpiod_request() and let __gpiod_request() handle the actual
remote:          request. This changes the sequence a bit as now try_module_get() is called
remote:          outside of gpio_lock (I think this is safe, try_module_get() handles
remote:          serialization it needs already).
remote:
remote:          Then we provide gpiolib internal functions gpiochip_request/free_own_desc()
remote:          that do the same as gpio_request() but don't manipulate module refrence
remote:          count. This allows the GPIO chip driver to request and free descriptors it
remote:          owns without being pinned to the kernel forever.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Mika Westerberg <mika.westerberg@linux.intel.com>
remote:          Reviewed-by: Alexandre Courbot <acourbot@nvidia.com>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit b419a537c1b1c78cb53d9f2e27a1750a08cf8589)
remote:
remote:      commit 5c26cf1c76917e37b61052a5c24ed130ec237ced
remote:      Author: Linus Walleij <linus.walleij@linaro.org>
remote:      Date:   Fri Mar 7 10:12:49 2014 +0800
remote:
remote:          gpio: remove misleading documentation
remote:
remote:          [Upstream commit f438acdf3de8f19ad2789eddbf52e3280292759b]
remote:
remote:          It is currently debated where the functions to lock a certain
remote:          GPIO line as used for IRQs should be called. Delete all
remote:          misleading documentation.
remote:
remote:          SWLINUX-3604
remote:
remote:          Reported-by: Thomas Gleixner <tglx@linutronix.de>
remote:          Cc: Jean-Jacques Hiblot <jjhiblot@traphandler.com>
remote:          Acked-by: Alexandre Courbot <acourbot@nvidia.com>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit ed381afb161cc486015d4df31efa562009e5e51d)
remote:
remote:      commit 86d3fd3dca70dba137accfcc20e0083441c3ba9c
remote:      Author: Richard Genoud <richard.genoud@gmail.com>
remote:      Date:   Tue Feb 11 17:25:35 2014 +0100
remote:
remote:          gpio: update path to documentation
remote:
remote:          [Upstream commit bb1e88ccb771492ac908ac295ec135efa1d53093]
remote:
remote:          ref #SWLINUX-3604
remote:
remote:          Signed-off-by: Richard Genoud <richard.genoud@gmail.com>
remote:          Signed-off-by: Jiri Kosina <jkosina@suse.cz>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit c2d2ef9c6caa06129a22da9c55b93c5cc2e53c75)
remote:
remote:      commit 01642d0b3a94561cec8f2272ef233d287302532f
remote:      Author: Alexandre Courbot <acourbot@nvidia.com>
remote:      Date:   Sun Feb 9 17:43:54 2014 +0900
remote:
remote:          gpiolib: add gpiochip_get_desc() driver function
remote:
remote:          [Upstream commit bb1e88ccb771492ac908ac295ec135efa1d53093]
remote:
remote:          Some drivers dealing with a gpio_chip might need to act on its
remote:          descriptors directly; one example is pinctrl drivers that need to lock a
remote:          GPIO for being used as IRQ using gpiod_lock_as_irq().
remote:
remote:          This patch exports a gpiochip_get_desc() function that returns the
remote:          GPIO descriptor at the requested index. It also sweeps the
remote:          gpio_to_chip() function out of the consumer interface since any holder
remote:          of a gpio_chip reference can manipulate its GPIOs way beyond what a
remote:          consumer should be allowed to do.
remote:
remote:          As a result, gpio_chip is not visible anymore to simple GPIO consumers.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Alexandre Courbot <acourbot@nvidia.com>
remote:          Reviewed-by: Mika Westerberg <mika.westerberg@linux.intel.com>
remote:          Reviewed-by: Jean-Jacques Hiblot <jjhiblot@traphandler.com>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit d3746d7959ee314df2a82453a1aab96b883c21e5)
remote:
remote:      commit fa4c97c122d76805034c7cb3caf71c47fa189bda
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Tue May 19 18:04:34 2015 -0700
remote:
remote:          test: add brcmstb memory api tester
remote:
remote:          SWLINUX-3504
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 3daf94837bd8aca3fefdc40c5387ea3b3caa1400)
remote:
remote:      commit bfbd01d8142cc205ac9d49690927ec9ce1ddc000
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon May 18 19:10:20 2015 -0700
remote:
remote:          brcmstb: document brcm_cma and bmem parameters
remote:
remote:          SWLINUX-3504
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit f85d575c72e395ec75abe1da1feb949eeec6b5e8)
remote:
remote:      commit d78d76c9a3e58bdb029c77f758579215e8ec20d2
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon May 18 19:22:19 2015 -0700
remote:
remote:          brcmstb: bmem: Add default reservation
remote:
remote:          The default reservation matches that which was previously the default
remote:          reservation for cma_driver:
remote:
remote:          if only lowmem:
remote:            reserved 80%
remote:          else:
remote:            reserve all but 256 MiB in 32-bit space
remote:            in >32-bit space, reserve 64 MiB per bank
remote:
remote:          SWLINUX-3504
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 66dc387e14502334c6da14c77f059de11d909624)
remote:
remote:      commit 4ae6fa06fd9535d0e0542218d5d7921fe0ca23c3
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Fri May 15 19:24:15 2015 -0700
remote:
remote:          cma: brcm-cma: no default reserve, add brcm_cma boot param
remote:
remote:          We no longer create any CMA reserved areas by default, as they will be bmem
remote:          instead.  Add a brcm_cma parameter that allows specifying locations where a cma
remote:          region should be created.
remote:
remote:          Example: passing in 'brcm_cma=512M@1024M brcm_cma=512M@1536M' will result in
remote:          two CMA regions 512 MiB in size, one at 0x40000000 and one at 0x60000000.
remote:
remote:          SWLINUX-3504
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 1b4fc982f75080a83fd5c3a8813d072702b9877c)
remote:
remote:      commit 67858446a7cb12a5b6ec65e697e40139f5fe86ba
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Fri May 15 17:25:14 2015 -0700
remote:
remote:          mach-bcm: rename brcmstb.h to headsmp-brcmstb.h
remote:
remote:          Since brcmstb.h only contains a single declaration for headsmp-brcmstb.h,
remote:          rename accordingly.
remote:
remote:          SWLINUX-3504
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 2ed1e3eec72c5dace11debba141d7c4efe59fef2)
remote:
remote:      commit e550ad175f2639b760375040f30c28d240e1432a
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Fri May 15 17:12:05 2015 -0700
remote:
remote:          brcmstb: move cma/bmem reserve and register decls to their headers
remote:
remote:          Since cma_driver and bmem are both outside of arch code, move the declarations
remote:          for their _reserve (and for cma, _register) functions into their respective
remote:          header files.
remote:
remote:          SWLINUX-3611, SWLINUX-3504
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit dc095fb8f347606c6720125187528a738ed2f437)
remote:
remote:      commit b182c2dc41123396b34eeb49c2cfa3a4667f4bc1
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Thu May 14 20:15:52 2015 -0700
remote:
remote:          soc: brcmstb: Add memory API for middleware
remote:
remote:          Adds a way for the Broadcom middleware (nexus) to be able to get the
remote:          information it needs about how memory is placed on the system.  This is done by
remote:          the ability to populate a struct brcmstb_memory with info on
remote:          - PA ranges for each memory controller
remote:          - static "bmem" ranges
remote:          - dynamic (CMA in this case) reserved ranges
remote:          - reserved areas unavailable to middleware
remote:
remote:          We use libfdt to read the device tree for info on what memory should actually
remote:          be visible.
remote:
remote:          Moves phys_addr_to_memc from cma_driver to memory API and renames as
remote:          brcmstb_memory_phys_addr_to_memc, since it is now shared by cma_driver and this
remote:          code.
remote:
remote:          This also adds to the platform reserve code in order to grab the memblock
remote:          reserve info during early boot, as the memblock info isn't discarded later.
remote:
remote:          SWLINUX-3504
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit e2beab5376997fbdf8bb14df1b5a0ff079f4b092)
remote:
remote:      commit f39f776af91971af7eab12fd4a8e655ae43abd21
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Fri May 15 16:38:35 2015 -0700
remote:
remote:          soc: brcmstb: Add option BRCMSTB_CMA
remote:
remote:          Adds a config knob for the brcmstb platform-specific reserve/register
remote:          functions, ioctls, kernel API, and O_DIRECT on CMA pages.  This code used to be
remote:          enabled for BRCMSTB && CMA, but these interfaces are probably only wanted when
remote:          using brcmstb middleware, so it'd be good to be able to easily disable it.
remote:
remote:          Enables the new option in brcmstb_defconfig so that we keep the same behavior
remote:          as before.
remote:
remote:          SWLINUX-3611
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 516073dc666b23cff305bca148d98ca1f5c5c1e5)
remote:
remote:      commit a1bc48164c7a05409db696633780f0f1445b930f
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Fri May 15 16:30:15 2015 -0700
remote:
remote:          soc: brcmstb: Move cma_driver from arch/arm/mach-bcm
remote:
remote:          Move brcmstb platform CMA driver from arch/arm/mach-bcm/cma_driver.c to its new
remote:          home at drivers/platform/brcmstb/brcmstb-cma.c.  Note that there are still some
remote:          ARM-specific parts and those parts rely on meminfo which goes away in 3.16.
remote:
remote:          SWLINUX-3611
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 3482ca7f452e553c26e674be1d7b20cec15ce509)
remote:
remote:      commit 321b2618a550b42fbfdbc100a00e4aacdc9f126c
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Tue May 19 17:53:01 2015 -0700
remote:
remote:          ARM: mm: move fdt reservedmem scan before platform reserve
remote:
remote:          This change makes it possible to see what memory was marked as reserved (both
remote:          memreserve entries and reserved-memory nodes) in devicetree before doing
remote:          platform-specific reserve, which is necessary for the brcmstb memory API.
remote:
remote:          SWLINUX-3504
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit d2de3f34701317175164095f794c0678d9d46c70)
remote:
remote:      commit 7c817d7ce47927e63108b2a3e50593bf12bd9406
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Tue May 12 16:31:51 2015 -0700
remote:
remote:          bmem: Add brcmstb platform_device and populate with bmem entries
remote:
remote:          Just putting this in bmem.c for now since the bmem entries will be the only
remote:          things under /sys/devices/platform/brcmstb .
remote:
remote:          SWLINUX-3504
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit e3fca12bc50ed83df77389401c65ff7a5f24882d)
remote:
remote:      commit 53a317e5f430024452bf7a7b22d3889aee335565
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Tue May 12 16:22:52 2015 -0700
remote:
remote:          brcmstb: Allow bmem to be used for boot-time reserve
remote:
remote:          Also some minor whitespace changes and comments for readability.
remote:
remote:          SWLINUX-3504
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 09b00075a0172d50cf508b0e63f4da28f16dfdf9)
remote:
remote:      commit d601eba4d2d8622d4d0c5fedd4c2f59a9df31791
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Fri Dec 19 18:30:53 2014 -0800
remote:
remote:          mm: Allow O_DIRECT for bmem-managed regions
remote:
remote:          Rename cma_get_page to brcmstb_get_page and use it for checking whether the
remote:          underlying page is in either a CMA or BMEM region.
remote:
remote:          SWLINUX-3504
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 04886ea315824ed5321ed2c965b7b7c5ca554b14)
remote:
remote:      commit b8f9d9b145e9c98cada4c5b65f3501da75e00965
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Tue May 12 15:28:24 2015 -0700
remote:
remote:          brcmstb: port bmem from stblinux-3.3-3.5 release
remote:
remote:          Changes include:
remote:
remote:          - Place in drivers/soc/brcmstb
remote:          - Use new Kconfig entry to enable: CONFIG_BRCMSTB_BMEM
remote:          - No default allocation (must specify everything manually).
remote:          - Does not assume that address 0 means "put at end of memc0".  It'll put the
remote:            reserved regions wherever you want.
remote:          - No safeties: you can reserve all of lowmem if you want to watch the kernel
remote:            crash and burn.
remote:          - No special handling for memc1: not needed since we're not overriding the
remote:            default free_bootmem like on mips, but rather providing a saner means via
remote:            bmem_reserve which uses memblock and will be called from arch code.
remote:          - MAX_BMEM_REGIONS bumped from 4 to 8.
remote:          - Uses phys_addr_t instead of unsigned long so we can use >32-bit addresses
remote:            where appropriate.
remote:          - Don't BUG on pud_none in bmem_get_page because we've seen this unnecessarily
remote:            crashes the kernel on ARM when called from GUP (see SWLINUX-3350)
remote:          - Use phys_addr_t for bmem functions
remote:
remote:          SWLINUX-3504
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 0d0c2367c11afe4e956b0327a31502ee03c51576)
remote:
remote:      commit ba3eb6f07e248304b5d85935a481774b04ad39aa
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Fri Apr 24 14:14:41 2015 -0400
remote:
remote:          clk: add configurable clock multiplier
remote:
remote:          This defines a clock multiplier.  It is essentially a mirror of
remote:          clk-divider.c.
remote:
remote:          SWLINUX-3650
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit 8da3c075ec07d2a583f4397808ed99a3f2c9c884)
remote:
remote:      commit 8c4d0ad834c3f403df591038cbf59e11573952c8
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Sat Feb 28 18:09:17 2015 -0800
remote:
remote:          BCMSYSPORT: fix software maintained statistics
remote:
remote:          [Upstream commit 55ff4ea9a853f5ec9a8290c0ccc1d00c97e49f82]
remote:
remote:          Commit 60b4ea1781fd ("net: systemport: log RX buffer allocation and RX/TX DMA
remote:          failures") added a few software maintained statistics using
remote:          BCM_SYSPORT_STAT_MIB_RX and BCM_SYSPORT_STAT_MIB_TX. These statistics are read
remote:          from the hardware MIB counters, such that bcm_sysport_update_mib_counters() was
remote:          trying to read from a non-existing MIB offset for these counters.
remote:
remote:          Fix this by introducing a special type: BCM_SYSPORT_STAT_SOFT, similar to
remote:          BCM_SYSPORT_STAT_NETDEV, such that bcm_sysport_get_ethtool_stats will read from
remote:          the software mib.
remote:
remote:          SWLINUX-3690
remote:
remote:          Fixes: 60b4ea1781fd ("net: systemport: log RX buffer allocation and RX/TX DMA failures")
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 838aed6af382ec702d872701eee3a3b9ec5da913)
remote:
remote:      commit 50f4a00113764c6d7ceba5c09b87f7bf42cf3c50
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu May 28 10:39:12 2015 -0700
remote:
remote:          BCMSYSPORT: Add a check for oversized packets
remote:
remote:          We might occasionally receive oversized packets which will make us invoke
remote:          skb_over_panic() since the length of the packet exceeds the nominal size of
remote:          2KiB we allocated space for. Avoid crashing the kernel, but instead just
remote:          discard this packet and move on to process the next one.
remote:
remote:          SWLINUX-3690
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit deaba2d5df1605260e76f438c8b3ba3e61dcfe21)
remote:
remote:      commit 2d79c64b2ad9fb411996bdd240cfc93fd4f85530
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu May 28 10:36:53 2015 -0700
remote:
remote:          BCMSYSPORT: Switch TX reclaim to NAPI context
remote:
remote:          Matches the upstream driver and provides a small relief on CPU load by allowing
remote:          per-TX queue softirq contexts to be scheduled.
remote:
remote:          SWLINUX-3690
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit ac4a2acc2453bccb87e6a16d1fd1313be305b531)
remote:
remote:      commit de3eb0ad550f3e2d26be3f9dbd5af01324fe7003
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue May 26 16:01:48 2015 -0700
remote:
remote:          BCMSYSPORT: rewrite bcm_sysport_rx_refill
remote:
remote:          Currently, bcm_sysport_desc_rx() calls bcm_sysport_rx_refill() at the end of Rx
remote:          packet processing loop, after the current Rx packet has already been passed to
remote:          napi_gro_receive(). However, bcm_sysport_rx_refill() might fail to allocate a new
remote:          Rx skb, thus leaving a hole on the Rx queue where no valid Rx buffer exists.
remote:
remote:          To eliminate this situation:
remote:
remote:          1. Rewrite bcm_sysport_rx_refill() to retain the current Rx skb on the
remote:          Rx queue if a new replacement Rx skb can't be allocated and DMA-mapped.
remote:          In this case, the data on the current Rx skb is effectively dropped.
remote:
remote:          2. Modify bcm_sysport_desc_rx() to call bcm_sysport_rx_refill() at the
remote:          top of Rx packet processing loop, so that the new replacement Rx skb is
remote:          already in place before the current Rx skb is processed.
remote:
remote:          This is loosely inspired from d6707bec5986 ("net: bcmgenet: rewrite
remote:          bcmgenet_rx_refill()")
remote:
remote:          SWLINUX-3690
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit ced41ec297954d70a43b059bd4f44669e368e1dc)
remote:
remote:      commit af4726e8f62d9e31e9ad0fb090a849f7cc322981
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue May 26 15:47:58 2015 -0700
remote:
remote:          BCMSYSPORT: Pre-calculate and utilize cb->bd_addr
remote:
remote:          There is a 1:1 mapping between the software maintained control block in
remote:          priv->rx_cbs and the buffer address in priv->rx_bds, such that there is
remote:          no need to keep computing the buffer address when refiling a control
remote:          block.
remote:
remote:          SWLINUX-3690
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit b57bdb42ba9221741206bc197ac8bed6cb885f90)
remote:
remote:      commit 25ba541660ff12a7667eebf05317110db48b9b0f
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Wed May 27 16:42:02 2015 -0700
remote:
remote:          ARM: brcmstb: Add default gpio number
remote:
remote:          Out of the brcmstb SoCs that I know, BCM3390 has the largest numbers of GPIOs,
remote:          with its
remote:          - 320 "peripheral" GPIOs
remote:          - 5*32 = 160 UPG GPIOs (counting unused lines, which do get counted)
remote:          - 2*32 = 64 UPG AON GPIOs (counting unused lines)
remote:          Total: 544
remote:
remote:          I suspect that the upper limit will only need to be higher in the future, so
remote:          set it to 1024.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 5c021f12c7401a83cf479a1325476db49a2a259a)
remote:
remote:      commit 8ed500895539b9d2983d1dfb4001c00ce34f0e44
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon May 11 19:55:21 2015 -0700
remote:
remote:          gpio: brcmstb: Allow GPIOs to be wakeup sources
remote:
remote:          Several drivers (e.g. gpio-keys) allow for GPIOs to be configured as wakeup
remote:          sources, and this GPIO controller supports that through a separate interrupt
remote:          path.
remote:
remote:          The de-facto standard DT property "wakeup-source" is checked, since that
remote:          indicates whether the GPIO controller hardware can wake.  Uses the
remote:          IRQCHIP_MASK_ON_SUSPEND irq_chip flag because UPG GIO doesn't have any of its
remote:          own wakeup source configuration.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 0effa31c2e127d372b83f8e69f66f8f9653f0c8d)
remote:
remote:      commit 1a4e62fd90f18e4556da8e14f8b730093c2ff33d
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Wed May 27 17:02:09 2015 -0700
remote:
remote:          gpio: brcmstb: Add interrupt support
remote:
remote:          Create an irq_chip for each GIO block.  Uses chained IRQ handling since
remote:          known uses of this block have a BCM7120 L2 interrupt controller as a
remote:          parent.  Supports interrupts for all GPIOs.
remote:
remote:          In the IRQ handler, we check for raised IRQs for invalid GPIOs and warn
remote:          (ratelimited) if they're encountered.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 2d6323caccbfec3a958ab472980fbc89823f7134)
remote:
remote:      commit 79293ac42c9a2577fde6901a71dcc79afbd7a03e
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Tue May 26 17:08:33 2015 -0700
remote:
remote:          gpio: brcmstb: have GPIOs for invalid lines
remote:
remote:          This will allow for a 1:1 translation of the hardware numberspace to the linux
remote:          IRQ numberspace, i.e.
remote:
remote:          bank0: 0..31
remote:          bank1: 32..63
remote:          ....
remote:          bankN: 32*n..32*n+31
remote:
remote:          so that we can handle and warn on raised IRQs for invalid GPIO lines.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 9ffdd6a793b573ca6d85cb40ec5cdc6b935c8921)
remote:
remote:      commit c83fda724ca45f01f6a935a1c702ff7c40ad3b60
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Tue May 26 15:28:20 2015 -0700
remote:
remote:          dt-bindings: brcmstb-gpio: document properties for wakeup
remote:
remote:          Some brcmstb GPIO controllers can be used to wake from suspend, so use the
remote:          de facto standard property 'wakeup-source' to mark the nodes of controllers
remote:          with that capability.
remote:
remote:          Also document interrupts-extended, which will be used for wakeup handling
remote:          because the interrupt parent for the wake IRQ is different from the regular
remote:          IRQ.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 573d20080d32975e8075e5094d28476e58a30d77)
remote:
remote:      commit cae7a4d450ff7ada0816e858a4d10724635b302a
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Thu May 21 18:04:37 2015 -0700
remote:
remote:          gpio: brcmstb: fix handling for GPIOs above first bank
remote:
remote:          This ensures that we do a valid GPIO number translation, since the default
remote:          of_gpio_simple_xlate is designed for a 1:1 gpio chip to controller mapping,
remote:          but we have an N:1 mapping.
remote:
remote:          Also brings us to match the initial commit adding brcmstb gpio support
remote:          upstream.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit ed0db018c1601a1316fe4080ee197e4770aac53a)
remote:
remote:      commit 42f2d306bd6de5b8aee01c52a4fd0725d4ea244e
remote:      Author: Johan Hovold <johan@kernel.org>
remote:      Date:   Mon Jan 12 17:12:24 2015 +0100
remote:
remote:          gpio: fix memory and reference leaks in gpiochip_add error path
remote:
remote:          [Upstream commit 5539b3c938d64a60cb1fc442ac3ce9263d52de0c]
remote:
remote:          Memory allocated and references taken by of_gpiochip_add and
remote:          acpi_gpiochip_add were never released on errors in gpiochip_add (e.g.
remote:          failure to find free gpio range).
remote:
remote:          Fixes: 391c970c0dd1 ("of/gpio: add default of_xlate function if device
remote:          has a node pointer")
remote:          Fixes: 664e3e5ac64c ("gpio / ACPI: register to ACPI events
remote:          automatically")
remote:          Cc: stable <stable@vger.kernel.org>
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Johan Hovold <johan@kernel.org>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 58bbfdac1ba98f05ad26bd2269b2ce849986105f)
remote:
remote:      commit 0135b15a6620672a9cb081f3c86e2948b4f77229
remote:      Author: Alexandre Courbot <acourbot@nvidia.com>
remote:      Date:   Tue Jul 1 14:45:14 2014 +0900
remote:
remote:          gpio: always compile label support
remote:
remote:          [Upstream commit 9c8318ff7041c8024e3afa22ce77e208138f1da5]
remote:
remote:          Compiling out GPIO labels results in a space gain so small that it can
remote:          hardly be justified. Labels can also be useful for printing debug
remote:          messages, so always keep them around.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Alexandre Courbot <acourbot@nvidia.com>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 86d92d0568ed08891822b782879d35a95be20ac4)
remote:
remote:      commit 3d3576f91c002ae71f8000a4ea1f1ac85301dfd0
remote:      Author: Tony Lindgren <tony@atomide.com>
remote:      Date:   Mon Jun 2 16:13:46 2014 -0700
remote:
remote:          gpio: of: Fix handling for deferred probe for -gpio suffix
remote:
remote:          [Upstream commit 06fc3b70f1dc9c53070fa63a528830f54afc3c38]
remote:
remote:          Commit dd34c37aa3e (gpio: of: Allow -gpio suffix for property names)
remote:          added parsing for both -gpio and -gpios suffix but also changed
remote:          the handling for deferred probe unintentionally. Because of the
remote:          looping the second name will now return -ENOENT instead of
remote:          -EPROBE_DEFER. Fix the issue by breaking out of the loop if
remote:          -EPROBE_DEFER is encountered.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Tony Lindgren <tony@atomide.com>
remote:          Reviewed-by: Thierry Reding <treding@nvidia.com>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit d3dbe79dfd83491e5f0cf08330d1572055441355)
remote:
remote:      commit 614e65af47e09342ebeca8d0462efac0b69b5bb1
remote:      Author: Thierry Reding <treding@nvidia.com>
remote:      Date:   Fri Apr 25 16:54:22 2014 +0200
remote:
remote:          gpio: Fix gpio_get -> gpiod_get typo in kernel-doc
remote:
remote:          [Upstream commit 0879162f33bf8a2fe637a22bb77d20233f486ac4]
remote:
remote:          The function is called gpiod_get(), not gpio_get(). Fix the kernel-doc
remote:          comment to match the name.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Thierry Reding <treding@nvidia.com>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 3eeedee7fdf9f2398efae0035ae012c7f6b8e45e)
remote:
remote:      commit 2173365b51eebe65001a06e16ff9655ad6be7cdc
remote:      Author: Thierry Reding <treding@nvidia.com>
remote:      Date:   Wed Apr 23 17:28:09 2014 +0200
remote:
remote:          gpio: of: Allow -gpio suffix for property names
remote:
remote:          [Upstream commit dd34c37aa3e81715a1ed8da61fa438072428e188]
remote:
remote:          Many bindings use the -gpio suffix in property names. Support this in
remote:          addition to the -gpios suffix when requesting GPIOs using the new
remote:          descriptor-based API.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Thierry Reding <treding@nvidia.com>
remote:          Acked-by: Alexandre Courbot <acourbot@nvidia.com>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 1a2b4b125d5f26c9f4102db170ce31ce09e373c3)
remote:
remote:      commit a7aae731f121987b1f33e22931f133010f28f977
remote:      Author: Alexandre Courbot <acourbot@nvidia.com>
remote:      Date:   Tue Mar 11 15:52:09 2014 +0900
remote:
remote:          gpio: clamp returned values to the boolean range
remote:
remote:          [Upstream commit 23600969ff137cf4c3bc9098f77e381de334e3f7]
remote:
remote:          Nothing prevents GPIO drivers from returning values outside the
remote:          boolean range, and as it turns out a few drivers are actually doing so.
remote:          These values were passed as-is to unsuspecting consumers and created
remote:          confusion.
remote:
remote:          This patch makes the internal _gpiod_get_raw_value() function return a
remote:          bool, effectively clamping the GPIO value to the boolean range no
remote:          matter what the driver does.
remote:
remote:          While we are at it, we also change the value parameter of
remote:          _gpiod_set_raw_value() to bool type before drivers start doing funny
remote:          things with it as well.
remote:
remote:          Another way to fix this would be to change the prototypes of the driver
remote:          interface to use bool directly, but this would require a huge
remote:          cross-systems patch so this simpler solution is preferred.
remote:
remote:          Changes since v1:
remote:          - Change local variable type to bool as well, use boolean values in
remote:            code
remote:          - Also change prototype of open drain/open source setting functions
remote:            since they are only called from _gpiod_set_raw_value()
remote:
remote:          This probably calls for a larger booleanization of gpiolib, but let's
remote:          keep that for a latter change - right now we need to address the issue
remote:          of non-boolean values returned by drivers.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Alexandre Courbot <acourbot@nvidia.com>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 1d14edc2834d36306bbdf341231e1fb61d9c1363)
remote:
remote:      commit d60eb3d3aa036381a709e8069f1f9d992728819e
remote:      Author: Rahul Bedarkar <rahulbedarkar89@gmail.com>
remote:      Date:   Sat Feb 8 11:55:25 2014 +0530
remote:
remote:          GPIO: gpiolib: correct description of gpiod_direction_output
remote:
remote:          [Upstream commit 90df4fe07f9794984bd2dafd1d28acd45318d37f]
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Rahul Bedarkar <rahulbedarkar89@gmail.com>
remote:          Reviewed-by: Alexandre Courbot <acourbot@nvidia.com>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 6e383b9592a35353e4449e6df079510bbf2a80ef)
remote:
remote:      commit 1048d9d4a9d9c5ce7a9d5bd7a4969fec87df13a9
remote:      Author: Philipp Zabel <p.zabel@pengutronix.de>
remote:      Date:   Tue Jan 7 12:34:11 2014 +0100
remote:
remote:          gpio: make gpiod_direction_output take a logical value
remote:
remote:          [Upstream commit ef70bbe1aaa612f75360e5df5952fddec50b7ca9]
remote:
remote:          The documentation was not clear about whether
remote:          gpio_direction_output should take a logical value or the physical
remote:          level on the output line, i.e. whether the ACTIVE_LOW status
remote:          would be taken into account.
remote:
remote:          This converts gpiod_direction_output to use the logical level
remote:          and adds a new gpiod_direction_output_raw for the raw value.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Philipp Zabel <p.zabel@pengutronix.de>
remote:          Reviewed-by: Alexandre Courbot <acourbot@nvidia.com>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 401d2ba97af15ff21f04ec4c1ae4cab2cc261f0d)
remote:
remote:      commit ce74f1f8e07a0ddae576f8d3bda693626775bd3d
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Tue May 12 17:21:55 2015 -0400
remote:
remote:          pci: transition to l23 before turning off power
remote:
remote:          This change modifies slightly the turn off protocol so that it
remote:          is compatible with a Wake-on-LAN configuration.  Although the
remote:          PCIe block does not natively support WOL, the WAKE# of a PCIe
remote:          device may be connected to a GPIO pin and configured to wake
remote:          the device.
remote:
remote:          SWLINUX-3679
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit 61b126c31a7527aabf9ffe6ae5caf9925b8d3eeb)
remote:
remote:      commit 4b677bcc2fb6b071dda922a4a8cd93cb92de015e
remote:      Author: grmoore@altera.com <grmoore@altera.com>
remote:      Date:   Tue Apr 29 10:29:51 2014 -0500
remote:
remote:          mtd: m25p80: add support for flag status register on Micron chips
remote:
remote:          [Loose backport of commit c14deddec1fbd8c9757c53a49dbfd2dc83265f21,
remote:          "mtd: spi-nor: add support for flag status register on Micron chips"
remote:          adapted to work with old m25p80.c]
remote:
remote:          Some new Micron flash chips require reading the flag status register to
remote:          determine when operations have completed.
remote:
remote:          Furthermore, chips with multi-die stacks of the 65nm 256Mb QSPI also
remote:          require reading the status register before reading the flag status
remote:          register.
remote:
remote:          This patch adds support for the flag status register in the n25q512ax3
remote:          and n25q00 Micron QSPI flash chips.
remote:
remote:          SWLINUX-3686
remote:
remote:          Signed-off-by: Graham Moore <grmoore@altera.com>
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 022825e4c61baa09f8b38ff3001a76a84fdf07a2)
remote:
remote:      commit e0949b1640a4b004a952c1b3cff543e99c11c1a8
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Tue May 19 13:07:48 2015 -0400
remote:
remote:          usb: Fix 7366C0 issue with reading ahead into memory holes
remote:
remote:          Setting ESTOP_SCB_REQ for the 7366c0 will prevent the memory
remote:          controller from reading ahead into memory holes. This is fixed
remote:          by getting the latest version of usb-brcm-common-init.c from
remote:          BOLT which has this fix (SWBOLT-1552) along with fixes for
remote:          SWBOLT-1532 and SWBOLT-1531.
remote:
remote:          SWLINUX-3682
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit 4f0ff0311982fb0c3031e7c492aa57e9b66ebe46)
remote:
remote:      commit 860bbacf462b1e2fd486fc83c7b7442b2582d6ff
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Apr 30 16:24:01 2015 -0700
remote:
remote:          BCMSYSPORT: Implement RX coalescing control knobs
remote:
remote:          [Upstream commit d0634868d30ed2c511b45c63efe8eeb85c62c7f6]
remote:
remote:          Similarly to the TX path, allow the RX path to be configured with both
remote:          'rx-frames' and 'rx-usecs' coalescing parameters.
remote:
remote:          SWLINUX-3664
remote:
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 3091afc302834df2a0bab047e180325402c0e33e)
remote:
remote:      commit 8778ab348f14d1bcb71ed20bcdccd297d8c604da
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Apr 30 16:02:08 2015 -0700
remote:
remote:          BCMSYSPORT: Implement TX coalescing control knobs
remote:
remote:          [Upstream commit b1a15e8643c444f9fc185d296e99424618ad1180]
remote:
remote:          Add the ability to configure both 'tx-frames' which controls how many frames
remote:          are doing to trigger a single interrupt and 'tx-usecs' which dictates how long
remote:          to wait before an interrupt should be services.
remote:
remote:          To configure tx-frames and tx-usecs from ethtool:
remote:
remote:          ethtool -C eth0 tx-frames <number>
remote:          ethtool -C eth0 tx-usecs <number>
remote:
remote:          To get the settings:
remote:
remote:          ethtool -c eth0
remote:
remote:          SWLINUX-3664
remote:
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 240b12653f4b0441162aae0360ef85c1503dadc9)
remote:
remote:      commit 75b1d195a00e2e94172063186a2eba7e9e710f2e
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed May 6 12:43:17 2015 -0700
remote:
remote:          BCMGENET: Remove brcmstb.h inclusion
remote:
remote:          Now that there is no platform code outside of the BCMGENET driver that needs to
remote:          set/access BRCM_PHY_TYPE, move these definitions into bcmgenet.h to keep them
remote:          local to the driver.
remote:
remote:          SWLINUX-3246, SWLINUX-2749
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 4c787d27b25a9f6d674b390afb4a4908a56d84cf)
remote:
remote:      commit d5c7c393c5ff42344e71c18ae48f6dba3db2709e
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Apr 9 18:07:51 2015 -0700
remote:
remote:          bsp: Remove fixed PHY parsing code
remote:
remote:          That code is now deprecated and unused since we have automatic registration of
remote:          these fixed PHYs devices now in drivers using them: SYSTEMPORT, GENET and dsa.
remote:
remote:          SWLINUX-3246
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 2ba52a1c2509dbf6f8cd2d02b54ad899e0aa003d)
remote:
remote:      commit f63a42375beadae4efb8714ca688562d73642d0f
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Feb 13 16:08:43 2014 -0800
remote:
remote:          net: phy: update port type for MoCA PHYs
remote:
remote:          [Upstream commit c88838ce89515331ac835a470dc51ddf574770b1]
remote:
remote:          MoCA PHYs are using coaxial (BNC-like) connectors, update the
remote:          transceiver port type when replying to ethtool.
remote:
remote:          SWLINUX-3246
remote:
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit a7da0d6b87a783945fe5cdbc77a0eda4a6283e1a)
remote:
remote:      commit a447d48760e7e99d52d4cdb1c257b5959a229b04
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue May 5 15:21:39 2015 -0700
remote:
remote:          BCMGENET: Recognize MoCA PHY support
remote:
remote:          We need to match the MoCA PHY type the same way we deal with the internal PHY
remote:          (PHY_INTERFACE_MDOE_NA) in order for the GENET - MoCA instances to probe
remote:          successfully.
remote:
remote:          SWLINUX-3246
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 3659971011150fb38e5b63a327ee19e33322c549)
remote:
remote:      commit 2adc6806f380ea107b4d8632f51312f54cca0070
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Feb 13 16:08:42 2014 -0800
remote:
remote:          net: phy: add MoCA PHY type
remote:
remote:          [Upstream commit fd70f72c66eeada848abaed9eb6bbdbaf57764e9]
remote:
remote:          Some Ethernet MACs are connected to a MoCA PHY which will handle the
remote:          low-level job of sending Ethernet frames on the coaxial cable, these
remote:          Ethernet MACs need to know about it to be properly configured.
remote:          Add a new PHY mode "moca" and update the Device Tree parsing logic to
remote:          look for it.
remote:
remote:          SWLINUX-3246
remote:
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 4881b735da3f57eca0bcd44b9f296b97afea77a1)
remote:
remote:      commit aedb8310607bc8a3c6b56c46604bba37696a81f0
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu May 22 09:47:45 2014 -0700
remote:
remote:          BCMGENET: use the new fixed PHY helpers
remote:
remote:          [Upstream commit 9abf0c2b717a7b59d351c2a15e917f1a78cfca02]
remote:
remote:          of_phy_connect_fixed_link() is becoming obsolete, and also required
remote:          platform code to register the fixed PHYs at the specified addresses for
remote:          those to be usable. Get rid of it and use the new of_phy_is_fixed_link()
remote:          plus of_phy_register_fixed_link() helpers to transition over the new
remote:          scheme.
remote:
remote:          SWLINUX-3246
remote:
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 02d9d49ae3be73a96d07b5d39344835692ddf0fc)
remote:
remote:      commit 99acf81c622d883fc19bfef6b08f7746d110d2df
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Apr 9 18:03:47 2015 -0700
remote:
remote:          net: dsa: Utilize new fixed PHY helpers
remote:
remote:          In order to remove some of our fixed PHY Device Tree parsing code in
remote:          arch/arm/mach-bcm/brcmstb.c, convert DSA to use the new helper functions
remote:          recently backported and resynchronize dsa_slave_phy_setup() to make it look
remote:          more like its upstream version.
remote:
remote:          This essentially brings some of the changes introduced in:
remote:
remote:          0d8bcdd383b8 net: dsa: allow for more complex PHY setups
remote:          ce31b31c68e7 net: dsa: allow updating fixed PHY link information
remote:
remote:          SWLINUX-3246
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit b5e555dbe84f0082ca80a246b0811bd190f521ba)
remote:
remote:      commit 1516f97bc33d149655fccc93e4b2f31d0ff302e7
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu May 22 09:47:46 2014 -0700
remote:
remote:          BCMSYSPORT: use the new fixed PHY helpers
remote:
remote:          [Upstream commit 186534a3f83261e4d509ed7721e6a6fdb85ab380]
remote:
remote:          of_phy_connect_fixed_link() is becoming obsolete, and also required
remote:          platform code to register the fixed PHYs at the specified addresses for
remote:          those to be usable. Get rid of it and use the new of_phy_is_fixed_link()
remote:          plus of_phy_register_fixed_link() helpers to transition over the new
remote:          scheme.
remote:
remote:          SWLINUX-3246
remote:
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 1d1315aaca02c218b3d12073f4b0a862bafb92f6)
remote:
remote:      commit fe6bb2a01eedfdc1a6ce8e9224c61a2f7cab182b
remote:      Author: Konrad Zapalowicz <bergo.torino@gmail.com>
remote:      Date:   Thu Jun 5 20:27:42 2014 +0200
remote:
remote:          net: phy: fix sparse warning in fixed.c
remote:
remote:          [Upstream commit 46cfd6ea23b0a207c87269d86457727dc4485708]
remote:
remote:          This commit fixes the following sparse warning:
remote:
remote:          drivers/net/phy/fixed.c:207
remote:              - warning: symbol 'fixed_phy_del' was not declared.
remote:                Should it be static?
remote:
remote:          by adding symbol definition to the phy_fixed.h API file. It is ok to do
remote:          because the function in question is an exported symbol.
remote:
remote:          SWLINUX-3246
remote:
remote:          Signed-off-by: Konrad Zapalowicz <bergo.torino@gmail.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit b2cb3e950fa1669fc1d25deaff2f5cc51a52f41d)
remote:
remote:      commit 39762e9e85cb938bf03ddb957a0546b18247aee3
remote:      Author: Richard Retanubun <rretanubun.work@gmail.com>
remote:      Date:   Fri Jun 20 10:11:07 2014 -0400
remote:
remote:          of: mdio: fixup of_phy_register_fixed_link parsing of new bindings
remote:
remote:          [Upstream commit a72e154107340b868e69e0afeb418c9ec0994317]
remote:
remote:          Fixes commit 3be2a49e5c08 ("of: provide a binding for fixed link PHYs")
remote:
remote:          Fix the parsing of the new fixed link dts bindings for duplex,
remote:          pause, and asym_pause by using the correct device node pointer.
remote:
remote:          SWLINUX-3246
remote:
remote:          Signed-off-by: Richard Retanubun <rretanubun.work@gmail.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit e839d7ce2cf0a64683717c4faae018f1635dadee)
remote:
remote:      commit fba2eb68a811a6814add1b455856ae6fd34fd7a2
remote:      Author: Thomas Petazzoni <thomas.petazzoni@free-electrons.com>
remote:      Date:   Fri May 16 16:14:05 2014 +0200
remote:
remote:          of: provide a binding for fixed link PHYs
remote:
remote:          [Upstream commit 3be2a49e5c08d268f8af0dd4fe89a24ea8cdc339]
remote:
remote:          Some Ethernet MACs have a "fixed link", and are not connected to a
remote:          normal MDIO-managed PHY device. For those situations, a Device Tree
remote:          binding allows to describe a "fixed link" using a special PHY node.
remote:
remote:          This patch adds:
remote:
remote:           * A documentation for the fixed PHY Device Tree binding.
remote:
remote:           * An of_phy_is_fixed_link() function that an Ethernet driver can call
remote:             on its PHY phandle to find out whether it's a fixed link PHY or
remote:             not. It should typically be used to know if
remote:             of_phy_register_fixed_link() should be called.
remote:
remote:           * An of_phy_register_fixed_link() function that instantiates the
remote:             fixed PHY into the PHY subsystem, so that when the driver calls
remote:             of_phy_connect(), the PHY device associated to the OF node will be
remote:             found.
remote:
remote:          These two additional functions also support the old fixed-link Device
remote:          Tree binding used on PowerPC platforms, so that ultimately, the
remote:          network device drivers for those platforms could be converted to use
remote:          of_phy_is_fixed_link() and of_phy_register_fixed_link() instead of
remote:          of_phy_connect_fixed_link(), while keeping compatibility with their
remote:          respective Device Tree bindings.
remote:
remote:          SWLINUX-3246
remote:
remote:          Signed-off-by: Thomas Petazzoni <thomas.petazzoni@free-electrons.com>
remote:          Reviewed-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Tested-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 177729ec47d6123d68414fb8f9d9318df98ff808)
remote:
remote:      commit 585bb80a5e98fb2ce41865c5e7967c7d8d98bdd8
remote:      Author: Thomas Petazzoni <thomas.petazzoni@free-electrons.com>
remote:      Date:   Fri May 16 16:14:04 2014 +0200
remote:
remote:          net: phy: extend fixed driver with fixed_phy_register()
remote:
remote:          [Upstream commit a75951217472c522c324adb0a4de3ba69d656ef5]
remote:
remote:          The existing fixed_phy_add() function has several drawbacks that
remote:          prevents it from being used as is for OF-based declaration of fixed
remote:          PHYs:
remote:
remote:           * The address of the PHY on the fake bus needs to be passed, while a
remote:             dynamic allocation is desired.
remote:
remote:           * Since the phy_device instantiation is post-poned until the next
remote:             mdiobus scan, there is no way to associate the fixed PHY with its
remote:             OF node, which later prevents of_phy_connect() from finding this
remote:             fixed PHY from a given OF node.
remote:
remote:          To solve this, this commit introduces fixed_phy_register(), which will
remote:          allocate an available PHY address, add the PHY using fixed_phy_add()
remote:          and instantiate the phy_device structure associated with the provided
remote:          OF node.
remote:
remote:          SWLINUX-3246
remote:
remote:          Signed-off-by: Thomas Petazzoni <thomas.petazzoni@free-electrons.com>
remote:          Acked-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Acked-by: Grant Likely <grant.likely@linaro.org>
remote:          Tested-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit ddf67252a34999f7a7435935ddaf2845ba3a522c)
remote:
remote:      commit 8f8d3d9d9f1711c50249960fd2e5b47ee0f8d1a9
remote:      Author: Thomas Petazzoni <thomas.petazzoni@free-electrons.com>
remote:      Date:   Fri May 16 16:14:03 2014 +0200
remote:
remote:          net: phy: decouple PHY id and PHY address in fixed PHY driver
remote:
remote:          [Upstream commit 9b744942290c168287013f0a19ff7392f65c8107]
remote:
remote:          Until now, the fixed_phy_add() function was taking as argument
remote:          'phy_id', which was used both as the PHY address on the fake fixed
remote:          MDIO bus, and as the PHY id, as available in the MII_PHYSID1 and
remote:          MII_PHYSID2 registers. However, those two informations are completely
remote:          unrelated.
remote:
remote:          This patch decouples them. The PHY id of fixed PHYs is hardcoded to be
remote:          0x0. Ideally, a really reserved value would be nicer, but there
remote:          doesn't seem to be an easy of making sure a dummy value can be
remote:          assigned to the Linux kernel for such usage.
remote:
remote:          The PHY address remains passed by the caller of phy_fixed_add().
remote:
remote:          SWLINUX-3246
remote:
remote:          Signed-off-by: Thomas Petazzoni <thomas.petazzoni@free-electrons.com>
remote:          Reviewed-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Tested-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit a94f131c208243c7d287222e23f11ba92145d718)
remote:
remote:      commit 34b0fd6307e8d7ffbc3a129705a603693f76a217
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Tue May 12 19:19:21 2015 -0700
remote:
remote:          scripts: analyze_oom.py: account for minimum highmem too
remote:
remote:          When looking whether an allocation that's allowed to use highmem should
remote:          succeed, make sure to account for highmem's min watermark.
remote:
remote:          SWLINUX-3677
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit b6964c389a1d0404e2c1c0ed0426e8dd674506c1)
remote:
remote:      commit 2bdbaefa3b5680428c205b1fdbdc8adc74b3888e
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Thu May 7 18:31:28 2015 -0400
remote:
remote:          pci: enable aspm
remote:
remote:          This commit enables PCIe ASPM power states L0s and L1.  However,
remote:          their activation is not turned on by default.  The user
remote:          may override the default ASPM setting by either setting the
remote:          boot parameter 'pcie_aspm.policy' at boot or setting
remote:          '/sys/module/pcie_aspm/parameters/policy' at runtime.
remote:
remote:          SWLINUX-3673
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit 978edaf832a784fdb786b8008364dc81792e2762)
remote:
remote:      commit f95e42af80f4fb03ff39dbc576aea9b829a08b12
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Fri May 8 14:17:44 2015 -0700
remote:
remote:          scripts: analyze_oom.py incorrectly ignores highmem CMA
remote:
remote:          The has_cma variable is used to determine whether there is a need to account
remote:          for CMA in the OOM analysis (i.e. whether it has to worry about movable vs
remote:          unmovable pages).  Unfortunately, since it wasn't reporting for highmem, the
remote:          resulting analysis is wrong if the only free cma pages are in highmem.  Fix
remote:          that.
remote:
remote:          fixes #SWLINUX-3677
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 60330933099e7ad1fe4a76c96fe0e26d42c72869)
remote:
remote:      commit d8883f50801ca08bddb37b69cd92028dfd520a4f
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu May 7 16:40:23 2015 -0700
remote:
remote:          net: dsa: bcm_sf2: propagate carrier down states
remote:
remote:          There is currently a complex race condition with fixed PHYs utilizing a
remote:          link_update callback in how they propagate link down notifications. We may, or
remote:          may not, under certain circumstances reach the PHY_NOLINK state in the PHY state
remote:          machine, which means that we will never call netif_carrier_off() for that
remote:          interface. This is a problem for link monitoring applications since they will
remote:          never learn about the "NO-CARRIER" flag.
remote:
remote:          Fix that by explicitly calling netif_carrier_off() in our link_update callback
remote:          to propagate carrier state changes accordingly.
remote:
remote:          SWLINUX-3672
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 50bc6335ed5d2731ffd77c20a9c5f6fe5482480a)
remote:
remote:      commit b11ba395efe71a90ef9e75c92f93c805eed6b12d
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed May 6 10:58:31 2015 -0700
remote:
remote:          bsp: Remove 7366b0 BCHP headers
remote:
remote:          SWLINUX-3669
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit d0aeb968ef123f943a5e46de99ee4d3ffc4bba5c)
remote:
remote:      commit 8803f370749c7c762ea932c14208232e1621cf05
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed May 6 10:57:30 2015 -0700
remote:
remote:          bsp: Remove support for 7366B0
remote:
remote:          SWLINUX-3669
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit f384e8afc4f48c36d7fffae3a5d6e1456e79e65c)
remote:
remote:      commit 52970c030de04ce0c0573ebd3e2c74781fdb46f3
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed May 6 10:56:04 2015 -0700
remote:
remote:          drivers: Remove support for 7366b0
remote:
remote:          SWLINUX-3669
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 67743ca2a13e204b0432f8b76b36ca7917e0df09)
remote:
remote:      commit fb368e62154c57482a8c3124263bbc54bf1cdfe7
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Tue Apr 21 18:56:41 2015 -0700
remote:
remote:          soc: brcmstb: wktmr: release wakeup resources on device removal
remote:
remote:          A device can already have wakeup_source info attached to it when it is
remote:          probed (either via sysfs, or due to improper cleanup when
remote:          unbinding/binding). So like every other driver which uses this API,
remote:          let's *not* bail on errors during device_wakeup_enable(). Usually
remote:          (always?) this just means that the device was already wakeup-enabled.
remote:
remote:          Resolves errors like this:
remote:
remote:             # echo f0417480.waketimer > /sys/bus/platform/drivers/brcm-waketimer/unbind
remote:             # echo f0417480.waketimer > /sys/bus/platform/drivers/brcm-waketimer/bind
remote:             [   22.512742] brcm-waketimer: probe of f0417480.waketimer failed with error -17
remote:
remote:          SWLINUX-3638
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit ffe51459c8dcf20398cd32cfac2ea5451a00d839)
remote:
remote:      commit 1086dec76d44ef49b3e88479687c2714cfa63968
remote:      Author: Tobias Klauser <tklauser@distanz.ch>
remote:      Date:   Tue Sep 23 15:19:41 2014 +0200
remote:
remote:          net: bcmgenet: Fix compile warning
remote:
remote:          bcmgenet_wol_resume() is only used in bcmgenet_resume(), which is only
remote:          defined when CONFIG_PM_SLEEP is enabled. This leads to the following
remote:          compile warning when building with !CONFIG_PM_SLEEP:
remote:
remote:          drivers/net/ethernet/broadcom/genet/bcmgenet.c:1967:12: warning: bcmgenet_wol_resumed defined but not used [-Wunused-function]
remote:
remote:          Since bcmgenet_resume() is the only user of bcmgenet_wol_resume(), fix
remote:          this by directly inlining the function there.
remote:
remote:          Reported-by: Geert Uytterhoeven <geert@linux-m68k.org>
remote:          Signed-off-by: Tobias Klauser <tklauser@distanz.ch>
remote:          Acked-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          (cherry picked from commit 0a29b3dafbb2fc46421cc2950523814c7c6c8bfb)
remote:          [Brian: loose cherry-pick; there were a few conflicts]
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:
remote:          (cherry picked from commit 0ac5f8a9cd3e4b84d3ed7f0eadec78741aadbec8)
remote:
remote:      commit fdf04af2863569bfc8b3ecdba86b7a528b16dd9b
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Tue Apr 21 18:51:30 2015 -0700
remote:
remote:          bmoca: compile when !CONFIG_PM
remote:
remote:            CC      drivers/char/bmoca.o
remote:          drivers/char/bmoca.c: In function moca_wol_isrd:
remote:          drivers/char/bmoca.c:2589:3: error: implicit declaration of function moca_set_pm_stated [-Werror=implicit-function-declaration]
remote:             moca_set_pm_state(priv, MOCA_RESUMING_ASSERT);
remote:             ^
remote:
remote:          To resolve this, just give an empty definition for !CONFIG_PM. This is
remote:          harmless.
remote:
remote:          SWLINUX-3638
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 4f2e99279927e23f7b502936667dc8417e654a5b)
remote:
remote:      commit d5e4aa6b07ebd2fef458677bb7815447195d616d
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Tue Apr 21 18:48:35 2015 -0700
remote:
remote:          pci: fix build with !CONFIG_PM
remote:
remote:          Most of the checks in pci-brcmstb.c use C-style checks:
remote:
remote:          	if (IS_ENABLED(CONFIG_PM))
remote:          		...;
remote:
remote:          But these functions are pulled out via the preprocessor, yielding
remote:          compile failures when !defined(CONFIG_PM). Just leave these in
remote:          unconditionally, and the compiler will remove them when they are
remote:          logically unused.
remote:
remote:          SWLINUX-3638
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit ec0a7aa6b98a665ea54c32d09d12338343bb3cc5)
remote:
remote:      commit 40d812c66f9987ac710edcbbe4700f756307c8bb
remote:      Author: Thierry Reding <treding@nvidia.com>
remote:      Date:   Wed Oct 1 13:59:00 2014 +0200
remote:
remote:          net: dsa: Fix build warning for !PM_SLEEP
remote:
remote:          The dsa_switch_suspend() and dsa_switch_resume() functions are only used
remote:          when PM_SLEEP is enabled, so they need #ifdef CONFIG_PM_SLEEP protection
remote:          to avoid a compiler warning.
remote:
remote:          SWLINUX-3638
remote:
remote:          Signed-off-by: Thierry Reding <treding@nvidia.com>
remote:          Acked-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          (cherry picked from commit e506d405ac7d34d03996c97ac68aa2ac010be64a)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit e085ad19e4b4ed94044b8e54eac2ad6161dffb19)
remote:
remote:      commit cef024f546936a16763477b8704edc50c9fd52bd
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Thu Jul 24 17:10:14 2014 -0700
remote:
remote:          bmoca: use devm_*, clean up #ifdefs
remote:
remote:          SWLINUX-3638
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit c137fe7702da3450c6137e25fba9ac0273b67189)
remote:
remote:      commit f2fe706f7ae63365fb7409f33ff8c6528ac0905d
remote:      Author: Ulf Hansson <ulf.hansson@linaro.org>
remote:      Date:   Wed Dec 18 11:59:17 2013 +0100
remote:
remote:          mmc: core: Enable MMC_CAP2_CACHE_CTRL as default
remote:
remote:          [Upstream commit 7536d3f83aa42ba1a3b1c6b30c2b6d94a820cbb2]
remote:
remote:          There are no reason to why the use of a non-volatile internal eMMC
remote:          cache should be controlled by a host cap. Instead let's just enable it
remote:          if the eMMC card supports it.
remote:
remote:          SWLINUX-3656
remote:
remote:          Signed-off-by: Ulf Hansson <ulf.hansson@linaro.org>
remote:          Acked-by: Seungwon Jeon <tgih.jun@samsung.com>
remote:          Signed-off-by: Chris Ball <chris@printf.net>
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit 14ac89e5055bcabcb744bb39c61e0786612df90e)
remote:
remote:      commit c13f46ece1460a41c10aed8f6dfa4af833469552
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Wed Apr 1 17:20:10 2015 -0700
remote:
remote:          brcmstb_defconfig: Enable GPIOLIB
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit f1367f20f7c0e9f74a6d4a8154b225f9745dcb6a)
remote:
remote:      commit bb7fc2c88ae22c63e32e8dcb96ae37c60a473025
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Fri Mar 20 14:54:31 2015 -0700
remote:
remote:          gpio: Add GPIO support for Broadcom STB SoCs
remote:
remote:          This adds support for the GPIO IP "UPG GIO" used on Broadcom STB SoCs
remote:          (BCM7XXX and some others).  Uses basic_mmio_gpio to instantiate a
remote:          gpio_chip for each bank.  The driver assumes that it handles the base
remote:          set of GPIOs on the system and that it can start its numbering sequence
remote:          from 0, so any GPIO expanders used with it must dynamically assign GPIO
remote:          numbers after this driver has finished registering its GPIOs.
remote:
remote:          Does not implement the interrupt-controller portion yet, will be done in a
remote:          future commit.
remote:
remote:          SWLINUX-3604
remote:
remote:          List-usage-fixed-by: Brian Norris <norris@broadcom.com>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 7c1aa70d23ede9be118724b88d1fff11da0630b2)
remote:
remote:      commit 7f4f1708bf7351c12785d79243cb10361c46136f
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Wed Apr 1 15:28:41 2015 -0700
remote:
remote:          dt-bindings: add brcmstb-gpio GPIO binding
remote:
remote:          Add binding for Broadcom STB "UPG GIO" GPIO controller.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit f8a0d3737c0056029ef9b8ac20ac11563881a000)
remote:
remote:      commit b77372762bc586d9a8c89288cc8cae1ccc9b3f99
remote:      Author: Heiko Stuebner <heiko.stuebner@bqreaders.com>
remote:      Date:   Wed Feb 12 01:00:34 2014 +0100
remote:
remote:          of: add functions to count number of elements in a property
remote:
remote:          [Upstream commit ad54a0cfbeb4bd4033d09017557ccbc423f9d5ff]
remote:
remote:          The need to know the number of array elements in a property is
remote:          a common pattern. To prevent duplication of open-coded implementations
remote:          add a helper static function that also centralises strict sanity
remote:          checking and DTB format details, as well as a set of wrapper functions
remote:          for u8, u16, u32 and u64.
remote:
remote:          SWLINUX-3604
remote:
remote:          Suggested-by: Mark Rutland <mark.rutland@arm.com>
remote:          Signed-off-by: Heiko Stuebner <heiko.stuebner@bqreaders.com>
remote:          Acked-by: Rob Herring <robh@kernel.org>
remote:          Acked-by: Grant Likely <grant.likely@linaro.org>
remote:          Acked-by: Mark Rutland <mark.rutland@arm.com>
remote:          Signed-off-by: Mark Brown <broonie@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 7294b41058f32ce6e817d8a823b45cf800a95e2b)
remote:
remote:      commit 0f30c197345dc4de9437c36cffe8b17823f1cd1b
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Tue Apr 28 10:12:13 2015 -0400
remote:
remote:          USB: Get usb-brcm-common-init.c back in sync with the BOLT version
remote:
remote:          The usb-brcm-common-init.c was written to be shared, without change,
remote:          between BOLT and the kernel. The file has gotten out of sync with
remote:          some new changes added to the kernel version and some new changes
remote:          added to the BOLT version. This will get the file back in sync.
remote:          The changes include a 74371a0 workaround that requires the use
remote:          of the XHCI EX (extended capabilities) register block which
remote:          has been added to the XHCI device tree entry by BOLT.
remote:
remote:          SWLINUX-3624
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit 0418378bbb5e838d659c6f92c004827888402e76)
remote:
remote:      commit 269ddce30d68cb192d002d04dfa7f007b20df662
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Thu Apr 23 14:25:57 2015 -0700
remote:
remote:          uapi: export cma_driver.h
remote:
remote:          In case we want to use 'make headers_install'.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit f72e3a3bf73527b725e6ee21c0f7d470c2e246c6)
remote:
remote:      commit eba0bd39c7151c05a00538aeacb2b8380e385a49
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Apr 22 15:53:29 2015 -0700
remote:
remote:          Bump version to 3.14-1.6pre
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit a4b0b0fe1edb64f1f91646a7928440fdf26b54b6)
remote:
remote:      commit 5fc287fca6b4667036a9377c47868ecf3a35a018
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue Apr 21 15:50:32 2015 -0700
remote:
remote:          brcmstb_defconfig: Disable KEXEC
remote:
remote:          Kexec is not consistently and reliably working on all platforms, disable it for
remote:          now until it gets properly fixed and safe to get re-enabled.
remote:
remote:          SWLINUX-3639
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 3880908c9b095cb7d30a74f8dc7614a598dabeba)
remote:
remote:      commit 139d37399b546daf204229d7c5a2d62f4892a957
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Apr 15 15:17:26 2015 -0700
remote:
remote:          ARM: B15: Enable read-ahead cache by default
remote:
remote:          Now that our middleware has been migrated to using
remote:          __cpuc_flush_kern_cache_all() which is properly dealing with the B15 RAC
remote:          flushing, we can turn on this option by default
remote:
remote:          SWLINUX-3639
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 8ac0374c06e1488405f0b9dc0c254d99985102a9)
remote:
remote:      commit af5639a2e41922cdc84d61eafbf03534fb78374f
remote:      Author: Florian Fainelli <f.fainelli@gmail.com>
remote:      Date:   Mon Mar 16 17:46:42 2015 -0700
remote:
remote:          ARM: B15: Register reboot notifier for KEXEC
remote:
remote:          During kexec, we will go through kernel_kexec() -> syscore_suspend() if
remote:          CONFIG_KEXEC_JUMP is set, if not, down the road we end-up calling
remote:          kernel_restart_prepare() which invokes reboot notifiers with
remote:          SYS_RESTART.
remote:
remote:          We register a reboot notifier to make sure that the B15 read-ahead cache
remote:          is disabled, since it is another level of instruction and data cache,
remote:          and we want to avoid any potential side effects with booting a new
remote:          kernel with such a cache still turned on.
remote:
remote:          SWLINUX-3639
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 02c05a65e164cf0987b7912b41e03ab5f3947923)
remote:
remote:      commit f31d78c8cf92181478601f591144182195a48a8e
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Thu Apr 16 17:05:33 2015 -0700
remote:
remote:          brcmstb_defconfig: enable user_space thermal governor by default
remote:
remote:          As of now, it is important to always use the 'user_space' thermal
remote:          policy, so that user-space will receive trip point uevent notifications.
remote:          If it ever comes down to needing to support both a kernel and user-space
remote:          governor, we might need to move the kobject_uevent_env() calls into
remote:          brcmstb_thermal and switch back to, e.g., step_wise.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 0d11680dbc714b13a53bbd6f8885db6d64b85959)
remote:
remote:      commit be1f699a4419bc5519c1d206e0c6dd3624b7e7bf
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Thu Apr 16 16:34:41 2015 -0700
remote:
remote:          thermal: brcmstb_thermal: add of-thermal and hardware trigger support
remote:
remote:          We can make use of the upstream thermal device tree bindings to
remote:          configure trip points for us. We can also make use of the proposed
remote:          .set_trips() callback, which was backported in a previous patch (not
remote:          upstream yet) to utilize our high/low interrupts most economically.
remote:
remote:          Because we supplied some basic support for temperature readins
remote:          previously, where this driver registered its own standalone thermal zone
remote:          (without using the of-thermal framework), I have migrated the existing
remote:          support into a fall-back 'brcmstb_thermal_zone_probe()' option. This
remote:          can help transition between device trees that have the 'thermal-zones'
remote:          node set up and those that don't. We should schedule this to be removed
remote:          quickly in a future release.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit e48cd6d70081a5ebfc7fafc78be9e22569521be2)
remote:
remote:      commit 20baf7a19edbc55cd12cc97d88d6e2111d679653
remote:      Author: Brian Norris <computersforpeace@gmail.com>
remote:      Date:   Wed Apr 1 17:03:13 2015 -0700
remote:
remote:          thermal: user_space: add trip point number and temperature to uevent data
remote:
remote:          Now that the thermal core supplies trip notifications when
remote:          *crossing* a trip point, and only for that single trip point, it is
remote:          useful to provide this information in the uevent metadata. That way, a
remote:          user-space governor can figure out this information directly, without
remote:          any guessing. This also eliminates a potential race, where the
remote:          temperature may have changed between the time a hardware trip was fired
remote:          and the time it is received by the governor.
remote:
remote:          This patch should be submitted upstream. It's possible this will not
remote:          suit the general needs of other thermal users, and so we might consider
remote:          integrating this directly into brcmstb_thermal instead.
remote:
remote:          Prior RFC submission, which received no comments (4/17/15):
remote:          http://thread.gmane.org/gmane.linux.kernel/1922796
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 2b2274fd832628edac2714890ddf5076fa886d52)
remote:
remote:      commit b265158fadd2185008ff7691322f2a209b2d1382
remote:      Author: Brian Norris <computersforpeace@gmail.com>
remote:      Date:   Thu Apr 16 15:48:49 2015 -0700
remote:
remote:          thermal: report trips only when crossed
remote:
remote:          For some reason, the existing infrastructure will notify *all* trip
remote:          points whenever any driver calls thermal_zone_device_update_temp(). This
remote:          is unfortunate for users of hardware-backed trip points, since that
remote:          means we lose all information about which trip point triggered the
remote:          update, if any.
remote:
remote:          Instead, let's only call handle_thermal_trip() when we've crossed a
remote:          trip.
remote:
remote:          This should be submitted upstream, possibly with some rework to make it
remote:          more generically useful. If nothing else, it might generate some
remote:          explanation as to why the trip point notifications are currently so
remote:          peculiar, as described above.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 07bd877f9207c9b39149f8807d18a3e806157698)
remote:
remote:      commit a231663b668fcc1b166c39bc3a88a219e7d29a23
remote:      Author: Brian Norris <computersforpeace@gmail.com>
remote:      Date:   Thu Apr 16 15:37:37 2015 -0700
remote:
remote:          thermal: add thermal_zone_device_update_temp() API
remote:
remote:          Allow drivers to report a particular update temperature.
remote:
remote:          This is important for hardware-supported trip points. On such hardware,
remote:          there is a potential for inconstency in the following sequence:
remote:
remote:          (1) hardware interrupt
remote:          (2) themal_zone_device_update(),
remote:          (3) zone->get_temp()
remote:
remote:          Between (1) and (3), the temperature might change a bit.
remote:
remote:          So, rather than add in caching to the sensor driver to record the
remote:          temperature at (1), just allow the driver to pass it directly through.
remote:
remote:          This should be submitted upstream.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 108133d196afc29f13ad6e78201dd6fc7203cac6)
remote:
remote:      commit 5642a16565b7b5f0afe893933b0d265c096eafa1
remote:      Author: Sascha Hauer <s.hauer@pengutronix.de>
remote:      Date:   Thu Mar 26 16:54:00 2015 +0100
remote:
remote:          thermal: of: implement .set_trips for device tree thermal zones
remote:
remote:          [Backported preliminary patch. See thread:
remote:          http://thread.gmane.org/gmane.linux.power-management.general/58483/]
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 3cd4d53f0458e701d176c3437dbba4a5d51a9bbc)
remote:
remote:      commit bce42c78595217815ba4cacef4817f020ac21a16
remote:      Author: Sascha Hauer <s.hauer@pengutronix.de>
remote:      Date:   Thu Mar 26 16:53:59 2015 +0100
remote:
remote:          thermal: Add support for hardware-tracked trip points
remote:
remote:          [Backported preliminary patch. See thread:
remote:          http://thread.gmane.org/gmane.linux.power-management.general/58483/]
remote:
remote:          This adds support for hardware-tracked trip points to the device tree
remote:          thermal sensor framework.
remote:
remote:          The framework supports an arbitrary number of trip points. Whenever
remote:          the current temperature is updated, the trip points immediately
remote:          below and above the current temperature are found. A .set_trips
remote:          callback is then called with the temperatures. If there is no trip
remote:          point above or below the current temperature, the passed trip
remote:          temperature will be ULONG_MAX or 0 respectively. In this callback,
remote:          the driver should program the hardware such that it is notified
remote:          when either of these trip points are triggered. When a trip point
remote:          is triggered, the driver should call `thermal_zone_device_update'
remote:          for the respective thermal zone. This will cause the trip points
remote:          to be updated again.
remote:
remote:          If .set_trips is not implemented, the framework behaves as before.
remote:
remote:          This patch is based on an earlier version from Mikko Perttunen
remote:          <mikko.perttunen@kapsi.fi>
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit ea98ecf433f575e8207e92f5f97401cbd4f1d17c)
remote:
remote:      commit 4732709d808a2a0de81cbc5e10c159136d822a9e
remote:      Author: Sascha Hauer <s.hauer@pengutronix.de>
remote:      Date:   Thu Mar 26 16:53:57 2015 +0100
remote:
remote:          thermal: Make struct thermal_zone_device_ops const
remote:
remote:          [Backported preliminary patch. See thread:
remote:          http://thread.gmane.org/gmane.linux.power-management.general/58483/]
remote:
remote:          Now that the of thermal support no longer changes the
remote:          thermal_zone_device_ops it can be const again.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 3ca444889b05815ee5cb89b926ca5135b0c7f70d)
remote:
remote:      commit e78f447ee16d96866610aec3c06304d55c93c1a8
remote:      Author: Sascha Hauer <s.hauer@pengutronix.de>
remote:      Date:   Thu Mar 26 16:53:56 2015 +0100
remote:
remote:          thermal: of: always set sensor related callbacks
remote:
remote:          [Backported preliminary patch. See thread:
remote:          http://thread.gmane.org/gmane.linux.power-management.general/58483/]
remote:
remote:          Now that the thermal core treats -ENOSYS like the callbacks were
remote:          not present at all we no longer have to overwrite the ops during
remote:          runtime but instead can always set them and return -ENOSYS if no
remote:          sensor is registered.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit ba9a02a0e014f15e44968c3b72a76db0f5ad94f9)
remote:
remote:      commit 0e4cc8f5fd991e390202e498a3a9eefa41b51f7f
remote:      Author: Sascha Hauer <s.hauer@pengutronix.de>
remote:      Date:   Thu Mar 26 16:53:55 2015 +0100
remote:
remote:          thermal: Allow sensor ops to fail with -ENOSYS
remote:
remote:          [Backported preliminary patch. See thread:
remote:          http://thread.gmane.org/gmane.linux.power-management.general/58483/]
remote:
remote:          The thermal core uses the existence of the .get_temp, .get_trend and
remote:          .set_emul_temp to detect whether this operation exists and should be
remote:          used or whether it should be emulated in software. This makes problems
remote:          for of-thermal which has to modify the struct thermal_zone_device_ops
remote:          during runtime whenever a sensor is registered or unregistered.
remote:
remote:          Let the core test for -ENOSYS from these callbacks and treat it like
remote:          if the callbacks were not present.
remote:
remote:          This allows of-thermal to always set the sensor related callbacks and
remote:          to make struct thermal_zone_device_ops const again.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 8d174873ac9cbd28ddc3dd3f65d991a37c3d6049)
remote:
remote:      commit 695233c94789d09c7d51d75c10ab02f4a9ed009e
remote:      Author: Sascha Hauer <s.hauer@pengutronix.de>
remote:      Date:   Thu Mar 26 16:53:53 2015 +0100
remote:
remote:          thermal: streamline get_trend callbacks
remote:
remote:          [Backported preliminary patch. See thread:
remote:          http://thread.gmane.org/gmane.linux.power-management.general/58483/]
remote:
remote:          The .get_trend callback in struct thermal_zone_device_ops has the prototype:
remote:
remote:          	int (*get_trend) (struct thermal_zone_device *, int,
remote:          			  enum thermal_trend *);
remote:
remote:          whereas the .get_trend callback in struct thermal_zone_of_device_ops has:
remote:
remote:          	int (*get_trend)(void *, long *);
remote:
remote:          Streamline both prototypes and add the trip argument to the OF callback
remote:          aswell and use enum thermal_trend * instead of an integer pointer.
remote:
remote:          While the OF prototype may be the better one, this should be decided at
remote:          framework level and not on OF level.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 0c59731c01d4e0e8f5c62e6a94f21cf8f5c19704)
remote:
remote:      commit b65a5e091bfdf7c99fef3e0b631b5827b20fced8
remote:      Author: Sascha Hauer <s.hauer@pengutronix.de>
remote:      Date:   Thu Mar 26 16:53:52 2015 +0100
remote:
remote:          thermal: inline only once used function
remote:
remote:          [Backported preliminary patch. See thread:
remote:          http://thread.gmane.org/gmane.linux.power-management.general/58483/]
remote:
remote:          Inline update_temperature into its only caller to make the code
remote:          more readable.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit d04ae45a8fb83493160c458ebf6f9fc816c7018e)
remote:
remote:      commit 0c5cded31df332de58cf70b5407a714db16c84c4
remote:      Author: Sascha Hauer <s.hauer@pengutronix.de>
remote:      Date:   Thu Mar 26 16:53:51 2015 +0100
remote:
remote:          thermal: Fix not emulating critical temperatures
remote:
remote:          [Backported preliminary patch. See thread:
remote:          http://thread.gmane.org/gmane.linux.power-management.general/58483/]
remote:
remote:          commit e6e238c38 (thermal: sysfs: Add a new sysfs node emul_temp for
remote:          thermal emulation)  promised not to emulate critical temperatures,
remote:          but the check for critical temperatures is broken in multiple ways:
remote:
remote:          - The code should only accept an emulated temperature when the emulated
remote:            temperature is lower than the critical temperature. Instead the code
remote:            accepts an emulated temperature whenever the real temperature is lower
remote:            than the critical temperature. This makes no sense and trying to
remote:            emulate a temperature higher than the critical temperature halts the
remote:            system.
remote:          - When trying to emulate a higher-than-critical temperature we should either
remote:            limit the emulated temperature to the maximum non critical temperature
remote:            or refuse to emulate this temperature. Instead the code just silently
remote:            ignores the emulated temperature and continues with the real temperature.
remote:
remote:          This patch moves the test for illegal emulated temperature to the sysfs
remote:          write function so that we can properly refuse illegal temperatures here.
remote:          Trying to write illegal temperatures results in an error message. While
remote:          at it use IS_ENABLED() instead of #ifdefs.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 5fa4d4671626b95262c06e712fb08083d9cfd45d)
remote:
remote:      commit 4ea223753cee2187ca8ab8965aa4e5c4b15fd564
remote:      Author: Sascha Hauer <s.hauer@pengutronix.de>
remote:      Date:   Thu Mar 26 16:53:50 2015 +0100
remote:
remote:          thermal: remove useless call to thermal_zone_device_set_polling
remote:
remote:          [Backported preliminary patch. See thread:
remote:          http://thread.gmane.org/gmane.linux.power-management.general/58483/]
remote:
remote:          When the thermal zone has no get_temp callback then thermal_zone_device_register()
remote:          calls thermal_zone_device_set_polling() with a polling delay of 0. This
remote:          only cancels the poll_queue. Since the poll_queue hasn't been scheduled this
remote:          is a no-op. Remove it.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 7544f03b28cdb91ec56685ca82f2fdfe439822b6)
remote:
remote:      commit c4a7b97c23fffbaef3a6f2484fff76d4186249d5
remote:      Author: Nishanth Menon <nm@ti.com>
remote:      Date:   Fri Feb 13 19:28:02 2015 -0600
remote:
remote:          thermal: Introduce dummy functions when thermal is not defined
remote:
remote:          When CONFIG_THERMAL is not enabled, it is better to introduce
remote:          equivalent dummy functions in the exported header than to
remote:          introduce #ifdeffery in drivers using the function.
remote:
remote:          This will prevent issues such as that reported in:
remote:          http://www.spinics.net/lists/linux-next/msg31573.html
remote:
remote:          While at it switch over to IS_ENABLED for thermal macros
remote:          to allow for thermal framework to be built as framework
remote:          and relevant APIs be usable by relevant drivers as a result.
remote:
remote:          SWLINUX-3599
remote:
remote:          Reported-by: Guenter Roeck <linux@roeck-us.net>
remote:          Signed-off-by: Nishanth Menon <nm@ti.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit 12ca7188468ee29c4e717f73db4bf43c90954fc7)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 6895bc8ce3951d034c0bf730755bc8ee743eea93)
remote:
remote:      commit 91c463ad83a03f967f66da8972a0f9bf58f4a78a
remote:      Author: Lukasz Majewski <l.majewski@samsung.com>
remote:      Date:   Mon Jan 19 12:44:04 2015 +0100
remote:
remote:          thermal: of: Enable thermal_zoneX when sensor is correctly added
remote:
remote:          Up till now the thermal_zone mode was by default "disabled". With this
remote:          patch the default behavior was changed to "enable".
remote:
remote:          One can read the mode at:
remote:          /sys/class/thermal/thermal_zone0/mode
remote:
remote:          SWLINUX-3599
remote:
remote:          Tested-by: Javi Merino <javi.merino@arm.com>
remote:          Reported-by: Abhilash Kesavan <a.kesavan@samsung.com>
remote:          Signed-off-by: Lukasz Majewski <l.majewski@samsung.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit 528012c1f4379738c6307b273d20cc3caa7d08af)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit cfd42749165f47f45ee9eaf8376be6bfdce60cc7)
remote:
remote:      commit a7b927f0541208a0c49afab955ab690a1cbc9041
remote:      Author: Punit Agrawal <punit.agrawal@arm.com>
remote:      Date:   Tue Dec 9 12:22:01 2014 +0000
remote:
remote:          thermal: Fix cdev registration with THERMAL_NO_LIMIT on 64bit
remote:
remote:          The size of unsigned long varies between 32 and 64 bit systems while
remote:          the size of phandle arguments is always 32 bits per parameter.
remote:
remote:          On 64-bit systems, cooling devices registered via of-thermal apis fail
remote:          to bind when the min/max cooling state is specified as
remote:          THERMAL_NO_LIMIT (-1UL) as there is a mis-match between the value read
remote:          from the device tree (32bit) and the pre-processor define (64bit).
remote:
remote:          As we're unlikely to need cooling states larger than 32 bits, and for
remote:          consistency with the size of phandle arguments, explicitly limit
remote:          THERMAL_NO_LIMIT to 32 bits.
remote:
remote:          SWLINUX-3599
remote:
remote:          Reported-by: Hyungwoo Yang <hwoo.yang@gmail.com>
remote:          Acked-by: Zhang Rui <rui.zhang@intel.com>
remote:          Signed-off-by: Punit Agrawal <punit.agrawal@arm.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit a940cb34fed73b2d4809a4575f2981d5927e2c21)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 6204e0484ab0cf78e158321fe0101c75bd5ac10e)
remote:
remote:      commit 8706c31c53d61644564b802d3e19c0f8ae83cd31
remote:      Author: Lukasz Majewski <l.majewski@samsung.com>
remote:      Date:   Tue Nov 18 11:16:30 2014 +0100
remote:
remote:          thermal:core:fix: Check return code of the ->get_max_state() callback
remote:
remote:          The return code from ->get_max_state() callback was not checked during
remote:          binding cooling device to thermal zone device.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Lukasz Majewski <l.majewski@samsung.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit 9a3031dc3e7a5edfeb52ae8951f8bcd927351854)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 496089560c948b796c767abf1492bbf3f84d2f57)
remote:
remote:      commit 78f7681ea905af99bdf44e7cd4bbb5ae09843683
remote:      Author: Lukasz Majewski <l.majewski@samsung.com>
remote:      Date:   Mon Dec 8 18:04:21 2014 +0100
remote:
remote:          thermal: of: Extend current of-thermal.c code to allow setting emulated temp
remote:
remote:          Before this change it was only possible to set get_temp() and get_trend()
remote:          methods to be used in the common code handling passing parameters via
remote:          device tree to "cpu-thermal" CPU thermal zone device.
remote:
remote:          Now it is possible to also set emulated value of temperature for debug
remote:          purposes.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Lukasz Majewski <l.majewski@samsung.com>
remote:          Acked-by: Eduardo Valentin <edubezval@gmail.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit 184a4bf623fa587067851d25435fcb2f41de445b)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 2948540a0196c83bf5dca855b4812a27fd8fec04)
remote:
remote:      commit 893cb50113ecb0f298ebedae4a36c2fc483f52f8
remote:      Author: Lukasz Majewski <l.majewski@samsung.com>
remote:      Date:   Mon Dec 8 18:04:20 2014 +0100
remote:
remote:          thermal: of: Extend of-thermal to export table of trip points
remote:
remote:          This patch extends the of-thermal.c to export trip points for a given
remote:          thermal zone.
remote:
remote:          Thermal drivers should use of_thermal_get_trip_points() method to get
remote:          pointer to table of thermal trip points.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Lukasz Majewski <l.majewski@samsung.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit ce8be7785922de0ef497b20384425ed04f674f9d)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 26a2a3840e8162a3a15c8d13b6bf6e24afa47e28)
remote:
remote:      commit 7cbd1bdded27d3b7a751affbe2c4aad87925cc3e
remote:      Author: Lukasz Majewski <l.majewski@samsung.com>
remote:      Date:   Mon Dec 8 18:04:19 2014 +0100
remote:
remote:          thermal: of: Rename struct __thermal_trip to struct thermal_trip
remote:
remote:          This patch changes name of struct __thermal_trip to thermal_trip and moves
remote:          declaration of the latter to ./include/linux/thermal.h for better visibility.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Lukasz Majewski <l.majewski@samsung.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit ad9914ac3b1f5c12ef2cf1c58a6ddda306fb79d4)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 25bb1bb3bfeaff95b4424515e6513aea1c8165a9)
remote:
remote:      commit 32bbefdae6da94bd242f77b6b50a040f751fe283
remote:      Author: Lukasz Majewski <l.majewski@samsung.com>
remote:      Date:   Mon Dec 8 18:04:18 2014 +0100
remote:
remote:          thermal: of: Extend of-thermal.c to provide check if trip point is valid
remote:
remote:          This patch extends the of-thermal.c to provide check if trip point is
remote:          valid.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Lukasz Majewski <l.majewski@samsung.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit a9bf2cc49d9030e374edb9cc0389512a1a1c357e)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 8f350b6cac51fb92147949e808cd210c00638c54)
remote:
remote:      commit 526bd667035b24990edccb66d22aacb8b9747b13
remote:      Author: Lukasz Majewski <l.majewski@samsung.com>
remote:      Date:   Mon Dec 8 18:04:17 2014 +0100
remote:
remote:          thermal: of: Extend of-thermal.c to provide number of trip points
remote:
remote:          This patch extends the of-thermal.c to provide information about number of
remote:          available trip points.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Lukasz Majewski <l.majewski@samsung.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit 08dab66ec8431a1f744596cfc9f5fb659b623835)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 25819acb4a1913f4cb36844a9af9ea1dbe5f8bec)
remote:
remote:      commit b19dc849b5de82c206192e32a8aa9e9364bab005
remote:      Author: Javi Merino <javi.merino@arm.com>
remote:      Date:   Tue Nov 25 16:00:33 2014 +0000
remote:
remote:          thermal: lock the thermal zone when switching governors
remote:
remote:          Currently, userspace can request a governor change while the governor
remote:          itself is running.  Grab the thermal zone lock when changing the
remote:          governor to prevent this race.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Javi Merino <javi.merino@arm.com>
remote:          Signed-off-by: Zhang Rui <rui.zhang@intel.com>
remote:          (cherry picked from commit b6cc772f64ac7d1917770406844b73a94ca5ef06)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 1575aa1f55957449b53e3303b358844e831b8856)
remote:
remote:      commit 77ba6056e84aae80a6cb199dd74e773fa7c1ed71
remote:      Author: Srinivas Pandruvada <srinivas.pandruvada@linux.intel.com>
remote:      Date:   Wed Nov 12 15:43:29 2014 -0800
remote:
remote:          thermal: core: ignore invalid trip temperature
remote:
remote:          Ignore invalid trip temperature less or equal to zero. Some
remote:          buggy systems have invalid trips, causing system shutdown.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Srinivas Pandruvada <srinivas.pandruvada@linux.intel.com>
remote:          Signed-off-by: Zhang Rui <rui.zhang@intel.com>
remote:          (cherry picked from commit 84ffe3ecc2c8b3effc41c0babd2cc24f1edb2aab)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 8de4cc52c8f27397206ca543cad07411cd41a36e)
remote:
remote:      commit 97f0d05aadee076353770f73afa7e289b1c0af2a
remote:      Author: Eduardo Valentin <edubezval@gmail.com>
remote:      Date:   Fri Nov 7 21:24:39 2014 -0400
remote:
remote:          thermal: of: improve of-thermal sensor registration API
remote:
remote:          Different drivers request API extensions in of-thermal. For this reason,
remote:          additional callbacks are required to fit the new drivers needs.
remote:
remote:          The current API implementation expects the registering sensor driver
remote:          to provide a get_temp and get_trend callbacks as function parameters.
remote:          As the amount of callbacks is growing, this patch changes the existing
remote:          implementation to use a .ops field to hold all the of thermal callbacks
remote:          to sensor drivers.
remote:
remote:          This patch also changes the existing of-thermal users to fit the new
remote:          API design. No functional change is introduced in this patch.
remote:
remote:          SWLINUX-3599
remote:
remote:          Cc: Alexandre Courbot <gnurou@gmail.com>
remote:          Cc: devicetree@vger.kernel.org
remote:          Cc: Grant Likely <grant.likely@linaro.org>
remote:          Cc: Guenter Roeck <linux@roeck-us.net>
remote:          Cc: Jean Delvare <jdelvare@suse.de>
remote:          Cc: linux-kernel@vger.kernel.org
remote:          Cc: linux-pm@vger.kernel.org
remote:          Cc: linux-tegra@vger.kernel.org
remote:          Cc: lm-sensors@lm-sensors.org
remote:          Cc: Rob Herring <robh+dt@kernel.org>
remote:          Cc: Stephen Warren <swarren@wwwdotorg.org>
remote:          Cc: Thierry Reding <thierry.reding@gmail.com>
remote:          Cc: Zhang Rui <rui.zhang@intel.com>
remote:          Acked-by: Guenter Roeck <linux@roeck-us.net>
remote:          Tested-by: Mikko Perttunen <mikko.perttunen@kapsi.fi>
remote:          Reviewed-by: Mikko Perttunen <mikko.perttunen@kapsi.fi>
remote:          Reviewed-by: Alexandre Courbot <acourbot@nvidia.com>
remote:          Reviewed-by: Lukasz Majewski <l.majewski@samsung.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit 2251aef64a38db60f4ae7a4a83f9203c6791f196)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 6f3e452cceabf6667e02c59070b65c3123b4abe1)
remote:
remote:      commit 75a69c88a4a3866072091d1bfc7b9f88feae8550
remote:      Author: Yao Dongdong <yaodongdong@huawei.com>
remote:      Date:   Tue Oct 28 07:40:25 2014 +0000
remote:
remote:          Thermal:Remove usless if(!result) before return tz
remote:
remote:          result is always zero when comes here.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Yao Dongdong <yaodongdong@huawei.com>
remote:          Acked-by: Eduardo Valentin <edubezval@gmail.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit 14015860565a1464193ddb3fbd3f7253a37dfcf9)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit c2563873e49c91baeb1a2c703bf57376332329fa)
remote:
remote:      commit 3db74834166d7c543058b18f71d9fbffc87cbda8
remote:      Author: Vladimir Zapolskiy <vz@mleia.com>
remote:      Date:   Mon Sep 29 02:47:46 2014 +0300
remote:
remote:          thermal: fix multiple disbalanced device node counters
remote:
remote:          Here on function return all temporarily used device nodes shall
remote:          decrement their usage counter. The problems are found with device
remote:          nodes allocated by for_each_child_of_node(), of_parse_phandle()
remote:          and of_find_node_by_name(), fix all problems at once.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Vladimir Zapolskiy <vz@mleia.com>
remote:          Cc: devicetree@vger.kernel.org
remote:          Cc: Zhang Rui <rui.zhang@intel.com>
remote:          Cc: Eduardo Valentin <edubezval@gmail.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit c2aad93c7edd5e1bc26cc1d80c1c00a954f01946)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 5056eb8e8ae125b0f60c78ddf83eb6b8939b517c)
remote:
remote:      commit 1e51740ebf696466fd38620135168738ef3b3cb7
remote:      Author: Lukasz Majewski <l.majewski@samsung.com>
remote:      Date:   Wed Sep 24 10:27:10 2014 +0200
remote:
remote:          thermal: step_wise: fix: Prevent from binary overflow when trend is dropping
remote:
remote:          It turns out that some boards can have instance->lower greater than 0 and
remote:          when thermal trend is dropping it results with next_target equal to -1.
remote:
remote:          Since the next_target is defined as unsigned long it is interpreted as
remote:          0xFFFFFFFF and larger than instance->upper.
remote:          As a result the next_target is set to instance->upper which ramps up to
remote:          maximal cooling device target when the temperature is steadily decreasing.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Lukasz Majewski <l.majewski@samsung.com>
remote:          Signed-off-by: Zhang Rui <rui.zhang@intel.com>
remote:          (cherry picked from commit 26bb0e9a1a938ec98ee07aa76533f1a711fba706)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 2033ac2ff1b2a66846267a14026f8f46ba1467fe)
remote:
remote:      commit a7d897946806c91f063e1fc7f9e6bd65f91fb8aa
remote:      Author: Laxman Dewangan <ldewangan@nvidia.com>
remote:      Date:   Fri Jul 25 15:31:58 2014 +0530
remote:
remote:          thermal: add support to disable thermal zone from DTS
remote:
remote:          Add support to check status of the thermal zone before registering the
remote:          zone. This will help on disabling some non-existing thermal zone from
remote:          the top level DTS file out of common dtsi thermalzone file.
remote:
remote:          For example,
remote:          we have 3 platforms almost same but thermal zones on this platform are
remote:          little bit different. Platform 1 and 2 have three thermal zones and
remote:          platform 3 has two thermal zones. To avoid duplication of the thermal
remote:          zones entries on each DTS file of platforms,we created one common
remote:          dtsi file for thermal zone and included this dtsi file from these
remote:          3 platform's top level dts file.
remote:
remote:          On common thermal zone com dtsi file, all thermal zone are enabled and
remote:          need to disable one of thermal zone on platform 3 dts file. For this, we
remote:          just added entry status = "disabled" for that thermal zone on platform 3
remote:          dts file and along with this change to make it work.
remote:
remote:          This way, we reuse the common file and control the enable/disable of the
remote:          thermal zone from top level dts file.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Laxman Dewangan <ldewangan@nvidia.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit a020279ee611c31ac163c00b21b975e7ecbb2e9c)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit f6e730a5cbc26c99ff88926beab6950611f4d22a)
remote:
remote:      commit 8a123a373086268bd77c239c10ca224f2b460e85
remote:      Author: Punit Agrawal <punit.agrawal@arm.com>
remote:      Date:   Tue Jul 29 11:50:50 2014 +0100
remote:
remote:          thermal: trace: Trace when temperature is above a trip point
remote:
remote:          Create a new event to trace when the temperature is above a trip
remote:          point. Use the trace-point when handling non-critical and critical
remote:          trip pionts.
remote:
remote:          SWLINUX-3599
remote:
remote:          Cc: Zhang Rui <rui.zhang@intel.com>
remote:          Cc: Eduardo Valentin <edubezval@gmail.com>
remote:          Cc: Steven Rostedt <rostedt@goodmis.org>
remote:          Cc: Frederic Weisbecker <fweisbec@gmail.com>
remote:          Cc: Ingo Molnar <mingo@redhat.com>
remote:          Signed-off-by: Punit Agrawal <punit.agrawal@arm.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit 208cd822a19e683bc890f6708786f2420e172d76)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 4ca0f150723bd30784dd77ec6381228aaf07f94a)
remote:
remote:      commit 00d1bcd363d345e1309ff44fe525fd78fc0415c9
remote:      Author: Punit Agrawal <punit.agrawal@arm.com>
remote:      Date:   Tue Jul 29 11:50:49 2014 +0100
remote:
remote:          thermal: trace: Trace when a cooling device's state is updated
remote:
remote:          Introduce and use an event to trace when a cooling device's state is
remote:          updated. This is useful to follow the effect of governor decisions on
remote:          cooling devices.
remote:
remote:          SWLINUX-3599
remote:
remote:          Cc: Zhang Rui <rui.zhang@intel.com>
remote:          Cc: Eduardo Valentin <edubezval@gmail.com>
remote:          Cc: Steven Rostedt <rostedt@goodmis.org>
remote:          Cc: Frederic Weisbecker <fweisbec@gmail.com>
remote:          Cc: Ingo Molnar <mingo@redhat.com>
remote:          Signed-off-by: Punit Agrawal <punit.agrawal@arm.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit 39811569e43a81417bc0ddca3d0c7658c3dcd4b0)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 0d15547fdcdc931033c469434290fb0bdf831369)
remote:
remote:      commit 25cdcf1ac0aa3d2442c94acb8b991ec7bb401841
remote:      Author: Punit Agrawal <punit.agrawal@arm.com>
remote:      Date:   Tue Jul 29 11:50:48 2014 +0100
remote:
remote:          thermal: trace: Trace temperature changes
remote:
remote:          Create a new event to trace the temperature of a thermal zone. Using
remote:          this event trace the temperature changes of the thermal zone every-time
remote:          it is updated.
remote:
remote:          SWLINUX-3599
remote:
remote:          Cc: Zhang Rui <rui.zhang@intel.com>
remote:          Cc: Eduardo Valentin <edubezval@gmail.com>
remote:          Cc: Steven Rostedt <rostedt@goodmis.org>
remote:          Cc: Frederic Weisbecker <fweisbec@gmail.com>
remote:          Cc: Ingo Molnar <mingo@redhat.com>
remote:          Signed-off-by: Punit Agrawal <punit.agrawal@arm.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit 100a8fdbf525bb11796692a713c267be6523a890)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 1c7d60554aeeeb794a75a371f6364c4fea8b4c19)
remote:
remote:      commit 0982b5f511eb9399fa7269edb332ab66357e902c
remote:      Author: Javi Merino <javi.merino@arm.com>
remote:      Date:   Wed Jun 25 11:00:12 2014 +0100
remote:
remote:          thermal: document struct thermal_zone_device and thermal_governor
remote:
remote:          Document struct thermal_zone_device and struct thermal_governor fields
remote:          and their use by the thermal framework code.
remote:
remote:          SWLINUX-3599
remote:
remote:          Cc: Zhang Rui <rui.zhang@intel.com>
remote:          Cc: Eduardo Valentin <edubezval@gmail.com>
remote:          Signed-off-by: Javi Merino <javi.merino@arm.com>
remote:          Signed-off-by: Zhang Rui <rui.zhang@intel.com>
remote:          (cherry picked from commit c708a98f01068fe07f77448031f9f5317423e777)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 81562af40c03a641acfe0e9d91792670f1b505b4)
remote:
remote:      commit 17d0cf1b62abe8f7dfe49795df18d224231e5ff6
remote:      Author: Punit Agrawal <punit.agrawal@arm.com>
remote:      Date:   Tue Jun 3 10:59:58 2014 +0100
remote:
remote:          thermal: Bind cooling devices with the correct arguments
remote:
remote:          When binding cooling devices to thermal zones created from the device
remote:          tree the minimum and maximum cooling states are in the wrong order
remote:          leading to failure to bind.
remote:
remote:          Fix the order of cooling states in the call to
remote:          thermal_zone_bind_cooling_device to fix this.
remote:
remote:          SWLINUX-3599
remote:
remote:          Cc:Zhang Rui <rui.zhang@intel.com>
remote:          Signed-off-by: Punit Agrawal <punit.agrawal@arm.com>
remote:          Reviewed-by: Stephen Boyd <sboyd@codeaurora.org>
remote:          Signed-off-by: Zhang Rui <rui.zhang@intel.com>
remote:          (cherry picked from commit dd354b84d47ec8ca53686bdb3cc1aecdeb75bef5)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 0f9244b0f10f74b39eeb3cef7d8a6f7ef10ee5e9)
remote:
remote:      commit c6f70dfbc4cca80172839d2e63c1a01f98f2640d
remote:      Author: Stephen Boyd <sboyd@codeaurora.org>
remote:      Date:   Wed Jun 18 16:32:08 2014 -0700
remote:
remote:          thermal: Add braces around suspect code
remote:
remote:          It looks like this code is missing braces, otherwise the if
remote:          statement shouldn't have been indented. Fix it.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Stephen Boyd <sboyd@codeaurora.org>
remote:          Signed-off-by: Zhang Rui <rui.zhang@intel.com>
remote:          (cherry picked from commit ca9521b770c988bb6bb8eea1241f7a487dab6ff1)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 801cf455af25897d0a52bc000fb5165ac61d18d2)
remote:
remote:      commit 1dd505957c67d313b0bb29860a518270e6dd6582
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 13 16:08:19 2015 -0700
remote:
remote:          clk: divider: handle integer overflow when dividing large clock rates
remote:
remote:          [Backported version of patch from:
remote:          http://article.gmane.org/gmane.linux.power-management.general/59004
remote:          Some discussion at:
remote:          lkml.kernel.org/g/20150413201433.GQ32500@ld-irv-0074]
remote:
remote:          On 32-bit architectures, 'unsigned long' (the type used to hold clock
remote:          rates, in Hz) is often only 32 bits wide. DIV_ROUND_UP() (as used in,
remote:          e.g., commit b11d282dbea2 "clk: divider: fix rate calculation for
remote:          fractional rates") can yield an integer overflow on clock rates that are
remote:          not (by themselves) too large to fit in 32 bits, because it performs
remote:          addition before the division. See for example:
remote:
remote:            DIV_ROUND_UP(3000000000, 1500000000) = (3.0G + 1.5G - 1) / 1.5G
remote:                                                 = OVERFLOW / 1.5G
remote:
remote:          This patch fixes such cases by always promoting the dividend to 64-bits
remote:          (unsigned long long) before doing the division. While this patch does
remote:          not resolve the issue with large clock rates across the common clock
remote:          framework nor address the problems with doing full 64-bit arithmetic on
remote:          a 32-bit architecture, it does fix some issues seen when using clock
remote:          dividers on a 3GHz reference clock to produce a 1.5GHz CPU clock for an
remote:          ARMv7 Brahma B15 SoC.
remote:
remote:          SWLINUX-3583
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 329b193a0390d3e1e93bac9e0065c3f682204139)
remote:
remote:      commit fcad7d6142cdecd202aecfe3e96f1315909fed1e
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 13 15:25:41 2015 -0700
remote:
remote:          clk: clk-divider: pass width to _register_divider()
remote:
remote:          _register_divider() expects a mask width parameter, not the mask itself.
remote:
remote:          Also add extra sanity checking on the device tree, since we really
remote:          expect a contiguous mask, packed to the low bit position.
remote:
remote:          Note that the code in question has not been merged upstream; the
remote:          original code was just grabbed off the mailing list.
remote:
remote:          Perhaps for an upstream submission, this property should be reworked as
remote:          a 'mask-width' parameter instead? It's not clear to me what we would do
remote:          with a non-contiguous mask, as this binding (and driver) was not really
remote:          designed for it. And I don't think such hardware exists, at least not in
remote:          a sane world.
remote:
remote:          SWLINUX-3583
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 29a7eb5c91224f73d293418e0a96e5aa273799d0)
remote:
remote:      commit 97fb0b6485e8bfa78318f82b7183bfae154bad9c
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 13 17:57:03 2015 -0700
remote:
remote:          soc: brcmstb: fixup copyright attributions
remote:
remote:          This is a trivial file, but nearly copied from Nvidia/Tegra. I meant to
remote:          keep the Nvidia/2014 copyright and add a Broadcom/2015 one.
remote:
remote:          SWLINUX-3579
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit b496b8fc5eaa4d709ab3ba3db6d38a7c72192653)
remote:
remote:      commit 931a3ed02acb6720203a546d814ea524a9bf684f
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Tue Apr 7 15:00:52 2015 -0700
remote:
remote:          soc: brcmstb: wktmr: fixup some checkpatch complaints
remote:
remote:          SWLINUX-3579
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 8c76369c67daf044157bfa638a811fea7f67159a)
remote:
remote:      commit c4b03e0f8b9baa84355052164e8baf02d410c8b1
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 6 17:43:31 2015 -0700
remote:
remote:          ARM: brcmstb_defconfig: add SRPD and wktmr drivers
remote:
remote:          SWLINUX-3579
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 7b63ed88dfad48440434549ecf0ad6be26222a38)
remote:
remote:      commit de9be700667e90e5168f279017c4d475197d00ad
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 6 17:47:22 2015 -0700
remote:
remote:          soc: brcmstb: move wake-up timer driver
remote:
remote:          SWLINUX-3579
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit fd284620c13290cde3017b3c6c4baa529e67d6d1)
remote:
remote:      commit feae3c5a4345b7f4f242afc881f962e61bed093f
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 6 17:39:03 2015 -0700
remote:
remote:          soc: brcmstb: move DDR SRPD driver
remote:
remote:          SWLINUX-3579
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 2dafec412e1af7a438d202538ffab93660ebfb7b)
remote:
remote:      commit 2b7ca13df5bd9aed9d6b9683668abafe34db295d
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 6 17:33:42 2015 -0700
remote:
remote:          soc: brcmstb: make IRQ0, PM support configurable
remote:
remote:          SWLINUX-3579
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit b5e73a4fc911072f264e89e9307c90980507f80e)
remote:
remote:      commit 2d985f88fd1a59ca83b72e50bad473b09591e9fb
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 6 15:10:56 2015 -0700
remote:
remote:          soc: brcmstb: move PM code out of arch/arm/
remote:
remote:          This doesn't quite solve all of our architecture dependencies yet. A few
remote:          remaining issues:
remote:
remote:           * We can't set IRQCHIP_MASK_ON_SUSPEND in gic_arch_extn.flags without a
remote:             machine descriptor
remote:
remote:           * Some of the S2 support code is still written in assembly
remote:
remote:          SWLINUX-3579
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit edf7e9d0cf2c36c242189f90b199f0e98bbd1b00)
remote:
remote:      commit 7048a8943c4a7ab535a5cd25bb8ac733b5753c2f
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 6 15:08:36 2015 -0700
remote:
remote:          soc: brcmstb: move IRQ0 hacks out of arch/arm/
remote:
remote:          To help modularize some more PM code.
remote:
remote:          Give this a new driver, that we can enable only when we can't turn on
remote:          the real IRQ0 driver.
remote:
remote:          SWLINUX-3579
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit e446ea88035a2107166ef200f699020247906bdf)
remote:
remote:      commit a0562add79dc76cda47a9561037077c9b6a002ec
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 6 14:49:13 2015 -0700
remote:
remote:          pm: update "S2" header comment
remote:
remote:          This file supports S3 and S5 as well.
remote:
remote:          SWLINUX-2749
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 52c31c2353415bfd5d9142bfa9726b3c29a01577)
remote:
remote:      commit 73fed911300315aac955aa092cc4aa39a28d54ab
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 6 14:46:43 2015 -0700
remote:
remote:          pm: untie PM code from machine init code
remote:
remote:          In preparation for moving to drivers/soc/brcmstb/, let's make the PM
remote:          init code use arch_initcall(), and imitate the Tegra soc_is_*() guard.
remote:
remote:          SWLINUX-2749
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit c2df895fabb17d4b9c873b7018f1049475f4138b)
remote:
remote:      commit 0cbcb294a9310f72cf0b1dd509f06f56027beb31
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 6 14:08:57 2015 -0700
remote:
remote:          soc: add brcmstb stub
remote:
remote:          SWLINUX-2749
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 5104f902fe74a892b780f11491fca5fe7c4f4892)
remote:
remote:      commit 9db2f7d31570a078e74f5216869b45b889a62765
remote:      Author: Santosh Shilimkar <santosh.shilimkar@ti.com>
remote:      Date:   Wed Apr 23 19:46:17 2014 -0400
remote:
remote:          soc: Introduce drivers/soc place-holder for SOC specific drivers
remote:
remote:          [Upstream commit 3a6e08218f36baa9c49282ad2fe0dfbf001d8f23]
remote:
remote:          Based on earlier thread "https://lkml.org/lkml/2013/10/7/662" and
remote:          discussion at Kernel Summit'2013, it was agreed to create
remote:          'driver/soc' for drivers which are quite SOC specific.
remote:
remote:          Further discussion on the subject is in response to
remote:          the earlier version of the patch is here:
remote:          	http://lwn.net/Articles/588942/
remote:
remote:          Cc: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
remote:          Cc: Kumar Gala <galak@codeaurora.org>
remote:          Cc: Paul Walmsley <paul@pwsan.com>
remote:          Cc: Olof Johansson <olof@lixom.net>
remote:          Cc: Arnd Bergmann <arnd@arndb.de>
remote:          Signed-off-by: Sandeep Nair <sandeep_n@ti.com>
remote:          Signed-off-by: Santosh Shilimkar <santosh.shilimkar@ti.com>
remote:          Signed-off-by: Kumar Gala <galak@codeaurora.org>
remote:
remote:          [Yeah, yeah, it's not bisectable]
remote:
remote:          SWLINUX-2749
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 8457fa799fcdbbf3107d263d2bddf0639f194b86)
remote:
remote:      commit 304df5433a286499e440e7ba6ef45a32ad935478
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 6 14:42:40 2015 -0700
remote:
remote:          bsp: update list of drivers using BDEV macros
remote:
remote:          This list is not exhaustive, and therefore is misleading.
remote:
remote:          SWLINUX-2749
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 9864ec9b4ff5ac1db200a1f568d2649bc3c22894)
remote:
remote:      commit a2972de0055f7506b4bb65b03bb5c14388252765
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 6 12:33:55 2015 -0700
remote:
remote:          ARM: brcmstb: combine hotplug/SMP support files
remote:
remote:          We have an unnecessary split of hotplug and SMP code, and that split
remote:          isn't done very well. Let's merge the two to reduce the number of header
remote:          declarations, number of files, and complexity.
remote:
remote:          This also matches upstream better.
remote:
remote:          SWLINUX-3622
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 78897c1b545ddd878821d7aba280568c8ddeacf3)
remote:
remote:      commit 6f2aa1636cb7284859bb9193467f16ba43ee964e
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 6 12:15:37 2015 -0700
remote:
remote:          ARM: brcmstb: initialize SMP ops with CPU_METHOD_OF_DECLARE() helpers
remote:
remote:          This allows the DT initialization framework to dynamically match our CPU
remote:          SMP code with the hardware it should be used on based on the DTB, rather
remote:          than statically determining that in our machine description file. This
remote:          enables the use of PSCI, for instance.
remote:
remote:          While doing this, let's move the code out into a separate mini driver,
remote:          so we can get all the SMP/hotplug code in one place, and to match
remote:          upstream.
remote:
remote:          SWLINUX-3622
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit d7c2d1d80df4b6f4d9fb0a37ca1ec5a463d97810)
remote:
remote:      commit 5d980590e9e534fb1aea73bbd4435489e534cbab
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 6 12:08:02 2015 -0700
remote:
remote:          bsp: build only when ARCH_BRCMSTB is enabled
remote:
remote:          Matches upstream a little better and should prevent build errors in odd
remote:          configurations.
remote:
remote:          Also, replace ':=' with '+=' so we don't clobber the contents of $(obj-y).
remote:
remote:          SWLINUX-3622
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 58b889b2cf4f3256729758df95cf969f7389d34f)
remote:
remote:      commit 1d917f672b7c3257734a5b1da8e9183817bc3e1b
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 6 11:48:51 2015 -0700
remote:
remote:          ARM: brcmstb: drop unnecessary SMP 'boot_lock'
remote:
remote:          This was just a copy-and-paste job from another implementation. We don't
remote:          have anything extra to synchronize here.
remote:
remote:          SWLINUX-3622
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 7f4fb815144e6278270164bd7b1081ad46e44a9d)
remote:
remote:      commit d663f2ea2b14f851db67c712c8d9ff593f0a4290
remote:      Author: Stephen Boyd <sboyd@codeaurora.org>
remote:      Date:   Wed Oct 30 18:21:09 2013 -0700
remote:
remote:          ARM: Introduce CPU_METHOD_OF_DECLARE() for cpu hotplug/smp
remote:
remote:          [Upstream commit 6c3ff8b11a16ec69199ab85b74a5fae6d9c59db7]
remote:
remote:          The goal of multi-platform kernels is to remove the need for mach
remote:          directories and machine descriptors. To further that goal,
remote:          introduce CPU_METHOD_OF_DECLARE() to allow cpu hotplug/smp
remote:          support to be separated from the machine descriptors.
remote:          Implementers should specify an enable-method property in their
remote:          cpus node and then implement a matching set of smp_ops in their
remote:          hotplug/smp code, wiring it up with the CPU_METHOD_OF_DECLARE()
remote:          macro. When the kernel is compiled we'll collect all the
remote:          enable-method smp_ops into one section for use at boot.
remote:
remote:          At boot time we'll look for an enable-method in each cpu node and
remote:          try to match that against all known CPU enable methods in the
remote:          kernel. If there are no enable-methods in the cpu nodes we
remote:          fallback to the cpus node and try to use any enable-method found
remote:          there. If that doesn't work we fall back to the old way of using
remote:          the machine descriptor.
remote:
remote:          Acked-by: Mark Rutland <mark.rutland@arm.com>
remote:          Cc: Russell King <linux@arm.linux.org.uk>
remote:          Cc: <devicetree@vger.kernel.org>
remote:          Signed-off-by: Stephen Boyd <sboyd@codeaurora.org>
remote:          Signed-off-by: Kumar Gala <galak@codeaurora.org>
remote:
remote:          SWLINUX-3622
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit f6fc01917f43d463e15e4adc21215616d686a828)
remote:
remote:      commit 9e7138b4e0c067675a64cceb2625bb9474811c93
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Apr 10 09:42:58 2015 -0700
remote:
remote:          Documentation: DT: Document brcm,write-pairing property
remote:
remote:          Document the hif-cpubiuctrl nodes a bit more, and add a documentation entry for
remote:          the optional "brcm,write-pairing" property.
remote:
remote:          SWLINUX-3600
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 270bf453302e3b15889f934a4fea154d3d9af915)
remote:
remote:      commit 59d5d1649d5f1a72ed9723c56fa95b5121ada1a6
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Apr 6 12:58:40 2015 -0700
remote:
remote:          bsp: Use brcm,write-pairing from DT to enable MCP write-pairing
remote:
remote:          If we can find a "brcm,write-pairing" boolean property in Device Tree, enable
remote:          MCP write-pairing. disable_mcp_write_pairing() is renamed to
remote:          mcp_write_pairing_set() to illustrate that it can both enable or disable.
remote:
remote:          For Device Tree that do not have this property, the behavior is unchanged, and
remote:          we keep disabling MCP write-pairing.
remote:
remote:          Newer chips which have working MCP write-pairing are expected to place this
remote:          property in the hif_cpubiuctrl node to indicate this.
remote:
remote:          SWLINUX-3600
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 955006c8b475cbc2f7c36cfbfbc61831654f0dbd)
remote:
remote:      commit 2a132675c482819b23cab902660caeb27fbebfc3
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Wed Apr 8 17:12:49 2015 -0700
remote:
remote:          kconfig: Print full defined and depends for multiply-defined symbols
remote:
remote:          [Upstream submission: https://lkml.org/lkml/2015/4/8/754 ]
remote:
remote:          get_symbol_str() was assuming that symbols would only have a single
remote:          property for the purpose of printing define and depends information.
remote:          This is not true, and one current example is FRAME_POINTER which is
remote:          both in lib/Kconfig.debug and arch/arm/Kconfig.debug.
remote:
remote:          In order to print out the correct Defined and Depends info, iterate
remote:          over all properties associated with the given symbol, similarly to was
remote:          done for selects.  And for depends, rather than iterating over the
remote:          property, just use the direct dependency expression.
remote:
remote:          CONFIG_FRAME_POINTER text, before:
remote:            Defined at lib/Kconfig.debug:323
remote:            Depends on: DEBUG_KERNEL [=y] && (ARM [=y] || CRIS || M68K || FRV || UML || AVR32 || SUPERH || BLACKFIN || MN10300 || METAG) || ARCH_WANT_FRAME_POINTERS [=n]
remote:
remote:          After:
remote:            Defined at lib/Kconfig.debug:323, arch/arm/Kconfig.debug:35
remote:            Depends on: DEBUG_KERNEL [=y] && (ARM [=y] || CRIS || M68K || FRV || UML || AVR32 || SUPERH || BLACKFIN || MN10300 || METAG) || ARCH_WANT_FRAME_POINTERS [=n] || !THUMB2_KERNEL [=n]
remote:
remote:          Removes now-unused function get_symbol_prop().
remote:
remote:          SWLINUX-3631
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 5c97132df8e226445b70965c4018f4d5c59f1588)
remote:
remote:      commit ec868d8db6de3388d59b443fd139431275d7de4c
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Apr 6 13:17:09 2015 -0700
remote:
remote:          cma: brcm-cma: do not use first meminfo bank if >1 bank
remote:
remote:          Since vmalloc is being used in arch/arm/mm/mmu.c to shrink the size of bank 0
remote:          and increase bank 1, we no longer need to place CMA regions in the first bank.
remote:          Now, altering the size of CMA regions on memc0 will be done entirely using the
remote:          'vmalloc' parameter.
remote:
remote:          This eliminates the now-unused "brcm_cma_kern_rsv" parameter which was stored
remote:          in the prm_kern_rsv_mb element of struct cma_region_rsv_data, and removes that
remote:          element from the struct as well.
remote:
remote:          SWLINUX-3625
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 408cf100ea7d759ae045eef0193c6eeab4293c77)
remote:
remote:      commit 03db6daa2ae8c9f80d12f520a65fdf4827caec7d
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Thu Apr 2 17:49:45 2015 -0700
remote:
remote:          cma: brcm-cma: Do not try to reserve regions of size 0
remote:
remote:          If there is no available space in a bank, we shouldn't try to reserve anything,
remote:          just return -EINVAL from cma_calc_rsv_range so we skip ahead to the next
remote:          segment.
remote:
remote:          SWLINUX-3625
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit ed4ecce47eb7d9b8fefe378b5e9c75835aa059b5)
remote:
remote:      commit d9812945df900194391bac95a951c5e179327122
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Thu Apr 2 17:43:46 2015 -0700
remote:
remote:          ARM: mmu: Bump default vmalloc to 744 MiB for BRCMSTB with >=1 GiB RAM
remote:
remote:          If >= 1 GiB RAM is present (or more than one meminfo bank exists), this
remote:          increases the vmalloc area to 744 MiB and thus reduces the default amount of
remote:          lowmem to 256 MiB, which is basically all we were getting anyway with
remote:          cma_driver putting all other memory in CMA regions.  This should eliminate what
remote:          has been referred to as the "CMA barrier" (the split in memory regions on the
remote:          first memory controller because of the lowmem/highmem boundary) without
remote:          negatively impacting the actual amount of memory on the system (kernel
remote:          allocations mostly couldn't use lowmem in CMA regions anyway).
remote:
remote:          It'd be nice if we could just have more lowmem so as not to help alleviate
remote:          lowmem exhaustion, but that's a problem for another day.
remote:
remote:          For systems with < 1GB RAM, there was no CMA barrier, so we keep the default
remote:          vmalloc size the same.
remote:
remote:          This will probably need updating if there are ever any boards with 768 MiB RAM.
remote:          Also, the function relies on meminfo so will need to be updated for 3.16+, which
remote:          no longer uses meminfo.
remote:
remote:          SWLINUX-3625
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 588090becbc4c088b80243950173902603b86a54)
remote:
remote:      commit 323d094a2b8ae53bbd0d71c152d010e78389f60a
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Tue Mar 31 11:40:48 2015 -0400
remote:
remote:          pci: gate refclk when ASPM L0s,L1 enabled
remote:
remote:          Refclk from RC should be gated with CLKREQ# input when ASPM L0s,L1
remote:          is enabled =>  setting the CLKREQ_DEBUG_ENABLE field to 1.
remote:
remote:          Note that some boards have unconnected jumpers for PCIE_refclk,
remote:          and said jumpers have to be connected or the PCIe link will not
remote:          come up.  An example of this is the BCM974371SV_V00, which had
remote:          to have J4110 connected before the link came up.  Most other
remote:          boards do not appear to have a problem.
remote:
remote:          SWLINUX-3574
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit 2b8212b94e13e1cc8220397c256ad33ab9b5bb2f)
remote:
remote:      commit bcda8e6eba4477992449f58bdc0e0fff563bf99f
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Nov 20 10:14:46 2014 -0800
remote:
remote:          bus: brcmstb_gisb: resolve section mismatch
remote:
remote:          Upstream commit 2e8a29a1c9aaa41f72a71bb81c3df66da8156c1e]
remote:
remote:          Commit f1bee783dd37 moved the call to hook_fault_code in
remote:          brcmstb_gisb_arb_probe() which now calls a function annotated with __init, so
remote:          this one must also be annotated with __init.
remote:
remote:          In order to avoid introducing another section mismatch, call
remote:          platform_driver_probe() manually and remove the .probe assignment from
remote:          brcmstb_gisb_arb_driver, this is very similar to what
remote:          drivers/pci/host/pci-imx6.c does since we basically have the same constraints
remote:          here.
remote:
remote:          SWLINUX-3579
remote:
remote:          Fixes: f1bee783dd37 ("bus: brcmstb_gisb: register the fault code hook")
remote:          Signed-off-by: Arnd Bergmann <arnd@arndb.de>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 04ff22cc6998a108cbe1f4c5359663bc00aaffdc)
remote:
remote:      commit ba227a72bc7a91fe313180f2774129d4bbfd7592
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Mar 18 12:43:38 2015 -0700
remote:
remote:          bus: brcmstb_gisb: hook fault code handler
remote:
remote:          [Upstream commit f1bee783dd37d088a8a7924205476ba1cf675378]
remote:
remote:          Commit 44127b771d9c31 ("bus: add Broadcom GISB bus arbiter timeout/error
remote:          handler") added everything that is required to register an ARM fault handler
remote:          for imprecise external aborts, except that there is nothing calling this
remote:          currently.
remote:
remote:          We do not need to export that specific function and have to update
remote:          arch/arm/mach-bcm/brcmstb.c to call it, simply, register the fault handler
remote:          during the probe() function of the driver.
remote:
remote:          SWLINUX-3579
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 7c35e77beaf512b7597c7d0d188f312f28e591ad)
remote:
remote:      commit 14ca80aeab88a290781ba516d22a3379665ec472
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Mar 18 12:40:55 2015 -0700
remote:
remote:          bus: relocate GISB bus arbiter driver
remote:
remote:          Relocate the GISB driver from arch/arm/mach-bcm/gisb-brcmstb.c to
remote:          drivers/bus/brcmstb_gisb.c to match the upstream submission done with commit
remote:          44127b771d9c31dcb5ab90d9093a4d48877738bc ("bus: add Broadcom GISB bus arbiter
remote:          timeout/error handler").
remote:
remote:          SWLINUX-3579
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 17fa15e8d54fd18f5c0ac053d5b111a14cb9aa4e)
remote:
remote:      commit f437a788aa50ca21dbe3fc5a6519bb7bc1a6ce05
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Tue Mar 31 10:26:14 2015 -0400
remote:
remote:          USB: Update 7366c0 USB bchp_usb*_ctrl.h files because they are incorrect
remote:
remote:          The current bchp_usb*_ctrl.h files for the 7366c0 are out of date
remote:          and incorrect and will cause USB S3 failures on resume.
remote:
remote:          SWLINUX-3619
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit c4abcd62f7e73e7c2cafb363fac041cefce13909)
remote:
remote:      commit 77e42c921d813caece9cf50ae4304421b5f268da
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Wed Mar 18 17:41:30 2015 -0400
remote:
remote:          pci: remove overly cautious checks for pcie var
remote:
remote:          SWLINUX-3614
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit cb29e06654154a2aa6d77ceb58680ba55eb40831)
remote:
remote:      commit 1288290cb8c42562503c47a1cfffdb1d18eb2e02
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Tue Mar 17 14:59:21 2015 -0400
remote:
remote:          pci: use IS_ENABLED(CONFIG_XXX) instead of #if
remote:
remote:          SWLINUX-3614
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit b85035c94f4bb41acb7c8c86d1869478d3dc0115)
remote:
remote:      commit 56bc5ae59abfeb826d66613f135ed9de66af1a7f
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Tue Mar 17 14:56:16 2015 -0400
remote:
remote:          pci: use list for pcie instead of an array
remote:
remote:          Remove the list and allow an unlimited amount of RC devices.
remote:
remote:          SWLINUX-3614
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit f48028220d6d1e4ba98208a717456ad9744f03a9)
remote:
remote:      commit f635de01837903343a6013045a3dfbeb85fd39cd
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Thu Mar 12 13:50:54 2015 -0400
remote:
remote:          pci: remove explicit scan_bus function
remote:
remote:          The custom scan_bus() function is no longer needed.
remote:
remote:          SWLINUX-3614
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit 7f37c63938048cb6b136465ae932347ff0e362b6)
remote:
remote:      commit 3310e464a0c30cec51c7c641e8fae11ca44717cf
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Thu Mar 12 13:25:29 2015 -0400
remote:
remote:          pci: dynamically allocate brcm_pcie structure
remote:
remote:          Before we kept a statically array of two PCIe structures which
remote:          seemed enough at the time.  With this commit we keep the array,
remote:          but make it an array of pointers that will contain dynmically
remote:          allocated PCIe structures.  In a future commit we will dispose
remote:          of the array entirely and use a list.
remote:
remote:          In the process of making this change, we initialize the
remote:          hw_data.private_data structure so that it points to an array
remote:          of our PCIe pointers.  As such, we can use the pci_sys_data
remote:          structure to recover the PCIe pointer of interest.  This
remote:          obsoletes the awkward bus range counting that was done for
remote:          each RC.
remote:
remote:          SWLINUX-3614
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit 2f0d2b0e3dfc87354fae2734d39b265fcbab5492)
remote:
remote:      commit a11ebe79cee47aa55cfc3ea8d9407b3300610c01
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Tue Feb 3 17:37:40 2015 -0500
remote:
remote:          pci: change use of 'bus' to be 'pcie'
remote:
remote:          Since this file existed for MIPs SOCs, the use of the term
remote:          'bus' in this file has been a misnomer.  This commit corrects
remote:          this.  Specifically, 'struct brcm_pci_bus *' is now
remote:          'struct brcm_pcie *', and the variables of this type that were
remote:          named 'bus' are now named 'pcie'.
remote:
remote:          SWLINUX-3614
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit 1141b54be7769dc8022d03304ccbb98bfc109f7f)
remote:
remote:      commit ac76baa275ba25171b45979d112493deef58b945
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Mar 19 12:24:13 2015 -0700
remote:
remote:          BCMGENET: drop duplicate BMCR-based software reset
remote:
remote:          phy_init_hw() also does a software reset using BMCR.reset, no need to do it
remote:          twice, especially when our own does not even wait for the reset to complete.
remote:
remote:          SWLINUX-3489
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit fcc7ce61d5ea4da983c5f8a2a8bae7dd8940bb85)
remote:
remote:      commit abba12b9716736dbc6780efdfe59df6c2c14bf12
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jan 19 17:16:36 2015 -0800
remote:
remote:          BCMGENET: power down and up GPHY during suspend if unused
remote:
remote:          In case the interface is not used, power down the integrated GPHY during
remote:          suspend. Similarly to bcmgenet_open(), bcmgenet_resume() powers on the GPHY
remote:          prior to any UniMAC activity.
remote:
remote:          SWLINUX-3489
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit ad4f6dcf3235dbea0099d8887b70d57e45284bef)
remote:
remote:      commit a4926f8656e0b8dc1e7a57451ed98175cc0e11f9
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jan 19 17:08:46 2015 -0800
remote:
remote:          BCMGENET: power up and down integrated GPHY when used/unused
remote:
remote:          Power up the GPHY while we are bringing-up the network interface, and
remote:          conversely, upon bring down, power the GPHY down.
remote:
remote:          SWLINUX-3489
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 48a7de6a4d99df5524db11b99717d4af4dd27064)
remote:
remote:      commit 0745637d011492a9335e2443d4494e4edcb1480a
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jan 19 16:59:30 2015 -0800
remote:
remote:          BCMGENET: implement GPHY power down sequence
remote:
remote:          Implement the GPHY power down sequence by setting all power down bits, putting
remote:          the GPHY in reset, and finally cutting the 25Mhz reference clock.
remote:
remote:          SWLINUX-3489
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 04f7709854ea6294845cf41f0501bec81e683a4b)
remote:
remote:      commit e1cf9b316005e14ce2fc29fd4c43c020ef702cd5
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jan 26 15:35:16 2015 -0800
remote:
remote:          BCMGENET: fix GPHY power-up sequence
remote:
remote:          We were missing a number of extra steps and delays to power-up the GPHY, update
remote:          the sequence to reflect the proper procedure here.
remote:
remote:          SWLINUX-3489
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit f99e887a43a14d205dc83974b97ce457ff0c008b)
remote:
remote:      commit a72718f4e37a7d7704666d8681155e18d7d2ea57
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jan 19 16:47:00 2015 -0800
remote:
remote:          BCMGENET: rename bcmgenet_ephy_power_up to bcmgenet_phy_power_set
remote:
remote:          In preparation for implementing the power down GPHY sequence, rename
remote:          bcmgenet_ephy_power_up to illustrate that it can do both, and add an "enable"
remote:          argument.
remote:
remote:          SWLINUX-3489
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit e2e90d05a5056c6beac986a92d3a2ee1c833b6ef)
remote:
remote:      commit 1b09d27a81e50d66ce253e7cfbe969b977e4f882
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jan 19 16:35:10 2015 -0800
remote:
remote:          BCMGENET: update bcmgenet_ephy_power_up to clear CK25_DIS bit
remote:
remote:          The CK25_DIS bit controls whether a 25Mhz clock is fed to the GPHY or not, in
remote:          preparation for powering down the integrated GPHY when relevant, make sure we
remote:          clear that bit.
remote:
remote:          SWLINUX-3489
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 7b5197a347ea616fb2de2a526507768fc08af1db)
remote:
remote:      commit 1138425a921ae82bce7d0543b78a65dcb26f30f0
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Mar 20 11:39:33 2015 -0700
remote:
remote:          BCMGENET: do not fall through when doing Wake-on-LAN power down
remote:
remote:          When preparing GENET for a Wake-on-LAN power down sequence, we will fall
remote:          through the GENET_POWER_PASSIVE power down, which turns off the GPHY, this is
remote:          absolutely not expected and should not be done.
remote:
remote:          While at it, propagate the return code from bcmgenet_power_down() to the
remote:          callers that care about it such as bcmgenet_close() and bcmgenet_suspend().
remote:
remote:          SWLINUX-3489
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit f12cabef40ca999fd74b3e9cbd0d6894fef07beb)
remote:
remote:      commit 3fc4eafd1f629ca7898817c568dff8531468f977
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jan 26 22:05:40 2015 -0800
remote:
remote:          net: phy: avoid suspending twice a PHY
remote:
remote:          [Upstream commit 803dd9c77ac3a08958535f2a1ad5890104e2c235]
remote:
remote:          As part of a call to ndo_close() a netdevice driver may call
remote:          phy_disconnect() -> phy_detach() -> phy_suspend(), such that the PHY is
remote:          suspsended at this point and a netdevice driver may clock gate the
remote:          backing peripheral providing MDIO bus accessses as well.
remote:
remote:          Update mdio_bus_phy_may_suspend() to return whether a PHY is allowed to
remote:          be suspended and conversely resumed if and only if it was not previously
remote:          suspended before while it is currently in detached (netdev pointer is
remote:          NULL) state.
remote:
remote:          This fixes bus errors seen during S2/S3 suspend/resume cycles for
remote:          netdevice drivers such as GENET which clock gates the entire Ethernet
remote:          MAC, including the MDIO bus block.
remote:
remote:          SWLINUX-3489
remote:
remote:          Acked-by: Fugang Duan <B38611@freescale.com>
remote:          Tested-by: Fugang Duan <B38611@freescale.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 009adadd3e09938b20fb77bf17c59f36f3bc8842)
remote:
remote:      commit 638b841b494fe09ea7f44d53626349366bd42ef5
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jan 26 22:05:39 2015 -0800
remote:
remote:          net: phy: keep track of the PHY suspend state
remote:
remote:          [Upstream commit 8a477a6fb6a33651adda772360b85fd813569743]
remote:
remote:          In order to avoid double calls to phydev->drv->suspend and resume, keep
remote:          track of whether the PHY has already been suspended as a consequence of
remote:          a successful call to phy_suspend(). We will use this in our MDIO bus
remote:          suspend/resume hooks to avoid a double suspend call.
remote:
remote:          SWLINUX-3489
remote:
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 16efd43e3f630dee48f664c1a06c965115161859)
remote:
remote:      commit ec4a940baf27c226361ea4f844830e0285b35c6b
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jan 26 22:05:37 2015 -0800
remote:
remote:          net: phy: utilize phy_suspend and phy_resume
remote:
remote:          [Upstream commit 9272efa2036f3f06625effc3a709416044578a92]
remote:
remote:          phy_suspend and phy_resume are an abstraction on top of the PHY device
remote:          driver suspend and resume callbacks, utilize those since they are the
remote:          proper interface to suspending and resuming a PHY device.
remote:
remote:          SWLINUX-3489
remote:
remote:          Acked-by: Fugang Duan <B38611@freescale.com>
remote:          Tested-by: Fugang Duan <B38611@freescale.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 54f5d6a68c4d5a514ebc438629ee91ec7b78c3cb)
remote:
remote:      commit cfba89d7b1135c65be8c31508ac6d282177acb33
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Mar 18 16:47:15 2015 -0700
remote:
remote:          brcmstb_defconfig: enable cramfs filesystem support
remote:
remote:          SWLINUX-3555
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit fc9c7d5ef7832173e2015fd1589941180ed54d58)
remote:
remote:      commit 05ba968a592330f6be026b8e99b7783e6d81bb80
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Mar 12 16:22:16 2015 -0700
remote:
remote:          bsp: remove MEGA_BARRIER workaround
remote:
remote:          7439a0 was the last chip that required the mega-barrier workaround to be
remote:          enabled, we can now remove that code.
remote:
remote:          SWLINUX-3524, SWLINUX-3591
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 25bf0c803d6a82f3c543280b9f980f1eaf47c56f)
remote:
remote:      commit 6ae0757b49d98c1f726f0d17302d32488efb883c
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Mar 12 16:19:15 2015 -0700
remote:
remote:          bsp: remove 7439a0 BCHP headers
remote:
remote:          SWLINUX-3524
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 8d9373b3261c762180285cea89c57db8a91caf3e)
remote:
remote:      commit 15c7afef77df3367bf51ae29a658aa77ce82b1e0
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Mar 12 16:18:57 2015 -0700
remote:
remote:          bsp: remove 7439a0 from Kconfig
remote:
remote:          SWLINUX-3524
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit bbdc2c2bf83fc3dc84a354071b7edeebeb4079f1)
remote:
remote:      commit 59b4592c5ec2f9f9721b343039c3d3322192c480
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Mar 12 16:18:21 2015 -0700
remote:
remote:          bsp: remove 7439a0 from PM
remote:
remote:          The only remnant of 7439a0 support is within the PM code to deal with the lack
remote:          of PM ack, remove that code.
remote:
remote:          SWLINUX-3524
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 77bc1f828f999e05d7a305ffdb2fe1d72971c7fc)
remote:
remote:      commit c1027f4414b6780543f8a0615600a7e9e5f7a946
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Mar 16 17:28:05 2015 -0700
remote:
remote:          serial: 8250: Revert buggy DW UART workaround
remote:
remote:          No longer need the workaround added for SWLINUX-2903 because the affected chips
remote:          are no longer supported.  This reverts
remote:          17656e1f6ee5a5b1b6bd7ea6346558a137441ff6 "serial: 8250: Unbreak secondary UARTs"
remote:          and
remote:          a645063d3faa851f6ca84f8d905b2b3478eefc19 "serial: 8250: improve buggy DW UART workaround"
remote:
remote:          SWLINUX-3591
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit a76b4a89fe273c1d9186ee406bb7010d7e9802f3)
remote:
remote:      commit 080223d099b4b8fdaa0119cf96520bb994d28908
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Mar 12 16:13:10 2015 -0700
remote:
remote:          tty: serial: remove BRCM_BUGGY_DW_UART support
remote:
remote:          We no longer require this workaround with 7439a0 being the last chip that used
remote:          this bogus UART core.
remote:
remote:          SWLINUX-3591, SWLINUX-3524
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 646a35489b1ec3abe76db539c3803154dd044855)
remote:
remote:      commit 7d3ba6bcc3539f2f8bf486f51401074014032b8a
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Mar 12 16:06:22 2015 -0700
remote:
remote:          sata_brcmstb: remove support for quirks
remote:
remote:          We do not support any chips which requires a quirk to be handled by either the
remote:          AHCI wrapper or the SATA PHY driver.
remote:
remote:          SWLINUX-3591
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 5cd1aef2e86081369cc2310e04c8b3902e8d070c)
remote:
remote:      commit ea45633d91501e20b09e3cd82076e8832254e988
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Mar 12 16:03:22 2015 -0700
remote:
remote:          drivers: remove 7439a0 support
remote:
remote:          Remove all workarounds for 7439a0 in our drivers: SATA, MMC, serial and USB
remote:          common initialization routine.
remote:
remote:          SWLINUX-3524
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 21651469f02fe5cad313ef6f14bb4f7fa914ff7a)
remote:
remote:      commit 5783a52b39b1b8b044fefb26140d342f6a94ffa9
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Feb 9 18:38:52 2015 -0800
remote:
remote:          mtd: brcmstb_nand: drop CRNAND-34 workaround
remote:
remote:          SWLINUX-3524
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit f00ecf3788c6a1268f56caa0971084d1a623d151)
remote:
remote:      commit a2d990d62d206ebf4242d083377aa38d1f5d1955
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Mar 12 15:44:22 2015 -0700
remote:
remote:          bsp: remove 7145a0 BCHP headers
remote:
remote:          SWLINUX-3591
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 816960e534c96c06e8a504e85a57a96ee3edaff4)
remote:
remote:      commit f80fdd95b9afaa6b24883018d301371b2866d765
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Mar 12 15:43:58 2015 -0700
remote:
remote:          bsp: remove 7145a0 from Kconfig
remote:
remote:          SWLINUX-3591
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit dcf14cc065d7c6bb7870fbe352253c6462696010)
remote:
remote:      commit 7777f91bb7fe474215f54c9279b72d8e434025f2
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Mar 12 15:42:43 2015 -0700
remote:
remote:          drivers: remove support for 7145a0
remote:
remote:          Remove 7145a0-specific workarounds from the SATA, serial and USB common
remote:          initialization routine.
remote:
remote:          SWLINUX-3591
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit b9dc585f1b8325eb4a131ff7af1d009a4cd54c28)
remote:
remote:      commit 194cb4267890d483ab8b838929fbb3bb65edfdbb
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Feb 9 18:28:04 2015 -0800
remote:
remote:          mtd: brcmstb_nand: drop HW7445_988_WORKAROUND
remote:
remote:          SWLINUX-3591
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 2c018b4b02fbe5cc60ac2d1707ae6053c902e153)
remote:
remote:      commit 73185e1524aea656afa6c8f047dd762aa6e05fb4
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Mar 16 17:09:33 2015 -0700
remote:
remote:          brcmstb_defconfig: enable FHANDLE and CGROUPS
remote:
remote:          These are the bare minimum kernel configuration options required by systemd
remote:          v215-10 currently used by Debian 8 allowing us to boot to a prompt.
remote:
remote:          SWLINUX-3588
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 509a281858e8ac6f00b186e5827d5ab778ae57ac)
remote:
remote:      commit bf44d5a6cb1878ae7f9f8d262fd9e96a7b12fac1
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Fri Mar 13 13:34:03 2015 -0400
remote:
remote:          usb: Add USB support for 7439B1
remote:
remote:          Keep XHCI hardware in reset if we don't have a XHCI device-tree
remote:          entry. This will allow 3.0 devices to be seen as 2.0 devices.
remote:          This is one of the possible configurations for the 7439B1.
remote:
remote:          SWLINUX-3602
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit 9224b0f3fe44edb1556db928f72a0d756b5c89f9)
remote:
remote:      commit d6cc581cbb007369e6247fba7f514365c8568408
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Thu Mar 12 18:53:23 2015 -0700
remote:
remote:          brcmstb_defconfig: add PM_DEBUG
remote:
remote:          To support the new suspend.pm_test_delay parameter.
remote:
remote:          fixes #SWLINUX-3603
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 9276b852119922b05bb0a8f8343ec36333e93208)
remote:
remote:      commit a521ec4774e23be0961b04afdfbaef5200b62faa
remote:      Author: Brian Norris <computersforpeace@gmail.com>
remote:      Date:   Sun Feb 22 21:16:49 2015 -0800
remote:
remote:          PM / sleep: add configurable delay for pm_test
remote:
remote:          [Queued upstream]
remote:
remote:          When CONFIG_PM_DEBUG=y, we provide a sysfs file (/sys/power/pm_test) for
remote:          selecting one of a few suspend test modes, where rather than entering a
remote:          full suspend state, the kernel will perform some subset of suspend
remote:          steps, wait 5 seconds, and then resume back to normal operation.
remote:
remote:          This mode is useful for (among other things) observing the state of the
remote:          system just before entering a sleep mode, for debugging or analysis
remote:          purposes. However, a constant 5 second wait is not sufficient for some
remote:          sorts of analysis; for example, on an SoC, one might want to use
remote:          external tools to probe the power states of various on-chip controllers
remote:          or clocks.
remote:
remote:          This patch turns this 5 second delay into a configurable module
remote:          parameter, so users can determine how long to wait in this
remote:          pseudo-suspend state before resuming the system.
remote:
remote:          Example (wait 30 seconds);
remote:
remote:            # echo 30 > /sys/module/suspend/parameters/pm_test_delay
remote:            # echo core > /sys/power/pm_test
remote:            # time echo mem  > /sys/power/state
remote:            ...
remote:            [   17.583625] suspend debug: Waiting for 30 second(s).
remote:            ...
remote:            real	0m30.381s
remote:            user	0m0.017s
remote:            sys	0m0.080s
remote:
remote:          SWLINUX-3603
remote:
remote:          Signed-off-by: Brian Norris <computersforpeace@gmail.com>
remote:          Acked-by: Pavel Machek <pavel@ucw.cz>
remote:          Reviewed-by: Kevin Cernekee <cernekee@chromium.org>
remote:          Acked-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
remote:          (cherry picked from commit 85e214411ccc9f6af0328a4b89f7fc19303688a8)
remote:
remote:      commit 3a4ee948b8d66906a8effa48d1755abcf865875d
remote:      Author: Kevin Cernekee <cernekee@broadcom.com>
remote:      Date:   Fri Jan 17 11:45:37 2014 -0800
remote:
remote:          spi-brcmstb: Fix BUG() when crossing 4MB boundaries
remote:
remote:          On BSPI <= V3 controllers, the hardware remaps the address bits in a way
remote:          that can cause trouble for transfers that cross a 4MB boundary.  For such
remote:          transfers, we currently BUG() out.  Change the driver behavior so that it
remote:          falls back gracefully to MSPI instead.
remote:
remote:          On BSPI >= V4 controllers, the hardware allows us to disable the remapping
remote:          logic.  So disable remapping during initialization, and disable the driver
remote:          code that modified and checked the address.
remote:
remote:          fixes #SWLINUX-3589
remote:
remote:          Signed-off-by: Kevin Cernekee <cernekee@broadcom.com>
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit e2e6e49f6214571d043e3748b4095957cca204fb)
remote:
remote:      commit 32c4000e99be008e6f7798c8d5d85e604e5562b1
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Tue Mar 3 13:06:21 2015 -0800
remote:
remote:          gitignore: ignore scripts/*.pyc
remote:
remote:          Any .pyc files are generated and should be ignored.
remote:
remote:          SWLINUX-3590
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit fb8b66d917bc7f0deee3dc7966a09f0f3a160773)
remote:
remote:      commit 65de82736ad7a91d5042b573eed6cb98b272033b
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Tue Mar 3 13:22:01 2015 -0800
remote:
remote:          scripts: Add analyze_oom.py to give feedback on OOMs
remote:
remote:          Takes in an OOM log, either from a file or on stdin, and tries to report info
remote:          on possible causes.
remote:
remote:          Example usage:
remote:
remote:            $ scripts/analyze_oom.py oopslog
remote:            gfp_flags: 0x2084d2
remote:            Decoded gfp_flags: ___GFP_HIGHMEM | ___GFP_WAIT | ___GFP_IO | ___GFP_FS | ___GFP_REPEAT | ___GFP_ZERO | ___GFP_NOTRACK
remote:            Free mem in ZONE_NORMAL: 89748 kB.
remote:            Free mem in ZONE_HIGHMEM: 544 kB.
remote:            Migrate type is MIGRATE_UNMOVABLE, cannot use CMA pages
remote:            Portion of ZONE_NORMAL which is CMA: 79952 kB.
remote:            Portion of ZONE_HIGHMEM which is CMA: 544 kB.
remote:            Total free: 89748 + 544 - 79952 - 544 = 9796 kB.
remote:            Minimum RAM allowed: 3484 kB
remote:            __GFP_HIGHMEM was set, must also exclude lowmem_reserve: 8320 kB
remote:
remote:            Did we have enough memory?
remote:            Test: my_free_kB - (PAGE_SIZE_kB << order) > min_kB + lowmem_reserve_kB
remote:                  9796 - 4 > 3484 + 8320
remote:            *No*, not enough memory at time of OOM.
remote:
remote:            Possible causes of OOM:
remote:            - If this took some time to fail, could be a memory leak in a kernel module.
remote:            - lowmem_reserve might be too high. Try tweaking /proc/sys/vm/lowmem_reserve_ratio.
remote:            - May not have enough lowmem outside of a CMA region. You may need to decrease the size of a region in lowmem.
remote:
remote:          Passes pylint.
remote:
remote:          SWLINUX-3590
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 83291cc17a487198945b9b397f21eec069ea8d25)
remote:
remote:      commit b2708f928126dbeab2c8b61afa4f4e0648b380a5
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Mar 2 19:30:07 2015 -0800
remote:
remote:          scripts: Add decode_gfpmask.py to get GFP flags from mask
remote:
remote:          Takes in a GFP mask as from an OOM log message and decodes it into the GFP
remote:          flags.  Example usage:
remote:
remote:            $ scripts/decode_gfpmask.py 0x2084d2
remote:            ___GFP_HIGHMEM | ___GFP_WAIT | ___GFP_IO | ___GFP_FS | ___GFP_REPEAT | ___GFP_ZERO | ___GFP_NOTRACK
remote:
remote:          Passes pylint.
remote:
remote:          SWLINUX-3590
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit f9ef5214db85193e17a067c17b70f024c3eafb57)
remote:
remote:      commit 84e05c97d408b6a03758954f9dd41e21ed8984e8
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Mar 13 15:14:56 2015 -0700
remote:
remote:          ARM: B15: disable read-ahead cache by default
remote:
remote:          Until our Set Top Box middleware has been fully migrated to a Linux
remote:          asm/cacheflush.h API, we cannot have the read-ahead cache enabled by default.
remote:
remote:          SWLINUX-3422
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 5b15e9afd5c69f10163134d3138802b43798f36a)
remote:
remote:      commit 86c249f9b16a0780d852b23fcfdf40ea86cc38a3
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Tue Mar 10 13:15:44 2015 -0700
remote:
remote:          scripts/setlocalversion: fix false positive -dirty tag from ctime
remote:
remote:          git-diff-index cannot detect that a file hasn't actually changed when the
remote:          file's ctime has changed (e.g. if chmod was used but didn't actually result in
remote:          any changes), which was causing setlocalversion to incorrectly add a -dirty
remote:          tag.  Run git-update-index beforehand to make sure that the index is correct.
remote:
remote:          fixes #SWLINUX-3596
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 8230b18e9ba2883a46d9b6782c5727db27660172)
remote:
remote:      commit bc076a79c89834920840b7a30cd88e470fcd85a5
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Mar 6 15:58:28 2015 -0800
remote:
remote:          Bump version to 3.14-1.5pre
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit a7f76c81d153aac09b58f668bc7e94643be16cc4)
remote:
remote:      commit cb453cdd6fe04bdc57bc7c44beed1a286b77c64a
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Mar 4 18:17:00 2015 -0800
remote:
remote:          ARM: B15: Add suspend/resume hooks
remote:
remote:          The Broadcom Brahma-B15 CPU readahead cache registers will be restored
remote:          to their Power-on-Reset values after a S3 suspend/resume cycles, so we
remote:          want to restore what we had enabled before.
remote:
remote:          Another thing we want to take care of is disabling the read-ahead cache
remote:          prior to suspending to avoid any sort of side effect with the spinlock
remote:          we need to grab to serialize register accesses.
remote:
remote:          SWLINUX-3422
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 50b11c0d6b0cb8a0edcaaa194350261ea1647af6)
remote:
remote:      commit faa6be15aa94cc9e9fbb2ed6f4573cfef62a1769
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Mar 4 18:08:32 2015 -0800
remote:
remote:          ARM: B15: Add CPU hotplug awareness
remote:
remote:          The Broadcom Brahma-B15 readahead cache needs to be disabled,
remote:          respectively re-enable during a CPU hotplug. In case we were not to do,
remote:          CPU hotplug would occasionally fail with random crashes when a given CPU
remote:          exits the coherency domain while the RAC is still enabled, as it would
remote:          get stale data from the RAC.
remote:
remote:          In order to avoid adding any specific B15 readahead-cache awareness to
remote:          arch/arm/mach-bcm/hotplug-brcmstb.c we use a CPU notifier which allows
remote:          us to catch CPU hotplug events and disable/flush enable the RAC
remote:          accordingly.
remote:
remote:          SWLINUX-3422
remote:
remote:          Signed-off-by: Alamy Liu <alamyliu@broadcom.com>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 70b04d8cab1fe6fb13efa983b8a5ca3a3768878e)
remote:
remote:      commit 14df49d24a8f9243ad299033c20aec85bef87e38
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Mar 4 17:48:36 2015 -0800
remote:
remote:          ARM: Hook B15 readahead cache functions based on processor
remote:
remote:          If we detect that we are running on a Broadcom Brahma-B15 CPU, and
remote:          CONFIG_CACHE_B15_RAC is enabled, make sure that we pick-up the
remote:          b15_cache_fns function operations.
remote:
remote:          If CONFIG_CACHE_B15_RAC is enabled, but we are not running on a Broadcom
remote:          Brahma-B15 CPU, we will fallback to calling into the regular
remote:          v7_cache_fns with the cost of a small test. If CONFIG_CACHE_B15_RAC is
remote:          disabled, there is no cost and we just use the regular v7_cache_fns.
remote:
remote:          SWLINUX-3422
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit eeff62ea6eba308c72260f3cd3644f50902ba401)
remote:
remote:      commit 4c93c3dc0fa1969730838984ae9d17032083bd90
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Mar 4 17:44:25 2015 -0800
remote:
remote:          RM: Add Broadcom Brahma-B15 readahead cache support
remote:
remote:          This patch adds support for the Broadcom Brahma-B15 CPU readahead cache
remote:          controller. This cache controller sits between the L2 and the memory bus
remote:          and its purpose is to provide a friendler burst size towards the DDR
remote:          interface than the native cache line size.
remote:
remote:          The readahead cache is mostly transparent, except for
remote:          flush_kern_cache_all, flush_kern_cache_louis and flush_icache_all, which
remote:          is precisely what we are overriding here.
remote:
remote:          The readahead cache only intercepts reads, not writes, as such, some
remote:          data can remain stale in any of its buffers, such that we need to flush
remote:          it, which is an operation that needs to happen in a particular order:
remote:
remote:          - disable the readahead cache
remote:          - flush it
remote:          - call the appropriate cache-v7.S function
remote:          - re-enable
remote:
remote:          This patch tries to minimize the impact to the cache-v7.S file by only
remote:          providing a stub in case CONFIG_CACHE_B15_RAC is enabled (default for
remote:          ARCH_BRCMSTB since it is the current user).
remote:
remote:          SWLINUX-3422
remote:
remote:          Signed-off-by: Alamy Liu <alamyliu@broadcom.com>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 72f87752e80ee6cafb6a9f1aa8150d0e342d04aa)
remote:
remote:      commit a1e0f9ed1ce86795150a11f0009735c0a649e087
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Mar 4 15:31:08 2015 -0800
remote:
remote:          ARM: v7: allow setting different cache functions
remote:
remote:          In preparation for adding support for the Broadcom Brahma-B15 read-ahead
remote:          cache which requires a different set of cache functions, allow the
remote:          __v7_proc macro to override the cache_fns settings, and default to
remote:          v7_cache_fns unless specified otherwise.
remote:
remote:          SWLINUX-3422
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 938abbff4acb491a4115da9e1e53a7497ed13d72)
remote:
remote:      commit 7e62e7a12f2a13ab6eef5ddc74e579eab6653e6c
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Mar 4 10:55:31 2015 -0800
remote:
remote:          BCMGENET: Properly disable password matching when requested
remote:
remote:          Ever since the BCMGENET driver was introduced, we had a small issue in the
remote:          driver with enabling/disabling password matching for magic packets.
remote:
remote:          Once we ask the driver to match against a magic packet with a password, we will
remote:          never clear the MPD_PWD_EN bit again, which means that we leave the hardware
remote:          matching magic packets with password.
remote:
remote:          Fix this by clearing the bit when WAKE_MAGICSECURE is not set.
remote:
remote:          SWLINUX-3585
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 62bcac06c4ae1b34bdfbdb448a7d64d53287d8e6)
remote:
remote:      commit abe0a8cc8a2b3f80ba70248ca9a18cf96bd3d36c
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Fri Feb 27 18:14:18 2015 -0800
remote:
remote:          bsp: add guard macro for users of brcmstb_pm_mem_exclude()
remote:
remote:          By request from Nexus team.
remote:
remote:          SWLINUX-3535
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit b0325d35c39622ff14a1b6984492ecd8dbdb08eb)
remote:
remote:      commit 1cc3a9b69a356321e364d36b1a4a5400a5bd182f
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Fri Feb 27 16:47:15 2015 -0800
remote:
remote:          PM: hack around a BSP race condition
remote:
remote:          Changes to the PM code have uncovered that if the host is too fast at
remote:          submitting BSP commands (e.g., clock stop and gen_random_key), the BSP
remote:          might not ever respond properly, causing a timeout.
remote:
remote:          According to the BSP firmware team, a few milliseconds (~2-3) wait after
remote:          the clock stop command should be sufficient to fend of such races within
remote:          the BSP. Let's add the hack.
remote:
remote:          SWLINUX-3535
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit ecd219c014afc2f37f9dc82bd6d04decaa2b007f)
remote:
remote:      commit e61803c70fc8696e6320df4617ab92b90ae61c22
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Thu Feb 19 17:12:16 2015 -0800
remote:
remote:          bsp: clean <linux/brcmstb/brcmstb.h> of old cruft
remote:
remote:          None of this is used any more.
remote:
remote:          SWLINUX-3535
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 0a951e509eb2c6d1ebde4b52d05cd5a0f0a1ab89)
remote:
remote:      commit a256b9076385a7a9623e64cd44b334e5e06e9d26
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Wed Feb 11 18:29:34 2015 -0800
remote:
remote:          PM: add exclusion API
remote:
remote:          SWLINUX-3535
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit d69a8bbf253b20b6640917c61510b386e357bb98)
remote:
remote:      commit 192e479df0e3f95162b47b8f164adca19be36b49
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Thu Feb 19 17:26:06 2015 -0800
remote:
remote:          config: Add brcmstb_hardened_defconfig
remote:
remote:          A fairly minimal defconfig that is will help to meet the NASC 3.0 requirements.
remote:
remote:          SWLINUX-3578
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 2e6dc0ba1c33033767a86ec68bd8fb7c61c40133)
remote:
remote:      commit 69a1d74d422364916fce11249be4dbfd640c859c
remote:      Author: Arnd Bergmann <arnd@arndb.de>
remote:      Date:   Fri Jul 5 17:38:35 2013 +0200
remote:
remote:          Always trap on BUG()
remote:
remote:          [Upstream submission (never merged): https://lkml.org/lkml/2013/7/5/222 ]
remote:
remote:          I've run some size analyis using the ARM 'multi_v7_defconfig'
remote:          and gcc-4.8, using various definitions for BUG() and BUG_ON(), to
remote:          see how big the size improvement actually gets
remote:
remote:          1. Baseline: normal bug plus CONFIG_BUG_VERBOSE
remote:             text    data     bss     dec     hex filename
remote:          3743196  224396  206812 4174404  3fb244 vmlinux-bugverbose
remote:
remote:          2. disabling CONFIG_BUG_VERBOSE, saving 0.6%
remote:          3716920  224380  206812 4148112  3f4b90 vmlinux-nobugverbose
remote:
remote:          3. #define BUG() panic(__func__), #define BUG_ON(c) if(c) BUG(), saving 1.0%
remote:          3701076  224384  206812 4132272  3f0db0 vmlinux-bug-panicfunc
remote:
remote:          3. #define BUG() panic(__func__), #define BUG_ON(c) if(c) BUG(), saving 1.5%
remote:          3678884  224400  206812 4110096  3eb710 vmlinux-bug-panic
remote:
remote:          4. #define BUG() unreachable(), saving 2.1%
remote:          3652636  224384  206812 4083832  3e5078 vmlinux-bug-unreachable
remote:
remote:          5. as 4, plus #define BUG_ON(c) if(c) unreachable(), saving 2.2%
remote:          3651108  224380  206812 4082300  3e4a7c vmlinux-bugon-unreachable
remote:
remote:          6. #define BUG() do{}while(0), saving 2.1%
remote:          3654264  224380  206812 4085456  3e56d0 vmlinux-nobug
remote:
remote:          7. as 6, plus #define BUG_ON if(0 && (c)) unreachable, saving 2.2%
remote:          3648392  223996  206748 4079136  3e3e20 vmlinux-no-bugon
remote:
remote:          8. my patch below, saving 1.8%
remote:          3666532  224380  206812 4097724  3e86bc obj-tmp/vmlinux
remote:
remote:          The gain of doing unreachable and letting the code run off whereever
remote:          is minimal compared to the current state of doing nothing, but it
remote:          avoids the warnings.
remote:
remote:          Same test using x86_defconfig:
remote:
remote:          1. CONFIG_BUG=y, CONFIG_BUGVERBOSE=n
remote:          10797859        1395648 1175552 13369059         cbfee3 vmlinux-x86-bug
remote:
remote:          2. CONFIG_BUG=n, saves 1.0%
remote:          10658553        1395584 1175552 13229689         c9de79 vmlinux-x86-nobug
remote:
remote:          3. with my patch, saves 0.8%
remote:          10684186        1395584 1175552 13255322         ca429a vmlinux-x86-archbug
remote:
remote:          Getting 1-2% savings in kernel size seems absolutely worth keeping the
remote:          option, but 0.2-0.4% left for getting reproducible behavior also seems
remote:          worthwhile. The result in the patch below.
remote:
remote:          This basically loses any of the BUG() reporting, but leaves the
remote:          logic to trap and kill the task in place when CONFIG_BUG is disabled.
remote:
remote:          SWLINUX-3578
remote:
remote:          Signed-off-by: Arnd Bergmann <arnd@arndb.de>
remote:          Cc: linux-arch@vger.kernel.org
remote:          Cc: Chen Gang <gang.chen@asianux.com>
remote:          Cc: "H. Peter Anvin" <hpa@zytor.com>
remote:          Cc: Ingo Molnar <mingo@kernel.org>
remote:          Cc: "Eric W. Biederman" <ebiederm@xmission.com>
remote:          Cc: Geert Uytterhoeven <geert@linux-m68k.org>
remote:          Cc: Russell King - ARM Linux <linux@arm.linux.org.uk>
remote:          [gregory: Without this change, disabling CONFIG_BUG causes warnings everywhere
remote:          because of various uninitialized variables, etc. that are handled by BUG and
remote:          BUG_ON.  This should eliminate unpredictable behavior (unexpected return
remote:          values, etc.) when CONFIG_BUG=n.]
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:          (cherry picked from commit bf9361eaa76eeee78b942484ed271602ace30117)
remote:
remote:      commit 4384853e3402984d89d2d39357c2ac42d50b771e
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Oct 1 12:23:58 2014 -0700
remote:
remote:          net: dsa: bcm_sf2: add hardware bridging support
remote:
remote:          Implement the bridge join, leave and set_stp callbacks by making that we
remote:          do the following:
remote:
remote:          - when a port joins the bridge, all existing ports in the bridge get
remote:            their VLAN control register updated with that joining port
remote:          - the joining port is including all existing bridge ports in its own
remote:            VLAN control register
remote:
remote:          The leave operation is fairly similar, special care must be taken to
remote:          make sure that port leaving the bridging is not removing itself from its
remote:          own VLAN control register.
remote:
remote:          Since the various BR_* states apply directly to our HW semantics, we just
remote:          need to translate these constants into their corresponding HW settings,
remote:          and voila!
remote:
remote:          We make sure to trigger a fast-ageing process for ports that are
remote:          joining/leaving the bridge and transition from incompatible states, this
remote:          is equivalent to triggering an ARL flush for that port.
remote:
remote:          SWLINUX-3356
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit d1adb695f919cc225216a136390b92da3b7edf74)
remote:
remote:      commit c15094b0142614e8c369352070939a35fd5c20eb
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Feb 19 11:11:56 2015 -0800
remote:
remote:          net: dsa: bcm_sf2: fix 64-bits register reads
remote:
remote:          Reading 64-bits register was not working because we inverted the steps
remote:          between reading the lower 32-bits of the register and reading the upper
remote:          32-bits. Swapping these operations is how the HW guarantees that 64-bits
remote:          reads are latched correctly. We only have a handful of 64-bits registers
remote:          for now, mostly MIB counters, so the impact is low.
remote:
remote:          SWLINUX-3356
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 0d4da83e5751687516b1b317e9ee0421e67c42b3)
remote:
remote:      commit 656eeaf2e3f248d9a56273075886363e9e3dd784
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue Sep 30 16:40:57 2014 -0700
remote:
remote:          net: dsa: allow switch drivers to implement bridge ndo operations
remote:
remote:          Allows switch drivers to implement ndo_br_join, ndo_br_leave and
remote:          ndo_br_set_state network device operations and have those be propagated
remote:          down to the switch driver.
remote:
remote:          DSA will resolve which switch ports are currently bridge port members as
remote:          some Switch hardware/drivers need to know about that to limit the
remote:          register programming to just the relevant registers (especially for slow
remote:          MDIO buses).
remote:
remote:          We also take care of setting the correct STP state when slave network
remote:          devices are brought up/down while being bridge members.
remote:
remote:          Finally, when a port is leaving the bridge, we make sure we set in
remote:          BR_STATE_FORWARDING state, otherwise the bridge layer would leave it
remote:          disabled as a result of having left the bridge.
remote:
remote:          SWLINUX-3356
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 23f5d55d0d68f58bed7a7f134c36be6f9921a1c8)
remote:
remote:      commit 9d41e04608dc862454a1d58e756de146b5c5e650
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue Sep 30 16:26:40 2014 -0700
remote:
remote:          net: bridge: add ndo operations to help with join, leave and stp state
remote:
remote:          In order for switch drivers to get information about their respective
remote:          switch ports when they get added/removed to/from a bridge, as well as
remote:          when a given brigde port STP state changes, add 3 network device
remote:          operations and invoke them from the bridge code.
remote:
remote:          SWLINUX-3356
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 89f8d6e37a9ef5f4120e758ba729871f5a79fb5d)
remote:
remote:      commit c6ba97b4ea9b06554d35faba67b07d1c25f90989
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue Sep 30 16:15:26 2014 -0700
remote:
remote:          net: bridge: add a br_set_state helper function
remote:
remote:          [Upstream commit 775dd692bd34f9201ed2aa775a0edcba4f973f3e]
remote:
remote:          In preparation for being able to propagate port states to e.g: notifiers
remote:          or other kernel parts, do not manipulate the port state directly, but
remote:          instead use a helper function which will allow us to do bit more than
remote:          setting the state.
remote:
remote:          SWLINUX-3356
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 7414b4fbe3954533a4f4c9d07cb4a4cf277221bc)
remote:
remote:      commit bc7af0862f0e99c013b9eb914c7b58d0135d578b
remote:      Author: Danesh Petigara <dpetigara@broadcom.com>
remote:      Date:   Mon Feb 23 16:06:47 2015 -0800
remote:
remote:          mm: cma: fix CMA aligned offset calculation
remote:
remote:           [Upstream submission https://lkml.org/lkml/2015/2/24/745]
remote:
remote:          The CMA aligned offset calculation is incorrect for
remote:          non-zero order_per_bit values.
remote:
remote:          For example, if cma->order_per_bit=1, cma->base_pfn=
remote:          0x2f800000 and align_order=12, the function returns
remote:          a value of 0x17c00 instead of 0x400.
remote:
remote:          This patch fixes the CMA aligned offset calculation.
remote:
remote:          Cc: stable@vger.kernel.org
remote:          Signed-off-by: Danesh Petigara <dpetigara@broadcom.com>
remote:          Reviewed-by: Gregory Fong <gregory.0xf0@gmail.com>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          (cherry picked from commit cc5bc1c06573b2240dd56344619d1737a22809b0)
remote:
remote:      commit c7233043b986749f0d1bfaba0dc2d2d6a3b468c5
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Wed Feb 4 15:33:59 2015 -0800
remote:
remote:          ARM: print cma-reserved pages from show_mem
remote:
remote:          [Upstream submission https://lkml.org/lkml/2015/2/4/760 ]
remote:
remote:          Add cma reserved information to the ARM-specific show_mem.  It was
remote:          added to the generic implementation by commit
remote:          49abd8c28046adf77c5ce1949549aa64d7221881 "lib/show_mem.c: add cma
remote:          reserved information".
remote:
remote:          SWLINUX-3547
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit f2b72d073d9f6b476b9b5467b33748a8ea7eb828)
remote:
remote:      commit f71a844075a66e3542516ded9bea44b7a847dde3
remote:      Author: Vishnu Pratap Singh <vishnu.ps@samsung.com>
remote:      Date:   Thu Dec 18 16:17:21 2014 -0800
remote:
remote:          lib/show_mem.c: add cma reserved information
remote:
remote:          [Upstream commit 49abd8c28046adf77c5ce1949549aa64d7221881]
remote:
remote:          Add cma reserved information which is currently shown as a part of total
remote:          reserved only.  This patch is continuation of our previous cma patches
remote:          related to this.
remote:
remote:            https://lkml.org/lkml/2014/10/20/64
remote:            https://lkml.org/lkml/2014/10/22/383
remote:
remote:          SWLINUX-3547
remote:
remote:          [akpm@linux-foundation.org: remove hopefully-unneeded ifdefs]
remote:          Signed-off-by: Vishnu Pratap Singh <vishnu.ps@samsung.com>
remote:          Cc: David Rientjes <rientjes@google.com>
remote:          Cc: KOSAKI Motohiro <kosaki.motohiro@jp.fujitsu.com>
remote:          Cc: Mel Gorman <mgorman@suse.de>
remote:          Cc: Xishi Qiu <qiuxishi@huawei.com>
remote:          Cc: Pintu Kumar <pintu.k@samsung.com>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:          (cherry picked from commit 13336988afab9326108b2679d05b32ceeae3d613)
remote:
remote:      commit 306114f8a8f7e09b0028826bedce7e68fd63b058
remote:      Author: Pintu Kumar <pintu.k@samsung.com>
remote:      Date:   Thu Dec 18 16:17:18 2014 -0800
remote:
remote:          fs/proc/meminfo.c: include cma info in proc/meminfo
remote:
remote:          [Upstream commit 47f8f9297d2247d65ee46d8403a73b30f8d0249b]
remote:
remote:          This patch include CMA info (CMATotal, CMAFree) in /proc/meminfo.
remote:          Currently, in a CMA enabled system, if somebody wants to know the total
remote:          CMA size declared, there is no way to tell, other than the dmesg or
remote:          /var/log/messages logs.
remote:
remote:          With this patch we are showing the CMA info as part of meminfo, so that it
remote:          can be determined at any point of time.  This will be populated only when
remote:          CMA is enabled.
remote:
remote:          Below is the sample output from a ARM based device with RAM:512MB and CMA:16MB.
remote:
remote:            MemTotal:         471172 kB
remote:            MemFree:          111712 kB
remote:            MemAvailable:     271172 kB
remote:            .
remote:            .
remote:            .
remote:            CmaTotal:          16384 kB
remote:            CmaFree:            6144 kB
remote:
remote:          This patch also fix below checkpatch errors that were found during these changes.
remote:
remote:            ERROR: space required after that ',' (ctx:ExV)
remote:            199: FILE: fs/proc/meminfo.c:199:
remote:            +       ,atomic_long_read(&num_poisoned_pages) << (PAGE_SHIFT - 10)
remote:                    ^
remote:
remote:            ERROR: space required after that ',' (ctx:ExV)
remote:            202: FILE: fs/proc/meminfo.c:202:
remote:            +       ,K(global_page_state(NR_ANON_TRANSPARENT_HUGEPAGES) *
remote:                    ^
remote:
remote:            ERROR: space required after that ',' (ctx:ExV)
remote:            206: FILE: fs/proc/meminfo.c:206:
remote:            +       ,K(totalcma_pages)
remote:                    ^
remote:
remote:            total: 3 errors, 0 warnings, 2 checks, 236 lines checked
remote:
remote:          SWLINUX-3547
remote:
remote:          Signed-off-by: Pintu Kumar <pintu.k@samsung.com>
remote:          Signed-off-by: Vishnu Pratap Singh <vishnu.ps@samsung.com>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Cc: Rafael Aquini <aquini@redhat.com>
remote:          Cc: Jerome Marchand <jmarchan@redhat.com>
remote:          Cc: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Cc: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit a6173d24176fbf53e9fda663896512239d0dbb60)
remote:
remote:      commit f2a2d732bd51e9c5794d0c0030ff8ac3c5a8f1ea
remote:      Author: Pintu Kumar <pintu.k@samsung.com>
remote:      Date:   Thu Dec 18 16:17:15 2014 -0800
remote:
remote:          mm: cma: split cma-reserved in dmesg log
remote:
remote:          [Upstream commit e48322abb061d75096fe52d71886b237e7ae7bfb]
remote:
remote:          When the system boots up, in the dmesg logs we can see the memory
remote:          statistics along with total reserved as below.  Memory: 458840k/458840k
remote:          available, 65448k reserved, 0K highmem
remote:
remote:          When CMA is enabled, still the total reserved memory remains the same.
remote:          However, the CMA memory is not considered as reserved.  But, when we see
remote:          /proc/meminfo, the CMA memory is part of free memory.  This creates
remote:          confusion.  This patch corrects the problem by properly subtracting the
remote:          CMA reserved memory from the total reserved memory in dmesg logs.
remote:
remote:          Below is the dmesg snapshot from an arm based device with 512MB RAM and
remote:          12MB single CMA region.
remote:
remote:          Before this change:
remote:            Memory: 458840k/458840k available, 65448k reserved, 0K highmem
remote:
remote:          After this change:
remote:            Memory: 458840k/458840k available, 53160k reserved, 12288k cma-reserved, 0K highmem
remote:
remote:          SWLINUX-3547
remote:
remote:          Signed-off-by: Pintu Kumar <pintu.k@samsung.com>
remote:          Signed-off-by: Vishnu Pratap Singh <vishnu.ps@samsung.com>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Cc: Rafael Aquini <aquini@redhat.com>
remote:          Cc: Jerome Marchand <jmarchan@redhat.com>
remote:          Cc: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Cc: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit a4d60f2af8562d873b05cbc4b276106a377f90fb)
remote:
remote:      commit d800d13e2b8e71100a2947d7f461a72a4a45607f
remote:      Author: Kamal Dasu <kdasu@broadcom.com>
remote:      Date:   Thu Feb 19 16:24:27 2015 -0500
remote:
remote:          bmoca: Pass contents of MOCA_L2_CPU_STATUS to mocad
remote:
remote:          Add a message going to mocad in moca_send_pm_trap, that
remote:          will let MoCA know if the WATCHDOG_CPU_x_INTR is set.
remote:          We'll need to clear the WATCHDOG_CPU_x_INTR bits.
remote:          Handle the WATCHDOG_CPU_x_INTR. An MMP message is sent
remote:          to mocad. Also add MOCA_RESUMING_ASSERT and
remote:          MOCA_RESUMING_WDOG states to the resume logic.
remote:
remote:          SWLINUX-3556
remote:
remote:          Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:          (cherry picked from commit 5d3fc45b6fe43e95067a467e7213a067a21b99fc)
remote:
remote:      commit 6857be2818033c9d576fe55475a9b64f74748a78
remote:      Author: Kamal Dasu <kdasu@broadcom.com>
remote:      Date:   Thu Feb 19 16:14:18 2015 -0500
remote:
remote:          bmoca: Make per CPU ASSERT pending logic more readable
remote:
remote:          Minor cleanup to make the pre CPU assert_pending for CPU0
remote:          and CPU1 code more readable.
remote:
remote:          SWLINUX-3556
remote:
remote:          Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:          (cherry picked from commit c7a80d07ca86e87cced875192fb074f79102bd8e)
remote:
remote:      commit c9118eb450d1df46c9a69e5e59677857743151cb
remote:      Author: Kamal Dasu <kdasu@broadcom.com>
remote:      Date:   Wed Feb 18 14:09:21 2015 -0500
remote:
remote:          bmoca: Enable moca as a wakeup source by default
remote:
remote:          Enable moca as a wakeup source regardless of the
remote:          WoL setting. This is part of the change needed to resolve
remote:          CRMOCA20-5951: MoCA Exception and Assert interrupt
remote:          Reset of the changes in following commits.
remote:
remote:          SWLINUX-3556
remote:
remote:          Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:          (cherry picked from commit c1c348895e56b8dcc626ec15dbd5630848542902)
remote:
remote:      commit 8f0967e2f2c255f7c790ebe50583aa30ac885485
remote:      Author: Gregory Fong <gregory.0xf0@gmail.com>
remote:      Date:   Fri Dec 12 16:54:48 2014 -0800
remote:
remote:          mm: cma: align to physical address, not CMA region position
remote:
remote:          [Upstream commit b5be83e308f70e16c63c4e520ea7bb03ef57c46f]
remote:
remote:          The alignment in cma_alloc() was done w.r.t. the bitmap.  This is a
remote:          problem when, for example:
remote:
remote:          - a device requires 16M (order 12) alignment
remote:          - the CMA region is not 16 M aligned
remote:
remote:          In such a case, can result with the CMA region starting at, say,
remote:          0x2f800000 but any allocation you make from there will be aligned from
remote:          there.  Requesting an allocation of 32 M with 16 M alignment will result
remote:          in an allocation from 0x2f800000 to 0x31800000, which doesn't work very
remote:          well if your strange device requires 16M alignment.
remote:
remote:          Change to use bitmap_find_next_zero_area_off() to account for the
remote:          difference in alignment at reserve-time and alloc-time.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Gregory Fong <gregory.0xf0@gmail.com>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Cc: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Cc: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Cc: Kukjin Kim <kgene.kim@samsung.com>
remote:          Cc: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
remote:          Cc: Laura Abbott <lauraa@codeaurora.org>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          [gregory: I accidentally dropped our local version of this change,
remote:          86ff4cb6f6d7d03b3d7a13aec9e0e40a9d24cfbb, in commit got lost in commit
remote:          20f856ba533003aa8eab7518c2a401706ef428cd "CMA: generalize CMA reserved area
remote:          management functionality".  We can just use the same as upstream now.]
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:          (cherry picked from commit e189cd3aa4ca5303d3d5e9d394a2e54e788cb6f3)
remote:
remote:      commit 88010fbf62e01a81afe7fd9ea053d6c21bbf41d7
remote:      Author: Michal Nazarewicz <mina86@mina86.com>
remote:      Date:   Thu Nov 13 15:19:27 2014 -0800
remote:
remote:          mm: alloc_contig_range: demote pages busy message from warn to info
remote:
remote:          [Upstream commit dae803e165a11bc88ca8dbc07a11077caf97bbcb]
remote:
remote:          Having test_pages_isolated failure message as a warning confuses users
remote:          into thinking that it is more serious than it really is.  In reality, if
remote:          called via CMA, allocation will be retried so a single
remote:          test_pages_isolated failure does not prevent allocation from succeeding.
remote:
remote:          Demote the warning message to an info message and reformat it such that
remote:          the text "failed" does not appear and instead a less worrying "PFNS
remote:          busy" is used.
remote:
remote:          This message is trivially reproducible on a 10GB x86 machine on 3.16.y
remote:          kernels configured with CONFIG_DMA_CMA.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Cc: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
remote:          Cc: Peter Hurley <peter@hurleysoftware.com>
remote:          Cc: Minchan Kim <minchan@kernel.org>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 7f2492c261d0d6b82b874ee1a08b0212df7d9cd5)
remote:
remote:      commit 520261d943db6b9c0cd3b8bbd400a1fb6a553031
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Wed Feb 4 21:32:37 2015 -0800
remote:
remote:          tmon: makefile: export instead of overriding
remote:
remote:          To avoid clobbering all 'Makefile' variables, let's just export these.
remote:          Then we don't have to specify as many things in the 'makefile'.
remote:
remote:          SWLINUX-3288
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit a843b01c92daa5d3c595dc99018dbc8114516b9e)
remote:
remote:      commit c88ef54a7a666a947bcc8922f1c0131ac516473f
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Wed Feb 4 21:32:04 2015 -0800
remote:
remote:          tmon: allow CFLAGS and CC to be specified externally
remote:
remote:          Especially useful for cross-compiling.
remote:
remote:          SWLINUX-3288
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit f30042c28a97b19765595bd619aedd2dd09ce804)
remote:
remote:      commit eaf1fbcb33884fce9f0a3ec29a9c8c97f3a05f35
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Wed Feb 11 19:25:51 2015 -0800
remote:
remote:          tmon: tui: fixup windowing calculations
remote:
remote:          The number of rows in the dialog vary according to the number of cooling
remote:          devices. However, some of the windowing computations were assuming a
remote:          fixed number of rows. This computation is OK when we have between 4 and
remote:          9 cooling devices (and they wrap to the next column), but with fewer
remote:          devices, we end up printing off the end of the window.
remote:
remote:          This unifies the row computation into a single function and uses that
remote:          throughout the TUI code. This also accounts for increasing the number of
remote:          rows when there are more than 9 total cooling devices.
remote:
remote:          SWLINUX-3288
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 0863801049efe5f28a5585686a5824ae8680d6a7)
remote:
remote:      commit 9b2412422fe0b3e8f1e8f1370a626b25f15b1acb
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Wed Feb 11 19:25:44 2015 -0800
remote:
remote:          tmon: tui: don't hard-code dialog window size assumptions
remote:
remote:          We can use the ncurses API to get the number of rows.
remote:
remote:          SWLINUX-3288
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit cd3693f11b64ec2d7a4345bbae4624507c6cd356)
remote:
remote:      commit 7a975daa079e9a67378ca9c34d1c93f9a45bc93e
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Wed Feb 11 19:25:32 2015 -0800
remote:
remote:          tmon: add min/max macros
remote:
remote:          SWLINUX-3288
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 660e5e3d8ed5eec465603042e41bbabf3c1db8e4)
remote:
remote:      commit 44f5323adce7ce41d4ec0664426a6ce95d18321d
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Feb 5 17:49:40 2015 -0800
remote:
remote:          tools/thermal: add a .gitignore file for tmon
remote:
remote:          SWLINUX-3288
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 53451abe031b137ee754abd0b207d7621f7b172c)
remote:
remote:      commit 9d7ed76a4c4730492872a4912745302275d94c29
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Wed Jan 28 17:26:29 2015 -0800
remote:
remote:          mm: page_alloc: add single retry to __choose_rmqueue_migratetype
remote:
remote:          Rather assuming that exhaustion of both movable and cma try counters means we
remote:          should just go ahead and try using movable migratetype, try again after
remote:          resetting the counters.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 2fa12151c4f5173025bc0ae55d0cf279dbe0b511)
remote:
remote:      commit ea1bc75b1da9786f364ee9721fa95c020c8d9eed
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Wed Jan 28 17:24:12 2015 -0800
remote:
remote:          mm: page_alloc: inline __choose_rmqueue_migratetype
remote:
remote:          __rmqueue needs to be as fast as possible.  Since there's only one call site,
remote:          better to have this inlined.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit e9299a23c5a728bd90f8cb35367e5d824f3c99d6)
remote:
remote:      commit 05cc0cc09754dc908cb33b8680917b544f03a3f8
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jan 5 19:47:50 2015 -0800
remote:
remote:          mm: page_alloc: Fix div by zero in adjust_managed_cma_page_count
remote:
remote:          The commit by Joonsoo Kim <iamjoonsoo.kim@lge.com> "CMA: aggressively allocate
remote:          the pages on cma reserved memory when not used" introduced a div by zero when
remote:          there are no movable pages left but there are CMA pages left.  This can happen
remote:          under memory pressure when there are more total pages in CMA regions than not.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 8f79660751a7cb4347196cfc400a27d300dc80d3)
remote:
remote:      commit 1530757e788249be7f40486f2fc9c6d91b8f13f4
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Wed Jan 28 19:32:12 2015 -0800
remote:
remote:          CMA: use total cma pages for adjust_managed_cma_page_count
remote:
remote:          In the previous commit ("CMA: aggressively allocate the pages on CMA reserved
remote:          memory when not used" by Joonsoo Kim), CMA allocation is changed to be based on
remote:          the total number of "normal" managed pages and the number of managed (aka not
remote:          CMA-allocated) CMA pages.  This was intended to be used in conjunction with a
remote:          commit "CMA: always treat free cma pages as non-free on watermark checking"[1].
remote:          However, including that change results in a severe limitation that cannot be
remote:          used on brcmstb with the current setup: it restricts the amount of CMA region
remote:          memory to be less than or equal to to one-half of the system memory.
remote:
remote:          Rather than applying that change, this alters the heuristic from the
remote:          previous commit: we change the definition of "normal" manages in a zone from
remote:
remote:            total pages - managed (unallocated) CMA pages - high_wmark_pages(zone)
remote:
remote:          to
remote:
remote:            total pages - total CMA pages
remote:
remote:          This eliminates the need to handle determining whether an allocation should
remote:          succeed or fail based on the watermark check, and allows for memory in CMA
remote:          regions to be used for movable allocations even if there isn't any extra room
remote:          to migrate them out of the CMA region.
remote:
remote:          The obvious and rather large caveat is that in the event of a CMA allocation
remote:          actually requiring that space, there might not be enough space available to
remote:          which to move the used pages in the CMA region, resulting in potentially
remote:          catastrophic CMA allocation failures.  Whereas Joonsoo's commit prevents that
remote:          by design but restricts CMA usage, this maintains flexibility for CMA region
remote:          use but leaves it to the system designer to handle CMA allocation failure.
remote:
remote:          [1] https://github.com/JoonsooKim/linux/commit/166b4186d101b190cf50195d841e2189f2743649
remote:              or an older version at https://lkml.org/lkml/2014/5/28/110
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit b5cbdb8b971a271cfa9f9679fc8713faf26079e9)
remote:
remote:      commit 81dc20c94e1d1a3533eda32a8495e5e6177f74ad
remote:      Author: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:      Date:   Wed Jun 18 14:10:59 2014 +0900
remote:
remote:          CMA: aggressively allocate the pages on CMA reserved memory when not used
remote:
remote:          [Retrieved from
remote:          https://github.com/JoonsooKim/linux/commit/33a0416b3ac1cd7c88e6b35ee61b4a81a7a14afc]
remote:
remote:          CMA is introduced to provide physically contiguous pages at runtime.
remote:          For this purpose, it reserves memory at boot time. Although it reserve
remote:          memory, this reserved memory can be used for movable memory allocation
remote:          request. This usecase is beneficial to the system that needs this CMA
remote:          reserved memory infrequently and it is one of main purpose of
remote:          introducing CMA.
remote:
remote:          But, there is a problem in current implementation. The problem is that
remote:          it works like as just reserved memory approach. The pages on CMA reserved
remote:          memory are hardly used for movable memory allocation. This is caused by
remote:          combination of allocation and reclaim policy.
remote:
remote:          The pages on CMA reserved memory are allocated if there is no movable
remote:          memory, that is, as fallback allocation. So the time this fallback
remote:          allocation is started is under heavy memory pressure. Although it is under
remote:          memory pressure, movable allocation easily succeed, since there would be
remote:          many pages on CMA reserved memory. But this is not the case for unmovable
remote:          and reclaimable allocation, because they can't use the pages on CMA
remote:          reserved memory. These allocations regard system's free memory as
remote:          (free pages - free CMA pages) on watermark checking, that is, free
remote:          unmovable pages + free reclaimable pages + free movable pages. Because
remote:          we already exhausted movable pages, only free pages we have are unmovable
remote:          and reclaimable types and this would be really small amount. So watermark
remote:          checking would be failed. It will wake up kswapd to make enough free
remote:          memory for unmovable and reclaimable allocation and kswapd will do.
remote:          So before we fully utilize pages on CMA reserved memory, kswapd start to
remote:          reclaim memory and try to make free memory over the high watermark. This
remote:          watermark checking by kswapd doesn't take care free CMA pages so many
remote:          movable pages would be reclaimed. After then, we have a lot of movable
remote:          pages again, so fallback allocation doesn't happen again. To conclude,
remote:          amount of free memory on meminfo which includes free CMA pages is moving
remote:          around 512 MB if I reserve 512 MB memory for CMA.
remote:
remote:          I found this problem on following experiment.
remote:
remote:          4 CPUs, 1024 MB, VIRTUAL MACHINE
remote:          make -j16
remote:
remote:          CMA reserve:            0 MB            512 MB
remote:          Elapsed-time:           225.2           472.5
remote:          Average-MemFree:        322490 KB       630839 KB
remote:
remote:          To solve this problem, I can think following 2 possible solutions.
remote:          1. allocate the pages on CMA reserved memory first, and if they are
remote:             exhausted, allocate movable pages.
remote:          2. interleaved allocation: try to allocate specific amounts of memory
remote:             from CMA reserved memory and then allocate from free movable memory.
remote:
remote:          I tested #1 approach and found the problem. Although free memory on
remote:          meminfo can move around low watermark, there is large fluctuation on free
remote:          memory, because too many pages are reclaimed when kswapd is invoked.
remote:          Reason for this behaviour is that successive allocated CMA pages are
remote:          on the LRU list in that order and kswapd reclaim them in same order.
remote:          These memory doesn't help watermark checking from kwapd, so too many
remote:          pages are reclaimed, I guess.
remote:
remote:          So, I implement #2 approach.
remote:          One thing I should note is that we should not change allocation target
remote:          (movable list or CMA) on each allocation attempt, since this prevent
remote:          allocated pages to be in physically succession, so some I/O devices can
remote:          be hurt their performance. To solve this, I keep allocation target
remote:          in at least pageblock_nr_pages attempts and make this number reflect
remote:          ratio, free pages without free CMA pages to free CMA pages. With this
remote:          approach, system works very smoothly and fully utilize the pages on
remote:          CMA reserved memory.
remote:
remote:          Following is the experimental result of this patch.
remote:
remote:          4 CPUs, 1024 MB, VIRTUAL MACHINE
remote:          make -j16
remote:
remote:          <Before>
remote:          CMA reserve:            0 MB            512 MB
remote:          Elapsed-time:           225.2           472.5
remote:          Average-MemFree:        322490 KB       630839 KB
remote:          nr_free_cma:            0               131068
remote:          pswpin:                 0               261666
remote:          pswpout:                75              1241363
remote:
remote:          <After>
remote:          CMA reserve:            0 MB            512 MB
remote:          Elapsed-time:           222.7           224
remote:          Average-MemFree:        325595 KB       393033 KB
remote:          nr_free_cma:            0               61001
remote:          pswpin:                 0               6
remote:          pswpout:                44              502
remote:
remote:          There is no difference if we don't have CMA reserved memory (0 MB case).
remote:          But, with CMA reserved memory (512 MB case), we fully utilize these
remote:          reserved memory through this patch and the system behaves like as
remote:          it doesn't reserve any memory.
remote:
remote:          With this patch, we aggressively allocate the pages on CMA reserved memory
remote:          so latency of CMA can arise. Below is the experimental result about
remote:          latency.
remote:
remote:          4 CPUs, 1024 MB, VIRTUAL MACHINE
remote:          CMA reserve: 512 MB
remote:          Backgound Workload: make -jN
remote:          Real Workload: 8 MB CMA allocation/free 20 times with 5 sec interval
remote:
remote:          N:                    1        4       8        16
remote:          Elapsed-time(Before): 4309.75  9511.09 12276.1  77103.5
remote:          Elapsed-time(After):  5391.69 16114.1  19380.3  34879.2
remote:
remote:          So generally we can see latency increase. Ratio of this increase
remote:          is rather big - up to 70%. But, under the heavy workload, it shows
remote:          latency decrease - up to 55%. This may be worst-case scenario, but
remote:          reducing it would be important for some system, so, I can say that
remote:          this patch have advantages and disadvantages in terms of latency.
remote:
remote:          Although I think that this patch is right direction for CMA, there is
remote:          side-effect in following case. If there is small memory zone and CMA
remote:          occupys most of them, LRU for this zone would have many CMA pages. When
remote:          reclaim is started, these CMA pages would be reclaimed, but not counted
remote:          for watermark checking, so too many CMA pages could be reclaimed
remote:          unnecessarily. Until now, this can't happen because free CMA pages aren't
remote:          used easily. But, with this patch, free CMA pages are used easily so
remote:          this problem can be possible. I will handle it on another patchset
remote:          after some investigating.
remote:
remote:          v2:
remote:            - In fastpath, just replenish counters. Calculation is done whenver
remote:              CMA area is varied
remote:
remote:          v3:
remote:            - Use unsigned type in adjust_managed_cma_page_count() (per Gioh)
remote:            - Fix +/- count when calling adjust_managed_cma_page_count() (per Gioh)
remote:            - Instead of implementing __rmqueue_cma() which has another
remote:              __rmqueue_smallest(), choose_rmqueue_migratetype() is implemented to
remote:              change original migratetype to MIGRATE_CMA according to criteria. It
remote:              helps not to violate layering. (per Minchan in offline discussion)
remote:
remote:          SWLINUX-2786
remote:
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit d972a5082211262ddea3cc87ceac9e5f18b9ea73)
remote:
remote:      commit 2864519e0bf008640efaa760ff17c5ce169d43ac
remote:      Author: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:      Date:   Wed May 28 16:04:30 2014 +0900
remote:
remote:          CMA: remove redundant retrying code in __alloc_contig_migrate_range
remote:
remote:          [Upstream submission (not yet accepted) https://lkml.org/lkml/2014/5/28/113]
remote:
remote:          We already have retry logic in migrate_pages(). It does retry 10 times.
remote:          So if we keep this retrying code in __alloc_contig_migrate_range(), we
remote:          would try to migrate some unmigratable page in 50 times. There is just one
remote:          small difference in -ENOMEM case. migrate_pages() don't do retry
remote:          in this case, however, current __alloc_contig_migrate_range() does. But,
remote:          I think that this isn't problem, because in this case, we may fail again
remote:          with same reason.
remote:
remote:          SWLINUX-2786
remote:
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          [gregory: resolve minor merge conflict]
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:          Conflicts:
remote:          	mm/page_alloc.c
remote:
remote:          (cherry picked from commit 077285a0beac00f46c5922a4554a88c96153f08b)
remote:
remote:      commit 2f641829f5d6e0eb0744152900313eedadb74dc5
remote:      Author: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:      Date:   Thu Nov 13 15:19:21 2014 -0800
remote:
remote:          mm/page_alloc: restrict max order of merging on isolated pageblock
remote:
remote:          [Upstream commit 3c605096d3158216ba9326a16266f6ba128c2c8d]
remote:
remote:          Current pageblock isolation logic could isolate each pageblock
remote:          individually.  This causes freepage accounting problem if freepage with
remote:          pageblock order on isolate pageblock is merged with other freepage on
remote:          normal pageblock.  We can prevent merging by restricting max order of
remote:          merging to pageblock order if freepage is on isolate pageblock.
remote:
remote:          A side-effect of this change is that there could be non-merged buddy
remote:          freepage even if finishing pageblock isolation, because undoing
remote:          pageblock isolation is just to move freepage from isolate buddy list to
remote:          normal buddy list rather than to consider merging.  So, the patch also
remote:          makes undoing pageblock isolation consider freepage merge.  When
remote:          un-isolation, freepage with more than pageblock order and it's buddy are
remote:          checked.  If they are on normal pageblock, instead of just moving, we
remote:          isolate the freepage and free it in order to get merged.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Acked-by: Vlastimil Babka <vbabka@suse.cz>
remote:          Cc: "Kirill A. Shutemov" <kirill@shutemov.name>
remote:          Cc: Mel Gorman <mgorman@suse.de>
remote:          Cc: Johannes Weiner <hannes@cmpxchg.org>
remote:          Cc: Minchan Kim <minchan@kernel.org>
remote:          Cc: Yasuaki Ishimatsu <isimatu.yasuaki@jp.fujitsu.com>
remote:          Cc: Zhang Yanfei <zhangyanfei@cn.fujitsu.com>
remote:          Cc: Tang Chen <tangchen@cn.fujitsu.com>
remote:          Cc: Naoya Horiguchi <n-horiguchi@ah.jp.nec.com>
remote:          Cc: Bartlomiej Zolnierkiewicz <b.zolnierkie@samsung.com>
remote:          Cc: Wen Congyang <wency@cn.fujitsu.com>
remote:          Cc: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Cc: Michal Nazarewicz <mina86@mina86.com>
remote:          Cc: Laura Abbott <lauraa@codeaurora.org>
remote:          Cc: Heesub Shin <heesub.shin@samsung.com>
remote:          Cc: "Aneesh Kumar K.V" <aneesh.kumar@linux.vnet.ibm.com>
remote:          Cc: Ritesh Harjani <ritesh.list@gmail.com>
remote:          Cc: Gioh Kim <gioh.kim@lge.com>
remote:          Cc: <stable@vger.kernel.org>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 9e2f563659c605adfb0db3810494c9565f4436c8)
remote:
remote:      commit b46a3b0017b2ac151b27d4b65a848a0c8c14b731
remote:      Author: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:      Date:   Thu Nov 13 15:19:18 2014 -0800
remote:
remote:          mm/page_alloc: move freepage counting logic to __free_one_page()
remote:
remote:          [Upstream commit 8f82b55dd558a74fc33d69a1f2c2605d0cd2c908]
remote:
remote:          All the caller of __free_one_page() has similar freepage counting logic,
remote:          so we can move it to __free_one_page().  This reduce line of code and
remote:          help future maintenance.
remote:
remote:          This is also preparation step for "mm/page_alloc: restrict max order of
remote:          merging on isolated pageblock" which fix the freepage counting problem
remote:          on freepage with more than pageblock order.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Acked-by: Vlastimil Babka <vbabka@suse.cz>
remote:          Cc: "Kirill A. Shutemov" <kirill@shutemov.name>
remote:          Cc: Mel Gorman <mgorman@suse.de>
remote:          Cc: Johannes Weiner <hannes@cmpxchg.org>
remote:          Cc: Minchan Kim <minchan@kernel.org>
remote:          Cc: Yasuaki Ishimatsu <isimatu.yasuaki@jp.fujitsu.com>
remote:          Cc: Zhang Yanfei <zhangyanfei@cn.fujitsu.com>
remote:          Cc: Tang Chen <tangchen@cn.fujitsu.com>
remote:          Cc: Naoya Horiguchi <n-horiguchi@ah.jp.nec.com>
remote:          Cc: Bartlomiej Zolnierkiewicz <b.zolnierkie@samsung.com>
remote:          Cc: Wen Congyang <wency@cn.fujitsu.com>
remote:          Cc: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Cc: Michal Nazarewicz <mina86@mina86.com>
remote:          Cc: Laura Abbott <lauraa@codeaurora.org>
remote:          Cc: Heesub Shin <heesub.shin@samsung.com>
remote:          Cc: "Aneesh Kumar K.V" <aneesh.kumar@linux.vnet.ibm.com>
remote:          Cc: Ritesh Harjani <ritesh.list@gmail.com>
remote:          Cc: Gioh Kim <gioh.kim@lge.com>
remote:          Cc: <stable@vger.kernel.org>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 8c0fed7c9bd77c0f0b45e78d83c49a66b338b4cd)
remote:
remote:      commit 690f4aa1d6f27202d7d610b110913bf73955d4f8
remote:      Author: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:      Date:   Thu Nov 13 15:19:14 2014 -0800
remote:
remote:          mm/page_alloc: add freepage on isolate pageblock to correct buddy list
remote:
remote:          [Upstream commit 51bb1a4093cc68bc16b282548d9cee6104be0ef1]
remote:
remote:          In free_pcppages_bulk(), we use cached migratetype of freepage to
remote:          determine type of buddy list where freepage will be added.  This
remote:          information is stored when freepage is added to pcp list, so if
remote:          isolation of pageblock of this freepage begins after storing, this
remote:          cached information could be stale.  In other words, it has original
remote:          migratetype rather than MIGRATE_ISOLATE.
remote:
remote:          There are two problems caused by this stale information.
remote:
remote:          One is that we can't keep these freepages from being allocated.
remote:          Although this pageblock is isolated, freepage will be added to normal
remote:          buddy list so that it could be allocated without any restriction.  And
remote:          the other problem is incorrect freepage accounting.  Freepages on
remote:          isolate pageblock should not be counted for number of freepage.
remote:
remote:          Following is the code snippet in free_pcppages_bulk().
remote:
remote:              /* MIGRATE_MOVABLE list may include MIGRATE_RESERVEs */
remote:              __free_one_page(page, page_to_pfn(page), zone, 0, mt);
remote:              trace_mm_page_pcpu_drain(page, 0, mt);
remote:              if (likely(!is_migrate_isolate_page(page))) {
remote:                  __mod_zone_page_state(zone, NR_FREE_PAGES, 1);
remote:                  if (is_migrate_cma(mt))
remote:                      __mod_zone_page_state(zone, NR_FREE_CMA_PAGES, 1);
remote:              }
remote:
remote:          As you can see above snippet, current code already handle second
remote:          problem, incorrect freepage accounting, by re-fetching pageblock
remote:          migratetype through is_migrate_isolate_page(page).
remote:
remote:          But, because this re-fetched information isn't used for
remote:          __free_one_page(), first problem would not be solved.  This patch try to
remote:          solve this situation to re-fetch pageblock migratetype before
remote:          __free_one_page() and to use it for __free_one_page().
remote:
remote:          In addition to move up position of this re-fetch, this patch use
remote:          optimization technique, re-fetching migratetype only if there is isolate
remote:          pageblock.  Pageblock isolation is rare event, so we can avoid
remote:          re-fetching in common case with this optimization.
remote:
remote:          This patch also correct migratetype of the tracepoint output.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Acked-by: Minchan Kim <minchan@kernel.org>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Acked-by: Vlastimil Babka <vbabka@suse.cz>
remote:          Cc: "Kirill A. Shutemov" <kirill@shutemov.name>
remote:          Cc: Mel Gorman <mgorman@suse.de>
remote:          Cc: Johannes Weiner <hannes@cmpxchg.org>
remote:          Cc: Yasuaki Ishimatsu <isimatu.yasuaki@jp.fujitsu.com>
remote:          Cc: Zhang Yanfei <zhangyanfei@cn.fujitsu.com>
remote:          Cc: Tang Chen <tangchen@cn.fujitsu.com>
remote:          Cc: Naoya Horiguchi <n-horiguchi@ah.jp.nec.com>
remote:          Cc: Bartlomiej Zolnierkiewicz <b.zolnierkie@samsung.com>
remote:          Cc: Wen Congyang <wency@cn.fujitsu.com>
remote:          Cc: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Cc: Laura Abbott <lauraa@codeaurora.org>
remote:          Cc: Heesub Shin <heesub.shin@samsung.com>
remote:          Cc: "Aneesh Kumar K.V" <aneesh.kumar@linux.vnet.ibm.com>
remote:          Cc: Ritesh Harjani <ritesh.list@gmail.com>
remote:          Cc: Gioh Kim <gioh.kim@lge.com>
remote:          Cc: <stable@vger.kernel.org>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 3e3fcb2934233728948179f01c345efcd36bd7ea)
remote:
remote:      commit 9755d7c23d76d5871d72819b6214de58fa459ae8
remote:      Author: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:      Date:   Thu Nov 13 15:19:11 2014 -0800
remote:
remote:          mm/page_alloc: fix incorrect isolation behavior by rechecking migratetype
remote:
remote:          [Upstream commit ad53f92eb416d81e469fa8ea57153e59455e7175]
remote:
remote:          Before describing bugs itself, I first explain definition of freepage.
remote:
remote:           1. pages on buddy list are counted as freepage.
remote:           2. pages on isolate migratetype buddy list are *not* counted as freepage.
remote:           3. pages on cma buddy list are counted as CMA freepage, too.
remote:
remote:          Now, I describe problems and related patch.
remote:
remote:          Patch 1: There is race conditions on getting pageblock migratetype that
remote:          it results in misplacement of freepages on buddy list, incorrect
remote:          freepage count and un-availability of freepage.
remote:
remote:          Patch 2: Freepages on pcp list could have stale cached information to
remote:          determine migratetype of buddy list to go.  This causes misplacement of
remote:          freepages on buddy list and incorrect freepage count.
remote:
remote:          Patch 4: Merging between freepages on different migratetype of
remote:          pageblocks will cause freepages accouting problem.  This patch fixes it.
remote:
remote:          Without patchset [3], above problem doesn't happens on my CMA allocation
remote:          test, because CMA reserved pages aren't used at all.  So there is no
remote:          chance for above race.
remote:
remote:          With patchset [3], I did simple CMA allocation test and get below
remote:          result:
remote:
remote:           - Virtual machine, 4 cpus, 1024 MB memory, 256 MB CMA reservation
remote:           - run kernel build (make -j16) on background
remote:           - 30 times CMA allocation(8MB * 30 = 240MB) attempts in 5 sec interval
remote:           - Result: more than 5000 freepage count are missed
remote:
remote:          With patchset [3] and this patchset, I found that no freepage count are
remote:          missed so that I conclude that problems are solved.
remote:
remote:          On my simple memory offlining test, these problems also occur on that
remote:          environment, too.
remote:
remote:          This patch (of 4):
remote:
remote:          There are two paths to reach core free function of buddy allocator,
remote:          __free_one_page(), one is free_one_page()->__free_one_page() and the
remote:          other is free_hot_cold_page()->free_pcppages_bulk()->__free_one_page().
remote:          Each paths has race condition causing serious problems.  At first, this
remote:          patch is focused on first type of freepath.  And then, following patch
remote:          will solve the problem in second type of freepath.
remote:
remote:          In the first type of freepath, we got migratetype of freeing page
remote:          without holding the zone lock, so it could be racy.  There are two cases
remote:          of this race.
remote:
remote:           1. pages are added to isolate buddy list after restoring orignal
remote:              migratetype
remote:
remote:              CPU1                                   CPU2
remote:
remote:              get migratetype => return MIGRATE_ISOLATE
remote:              call free_one_page() with MIGRATE_ISOLATE
remote:
remote:                                          grab the zone lock
remote:                                          unisolate pageblock
remote:                                          release the zone lock
remote:
remote:              grab the zone lock
remote:              call __free_one_page() with MIGRATE_ISOLATE
remote:              freepage go into isolate buddy list,
remote:              although pageblock is already unisolated
remote:
remote:          This may cause two problems.  One is that we can't use this page anymore
remote:          until next isolation attempt of this pageblock, because freepage is on
remote:          isolate buddy list.  The other is that freepage accouting could be wrong
remote:          due to merging between different buddy list.  Freepages on isolate buddy
remote:          list aren't counted as freepage, but ones on normal buddy list are
remote:          counted as freepage.  If merge happens, buddy freepage on normal buddy
remote:          list is inevitably moved to isolate buddy list without any consideration
remote:          of freepage accouting so it could be incorrect.
remote:
remote:           2. pages are added to normal buddy list while pageblock is isolated.
remote:              It is similar with above case.
remote:
remote:          This also may cause two problems.  One is that we can't keep these
remote:          freepages from being allocated.  Although this pageblock is isolated,
remote:          freepage would be added to normal buddy list so that it could be
remote:          allocated without any restriction.  And the other problem is same as
remote:          case 1, that it, incorrect freepage accouting.
remote:
remote:          This race condition would be prevented by checking migratetype again
remote:          with holding the zone lock.  Because it is somewhat heavy operation and
remote:          it isn't needed in common case, we want to avoid rechecking as much as
remote:          possible.  So this patch introduce new variable, nr_isolate_pageblock in
remote:          struct zone to check if there is isolated pageblock.  With this, we can
remote:          avoid to re-check migratetype in common case and do it only if there is
remote:          isolated pageblock or migratetype is MIGRATE_ISOLATE.  This solve above
remote:          mentioned problems.
remote:
remote:          Changes from v3:
remote:          Add one more check in free_one_page() that checks whether migratetype is
remote:          MIGRATE_ISOLATE or not. Without this, abovementioned case 1 could happens.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Acked-by: Minchan Kim <minchan@kernel.org>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Acked-by: Vlastimil Babka <vbabka@suse.cz>
remote:          Cc: "Kirill A. Shutemov" <kirill@shutemov.name>
remote:          Cc: Mel Gorman <mgorman@suse.de>
remote:          Cc: Johannes Weiner <hannes@cmpxchg.org>
remote:          Cc: Yasuaki Ishimatsu <isimatu.yasuaki@jp.fujitsu.com>
remote:          Cc: Zhang Yanfei <zhangyanfei@cn.fujitsu.com>
remote:          Cc: Tang Chen <tangchen@cn.fujitsu.com>
remote:          Cc: Naoya Horiguchi <n-horiguchi@ah.jp.nec.com>
remote:          Cc: Bartlomiej Zolnierkiewicz <b.zolnierkie@samsung.com>
remote:          Cc: Wen Congyang <wency@cn.fujitsu.com>
remote:          Cc: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Cc: Laura Abbott <lauraa@codeaurora.org>
remote:          Cc: Heesub Shin <heesub.shin@samsung.com>
remote:          Cc: "Aneesh Kumar K.V" <aneesh.kumar@linux.vnet.ibm.com>
remote:          Cc: Ritesh Harjani <ritesh.list@gmail.com>
remote:          Cc: Gioh Kim <gioh.kim@lge.com>
remote:          Cc: <stable@vger.kernel.org>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          [gregory: minor backport changes for stblinux-3.14 which does not have
remote:          CONFIG_MEMORY_HOTPLUG]
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:          Conflicts:
remote:          	include/linux/mmzone.h
remote:
remote:          (cherry picked from commit 73912deb8a18c2a374eb3b40ad90fb8e84d828fa)
remote:
remote:      commit 2666742c4813427aa43aed5adaafbec4ec31056d
remote:      Author: Mel Gorman <mgorman@suse.de>
remote:      Date:   Wed Jun 4 16:10:17 2014 -0700
remote:
remote:          mm: page_alloc: reduce number of times page_to_pfn is called
remote:
remote:          [Upstream commit dc4b0caff24d9b2918e9f27bc65499ee63187eba]
remote:
remote:          In the free path we calculate page_to_pfn multiple times. Reduce that.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Mel Gorman <mgorman@suse.de>
remote:          Acked-by: Rik van Riel <riel@redhat.com>
remote:          Cc: Johannes Weiner <hannes@cmpxchg.org>
remote:          Acked-by: Vlastimil Babka <vbabka@suse.cz>
remote:          Cc: Jan Kara <jack@suse.cz>
remote:          Cc: Michal Hocko <mhocko@suse.cz>
remote:          Cc: Hugh Dickins <hughd@google.com>
remote:          Cc: Dave Hansen <dave.hansen@intel.com>
remote:          Cc: Theodore Ts'o <tytso@mit.edu>
remote:          Cc: "Paul E. McKenney" <paulmck@linux.vnet.ibm.com>
remote:          Cc: Oleg Nesterov <oleg@redhat.com>
remote:          Cc: Peter Zijlstra <peterz@infradead.org>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit a35116c775d851b777ba9ba458ff5a3cd0ab98e5)
remote:
remote:      commit 24f7e920efe0983a714fc406ce023ff4b88d7fda
remote:      Author: Weijie Yang <weijie.yang@samsung.com>
remote:      Date:   Fri Oct 24 17:47:57 2014 +0800
remote:
remote:          mm, cma: make parameters order consistent in func declaration and definition
remote:
remote:          [Upstream commit dda02fd6278d9e995850b3c1dba484f17cbe4de4]
remote:
remote:          In the current code, the base and size parameters order is not consistent
remote:          in functions declaration and definition. If someone calls these functions
remote:          according to the declaration parameters order in cma.h, he will run into
remote:          some bug and it's hard to find the reason.
remote:
remote:          This patch makes the parameters order consistent in functions declaration
remote:          and definition.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Weijie Yang <weijie.yang@samsung.com>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 9cdadd68a5bd6799c15aa1a9f1b0475b102c3445)
remote:
remote:      commit 043c2ed2a5a11217015a6fce997d00372efc1a04
remote:      Author: Marek Szyprowski <m.szyprowski@samsung.com>
remote:      Date:   Mon Oct 13 15:51:09 2014 -0700
remote:
remote:          drivers: dma-contiguous: add initialization from device tree
remote:
remote:          [Upstream commit de9e14eebf33a60712a52a0bc6e08c043c0aba53]
remote:
remote:          Add a function to create CMA region from previously reserved memory and
remote:          add support for handling 'shared-dma-pool' reserved-memory device tree
remote:          nodes.
remote:
remote:          Based on previous code provided by Josh Cartwright <joshc@codeaurora.org>
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Cc: Arnd Bergmann <arnd@arndb.de>
remote:          Cc: Michal Nazarewicz <mina86@mina86.com>
remote:          Cc: Grant Likely <grant.likely@linaro.org>
remote:          Cc: Laura Abbott <lauraa@codeaurora.org>
remote:          Cc: Josh Cartwright <joshc@codeaurora.org>
remote:          Cc: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Cc: Kyungmin Park <kyungmin.park@samsung.com>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 4e5de077be29c2a5483342bcb5651d3f4c325c1b)
remote:
remote:      commit dc70ef66333eaf9781846c140c52ea6c03defd1e
remote:      Author: Rob Herring <robh@kernel.org>
remote:      Date:   Thu May 8 16:06:17 2014 -0500
remote:
remote:          of: align RESERVEDMEM_OF_DECLARE function callbacks to other callbacks
remote:
remote:          [Upstream commit 9dd3107576c4bbd40e1c2c8b24d560abf9a7b991]
remote:
remote:          All the parameters for RESERVEDMEM_OF_DECLARE function callbacks are
remote:          members of struct reserved_mem, so just pass the struct ptr to callback
remote:          functions so the function callback is more in line with other OF match
remote:          table callbacks.
remote:
remote:          SWLINUX-2786
remote:
remote:          Acked-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Acked-by: Grant Likely <grant.likely@linaro.org>
remote:          Signed-off-by: Rob Herring <robh@kernel.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit d0ea197730a9729756dfee4a41c83668f123b8b6)
remote:
remote:      commit 8c25002ccafe9b106f4063cfcb171943716d8085
remote:      Author: Marek Szyprowski <m.szyprowski@samsung.com>
remote:      Date:   Fri Feb 28 14:42:49 2014 +0100
remote:
remote:          drivers: of: add support for custom reserved memory drivers
remote:
remote:          [Upstream commit f618c4703a14672d27bc2ca5d132a844363d6f5f]
remote:
remote:          Add support for custom reserved memory drivers. Call their init() function
remote:          for each reserved region and prepare for using operations provided by them
remote:          with by the reserved_mem->ops array.
remote:
remote:          Based on previous code provided by Josh Cartwright <joshc@codeaurora.org>
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Signed-off-by: Grant Likely <grant.likely@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit d2e30989a258501e2d52f0e9b41242fbea4c35de)
remote:
remote:      commit 1e2113768e28692464981040fc40dceeca07e511
remote:      Author: Laurent Pinchart <laurent.pinchart+renesas@ideasonboard.com>
remote:      Date:   Fri Oct 24 13:18:42 2014 +0300
remote:
remote:          mm: cma: Use %pa to print physical addresses
remote:
remote:          [Upstream commit 56fa4f609badbe442093409c3d3a051811e54f72]
remote:
remote:          Casting physical addresses to unsigned long and using %lu truncates the
remote:          values on systems where physical addresses are larger than 32 bits. Use
remote:          %pa and get rid of the cast instead.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Laurent Pinchart <laurent.pinchart+renesas@ideasonboard.com>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Acked-by: Geert Uytterhoeven <geert+renesas@glider.be>
remote:          Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 858ba8fdfcbb299e178f070b6657b15ce792e3dd)
remote:
remote:      commit 1ed53a2bf25afc319568a428a4d56814299010ed
remote:      Author: Laurent Pinchart <laurent.pinchart+renesas@ideasonboard.com>
remote:      Date:   Fri Oct 24 13:18:41 2014 +0300
remote:
remote:          mm: cma: Ensure that reservations never cross the low/high mem boundary
remote:
remote:          [Upstream commit 16195ddd4ebcc10c30b2f232f8e400df8d464380]
remote:
remote:          Commit 95b0e655f914 ("ARM: mm: don't limit default CMA region only to
remote:          low memory") extended CMA memory reservation to allow usage of high
remote:          memory. It relied on commit f7426b983a6a ("mm: cma: adjust address limit
remote:          to avoid hitting low/high memory boundary") to ensure that the reserved
remote:          block never crossed the low/high memory boundary. While the
remote:          implementation correctly lowered the limit, it failed to consider the
remote:          case where the base..limit range crossed the low/high memory boundary
remote:          with enough space on each side to reserve the requested size on either
remote:          low or high memory.
remote:
remote:          Rework the base and limit adjustment to fix the problem. The function
remote:          now starts by rejecting the reservation altogether for fixed
remote:          reservations that cross the boundary, tries to reserve from high memory
remote:          first and then falls back to low memory.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Laurent Pinchart <laurent.pinchart+renesas@ideasonboard.com>
remote:          Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 20ed5aedc85a032c8d0e3fbacd4ca16e3309394c)
remote:
remote:      commit 4280b639e0fcf046809fd29b3262ac05cc7a6c21
remote:      Author: Laurent Pinchart <laurent.pinchart+renesas@ideasonboard.com>
remote:      Date:   Fri Oct 24 13:18:40 2014 +0300
remote:
remote:          mm: cma: Always consider a 0 base address reservation as dynamic
remote:
remote:          [Upstream commit 800a85d3d286604b8c539ca7ee90b992316fd2a7]
remote:
remote:          The fixed parameter to cma_declare_contiguous() tells the function
remote:          whether the given base address must be honoured or should be considered
remote:          as a hint only. The API considers a zero base address as meaning any
remote:          base address, which must never be considered as a fixed value.
remote:
remote:          Part of the implementation correctly checks both fixed and base != 0,
remote:          but two locations check the fixed value only. Set fixed to false when
remote:          base is 0 to fix that and simplify the code.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Laurent Pinchart <laurent.pinchart+renesas@ideasonboard.com>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit db6b5f24fdbc8d565010003ce70db9877d92ba27)
remote:
remote:      commit 1a486b3ec5880fa4a7fa6512ec6810ed7fba1927
remote:      Author: Laurent Pinchart <laurent.pinchart+renesas@ideasonboard.com>
remote:      Date:   Fri Oct 24 13:18:39 2014 +0300
remote:
remote:          mm: cma: Don't crash on allocation if CMA area can't be activated
remote:
remote:          [Upstream commit f022d8cb7ec70fe8edd56383d876001317ee76b1]
remote:
remote:          If activation of the CMA area fails its mutex won't be initialized,
remote:          leading to an oops at allocation time when trying to lock the mutex. Fix
remote:          this by setting the cma area count field to 0 when activation fails,
remote:          leading to allocation returning NULL immediately.
remote:
remote:          SWLINUX-2786
remote:
remote:          Cc: <stable@vger.kernel.org>  # v3.17
remote:          Signed-off-by: Laurent Pinchart <laurent.pinchart+renesas@ideasonboard.com>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit c5a36cb40607750a565c4223d9aaef1dfa6036b9)
remote:
remote:      commit ea4832f85e1ad0929c7583af738dbe2a49efa6f0
remote:      Author: Weijie Yang <weijie.yang@samsung.com>
remote:      Date:   Mon Oct 13 15:51:03 2014 -0700
remote:
remote:          mm/cma: fix cma bitmap aligned mask computing
remote:
remote:          [Upstream commit 68faed630fc151a7a1c4853df00fb3dcacf782b4]
remote:
remote:          The current cma bitmap aligned mask computation is incorrect.  It could
remote:          cause an unexpected alignment when using cma_alloc() if the wanted align
remote:          order is larger than cma->order_per_bit.
remote:
remote:          Take kvm for example (PAGE_SHIFT = 12), kvm_cma->order_per_bit is set to
remote:          6.  When kvm_alloc_rma() tries to alloc kvm_rma_pages, it will use 15 as
remote:          the expected align value.  After using the current implementation however,
remote:          we get 0 as cma bitmap aligned mask other than 511.
remote:
remote:          This patch fixes the cma bitmap aligned mask calculation.
remote:
remote:          SWLINUX-2786
remote:
remote:          [akpm@linux-foundation.org: coding-style fixes]
remote:          Signed-off-by: Weijie Yang <weijie.yang@samsung.com>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Cc: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Cc: "Aneesh Kumar K.V" <aneesh.kumar@linux.vnet.ibm.com>
remote:          Cc: <stable@vger.kernel.org>	[3.17]
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:          (cherry picked from commit 1f5fe3e4da6f752a16661f073ba29b828c534a2f)
remote:
remote:      commit f7353506ed034fa1a5e5fd20087d394b04d1d02f
remote:      Author: Jean Delvare <jdelvare@suse.de>
remote:      Date:   Thu Oct 9 15:29:41 2014 -0700
remote:
remote:          CMA: document cma=0
remote:
remote:          [Upstream commit f0d6d1f6ff6f8525cfa396ec1969b8f402391445]
remote:
remote:          It isn't obvious that CMA can be disabled on the kernel's command line, so
remote:          document it.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Jean Delvare <jdelvare@suse.de>
remote:          Cc: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Cc: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
remote:          Cc: Akinobu Mita <akinobu.mita@gmail.com>
remote:          Cc: Chuck Ebbert <cebbert.lkml@gmail.com>
remote:          Cc: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Cc: Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit bb032b1461faf2a87f653a0ca2d9658ceb9b8a37)
remote:
remote:      commit e800270cbef5f5375ac8fa6ba79b02f9ae924c08
remote:      Author: Marek Szyprowski <m.szyprowski@samsung.com>
remote:      Date:   Thu Oct 9 15:26:47 2014 -0700
remote:
remote:          mm: cma: adjust address limit to avoid hitting low/high memory boundary
remote:
remote:          [Upstream commit f7426b983a6a353cf21e5733e84458219c4a817e]
remote:
remote:          Russell King recently noticed that limiting default CMA region only to low
remote:          memory on ARM architecture causes serious memory management issues with
remote:          machines having a lot of memory (which is mainly available as high
remote:          memory).  More information can be found the following thread:
remote:          http://thread.gmane.org/gmane.linux.ports.arm.kernel/348441/
remote:
remote:          Those two patches removes this limit letting kernel to put default CMA
remote:          region into high memory when this is possible (there is enough high memory
remote:          available and architecture specific DMA limit fits).
remote:
remote:          This should solve strange OOM issues on systems with lots of RAM (i.e.
remote:          >1GiB) and large (>256M) CMA area.
remote:
remote:          This patch (of 2):
remote:
remote:          Automatically allocated regions should not cross low/high memory boundary,
remote:          because such regions cannot be later correctly initialized due to spanning
remote:          across two memory zones.  This patch adds a check for this case and a
remote:          simple code for moving region to low memory if automatically selected
remote:          address might not fit completely into high memory.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Cc: Daniel Drake <drake@endlessm.com>
remote:          Cc: Minchan Kim <minchan@kernel.org>
remote:          Cc: Russell King <rmk@arm.linux.org.uk>
remote:          Cc: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 001476fa34fe9be8961869dd1a3605c06c59a3c3)
remote:
remote:      commit 89b1f17de5033087bb8d76daf80b516bf86cc4bf
remote:      Author: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:      Date:   Wed Aug 6 16:05:34 2014 -0700
remote:
remote:          mm, CMA: clean-up log message
remote:
remote:          [Upstream commit 0de9d2ebe590f9203dac59d4b8e298c473764b92]
remote:
remote:          We don't need explicit 'CMA:' prefix, since we already define prefix
remote:          'cma:' in pr_fmt.  So remove it.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Reviewed-by: Zhang Yanfei <zhangyanfei@cn.fujitsu.com>
remote:          Cc: "Aneesh Kumar K.V" <aneesh.kumar@linux.vnet.ibm.com>
remote:          Cc: Alexander Graf <agraf@suse.de>
remote:          Cc: Aneesh Kumar K.V <aneesh.kumar@linux.vnet.ibm.com>
remote:          Cc: Gleb Natapov <gleb@kernel.org>
remote:          Acked-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Tested-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Cc: Minchan Kim <minchan@kernel.org>
remote:          Cc: Paolo Bonzini <pbonzini@redhat.com>
remote:          Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
remote:          Cc: Paul Mackerras <paulus@samba.org>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 2a43c6796e88f0fd5f6ca2007d8d72851a293be9)
remote:
remote:      commit 415968b4659bc73535083dffd4b36203677c67ee
remote:      Author: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:      Date:   Wed Aug 6 16:05:32 2014 -0700
remote:
remote:          mm, CMA: change cma_declare_contiguous() to obey coding convention
remote:
remote:          [Upstream commit c1f733aaaf30a0068a3126d5aa9d5b4c25ba4c0c]
remote:
remote:          Conventionally, we put output param to the end of param list and put the
remote:          'base' ahead of 'size', but cma_declare_contiguous() doesn't look like
remote:          that, so change it.
remote:
remote:          Additionally, move down cma_areas reference code to the position where
remote:          it is really needed.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Reviewed-by: Aneesh Kumar K.V <aneesh.kumar@linux.vnet.ibm.com>
remote:          Cc: Alexander Graf <agraf@suse.de>
remote:          Cc: Aneesh Kumar K.V <aneesh.kumar@linux.vnet.ibm.com>
remote:          Cc: Gleb Natapov <gleb@kernel.org>
remote:          Acked-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Tested-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Cc: Minchan Kim <minchan@kernel.org>
remote:          Cc: Paolo Bonzini <pbonzini@redhat.com>
remote:          Cc: Zhang Yanfei <zhangyanfei@cn.fujitsu.com>
remote:          Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
remote:          Cc: Paul Mackerras <paulus@samba.org>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          [gregory: I didn't check very carefully whether the change to
remote:          resolve the conflict in arch/powerpc/kvm/book3s_hv_builtin.c is okay because we
remote:          don't use it]
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:          Conflicts:
remote:          	arch/powerpc/kvm/book3s_hv_builtin.c
remote:
remote:          (cherry picked from commit df085ec0e7089a191ad7e1f58c4b880f53c6c30d)
remote:
remote:      commit 60dc2c500e3c476bdea6226ff296b75cd6a0ebab
remote:      Author: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:      Date:   Wed Aug 6 16:05:30 2014 -0700
remote:
remote:          mm, CMA: clean-up CMA allocation error path
remote:
remote:          [Upstream commit b7155e76a702d97553660828347b9f10858b4dd5]
remote:
remote:          We can remove one call sites for clear_cma_bitmap() if we first call it
remote:          before checking error number.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Acked-by: Minchan Kim <minchan@kernel.org>
remote:          Reviewed-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Reviewed-by: Zhang Yanfei <zhangyanfei@cn.fujitsu.com>
remote:          Reviewed-by: Aneesh Kumar K.V <aneesh.kumar@linux.vnet.ibm.com>
remote:          Cc: Alexander Graf <agraf@suse.de>
remote:          Cc: Aneesh Kumar K.V <aneesh.kumar@linux.vnet.ibm.com>
remote:          Cc: Gleb Natapov <gleb@kernel.org>
remote:          Acked-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Tested-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Cc: Paolo Bonzini <pbonzini@redhat.com>
remote:          Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
remote:          Cc: Paul Mackerras <paulus@samba.org>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit bbac9e42e8195976eac07690d2657cf4344d4174)
remote:
remote:      commit 224aa0cca1ac1d2cdabf9a3247e2d9c77d398fde
remote:      Author: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:      Date:   Wed Aug 6 16:05:25 2014 -0700
remote:
remote:          CMA: generalize CMA reserved area management functionality
remote:
remote:          [Upstream commit a254129e8686bff7a340b58f35241b04927e81c0]
remote:
remote:          Currently, there are two users on CMA functionality, one is the DMA
remote:          subsystem and the other is the KVM on powerpc.  They have their own code
remote:          to manage CMA reserved area even if they looks really similar.  From my
remote:          guess, it is caused by some needs on bitmap management.  KVM side wants
remote:          to maintain bitmap not for 1 page, but for more size.  Eventually it use
remote:          bitmap where one bit represents 64 pages.
remote:
remote:          When I implement CMA related patches, I should change those two places
remote:          to apply my change and it seem to be painful to me.  I want to change
remote:          this situation and reduce future code management overhead through this
remote:          patch.
remote:
remote:          This change could also help developer who want to use CMA in their new
remote:          feature development, since they can use CMA easily without copying &
remote:          pasting this reserved area management code.
remote:
remote:          In previous patches, we have prepared some features to generalize CMA
remote:          reserved area management and now it's time to do it.  This patch moves
remote:          core functions to mm/cma.c and change DMA APIs to use these functions.
remote:
remote:          There is no functional change in DMA APIs.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Acked-by: Zhang Yanfei <zhangyanfei@cn.fujitsu.com>
remote:          Acked-by: Minchan Kim <minchan@kernel.org>
remote:          Reviewed-by: Aneesh Kumar K.V <aneesh.kumar@linux.vnet.ibm.com>
remote:          Cc: Alexander Graf <agraf@suse.de>
remote:          Cc: Aneesh Kumar K.V <aneesh.kumar@linux.vnet.ibm.com>
remote:          Cc: Gleb Natapov <gleb@kernel.org>
remote:          Acked-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Tested-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Cc: Paolo Bonzini <pbonzini@redhat.com>
remote:          Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
remote:          Cc: Paul Mackerras <paulus@samba.org>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          [gregory: backport to stblinux-3.14, which exports struct cma from header]
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:          Conflicts:
remote:          	drivers/base/dma-contiguous.c
remote:          	include/linux/dma-contiguous.h
remote:          	mm/Makefile
remote:
remote:          (cherry picked from commit 20f856ba533003aa8eab7518c2a401706ef428cd)
remote:
remote:      commit 0d154ea25a34877b522fff9fe5d34811896afa73
remote:      Author: Akinobu Mita <akinobu.mita@gmail.com>
remote:      Date:   Wed Jun 4 16:06:54 2014 -0700
remote:
remote:          cma: add placement specifier for "cma=" kernel parameter
remote:
remote:          [Upstream commit 5ea3b1b2f8ad9162684431ce6188102ca4c64b7a]
remote:
remote:          Currently, "cma=" kernel parameter is used to specify the size of CMA,
remote:          but we can't specify where it is located.  We want to locate CMA below
remote:          4GB for devices only supporting 32-bit addressing on 64-bit systems
remote:          without iommu.
remote:
remote:          This enables to specify the placement of CMA by extending "cma=" kernel
remote:          parameter.
remote:
remote:          Examples:
remote:           1. locate 64MB CMA below 4GB by "cma=64M@0-4G"
remote:           2. locate 64MB CMA exact at 512MB by "cma=64M@512M"
remote:
remote:          Note that the DMA contiguous memory allocator on x86 assumes that
remote:          page_address() works for the pages to allocate.  So this change requires
remote:          to limit end address of contiguous memory area upto max_pfn_mapped to
remote:          prevent from locating it on highmem area by the argument of
remote:          dma_contiguous_reserve().
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Akinobu Mita <akinobu.mita@gmail.com>
remote:          Cc: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Cc: Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>
remote:          Cc: David Woodhouse <dwmw2@infradead.org>
remote:          Cc: Don Dutile <ddutile@redhat.com>
remote:          Cc: Thomas Gleixner <tglx@linutronix.de>
remote:          Cc: Ingo Molnar <mingo@redhat.com>
remote:          Cc: "H. Peter Anvin" <hpa@zytor.com>
remote:          Cc: Andi Kleen <andi@firstfloor.org>
remote:          Cc: Yinghai Lu <yinghai@kernel.org>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit aaf796cbee20054039e2171c1dd2972a45d78a4f)
remote:
remote:      commit 8620f7c3f79b6126b52a99d4f6bbc293e3a1ba8b
remote:      Author: Akinobu Mita <akinobu.mita@gmail.com>
remote:      Date:   Wed Jun 4 16:06:53 2014 -0700
remote:
remote:          memblock: introduce memblock_alloc_range()
remote:
remote:          [Upstream commit 2bfc2862c4fe38379a2fb2cfba33fad32ccb4ff4]
remote:
remote:          This introduces memblock_alloc_range() which allocates memblock from the
remote:          specified range of physical address.  I would like to use this function
remote:          to specify the location of CMA.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Akinobu Mita <akinobu.mita@gmail.com>
remote:          Cc: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Cc: Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>
remote:          Cc: David Woodhouse <dwmw2@infradead.org>
remote:          Cc: Don Dutile <ddutile@redhat.com>
remote:          Cc: Thomas Gleixner <tglx@linutronix.de>
remote:          Cc: Ingo Molnar <mingo@redhat.com>
remote:          Cc: "H. Peter Anvin" <hpa@zytor.com>
remote:          Cc: Andi Kleen <andi@firstfloor.org>
remote:          Cc: Yinghai Lu <yinghai@kernel.org>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          (cherry picked from commit 17615d567c0e8d8bfed76c00602c55a21aa284f9)
remote:
remote:      commit 956d08d30d47acb602d6dcfb77dab3782147a646
remote:      Author: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:      Date:   Thu May 29 15:29:18 2014 +0900
remote:
remote:          CMA: correct unlock target
remote:
remote:          [Upstream commit f70e3c4f8b6ab61f713e040822ec51f5de498146]
remote:
remote:          'cma: Remove potential deadlock situation' introduces per cma area mutex
remote:          for bitmap management. It is good, but there is one mistake. When we
remote:          can't find appropriate area in bitmap, we release cma_mutex global lock
remote:          rather than cma->lock and this is a bug. So fix it.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 8778038de5acbb9eae2fac0e08a6aedcdb697e78)
remote:
remote:      commit 9cc399a97e3d3573ff4c2e4d0984631735f5fdf9
remote:      Author: Gioh Kim <gioh.kim@lge.com>
remote:      Date:   Thu May 22 13:31:37 2014 +0900
remote:
remote:          drivers/base/dma-contiguous.c: erratum of dev_get_cma_area
remote:
remote:          [Upstream commit bb56d0dc23aa3428c0b1901414bfcf698eb693fb]
remote:
remote:          fix erratum get_dev_cma_area into dev_get_cma_area
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Gioh Kim <gioh.kim@lge.com>
remote:          Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 6cf2b5a3c4fa83edf1d3f5e132324a4ee26c9ff9)
remote:
remote:      commit 9df3c5b6902b324913490086d53c528f9cd46452
remote:      Author: Gioh Kim <gioh.kim@lge.com>
remote:      Date:   Thu May 22 13:38:23 2014 +0900
remote:
remote:          arm: dma-mapping: add checking cma area initialized
remote:
remote:          [Upstream commit e464ef16c4f080bb85ccf9085f92503b5b5b1e13]
remote:
remote:          If CMA is turned on and CMA size is set to zero, kernel should
remote:          behave as if CMA was not enabled at compile time.
remote:          Every dma allocation should check existence of cma area
remote:          before requesting memory.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Gioh Kim <gioh.kim@lge.com>
remote:          Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          [mszyprow: removed redundant empty line from the patch]
remote:          Signed-off-by: <m.szyprowski@samsung.com>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:          (cherry picked from commit 3812bdd1822616ad9cd2db39a616e82a2fe4b51c)
remote:
remote:      commit 4e7b27b84e2801d025e365c25eb64cd331af241b
remote:      Author: Laura Abbott <lauraa@codeaurora.org>
remote:      Date:   Tue Feb 25 11:01:19 2014 -0800
remote:
remote:          cma: Remove potential deadlock situation
remote:
remote:          [Upstream commit 7ee793a62fa8c544f8b844e6e87b2d8e8836b219]
remote:
remote:          CMA locking is currently very coarse. The cma_mutex protects both
remote:          the bitmap and avoids concurrency with alloc_contig_range. There
remote:          are several situations which may result in a deadlock on the CMA
remote:          mutex currently, mostly involving AB/BA situations with alloc and
remote:          free. Fix this issue by protecting the bitmap with a mutex per CMA
remote:          region and use the existing mutex for protecting against concurrency
remote:          with alloc_contig_range.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Laura Abbott <lauraa@codeaurora.org>
remote:          Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          [gregory: Since we export struct cma right now, had to update that in
remote:          dma-contiguous.h instead]
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:          Conflicts:
remote:          	drivers/base/dma-contiguous.c
remote:
remote:          (cherry picked from commit 248f48124788878b809819a5cecb3e43af104b9c)
remote:
remote:      commit 4e62040380be14e6c5c09a7abc45bcaf9e807b46
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Fri Jan 30 12:07:46 2015 -0800
remote:
remote:          brcmstb_defconfig: add Intel PowerClamp driver
remote:
remote:          We may be using this for thermally-contrained applications. Let's enable
remote:          it by default so it's easier for people to test.
remote:
remote:          SWLINUX-3288
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 8d6ff5f6ad1a3ed1242a3f2bd467d30f17446cc9)
remote:
remote:      commit 192a56eee156586b862f49c91e07192db1775bac
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Fri Jan 30 12:01:48 2015 -0800
remote:
remote:          Documentation: devicetree: add bindings doc for AVS TMON HW
remote:
remote:          Notably, the interrupt is not yet used, but let's document it, since
remote:          it's in BOLT, and I have test code using it.
remote:
remote:          SWLINUX-3288
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit ff43d89f747b9196da3adced6e45d386d97fcce4)
remote:
remote:      commit 1e8fa1ef0cd1460beda205b436a43c30e00f401b
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Thu Jan 29 16:14:47 2015 -0800
remote:
remote:          tools/thermal: add --target-temp parameter to 'tmon' tool
remote:
remote:          If we launch in daemon mode (--daemon), we don't have the ncurses UI,
remote:          but we might want to set the target temperature still. For example,
remote:          someone might stick the following in their boot script:
remote:
remote:            tmon --control intel_powerclamp --target-temp 90 --log --daemon
remote:
remote:          This would turn on CPU idle injection when we're around 90 degrees
remote:          celsius, and would log temperature and throttling info to
remote:          /var/tmp/tmon.log.
remote:
remote:          SWLINUX-3288
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 68f6c879b5e54477128b341d83a2d3a2d9e0795b)
remote:
remote:      commit c0d5bef4a31813a4ee427cdb76515b7788d8bc51
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jan 26 17:35:04 2015 -0800
remote:
remote:          tools/thermal: add build system 'makefile'
remote:
remote:          Hooks tmon into our uclinux-rootfs build system by supplying a 'makefile' which
remote:          runs before the original 'Makefile'.
remote:
remote:          SWLINUX-3288
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 5b3f511429b67cf7e460f7872bc5cb878013a893)
remote:
remote:      commit 9ee3a42016586ee487b58bbf3b1cbe861fae903e
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jan 26 17:34:20 2015 -0800
remote:
remote:          tools/thermal: allow switching between ncurses and ncursesw
remote:
remote:          Factor the libraries in TMON_LIBS and allow an external Makefile to specify
remote:          whether we would want to use ncursesw or ncurses.
remote:
remote:          SWLINUX-3288
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 0c843520856747b83a7ea7c97047639cb959d1c6)
remote:
remote:      commit 345540a0de3db14a9681b92155807a5865ff08a6
remote:      Author: Jonghwa Lee <jonghwa3.lee@samsung.com>
remote:      Date:   Mon Dec 22 17:49:09 2014 -0800
remote:
remote:          thermal: powerclamp: Add support for ARM machine to powerclamp driver.
remote:
remote:          This patch modifies intel_powerclamp driver can be used in not only x86
remote:          but also ARM. Any ARM system can use intel_powerclamp driver for managing
remote:          thermal problem through injecting intentional idle cycle. The required
remote:          modification is only that it replaces x86's instruction, mwait, with arm
remote:          specific one, wfi and changes the way of calculation of idle rate of last
remote:          window. Other algorithm and codes can be shared without any amendment.
remote:
remote:          Signed-off-by: Jonghwa Lee <jonghwa3.lee@samsung.com>
remote:          Signed-off-by: Myungjoo Ham <myungjoo.ham@samsung.com>
remote:
remote:          Notes from Brian:
remote:
remote:          Pulled from http://marc.info/?l=linux-pm&m=137474779032661
remote:
remote:          Applied with small warning fixes. Note that there is some upstream
remote:          discussion about revamping this driver significantly. Not sure if we
remote:          want to enable this by default.
remote:
remote:          SWLINUX-3288
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 4c1d2a761e5877a1809bc4cd94b15a04b1420a10)
remote:
remote:      commit dc903d467c7ab5b593a7316a0fab8161f01c0a12
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Dec 15 17:41:30 2014 -0800
remote:
remote:          thermal: add brcmstb AVS TMON driver
remote:
remote:          Working for basic temperature reads. Trip points and interrupt handling
remote:          will be added later, once we determine the best method for representing
remote:          them.
remote:
remote:          SWLINUX-3288
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 6a85fe8b6434b4876bbf901615a76c938b4e6526)
remote:
remote:      commit 4a52346c821ce1eb87c2ab8679e35ba680392e02
remote:      Author: Tim Ross <tross@broadcom.com>
remote:      Date:   Mon May 23 17:34:47 2016 -0400
remote:
remote:          SWRGROUTER-4730: PM: Linux powers itself off after boot on DCM boards
remote:
remote:          Override BMU power state on DCM & PHYDVT boards because BMU reports
remote:          incorrect state.
remote:
remote:          SWRGROUTER-4730
remote:
remote:      commit 7d70446dd2dc822376a45eb1d9842e84da3849cd
remote:      Author: Chris Zacker <czacker@cm-irv-1.irv.broadcom.com>
remote:      Date:   Fri May 20 11:10:46 2016 -0700
remote:
remote:          Throughput is only 80 Mbps on a 100 Mbps link
remote:
remote:          The pause registers were not getting setup for the IMP port so that if a cpe
remote:          was connected to a lan port at lower speed we would end up dropping packets
remote:          and getting lower throughput. Enabled the PAUSE register like it was in ecos
remote:          and the problem was fixed.
remote:
remote:          SWRGROUTER-3894
remote:
remote:      commit 6988eb285efca8094c4f0d4bdd9eb210937e68ae
remote:      Author: Chris Zacker <czacker@cm-irv-1.irv.broadcom.com>
remote:      Date:   Fri May 20 11:01:29 2016 -0700
remote:
remote:          CPE 192.168.0.x via ethernet can not ping each other
remote:
remote:          Make sure switch chip has defaults settings for lan ports being able to
remote:          communicate between other ports
remote:
remote:          SWRGROUTER-4654
remote:
remote:      commit 26213c5d897b429980f7512d60ac75db419bc159
remote:      Author: Tim Ross <tross@broadcom.com>
remote:      Date:   Fri May 20 09:42:50 2016 -0400
remote:
remote:          SWRGROUTER-4697: Battery: Linux fails to set battery_mode_rules after CM comes up
remote:
remote:          Only look at current battery state and not the state it was in when it started booting.
remote:
remote:          SWRGROUTER-4697
remote:
remote:      commit 8a72a5d5bc57ad334415254c0ea94e0c06c5b853
remote:      Author: Steven Kern <skern@broadcom.com>
remote:      Date:   Thu Apr 28 15:53:51 2016 -0400
remote:
remote:          SWRGROUTER-4679: Battery: Modem rebooted after a crash while in batteryi
remote:          mode with wrong power state and RG not shutdown
remote:
remote:          Add support for 3390B0 DDR phy to PM driver.
remote:          Enable access to all ARM CPU owned MBOX registers and L2 IRQ registers.
remote:
remote:          SWRGROUTER-4679
remote:
remote:          (cherry picked from commit b60c0ed5a85723f833ccaa3c8f4955dd862da23f)
remote:
remote:      commit 43519f8ed22ae2fde0bf8ba3ee8a456da718f4be
remote:      Author: Russell Enderby <enderby@lc-atl-221.atl.broadcom.com>
remote:      Date:   Tue May 17 10:39:12 2016 -0400
remote:
remote:          SWRGROUTER-4519:Add SPI driver for external Zigbee on 3390
remote:
remote:          Added SPI master driver for MSPI SPI block.
remote:
remote:          SWRGROUTER-4519
remote:
remote:      commit be9d4ac16034ded11a69ece02354db7c0c0bd08f
remote:      Merge: a4ab5f0 894a0c4
remote:      Author: Chris Zacker <czacker@cm-irv-1.irv.broadcom.com>
remote:      Date:   Tue May 17 07:27:38 2016 -0700
remote:
remote:          CPE 192.168.0.x via ethernet can not ping each other
remote:
remote:          SWRGROUTER-4654
remote:
remote:          Merge branch 'develop' of git-irv-08.irv.broadcom.com:gitRepo/erouter-linux-314 into develop
remote:
remote:      commit a4ab5f014b7a1ea2414cebdf85353d5624144a3e
remote:      Author: Chris Zacker <czacker@cm-irv-1.irv.broadcom.com>
remote:      Date:   Tue May 17 06:16:18 2016 -0700
remote:
remote:          CPE 192.168.0.x via ethernet can not ping each other
remote:
remote:          SWRGROUTER-4654
remote:
remote:      commit ad71071531fca56f5e96333c86670a12ddbed32a
remote:      Author: Chris Zacker <czacker@cm-irv-1.irv.broadcom.com>
remote:      Date:   Mon May 16 13:23:47 2016 -0700
remote:
remote:          CPE 192.168.0.x via ethernet can not ping each other
remote:
remote:          SWRGROUTER-4654
remote:
remote:      commit 894a0c44c1881443ee7372eeb801ebc055e24c8e
remote:      Author: Arti Katre <akatre@broadcom.com>
remote:      Date:   Thu May 12 14:23:52 2016 -0700
remote:
remote:          WiFi: "FPM Pool 0: pool full" errors while running concurrent traffic
remote:          through both wifi radios.
remote:
remote:          Updated console print message for FPM pool full interrupt.
remote:
remote:          SWRGROUTER-4337
remote:
remote:      commit fe75d04fe99aea99cc1848fa5f9150d4477c042c
remote:      Author: Peter Timariu <ptimariu@broadcom.com>
remote:      Date:   Thu May 12 09:55:50 2016 -0700
remote:
remote:          SWRGROUTER-4133: WiFi performance optimizations
remote:
remote:          Various TP optimizations for DHD/4366 3390 platforms:
remote:
remote:          - integrated interrupt coalescence for CPU utilization
remote:          - added PACKET_BUDGET batching of DQM reads in TX direction.
remote:          - tweaked structures for Cache line optimizations.
remote:          - added Branch prediction hints in DHD shim.
remote:          - additional inlining and BCM_FASTPATH additions.
remote:          - switched back to KTHREAD from tasklets in 3390
remote:          - introduced BUZZZ profiling framework in data path
remote:          - resolved WiFi: "FPM Pool 0: pool full" errors while running concurrent traffic
remote:          through both wifi radios.
remote:
remote:          Resolved Conflicts:
remote:          	arch/arm/boot/dts/rg.3390-base.dtsi
remote:
remote:          SWRGROUTER-4133
remote:
remote:      commit 8061ef106a5e5ef160a1d26450a9f0a4e6609e63
remote:      Author: Mark Newcomer <newcomer@broadcom.com>
remote:      Date:   Fri May 6 12:38:32 2016 -0700
remote:
remote:          SWRGROUTER-4162: MoCA fails to boot and has silent assertions
remote:
remote:          Since not all hardware and usage cases for 3384 platforms support usage
remote:          of a hardware interrupt, a polling mode has been added to poll for IRQ
remote:          status. This is timer based, and adjust polling frequency based on the
remote:          amount of speed needed for IRQ response. Polling mode is enabled by commenting
remote:          out the interrupt nodes in the bmoca device tree node.
remote:
remote:          SWRGROUTER-4162
remote:
remote:      commit 71ba95da7832a7bca0a76c12b963197830af42ef
remote:      Author: Mark Newcomer <newcomer@broadcom.com>
remote:      Date:   Wed May 4 13:45:47 2016 -0700
remote:
remote:          SWRGROUTER-4040: 3384/33843 performance with RGLinux is worse than eCos during long term traffic testing
remote:
remote:          Fixed build error introduced in previous commit.
remote:
remote:          SWRGROUTER-4040
remote:
remote:      commit 8848a6987df78aca07e03f6e33ac0d5bea12f71d
remote:      Author: Mark Newcomer <newcomer@broadcom.com>
remote:      Date:   Wed May 4 13:13:15 2016 -0700
remote:
remote:          SWRGROUTER-4040: 3384/33843 performance with RGLinux is worse than eCos during long term traffic testing
remote:
remote:          The UNIMAC MBDMA transmit channels were not being set up to optimally use
remote:          the UBUS multiple outstanding request feature. This feature allows the DMA
remote:          port to make multiple UBUS request at once. This was causing DMA transfers
remote:          to not be as fast as they could be and was affecting performance. This setting
remote:          has now been bumped to 4 outstanding requests.
remote:
remote:          SWRGROUTER-4040
remote:
remote:      commit 8adbc9ff6a393b62e35676040981985af19a9a2b
remote:      Author: Peter Sulc <petersu@broadcom.com>
remote:      Date:   Fri Apr 22 17:23:42 2016 -0400
remote:
remote:          SWRGROUTER-4215: Watchdog needs to have the option of setting nowayout at runtime.
remote:
remote:          SWRGROUTER-4215
remote:
remote:      commit 51243727b527e8dc1a39118b246b81d8d48ff139
remote:      Author: Jayesh Patel <jayeshp@broadcom.com>
remote:      Date:   Tue Apr 26 09:07:37 2016 -0400
remote:
remote:          SWRGROUTER-4485 3390: CLAB-GRE has endianness issue and is not working for 3390
remote:
remote:          Fixed endianness issue in removing vlan tag logic.
remote:
remote:          SWRGROUTER-4485
remote:
remote:      commit 201a6b35f78673a15b9f4481bbd2794739c1c2db
remote:      Author: Tyler White <twhite@cm-irv-1.irv.broadcom.com>
remote:      Date:   Thu Apr 21 12:39:24 2016 -0700
remote:
remote:          SWRGROUTER-3972: Community WiFi/L2oGRE
remote:
remote:          Added wlhhs to wlan Makefile, corrected call to wl assoclist,
remote:          fixed some errors in  netfilter ebt_dhcpsnoop module so that Agent Relay
remote:          DHCP option was inserted correctly into outgoing DHCP requests.
remote:
remote:          SWRGROUTER-3972
remote:
remote:      commit eabc1f7b77f33ad66a833c4708460a746c279c40
remote:      Author: Steve Muller <smuller@broadcom.com>
remote:      Date:   Mon Apr 18 14:10:56 2016 -0700
remote:
remote:          WiFi: Read WBID from WiFi daughter cards to load and insmod the correct WiFi driver
remote:
remote:          Now checking the WBID via I2c to determine the daughter card type and wifi cards associated with it.
remote:
remote:          SWRGROUTER-4152
remote:
remote:      commit da4995a6c10ec091b882c8153021254b0bbd3728
remote:      Author: Sandep Nanda <snanda@broadcom.com>
remote:      Date:   Mon Apr 18 11:30:37 2016 -0700
remote:
remote:          WiFi: use the correct assertlevel in the device tree for WPS pushbutton and LED
remote:
remote:          SWRGROUTER-4395
remote:
remote:      commit 1666b0ede1e5046f65b01f80240c4096ac356b6a
remote:      Author: Yanhai Han <yanhaih@broadcom.com>
remote:      Date:   Thu Apr 14 10:11:56 2016 +0800
remote:
remote:          SWRGROUTER-4389: Move kernel module nf_defrag_ipv6_notrack
remote:
remote:          Move nf_defrag_ipv6_notrack to drivers/bcm_media_gw/netfilter directory
remote:          and fix file header.Also when module is loaded/unloaded dump module
remote:          info (with name) to the console.
remote:
remote:          SWRGROUTER-4389
remote:
remote:      commit ebbc8a46a965ae9c693be52d92524db5efb79b5f
remote:      Author: Tim Ross <tross@broadcom.com>
remote:      Date:   Wed Apr 13 09:58:29 2016 -0400
remote:
remote:          SWRGROUTER-4384: DQM: Add interrupt coalescing support
remote:
remote:          Add back support for 4 column Q allocation table to fix problem with 3390A2.
remote:
remote:          SWRGROUTER-4384
remote:
remote:      commit a4a448333cbf7fb60df16d71dcec5ac33b6e24c8
remote:      Author: Tim Ross <tross@broadcom.com>
remote:      Date:   Thu Apr 7 16:31:34 2016 -0400
remote:
remote:          SWRGROUTER-4384: DQM: Add interrupt coalescing support
remote:
remote:          Update SW license comments.
remote:
remote:          SWRGROUTER-4384
remote:
remote:      commit 31a3936fc66115684b20a477360ed9020a5f19d0
remote:      Author: Tim Ross <tross@broadcom.com>
remote:      Date:   Thu Apr 7 15:40:26 2016 -0400
remote:
remote:          SWRGROUTER-4384: DQM: Add interrupt coalescing support
remote:
remote:          Add support for HWM and timer interrupts from DQM's that support them.
remote:          Add support to DT and driver to specifiy LWM, HWM, and timeouts for each DQM.
remote:
remote:          SWRGROUTER-4384
remote:
remote:      commit 5ff3e44c10799fca2e9a3962e6d980993f21373a
remote:      Author: Jayesh Patel <jayeshp@broadcom.com>
remote:      Date:   Mon Apr 4 17:50:57 2016 -0400
remote:
remote:          SWRGROUTER-4362 - Runner: Upgrade to release 1.4
remote:
remote:          Support for WiFi mulicast forwarding.
remote:
remote:          SWRGROUTER-4362
remote:
remote:      commit d82d603161c1ba91ef544d9320b975ddfcb0ac67
remote:      Author: Russell Enderby <enderby@lc-atl-221.atl.broadcom.com>
remote:      Date:   Mon Apr 4 09:19:31 2016 -0400
remote:
remote:          SWRGROUTER-4359:BCM933843WVG BCM93384WVG nightly builds failed in develop on 2016-04-01
remote:
remote:          Fix 3384 build issue generated by:
remote:          SWRGROUTER-4287:Creation of i2c WBID device/client and associated driver
remote:
remote:          SWRGROUTER-4359
remote:
remote:      commit 26f6d948e713fef79076d7bf1fefa91faefaec0f
remote:      Author: Russell Enderby <enderby@lc-atl-221.atl.broadcom.com>
remote:      Date:   Fri Apr 1 16:24:00 2016 -0400
remote:
remote:          SWRGROUTER-4287:Creation of i2c WBID device/client and associated driver
remote:
remote:          Added new WBID device/client driver for direct kernel access of the WBID value.
remote:
remote:          SWRGROUTER-4287
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi    | 10 ++---
remote:   drivers/bcm_media_gw/Makefile          |  3 +-
remote:   .../bcm_media_gw/wps/wps_gpio_core.c   | 29 +++++++++-----
remote:   3 files changed, 24 insertions(+), 18 deletions(-)
remote:  ;skern@broadcom.com;2016-10-27 17:58:20 -0400;7912299b65e10673692229c21d49d3ecd5099abe;SWRGROUTER-4514: Perform periodic develop to feat_PowerManagement merges;
remote:  Perform periodic develop to feat_PowerManagement merges
remote:
remote:  refs #SWRGROUTER-4514
remote:
remote:
remote:   arch/arm/include/asm/buzzz.h           |  18 +-
remote:   arch/arm/mach-bcm/Makefile             |   1 -
remote:   arch/arm/mach-bcm/buzzz.c              | 227 ++++++-------
remote:   kernel/sched/core.c                    |   2 +-
remote:   net/ipv6/netfilter/Kconfig             |   4 -
remote:   net/ipv6/netfilter/Makefile            |   6 -
remote:   .../nf_defrag_ipv6_hooks_notrack.c     |  96 ------
remote:   7 files changed, 123 insertions(+), 231 deletions(-)
remote:  ;skern@broadcom.com;2016-10-27 17:58:20 -0400;c07e7f29a4af2d84437a4f8a75f133dcee3a2b13;SWRGROUTER-4514: Perform periodic develop to feat_PowerManagement merges;
remote:  Perform periodic develop to feat_PowerManagement merges
remote:
remote:  refs #SWRGROUTER-4514
remote:
remote:  Conflicts:
remote:  	arch/arm/boot/dts/rg.3390-base.dtsi
remote:  	arch/arm/boot/dts/rg.3390-wifi.dtsi
remote:  	arch/arm/boot/dts/rg.3390b0-moca.dtsi
remote:  	arch/mips/boot/dts/bcm33843mwvg_mgw_zephyr.dtsi
remote:  	arch/mips/boot/dts/bcm3384_mgw_zephyr.dtsi
remote:  	drivers/bcm_media_gw/Kconfig
remote:  	drivers/bcm_media_gw/Makefile
remote:  	drivers/bcm_media_gw/fpm/fpm_core.c
remote:  	drivers/i2c/busses/i2c-brcmstb.c
remote:  	drivers/watchdog/bcm7038_wdt.c
remote:  	net/ipv6/netfilter/Kconfig
remote:
remote:
remote:   arch/arm/include/asm/buzzz.h           |  18 +-
remote:   arch/arm/mach-bcm/Makefile             |   1 +
remote:   arch/arm/mach-bcm/buzzz.c              | 227 +++++++------
remote:   .../bcm_media_gw/ethsw/ethsw_core.c    |  10 +
remote:   .../bcm_media_gw/ethsw/ethsw_core.h    |   2 +-
remote:   .../ethsw/ethsw_init_plat.c            |   2 +-
remote:   drivers/bcm_media_gw/fpm/fpm_core.c    |  10 +-
remote:   drivers/bcm_media_gw/fpm/fpm_priv.h    |   2 +-
remote:   drivers/i2c/busses/i2c-brcmstb.c       |   4 +-
remote:   drivers/net/phy/mdio-unimac.c          |   4 +-
remote:   drivers/watchdog/bcm7038_wdt.c         |   1 +
remote:   kernel/sched/core.c                    |   2 +-
remote:   net/ipv6/netfilter/Makefile            |   1 +
remote:   13 files changed, 147 insertions(+), 137 deletions(-)
remote:  ;tross@broadcom.com;2016-10-27 17:58:20 -0400;20a5e02490f45bd8f8de95c04ff1ad1e6991c345;SWRGROUTER-4730: PM: Linux powers itself off after boot on DCM boards;
remote:  Override BMU power state on DCM & PHYDVT boards because BMU reports
remote:  incorrect state.
remote:
remote:  refs #SWRGROUTER-4730
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390b0-dcm.dts   |  5 +++--
remote:   arch/arm/boot/dts/rg.3390b0-smwvg.dts |  1 +
remote:   arch/arm/boot/dts/rg.3390b0-sv.dts    |  1 +
remote:   arch/arm/boot/dts/rg.3390b0-vcm.dts   |  1 +
remote:   arch/arm/boot/dts/rg.3390b0-vms.dts   |  1 +
remote:   arch/arm/boot/dts/rg.3390b0.dts       | 11 ++++++-----
remote:   arch/arm/boot/dts/rg.3390z0.dts       | 11 ++++++-----
remote:   7 files changed, 19 insertions(+), 12 deletions(-)
remote:  ;tross@broadcom.com;2016-10-27 17:58:19 -0400;1d0ca06bfdec16b6c13f8d99accbc505ea315a63;SWRGROUTER-3901 MODULE: Implement support for CPU division to save power;
remote:  Reduce CM-->RG ITC DQM level to a reasonable level that still allows
remote:  the CM side rProgramStore to TFTP 32KB size socket buffers without properly
remote:  implementing backpressure on it's ITC HAL interface when the DQM fills up.
remote:
remote:  refs #SWRGROUTER-3901
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi | 4 ++--
remote:   1 file changed, 2 insertions(+), 2 deletions(-)
remote:  ;tross@broadcom.com;2016-10-27 17:58:19 -0400;416211612ffd7e98b1ea7e0c0b6e5cfa541fc24b;SWRGROUTER-4697: Battery: Linux fails to set battery_mode_rules after CM comes up;
remote:  Only look at current battery state and not the state it was in when it started booting.
remote:
remote:  refs #SWRGROUTER-4697
remote:
remote:
remote:   drivers/bcm_media_gw/boot_assist/brcm_ba.c | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;tross@broadcom.com;2016-10-27 17:58:18 -0400;4fe95e879674cf416ec981f7913dada6f4830d6d;SWRGROUTER-4668: Enable dynamic clock scaling on FPM & UniMAC blocks;
remote:  Modify BPCM driver to enable dynamic clocks scaling on device tree BPCM
remote:  nodes that contain clock divider values for low and high gear.
remote:
remote:  refs #SWRGROUTER-4668
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi   | 10 ++-
remote:   drivers/bcm_media_gw/bpcm/bpcm_core.c | 67 ++++++++++++---
remote:   drivers/bcm_media_gw/bpcm/bpcm_priv.h | 26 ++++--
remote:   drivers/bcm_media_gw/bpcm/bpcm_proc.c | 35 +++++++-
remote:   4 files changed, 111 insertions(+), 27 deletions(-)
remote:  ;skern@broadcom.com;2016-10-27 17:58:18 -0400;462ea092d94bad047acc4c7b09d17a37ac0bd910;SWRGROUTER-3769: Perform periodic develop to feat_PowerManagement merges;
remote:  Perform periodic develop to feat_PowerManagement merges
remote:
remote:  refs #SWRGROUTER-3769
remote:
remote:  Conflicts:
remote:  	arch/arm/boot/dts/rg.3390-base.dtsi
remote:  	arch/arm/boot/dts/rg.3390-wifi.dtsi
remote:  	arch/arm/boot/dts/rg.3390b0-moca.dtsi
remote:  	arch/mips/boot/dts/bcm33843mwvg_mgw_zephyr.dtsi
remote:  	arch/mips/boot/dts/bcm3384_mgw_zephyr.dtsi
remote:  	drivers/bcm_media_gw/Kconfig
remote:  	drivers/bcm_media_gw/Makefile
remote:  	net/ipv6/netfilter/Kconfig
remote:
remote:
remote:   drivers/watchdog/bcm7038_wdt.c | 1 -
remote:   net/ipv6/netfilter/Makefile    | 1 +
remote:   2 files changed, 1 insertion(+), 1 deletion(-)
remote:  ;skern@broadcom.com;2016-10-27 17:58:17 -0400;342f671455804ae90d11c9da8e1ea6678f814316;SWRGROUTER-3901 MODULE: Implement support for CPU division to save power;
remote:  Implement support for CPU division to save power
remote:
remote:  refs #SWRGROUTER-3901
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi | 6 +++---
remote:   drivers/cpufreq/Kconfig             | 2 +-
remote:   2 files changed, 4 insertions(+), 4 deletions(-)
remote:  ;skern@broadcom.com;2016-10-27 17:58:17 -0400;420213d385ba43c6e3c0d19ca1c95015cc557408;SWRGROUTER-4522 MODULE: 3390VCM: Modem is not able to complete any software downloads on feat_PowerManagement due to ItcNiTxCommon;
remote:  3390VCM: Modem is not able to complete any software downloads on feat_PowerManagement due to ItcNiTxCommon
remote:
remote:  refs #SWRGROUTER-4522
remote:
remote:
remote:   drivers/cpufreq/Kconfig | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;skern@broadcom.com;2016-10-27 17:58:17 -0400;0dddf08b1d84e3530ed98e0170db83c5221ae906;SWRGROUTER-4514 MODULE: Perform periodic develop to feat_PowerManagement merges;
remote:  Perform periodic develop to feat_PowerManagement merges
remote:
remote:  refs #SWRGROUTER-4514
remote:
remote:  	arch/arm/boot/dts/rg.3390-wifi.dtsi
remote:  	arch/arm/boot/dts/rg.3390b0-moca.dtsi
remote:  	arch/mips/boot/dts/bcm33843mwvg_mgw_zephyr.dtsi
remote:  	arch/mips/boot/dts/bcm3384_mgw_zephyr.dtsi
remote:  	drivers/bcm_media_gw/Kconfig
remote:  	drivers/bcm_media_gw/Makefile
remote:  	drivers/bcm_media_gw/netfilter/xt_l2ogre_mt.c
remote:  	drivers/bcm_media_gw/netfilter/xt_l2ogre_tg.c
remote:  	net/ipv6/netfilter/Kconfig
remote:
remote:
remote:   drivers/bcm_media_gw/netfilter/xt_l2ogre_mt.c | 0
remote:   drivers/bcm_media_gw/netfilter/xt_l2ogre_tg.c | 0
remote:   net/ipv6/netfilter/Kconfig                    | 1 -
remote:   net/ipv6/netfilter/Makefile                   | 1 +
remote:   4 files changed, 1 insertion(+), 1 deletion(-)
remote:  ;ignatius@broadcom.com;2016-10-27 17:58:16 -0400;6bf61b54866b03cddcb44312bfe52826ee62afc0;SWRGROUTER-2686 Support for MAP-E/T per eRouter Specification;
remote:  IS_ENABLED() macro is undefined in userspace.
remote:  Remove IS_ENABLED() macro in uapi headers that get used by userspace app.
remote:
remote:  refs #SWRGROUTER-2686
remote:
remote:
remote:   include/uapi/linux/if.h | 2 --
remote:   1 file changed, 2 deletions(-)
remote:  ;ignatius@broadcom.com;2016-10-27 17:58:16 -0400;4e55b7bf37c582c2ce044ff7aba84f54b9f51172;SWRGROUTER-2686 Support for MAP-E/T per eRouter Specification;
remote:  Integrated ASAMAP MAP device driver
remote:
remote:  refs #SWRGROUTER-2686
remote:
remote:
remote:   include/uapi/linux/if.h | 2 ++
remote:   net/ipv6/map_defrag6.c  | 9 ++-------
remote:   2 files changed, 4 insertions(+), 7 deletions(-)
remote:  ;skern@broadcom.com;2016-10-27 17:58:15 -0400;e77547f07e3b8236f12ad73cc9105929e39181c4;SWRGROUTER-4514 MODULE: Perform periodic develop to feat_PowerManagement merges;
remote:  Perform periodic develop to feat_PowerManagement merges
remote:
remote:  refs #SWRGROUTER-4514
remote:
remote:  	arch/arm/boot/dts/rg.3390-wifi.dtsi
remote:  	arch/arm/boot/dts/rg.3390b0-moca.dtsi
remote:  	arch/mips/boot/dts/bcm33843mwvg_mgw_zephyr.dtsi
remote:  	arch/mips/boot/dts/bcm3384_mgw_zephyr.dtsi
remote:  	drivers/bcm_media_gw/Kconfig
remote:  	drivers/bcm_media_gw/Makefile
remote:  	drivers/bcm_media_gw/netfilter/xt_l2ogre_mt.c
remote:  	drivers/bcm_media_gw/netfilter/xt_l2ogre_tg.c
remote:  	net/ipv6/netfilter/Kconfig
remote:
remote:
remote:   .../netfilter/ebt_dhcpsnoop.c            | 12 ++++--------
remote:   .../netfilter/xt_l2ogre_mt.c             |  2 +-
remote:   .../netfilter/xt_l2ogre_tg.c             |  2 +-
remote:   net/ipv6/netfilter/Makefile              |  1 +
remote:   4 files changed, 7 insertions(+), 10 deletions(-)
remote:  ;venky@cm-irv-1.irv.broadcom.com;2016-10-27 17:58:15 -0400;98f3ca62d557007234f7ad0fe4d49fd22069ef60;Wi-Fi: Active power savings - Linux - Disable WiFi block if radios disabled Added Radio Power Management Driver;
remote:  refs #SWRGROUTER-4069
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-wifi.dtsi | 5 +++++
remote:   drivers/bcm_media_gw/Kconfig        | 5 +++++
remote:   drivers/bcm_media_gw/Makefile       | 1 +
remote:   3 files changed, 11 insertions(+)
remote:  ;skern@broadcom.com;2016-10-27 17:58:15 -0400;dafafb7eaa498dd7f5f5c0625af06a0536db68a6;SWRGROUTER-4441 MODULE: Update feat_PowerManagement streams to latest - eRouter;
remote:  Update feat_PowerManagement streams to latest - eRouter
remote:
remote:  refs #SWRGROUTER-4441
remote:
remote:  Conflicts:
remote:  	arch/arm/boot/dts/rg.3390-base.dtsi
remote:  	arch/arm/boot/dts/rg.3390-wifi.dtsi
remote:  	arch/arm/boot/dts/rg.3390a2-dcm.dts
remote:  	arch/arm/boot/dts/rg.3390a2-smwvg.dts
remote:  	arch/arm/boot/dts/rg.3390a2-sv.dts
remote:  	arch/arm/boot/dts/rg.3390a2-vms.dts
remote:  	arch/arm/boot/dts/rg.3390a2.dts
remote:  	arch/arm/boot/dts/rg.3390b0-moca.dtsi
remote:  	arch/mips/boot/dts/bcm33843mwvg_mgw_zephyr.dtsi
remote:  	arch/mips/boot/dts/bcm3384_mgw_zephyr.dtsi
remote:  	drivers/bcm_media_gw/Makefile
remote:  	net/ipv6/netfilter/Kconfig
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi    |  95 +++++-----
remote:   arch/arm/boot/dts/rg.3390c0-vcm.dts    |  44 +++++
remote:   arch/arm/boot/dts/rg.3390z0-smwvg.dts  |  44 +++++
remote:   arch/arm/boot/dts/rg.3390z0-vms.dts    |  44 +++++
remote:   .../dts/bcm33843mwvg_mgw_zephyr.dtsi   |   6 +-
remote:   .../boot/dts/bcm3384_mgw_zephyr.dtsi   |   8 +-
remote:   drivers/bcm_media_gw/Makefile          |   1 +
remote:   drivers/bcm_media_gw/dqm/dqm_core.c    | 122 +++++++------
remote:   drivers/bcm_media_gw/dqm/dqm_dbg.c     |  12 +-
remote:   drivers/bcm_media_gw/dqm/dqm_hw.h      |  12 +-
remote:   drivers/bcm_media_gw/flowmgr/flowmgr.h |   2 -
remote:   .../flowmgr/flowmgr_core.c             |  79 ++------
remote:   .../bcm_media_gw/flowmgr/flowmgr_fap.c |  60 +++---
remote:   .../netfilter/xt_l2ogre_mt.c           |   2 +-
remote:   .../netfilter/xt_l2ogre_tg.c           |   2 +-
remote:   .../netfilter/nf_conntrack_offload.h   |   2 +-
remote:   16 files changed, 316 insertions(+), 219 deletions(-)
remote:  ;tross@broadcom.com;2016-10-27 17:58:14 -0400;80b0aec988ca1c63e58214bb86f92d4752d72450;SWRGROUTER-4363: Add proc interface to show current status of BPCM zones controlled by RG.;
remote:  Added proc interface to bpcm driver to show status.
remote:
remote:  refs #SWRGROUTER-4363
remote:
remote:
remote:   drivers/bcm_media_gw/bpcm/bpcm_core.c | 33 --------------
remote:   drivers/bcm_media_gw/bpcm/bpcm_priv.h | 26 ++++-------
remote:   drivers/bcm_media_gw/bpcm/bpcm_proc.c | 35 ++-------------
remote:   3 files changed, 13 insertions(+), 81 deletions(-)
remote:  ;tross@broadcom.com;2016-10-27 17:58:14 -0400;0ca5d111591f450e17395021adef4c3be3af3c9d;SWRGROUTER-4070: Active power savings - Linux - Disable all MOCA items when MOCA not present;
remote:  Add MoCA clock tree to devixce tree. bcmstb-clk driver turns off all clocks
remote:  until a driver acquires them and turns them on. Thus power is off to MoCA
remote:  block unless bmoca exists in the device tree.
remote:
remote:  refs #SWRGROUTER-4070
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390b0-bolt.dtsi | 156 ++++++++++++++
remote:   arch/arm/boot/dts/rg.3390b0-moca.dtsi |   4 +-
remote:   2 files changed, 159 insertions(+), 1 deletion(-)
remote:  ;jayeshp@broadcom.com;2016-10-27 17:58:13 -0400;9ec93a56ee3e7b67ae8d2c3da285d1c814da2008;SWRGROUTER-4224 3390B0: Acceleration Support for 3rd WiFi Radio;
remote:  Use of DQM 60 for accelerating 3rd Radio.
remote:
remote:  refs #SWRGROUTER-4224
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi | 82 ++++++++---------
remote:   1 file changed, 41 insertions(+), 41 deletions(-)
remote:  ;tross@broadcom.com;2016-10-27 17:58:13 -0400;d6c2e043ca631cf7e22320c8860ebf2fcf785134;SWRGROUTER-4232: Rename 3390R0 to 3390Z0 to match HW organization.;
remote:  Rename 3390R0 to 3390Z0 to match HW organization references to the chip.
remote:
remote:  refs #SWRGROUTER-4232
remote:
remote:
remote:   arch/arm/boot/dts/Makefile            |   2 +-
remote:   arch/arm/boot/dts/rg.3390r0-bolt.dtsi | 694 --------------
remote:   arch/arm/boot/dts/rg.3390r0.dts       |  44 -
remote:   arch/arm/boot/dts/rg.3390z0-bolt.dtsi | 654 ++++++++++++-
remote:   arch/arm/boot/dts/rg.3390z0.dts       |  11 +-
remote:   5 files changed, 639 insertions(+), 766 deletions(-)
remote:  ;petersu@broadcom.com;2016-10-27 17:58:13 -0400;a2b0fe70396d564b94a42c743e0bbd04df550bf0;SWRGROUTER-4004: 3390R: Update device tree selection process to use MFG_ID as well. 		Forgot to add rg3390r0-bolt.dtsi to the commit after adding pcie1;
remote:  refs #SWRGROUTER-4004
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390r0-bolt.dtsi | 31 ++++++++-------
remote:   1 file changed, 16 insertions(+), 15 deletions(-)
remote:  ;petersu@broadcom.com;2016-10-27 17:58:12 -0400;51d701c8c412005c54d2c7c4803a295603336869;SWRGROUTER-4004: 3390R: Update device tree selection process to use MFG_ID as well.;
remote:  refs #SWRGROUTER-4004
remote:
remote:
remote:   arch/arm/boot/dts/Makefile            |   1 +
remote:   arch/arm/boot/dts/rg.3390b0-dcm.dts   |   5 +-
remote:   arch/arm/boot/dts/rg.3390b0-smwvg.dts |   1 -
remote:   arch/arm/boot/dts/rg.3390b0-sv.dts    |   1 -
remote:   arch/arm/boot/dts/rg.3390b0-vcm.dts   |   1 -
remote:   arch/arm/boot/dts/rg.3390b0-vms.dts   |   1 -
remote:   arch/arm/boot/dts/rg.3390b0.dts       |   6 +-
remote:   arch/arm/boot/dts/rg.3390r0-bolt.dtsi | 693 ++++++++++++++
remote:   arch/arm/boot/dts/rg.3390r0.dts       |  44 +
remote:   9 files changed, 743 insertions(+), 10 deletions(-)
remote:  ;wubei@broadcom.com;2016-10-27 17:58:12 -0400;2e898b9dfb3416e7ea1b139c3772cd8a556c8468;IPv6: Disable reassemble the ipv6 fragment when disabling ipv6 firewall.;
remote:  Don't reassemble the ipv6 fragment to
remote:  pass unh ipv6 ready logo Interoperability test 2.7 (B)
remote:
remote:  refs #SWRGROUTER-3991
remote:
remote:  (cherry picked from commit 467d11bfe7e4c641ea4166d65f7c1b93e4a5d025)
remote:
remote:
remote:   net/ipv6/netfilter/Kconfig             |  5 +
remote:   net/ipv6/netfilter/Makefile            |  2 +
remote:   .../nf_defrag_ipv6_hooks_notrack.c     | 96 ++++++++++++++
remote:   3 files changed, 103 insertions(+)
remote:  ;petersu@broadcom.com;2016-10-27 17:58:11 -0400;7bf795ad985c2c22f892983ac435e67fb7eee477;SWRGROUTER-2970: Add optional 3390 RFAP acceleration to Intel e1000e driver;
remote:  refs #SWRGROUTER-2970
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-wifi.dtsi | 20 +++++++++++++++++
remote:   drivers/bcm_media_gw/Kconfig        |  7 ++++++
remote:   2 files changed, 27 insertions(+)
remote:  ;enderby@lc-atl-221.atl.broadcom.com;2016-10-27 17:58:11 -0400;4206babd7a81495225870b90c5665c72331c8c69;SWRGROUTER-3305:I2C driver for WBID;
remote:  Implemented I2C driver support for WBID access
remote:
remote:  refs #SWRGROUTER-3305
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi | 7 -------
remote:   drivers/i2c/busses/i2c-brcmstb.c    | 4 ++--
remote:   2 files changed, 2 insertions(+), 9 deletions(-)
remote:  ;snanda@broadcom.com;2016-10-27 17:58:10 -0400;0762d119abfa150ec7e068b2bf031a1bc57775bf;WiFi: WPS pushbutton and LED (this changes on each chip/board per GPIO);
remote:  refs #SWRGROUTER-1899
remote:
remote:
remote:   arch/mips/boot/dts/bcm3384_mgw_zephyr.dtsi | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;snanda@broadcom.com;2016-10-27 17:58:10 -0400;2f831ce931a198a256f7cc3cc95680e314747335;WiFi: WPS pushbutton and LED (this changes on each chip/board per GPIO);
remote:  refs #SWRGROUTER-1899
remote:
remote:
remote:   arch/mips/boot/dts/bcm33843mwvg_mgw_zephyr.dtsi | 6 +++---
remote:   arch/mips/boot/dts/bcm3384_mgw_zephyr.dtsi      | 6 +++---
remote:   2 files changed, 6 insertions(+), 6 deletions(-)
remote:  ;tross@broadcom.com;2016-10-27 17:58:10 -0400;ecef02474df161c4f7bb992d6f607758f3cf9283;SWRGROUTER-4065: Update DQM device tree entries to reflect 3390B0 bug fixes.;
remote:  Update 3390 device tree files to reflect DQM bug fixes made by 3390B0.
remote:
remote:  refs #SWRGROUTER-4065
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi   |  6 +-
remote:   arch/arm/boot/dts/rg.3390c0-vcm.dts   | 44 ---------------
remote:   arch/arm/boot/dts/rg.3390z0-smwvg.dts | 44 ---------------
remote:   arch/arm/boot/dts/rg.3390z0-vms.dts   | 44 ---------------
remote:   4 files changed, 1 insertion(+), 137 deletions(-)
remote:  ;jcyr@broadcom.com;2016-10-27 17:58:09 -0400;d2c28d10d80987e54fad1f93a761000b1de9eb43;add DTB suport for 3390B0 VCM board;
remote:  refs #SWRGROUTER-4079
remote:
remote:
remote:   arch/arm/boot/dts/Makefile | 17 +----------------
remote:   1 file changed, 1 insertion(+), 16 deletions(-)
remote:  ;snanda@broadcom.com;2016-10-27 17:58:09 -0400;4935967f006777e686e8177738786178deaafa6e;WiFi: WPS pushbutton and LED (this changes on each chip/board per GPIO);
remote:  refs #SWRGROUTER-1899
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-wifi.dtsi    | 30 --------------
remote:   drivers/bcm_media_gw/Kconfig           | 29 -------------
remote:   drivers/bcm_media_gw/Makefile          |  3 --
remote:   .../bcm_media_gw/wps/wps_gpio_core.c   | 29 +++++--------
remote:   4 files changed, 11 insertions(+), 80 deletions(-)
remote:  ;tross@broadcom.com;2016-10-27 17:58:08 -0400;c18b3d5654e34cc658ea6f0337359eb80850cf47;SWRGROUTER-3967: Add 3390B0 PHYDVT board device tree support.;
remote:  Add 3390B0 PHYDVT board BID to rg.3390b0.dts "catchall" file.
remote:
remote:  refs #SWRGROUTER-3967
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390b0.dts | 11 +++++------
remote:   1 file changed, 5 insertions(+), 6 deletions(-)
remote:  ;tross@broadcom.com;2016-10-27 17:58:08 -0400;eefb4ab3149ec09c963e424e5cc006f3e5d96c1c;SWRGROUTER-4255: Implement SW to turn on/off the UniMAC block;
remote:  Modify bpcm driver to allow device tree to specify initial power state
remote:  of each zone for each bpcm device.
remote:  Modify device tree to set initial power state of UniMAC based on board.
remote:
remote:  refs #SWRGROUTER-4255
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi   |  10 +-
remote:   arch/arm/boot/dts/rg.3390-ethwan.dtsi |   2 +-
remote:   drivers/bcm_media_gw/bpcm/bpcm_core.c | 100 ++++++--------
remote:   3 files changed, 48 insertions(+), 64 deletions(-)
remote:  ;enderby@lc-atl-221.atl.broadcom.com;2016-10-27 17:58:08 -0400;7a50dab43c3ccbf51f5d8f90fceb584d1f63ec73;SWRGROUTER-3657:3390b0: Add switchable MoCA support for both 3390a0 and 3390b0 chips;
remote:  Now based on build target the proper MOCA driver will be compiled and setup.
remote:  Upgraded MOCA driver from 2.10.6.90 to 2.11.201.10.
remote:  Changed mocad version number to match 2.11.201.10.
remote:
remote:  refs #SWRGROUTER-3657
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390b0-moca.dtsi | 164 +-------------
remote:   1 file changed, 1 insertion(+), 163 deletions(-)
remote:  ;czacker@broadcom.com;2016-10-27 17:58:07 -0400;1b5aa88b9c071f4717f961b6580219deb17ad6fd;SWRGROUTER-5830: Ethernet Switch problem when doing a down on a port, port doesn't fully go down;
remote:    We need to do a suspend when we go down, and a resume when we re-enable port. This will fully
remote:    bring down the port and back up.
remote:
remote:  refs #SWRGROUTER-5830
remote:
remote:
remote:   drivers/bcm_media_gw/ethsw/ethsw_api.c | 2 ++
remote:   1 file changed, 2 insertions(+)
remote:  ;akatre@broadcom.com;2016-10-27 17:58:07 -0400;5123e096a579680c045a3a53b9c8cc68a9f5fce3;FPM_POOL_FULL error while WIFI throughput on 5G exceeds 1Gbps;
remote:  Reduced all six wifi DQM depth from 4000 to 2000.
remote:
remote:  refs #SWRGROUTER-5559
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi | 12 ++++++------
remote:   1 file changed, 6 insertions(+), 6 deletions(-)
remote:  ;tross@broadcom.com;2016-10-27 17:58:06 -0400;0990509f8c4ba14aaa201a6c14b0a76b363b9b13;Revert "SWRGROUTER-5765: Make message indicating dqnet is backing off due to a full DQM default to on.";
remote:  This reverts commit a358b44233c360a8da0c1b351bb953a6101761ca.
remote:
remote:  refs #SWRGROUTER-5765
remote:
remote:
remote:   drivers/bcm_media_gw/dqnet/dqnet_dbg.c | 3 +--
remote:   1 file changed, 1 insertion(+), 2 deletions(-)
remote:  ;tross@broadcom.com;2016-10-27 17:58:06 -0400;5416cd96f0345e5755eb4c1239d2423e74f1d15e;DQNET is double freeing tokens when DQM backs up;
remote:  Ensure token value return in RPC messages is either valid or 0.
remote:
remote:  refs #SWRGROUTER-5764
remote:
remote:
remote:   drivers/bcm_media_gw/dqnet/dqnet_core.c | 2 --
remote:   1 file changed, 2 deletions(-)
remote:  ;tross@broadcom.com;2016-10-27 17:58:05 -0400;b8e018f033dec833f993dd2a5d04dccd6724f5d6;SWRGROUTER-5765: Make message indicating dqnet is backing off due to a full DQM default to on.;
remote:  refs #SWRGROUTER-5765
remote:
remote:
remote:   drivers/bcm_media_gw/dqnet/dqnet_dbg.c | 3 ++-
remote:   1 file changed, 2 insertions(+), 1 deletion(-)
remote:  ;tross@broadcom.com;2016-10-27 17:58:05 -0400;e3648a6688b1d14ffb6ce4d1cbc85932f7e137f3;DQNET is double freeing tokens when DQM backs up;
remote:  Eliminate double free of FPM buffer when TX DQM is full.
remote:
remote:  refs #SWRGROUTER-5764
remote:
remote:
remote:   drivers/bcm_media_gw/dqnet/dqnet_core.c | 9 +++++----
remote:   1 file changed, 5 insertions(+), 4 deletions(-)
remote:  ;rp888308@broadcom.com;2016-10-27 17:58:05 -0400;5124d08848cbc41e6f3f4dc492773c7f3dfbd69a;SWRGROUTER-5740 flowmgr db prints MAC Addresses in lag mode;
remote:  flowmgr db logs MAC Address and interface number and prints message if next time MAC Address is seen on different i/f #
remote:  In lag mode, a packet with a MAC address from i/f # 8 is also seen from i/f # 9.
remote:  So flowmgr db keeps printing it.
remote:  So in lag mode the logging of MAC address should be disabled.
remote:
remote:  refs #SWRGROUTER-5740
remote:
remote:
remote:   .../flowmgr/flowmgr_procfs.c           | 18 ++++++++++++++
remote:   1 file changed, 18 insertions(+)
remote:  ;tross@broadcom.com;2016-10-27 17:58:04 -0400;a6571b37c18eb5a1e47c370d2cdfa1ccc4c80af8;SWRGROUTER-5762: Correct handling of FPM allocation failures;
remote:  Add error checking for FPM allocation failures.
remote:  Add checking for bad tokens/buffers when received from another entity.
remote:  Add proc commands to FPM driver to support alloc/free of FPM tokens
remote:
remote:  refs #SWRGROUTER-5762
remote:
remote:
remote:   drivers/bcm_media_gw/dqnet/dqnet_qmsg.c | 12 ++++++++++++
remote:   drivers/bcm_media_gw/fpm/fpm_core.c     | 11 +++++++----
remote:   2 files changed, 19 insertions(+), 4 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-10-27 17:58:04 -0400;8534e8ed361984aa2b7d096e5b15905c5ed64dea;SWRGROUTER-5736: Minor Optimization in packet data path processing in CPU;
remote:  Remove pr_debug statements in critical data path packet processing.
remote:  Optimize dqm_receive and dqm_reg_read functions.
remote:  Disable compiling in DQSKB module as it is not used.
remote:
remote:  refs #SWRGROUTER-5736
remote:
remote:
remote:   drivers/bcm_media_gw/dqm/dqm_core.c | 115 ++++++++--------
remote:   drivers/bcm_media_gw/dqm/dqm_dbg.c  |  12 +-
remote:   drivers/bcm_media_gw/dqm/dqm_hw.h   |  13 +-
remote:   3 files changed, 69 insertions(+), 71 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-10-27 17:58:03 -0400;7f1c998a749d3186a65233619ed75aef1751f2e7;SWRGROUTER-5637 WiFi : 3390smwvg : Wireless clients associated to the 5GHz radio (wl1) are unable to DHCP and get an IP address.;
remote:  Reintroduce spinlock for dqm reg write since multiple dqm shares same registers for interrupt status and mask.
remote:
remote:  refs #SWRGROUTER-5637
remote:
remote:
remote:   drivers/bcm_media_gw/dqm/dqm_hw.h | 1 +
remote:   1 file changed, 1 insertion(+)
remote:  ;dw888152@broadcom.com;2016-10-27 17:58:03 -0400;d11f4d4bb378210488fa4d9327639a9857f592a0;SWRGROUTER-5621 MEMCSTATS: Need a tool created to measure and collate Memory Controller statistics on 3390B0 and later chips;
remote:  - Create a proprietary LKM that can periodically poll the MemC
remote:    Statistics registers of the 3390B0 and pull all of the stats into a
remote:  somewhat small array for short-term collection.  The driver always
remote:  collects the stats for the entire controller and can be put in a mode to
remote:  collect either the VIPER bus stats or the ARM/SCB bus stats.
remote:
remote:  - Create a userspace apps that loads the LKM and is able to configure it
remote:    and poll it for longer-term data collection and collation.  The app
remote:  grabs the LKM's data and stores it into a long-term buffer after
remote:  calculating numerous memc statistics (provided by Herman Liu) on the
remote:  data. It is able to fully unload the LKM given a specific option as
remote:  well.
remote:
remote:  - Portions of the LKM came from some BRCM DSL code that was created on a
remote:    similar Memory Controller.  I heavily modified it to do what Dave P
remote:  asked for for the 3390B0.
remote:
remote:  - Both the LKM and the app are DISABLED by default in the build.  They
remote:    can be enabled by flipping CONFIG_BCM_MEMCSTATS to 'm' in
remote:  linux/drivers/bcm_media_gw/Kconfig.  This will automagically flip the
remote:  userspace BUILD_MEMCSTATS flag to y and build both.
remote:
remote:  - Added the userspace app to the two skiplists I'm aware of.  The LKM
remote:    should already be handled by one of the lines in those two files.
remote:
remote:  - the _proc file was left in place but is not compiled in case it's
remote:    needed for future debugging.  Early on I used it for basic debugging
remote:  of the LKM.  But later removed it when it was no longer essential.
remote:
remote:  refs #SWRGROUTER-5621
remote:
remote:
remote:   drivers/bcm_media_gw/Kconfig | 7 +++++++
remote:   1 file changed, 7 insertions(+)
remote:  ;rp888308@broadcom.com;2016-10-27 17:58:02 -0400;81717852372cd4802d1d36f485d659a5d0814c5e;SWRGROUTER-5698 kthread implementation for mdqm device driver;
remote:  kthread implementation for mdqm device driver
remote:  Implement mdqm device type options in mdqm device driver to use it as a,
remote:  1. TX device or
remote:  2. RX device using kthread
remote:  3. RX device using napi
remote:  4. Implemented round robin dequeue method
remote:
remote:  refs #SWRGROUTER-5698
remote:
remote:
remote:   drivers/bcm_media_gw/mdqm/mdqm_core.c | 25 +++++++++++----
remote:   1 file changed, 19 insertions(+), 6 deletions(-)
remote:  ;skern@broadcom.com;2016-10-27 17:58:02 -0400;25588358b2b0b557807cfec10a84286f105087d0;SWRGROUTER-5664: Option 82 for hotspot is not working - Crashes when set to 0x1;
remote:  Option 82 for hotspot is not working - Crashes when set to 0x1
remote:
remote:  refs #SWRGROUTER-5664
remote:
remote:  (cherry picked from commit fafb8cbd268ad1bc693ffdb832c13c3062bf59d5)
remote:
remote:  Conflicts:
remote:  	drivers/bcm_media_gw/netfilter/ebt_dhcpsnoop.c
remote:
remote:
remote:   .../netfilter/ebt_dhcpsnoop.c            | 12 ++++++++----
remote:   1 file changed, 8 insertions(+), 4 deletions(-)
remote:  ;tnobes@broadcom.com;2016-10-27 17:58:02 -0400;165ef0fb1ca4666f0bb1bce91ecc86b11bcc2c8e;SWRGROUTER-1886 Runner GRE termination & FlowMgr GRE v4;
remote:  Fixes flow promotion to Runner for L2oGRE encapuslated flows. Tunnel object creation.
remote:  This still needs new Runner FW to work successfully.
remote:
remote:  refs #SWRGROUTER-1886
remote:
remote:
remote:   .../flowmgr/flowmgr_core.c             | 49 +++++++++++---
remote:   .../bcm_media_gw/flowmgr/flowmgr_fap.c | 40 +++++++----
remote:   2 files changed, 66 insertions(+), 23 deletions(-)
remote:  ;twhite@cm-irv-1.irv.broadcom.com;2016-10-27 17:58:01 -0400;ea3b51ada711a14e164ab88f6775ba39cc0476fb;SWRGROUTER-5359: GFAP Primary VLAN Bridged mode (ETHWAN);
remote:  Fixed transitory bug in header file that broke the compile of the gfap binary h file.
remote:
remote:  refs #SWRGROUTER-5359
remote:
remote:
remote:   .../3384b0/gfap_binary_3384_ethwan.h   | 574 ++++++-------
remote:   1 file changed, 287 insertions(+), 287 deletions(-)
remote:  ;tross@broadcom.com;2016-10-27 17:58:01 -0400;a2a344dc0791224eaf1595d15a1af17890dc7723;SWRGROUTER-5625: Remove PCIe2 from DT for Z0 parts.;
remote:  Remove PCIe2 from DT to match the new OTP config for Z0 parts.
remote:
remote:  refs #SWRGROUTER-5625
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390z0-bolt.dtsi | 4 ++++
remote:   1 file changed, 4 insertions(+)
remote:  ;twhite@cm-irv-1.irv.broadcom.com;2016-10-27 17:58:00 -0400;4805c7aecb941c823165818fbe6f79849b4277c3;SWRGROUTER-5359: GFAP Primary VLAN Bridged mode (ETHWAN);
remote:  Revisited. Fixed a logic bug in the FFE code where the mb_bridged check erroneously
remote:  matches all odd-numbered mac IDs for the local subnet check.
remote:
remote:  refs #SWRGROUTER-5359
remote:
remote:
remote:   .../3384b0/gfap_binary_3384_ethwan.h   | 570 ++++++-------
remote:   1 file changed, 285 insertions(+), 285 deletions(-)
remote:  ;tross@broadcom.com;2016-10-27 17:58:00 -0400;020c504f939ffa1afcbfd10dc16b4639dcf97f1b;SWRGROUTER-5607: Add ethtool support for EEE;
remote:  Add support to dqnet for ethtool EEE commands.
remote:  Add support to ethsw to get/set EEE parameters on each port.
remote:
remote:  refs #SWRGROUTER-5607
remote:
remote:
remote:   .../bcm_media_gw/dqnet/dqnet_ethtool.c | 80 +++++++++++++-
remote:   drivers/bcm_media_gw/ethsw/ethsw_api.c | 34 +++++-
remote:   2 files changed, 109 insertions(+), 5 deletions(-)
remote:  ;ignatius@broadcom.com;2016-10-27 17:57:59 -0400;ffac181f03def506a0390ac6ba723f203c426e0f;SWRGROUTER-5586: MAP driver crash with fragmented IPv6 packet;
remote:  - fix porting issue related hlist_for each_entryXXXX() MACROs
remote:
remote:  refs #SWRGROUTER-5586
remote:
remote:
remote:   net/ipv6/map_defrag6.c | 9 +++++++--
remote:   1 file changed, 7 insertions(+), 2 deletions(-)
remote:  ;czacker@broadcom.com;2016-10-27 17:57:59 -0400;efbf9f8ebada98f898529d6132c4f42a075c5afb;SWRGROUTER-5465: RG Console error "ethsw_core: Invalid parameters". Cannot access webUI.;
remote:      We were calling the STP calls (for the 3390) for the 3384 but getting SPI atomic
remote:      errors because it was getting called within interupt context.  We have moved this
remote:      call to be platform specific and if needed can make the 3384 have it as a work
remote:      queue call so the sets are done outside of the interupt level.
remote:
remote:  refs #SWRGROUTER-5465
remote:
remote:
remote:   .../bcm_media_gw/ethsw/ethsw_3384.c    | 11 ++++
remote:   .../bcm_media_gw/ethsw/ethsw_core.c    | 45 +-------------
remote:   2 files changed, 14 insertions(+), 42 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-10-27 17:57:59 -0400;74617394c84768d943283da4f1b455d14225af30;SWRGROUTER-5488 WiFi: Allow WLEROUTER (for DHD) and NetXL coexistence at runtime;
remote:  Added device tree node 'wler_rfap' node to control enable/disable of wlerouter interface per radio.
remote:  Made mdqm driver module as a built in module.
remote:
remote:  refs #SWRGROUTER-5488
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-wifi.dtsi    |  5 +++
remote:   drivers/bcm_media_gw/Kconfig           |  2 +-
remote:   .../bcm_media_gw/dqnet/dqnet_core.c    |  2 +-
remote:   drivers/bcm_media_gw/mdqm/mdqm_core.c  | 25 ++++----------
remote:   4 files changed, 13 insertions(+), 21 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-10-27 17:57:58 -0400;5f726248df9221a0844f5f3913bbf287d9a228e4;SWRGROUTER-5288: With LAG enabled raw data TCP throughput is 50% lesser than UDP traffic;
remote:  When LAG is enabled, transmit and receive port for a flow can be different.
remote:  Modify flowmgr to allow asymmetric port in bi-directional TCP flow.
remote:
remote:  refs #SWRGROUTER-5288
remote:
remote:
remote:   drivers/bcm_media_gw/flowmgr/flowmgr_fap.c | 10 ++++++++--
remote:   1 file changed, 8 insertions(+), 2 deletions(-)
remote:  ;twhite@cm-irv-1.irv.broadcom.com;2016-10-27 17:57:58 -0400;e0102d9e21e78d42cecfd8ce718651381535b836;SWRGROUTER-5359: GFAP Primary VLAN Bridged mode (ETHWAN);
remote:  Added ETH1 as a WAN destination for the local subnet check on a bridged
remote:  flow match so web access is allowed when ETHWAN configuration is used in
remote:  primary VLAN bridged mode.  Also corrected call to setup lan entwork in fap_config
remote:  to use the wan device if the call for br0 fails because br0 is not assigned an
remote:  IP address in primary VLAN bridged mode.
remote:
remote:  refs #SWRGROUTER-5359
remote:
remote:
remote:   .../3384b0/gfap_binary_3384_ethwan.h   | 138 ++++++-------
remote:   1 file changed, 69 insertions(+), 69 deletions(-)
remote:  ;tross@broadcom.com;2016-10-27 17:57:57 -0400;5ad26222076bdb96d5c545a6b145d2a7b200a6fe;SWRGROUTER-5431: Remove 3390A device tree files to fit in flash partition;
remote:  refs #SWRGROUTER-5431
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390a2.dts | 118 --------------------
remote:   1 file changed, 118 deletions(-)
remote:  ;czacker@broadcom.com;2016-10-27 17:57:57 -0400;6d245c61f0e064bc23672aea513c05884733b6d6;SWRGROUTER-5320: Bad BRCM tag opcode reported when traffic test fails.    We found that SWRGROUTER-5256 that added PAUSE frames was causing    issues on several different tests. We have now backed out the    changes and will have to reopen that issue and see if we can find    another appropriate fix.;
remote:  refs #SWRGROUTER-5320
remote:
remote:
remote:   drivers/bcm_media_gw/ethsw/ethsw_core.c | 1 -
remote:   1 file changed, 1 deletion(-)
remote:  ;czacker@broadcom.com;2016-10-27 17:57:56 -0400;be515a4b4958f5ff26ad94291d62c6c24737d2a4;SWRGROUTER-5320: Bad BRCM tag opcode reported when traffic test fails.    We found that SWRGROUTER-5256 that added PAUSE frames was causing    issues on several different tests. We have now backed out the    changes and will have to reopen that issue and see if we can find    another appropriate fix.;
remote:  refs #SWRGROUTER-5320
remote:
remote:
remote:   drivers/bcm_media_gw/ethsw/ethsw_core.c | 9 ---------
remote:   1 file changed, 9 deletions(-)
remote:  ;tross@broadcom.com;2016-10-27 17:57:56 -0400;7ed4d4e228c5cefe474b5275d4cf30a24715be2a;SWRGROUTER-5428: Kernel complains about MoCA clocks on 3390Z0;
remote:  Moved MoCA clock definitions to the rg.3390-moca.dtsi include file
remote:  so that they are not included on 3390Z0 boards.
remote:
remote:  refs #SWRGROUTER-5428
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390b0-bolt.dtsi | 156 ----
remote:   arch/arm/boot/dts/rg.3390b0-moca.dtsi | 160 ++++
remote:   arch/arm/boot/dts/rg.3390z0-bolt.dtsi | 650 +-------------
remote:   3 files changed, 177 insertions(+), 789 deletions(-)
remote:  ;tross@broadcom.com;2016-10-27 17:57:56 -0400;f3c74a967c6f05ef63282e0ddf78023ad1e0c45e;SWRGROUTER-5416: Prevent Linux self power down when BMU reports power state of "unknown";
remote:  Change BA daemon and driver to interpret BMU's AC and unknown power states
remote:  as the same.
remote:
remote:  refs #SWRGROUTER-5416
remote:
remote:
remote:   drivers/bcm_media_gw/boot_assist/brcm_ba.c | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;czacker@broadcom.com;2016-10-27 17:57:55 -0400;c3f2ec0359acb4d00ffd912ade9ee7b6c8a93397;SWRGROUTER-3474: Create a phylib based driver for the SF2 and 531xx switches;
remote:  refs #SWRGROUTER-3474
remote:
remote:
remote:   .../bcm_media_gw/ethsw/ethsw_3384.c    |  5 +-
remote:   drivers/bcm_media_gw/ethsw/ethsw_api.c | 49 +-------------
remote:   .../ethsw/ethsw_init_plat.c            |  2 +-
remote:   .../bcm_media_gw/ethsw/ethsw_priv.h    |  1 +
remote:   drivers/net/phy/mdio-unimac.c          |  4 +-
remote:   5 files changed, 7 insertions(+), 54 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-10-27 17:57:55 -0400;91eced7a3e7c19b46f725dd569b3a09d6dfbeb64;SWRGROUTER-5310: SFAP support broken after NetXL update for 3390;
remote:  Restructured DQNET RX/TX processing code to make SFAP work in FPM mode
remote:  for 3390.
remote:
remote:  refs #SWRGROUTER-5310
remote:
remote:
remote:   drivers/bcm_media_gw/Kconfig           |  2 +-
remote:   .../bcm_media_gw/dqnet/dqnet_core.c    | 21 ++++----------
remote:   2 files changed, 7 insertions(+), 16 deletions(-)
remote:  ;venky@cm-irv-1.irv.broadcom.com;2016-10-27 17:57:54 -0400;62529c7b2a412be183ddab70e77a91a0e39c2a76;SWRGROUTER-4069: Active power savings - Linux - Disable WiFi block if radios disabled;
remote:  refs #SWRGROUTER-4069
remote:
remote:
remote:   drivers/bcm_media_gw/Makefile | 2 ++
remote:   1 file changed, 2 insertions(+)
remote:  ;avagin@openvz.org;2016-10-27 17:57:54 -0400;a3573e09f8e0c927554c9826f775baa4e073d616;SWRGROUTER-4846 RG reboots due to the watchdog firing when running traffic test (kernel.org commit id ee214d54bf3d51259adf8917e26dc84df1cab05a);
remote:  netfilter: nf_conntrack: initialize net.ct.generation
remote:
remote:  [  251.920788] INFO: trying to register non-static key.
remote:  [  251.921386] the code is fine but needs lockdep annotation.
remote:  [  251.921386] turning off the locking correctness validator.
remote:  [  251.921386] CPU: 2 PID: 15715 Comm: socket_listen Not tainted 3.14.0+ #294
remote:  [  251.921386] Hardware name: Bochs Bochs, BIOS Bochs 01/01/2011
remote:  [  251.921386]  0000000000000000 000000009d18c210 ffff880075f039b8 ffffffff816b7ecd
remote:  [  251.921386]  ffffffff822c3b10 ffff880075f039c8 ffffffff816b36f4 ffff880075f03aa0
remote:  [  251.921386]  ffffffff810c65ff ffffffff810c4a85 00000000fffffe01 ffffffffa0075172
remote:  [  251.921386] Call Trace:
remote:  [  251.921386]  [<ffffffff816b7ecd>] dump_stack+0x45/0x56
remote:  [  251.921386]  [<ffffffff816b36f4>] register_lock_class.part.24+0x38/0x3c
remote:  [  251.921386]  [<ffffffff810c65ff>] __lock_acquire+0x168f/0x1b40
remote:  [  251.921386]  [<ffffffff810c4a85>] ? trace_hardirqs_on_caller+0x105/0x1d0
remote:  [  251.921386]  [<ffffffffa0075172>] ? nf_nat_setup_info+0x252/0x3a0 [nf_nat]
remote:  [  251.921386]  [<ffffffff816c1215>] ? _raw_spin_unlock_bh+0x35/0x40
remote:  [  251.921386]  [<ffffffffa0075172>] ? nf_nat_setup_info+0x252/0x3a0 [nf_nat]
remote:  [  251.921386]  [<ffffffff810c7272>] lock_acquire+0xa2/0x120
remote:  [  251.921386]  [<ffffffffa008ab90>] ? ipv4_confirm+0x90/0xf0 [nf_conntrack_ipv4]
remote:  [  251.921386]  [<ffffffffa0055989>] __nf_conntrack_confirm+0x129/0x410 [nf_conntrack]
remote:  [  251.921386]  [<ffffffffa008ab90>] ? ipv4_confirm+0x90/0xf0 [nf_conntrack_ipv4]
remote:  [  251.921386]  [<ffffffffa008ab90>] ipv4_confirm+0x90/0xf0 [nf_conntrack_ipv4]
remote:  [  251.921386]  [<ffffffff815e7b00>] ? ip_fragment+0x9f0/0x9f0
remote:  [  251.921386]  [<ffffffff815d8c5a>] nf_iterate+0xaa/0xc0
remote:  [  251.921386]  [<ffffffff815e7b00>] ? ip_fragment+0x9f0/0x9f0
remote:  [  251.921386]  [<ffffffff815d8d14>] nf_hook_slow+0xa4/0x190
remote:  [  251.921386]  [<ffffffff815e7b00>] ? ip_fragment+0x9f0/0x9f0
remote:  [  251.921386]  [<ffffffff815e98f2>] ip_output+0x92/0x100
remote:  [  251.921386]  [<ffffffff815e8df9>] ip_local_out+0x29/0x90
remote:  [  251.921386]  [<ffffffff815e9240>] ip_queue_xmit+0x170/0x4c0
remote:  [  251.921386]  [<ffffffff815e90d5>] ? ip_queue_xmit+0x5/0x4c0
remote:  [  251.921386]  [<ffffffff81601208>] tcp_transmit_skb+0x498/0x960
remote:  [  251.921386]  [<ffffffff81602d82>] tcp_connect+0x812/0x960
remote:  [  251.921386]  [<ffffffff810e3dc5>] ? ktime_get_real+0x25/0x70
remote:  [  251.921386]  [<ffffffff8159ea2a>] ? secure_tcp_sequence_number+0x6a/0xc0
remote:  [  251.921386]  [<ffffffff81606f57>] tcp_v4_connect+0x317/0x470
remote:  [  251.921386]  [<ffffffff8161f645>] __inet_stream_connect+0xb5/0x330
remote:  [  251.921386]  [<ffffffff8158dfc3>] ? lock_sock_nested+0x33/0xa0
remote:  [  251.921386]  [<ffffffff810c4b5d>] ? trace_hardirqs_on+0xd/0x10
remote:  [  251.921386]  [<ffffffff81078885>] ? __local_bh_enable_ip+0x75/0xe0
remote:  [  251.921386]  [<ffffffff8161f8f8>] inet_stream_connect+0x38/0x50
remote:  [  251.921386]  [<ffffffff8158b157>] SYSC_connect+0xe7/0x120
remote:  [  251.921386]  [<ffffffff810e3789>] ? current_kernel_time+0x69/0xd0
remote:  [  251.921386]  [<ffffffff810c4a85>] ? trace_hardirqs_on_caller+0x105/0x1d0
remote:  [  251.921386]  [<ffffffff810c4b5d>] ? trace_hardirqs_on+0xd/0x10
remote:  [  251.921386]  [<ffffffff8158c36e>] SyS_connect+0xe/0x10
remote:  [  251.921386]  [<ffffffff816caf69>] system_call_fastpath+0x16/0x1b
remote:  [  312.014104] INFO: rcu_sched detected stalls on CPUs/tasks: {} (detected by 0, t=60003 jiffies, g=42359, c=42358, q=333)
remote:  [  312.015097] INFO: Stall ended before state dump start
remote:
remote:  Fixes: 93bb0ceb75be ("netfilter: conntrack: remove central spinlock nf_conntrack_lock")
remote:  Cc: Jesper Dangaard Brouer <brouer@redhat.com>
remote:  Cc: Pablo Neira Ayuso <pablo@netfilter.org>
remote:  Cc: Patrick McHardy <kaber@trash.net>
remote:  Cc: Jozsef Kadlecsik <kadlec@blackhole.kfki.hu>
remote:  Cc: "David S. Miller" <davem@davemloft.net>
remote:  Signed-off-by: Andrey Vagin <avagin@openvz.org>
remote:  Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
remote:
remote:  refs #SWRGROUTER-4846
remote:
remote:
remote:   net/netfilter/nf_conntrack_core.c | 1 +
remote:   1 file changed, 1 insertion(+)
remote:  ;edumazet@google.com;2016-10-27 17:57:53 -0400;ed87a76df4a138a292424f3f7dab7cd680aad4e0;SWRGROUTER-4846 RG reboots due to the watchdog firing when running traffic test (kernel.org commit id d5d20912d33f13766902a27087323f5c94e831c8);
remote:  netfilter: conntrack: Fix UP builds
remote:
remote:  ARRAY_SIZE(nf_conntrack_locks) is undefined if spinlock_t is an
remote:  empty structure. Replace it by CONNTRACK_LOCKS
remote:
remote:  Fixes: 93bb0ceb75be ("netfilter: conntrack: remove central spinlock nf_conntrack_lock")
remote:  Reported-by: kbuild test robot <fengguang.wu@intel.com>
remote:  Signed-off-by: Eric Dumazet <edumazet@google.com>
remote:  Cc: Jesper Dangaard Brouer <brouer@redhat.com>
remote:  Cc: Pablo Neira Ayuso <pablo@netfilter.org>
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:
remote:  refs #SWRGROUTER-4846
remote:
remote:
remote:   net/netfilter/nf_conntrack_core.c | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;brouer@redhat.com;2016-10-27 17:57:53 -0400;e44263e7d7fefc3f308710d6b337afc3feabf743;SWRGROUTER-4846 RG reboots due to the watchdog firing when running traffic test (kernel.org commit id 93bb0ceb75be2fdfa9fc0dd1fb522d9ada515d9c);
remote:  netfilter: conntrack: remove central spinlock nf_conntrack_lock
remote:
remote:  nf_conntrack_lock is a monolithic lock and suffers from huge contention
remote:  on current generation servers (8 or more core/threads).
remote:
remote:  Perf locking congestion is clear on base kernel:
remote:
remote:  -  72.56%  ksoftirqd/6  [kernel.kallsyms]    [k] _raw_spin_lock_bh
remote:     - _raw_spin_lock_bh
remote:        + 25.33% init_conntrack
remote:        + 24.86% nf_ct_delete_from_lists
remote:        + 24.62% __nf_conntrack_confirm
remote:        + 24.38% destroy_conntrack
remote:        + 0.70% tcp_packet
remote:  +   2.21%  ksoftirqd/6  [kernel.kallsyms]    [k] fib_table_lookup
remote:  +   1.15%  ksoftirqd/6  [kernel.kallsyms]    [k] __slab_free
remote:  +   0.77%  ksoftirqd/6  [kernel.kallsyms]    [k] inet_getpeer
remote:  +   0.70%  ksoftirqd/6  [nf_conntrack]       [k] nf_ct_delete
remote:  +   0.55%  ksoftirqd/6  [ip_tables]          [k] ipt_do_table
remote:
remote:  This patch change conntrack locking and provides a huge performance
remote:  improvement.  SYN-flood attack tested on a 24-core E5-2695v2(ES) with
remote:  10Gbit/s ixgbe (with tool trafgen):
remote:
remote:   Base kernel:   810.405 new conntrack/sec
remote:   After patch: 2.233.876 new conntrack/sec
remote:
remote:  Notice other floods attack (SYN+ACK or ACK) can easily be deflected using:
remote:   # iptables -A INPUT -m state --state INVALID -j DROP
remote:   # sysctl -w net/netfilter/nf_conntrack_tcp_loose=0
remote:
remote:  Use an array of hashed spinlocks to protect insertions/deletions of
remote:  conntracks into the hash table. 1024 spinlocks seem to give good
remote:  results, at minimal cost (4KB memory). Due to lockdep max depth,
remote:  1024 becomes 8 if CONFIG_LOCKDEP=y
remote:
remote:  The hash resize is a bit tricky, because we need to take all locks in
remote:  the array. A seqcount_t is used to synchronize the hash table users
remote:  with the resizing process.
remote:
remote:  Signed-off-by: Eric Dumazet <edumazet@google.com>
remote:  Signed-off-by: Jesper Dangaard Brouer <brouer@redhat.com>
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Reviewed-by: Florian Westphal <fw@strlen.de>
remote:  Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
remote:
remote:  refs #SWRGROUTER-4846
remote:
remote:
remote:   net/netfilter/nf_conntrack_core.c   | 47 +++++++----------
remote:   net/netfilter/nf_conntrack_helper.c |  8 +--
remote:   2 files changed, 21 insertions(+), 34 deletions(-)
remote:  ;rp888308@broadcom.com;2016-10-27 17:57:52 -0400;1f29b76d241fbe95f763b2bfdbe4eadd09213ed0;SWRGROUTER-4846 RG reboots due to the watchdog firing when running traffic test (kernel.org commit id ca7433df3a672efc88e08222cfa4b3aa965ca324);
remote:  netfilter: conntrack: seperate expect locking from nf_conntrack_lock
remote:
remote:  Netfilter expectations are protected with the same lock as conntrack
remote:  entries (nf_conntrack_lock).  This patch split out expectations locking
remote:  to use it's own lock (nf_conntrack_expect_lock).
remote:
remote:  Signed-off-by: Jesper Dangaard Brouer <brouer@redhat.com>
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Reviewed-by: Florian Westphal <fw@strlen.de>
remote:  Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
remote:
remote:  refs #SWRGROUTER-4846
remote:
remote:
remote:   net/netfilter/nf_conntrack_core.c   | 44 ++++++++++-------
remote:   net/netfilter/nf_conntrack_helper.c |  3 +-
remote:   2 files changed, 28 insertions(+), 19 deletions(-)
remote:  ;brouer@redhat.com;2016-10-27 17:57:52 -0400;56aceff0314ae50b49e6d789189326744badd9e2;SWRGROUTER-4846 RG reboots due to the watchdog firing when running traffic test (kernel.org commit id e1b207dac13ddb2f8ddebc7dc9729a97421909bd);
remote:  netfilter: avoid race with exp->master ct
remote:
remote:  Preparation for disconnecting the nf_conntrack_lock from the
remote:  expectations code.  Once the nf_conntrack_lock is lifted, a race
remote:  condition is exposed.
remote:
remote:  The expectations master conntrack exp->master, can race with
remote:  delete operations, as the refcnt increment happens too late in
remote:  init_conntrack().  Race is against other CPUs invoking
remote:  ->destroy() (destroy_conntrack()), or nf_ct_delete() (via timeout
remote:  or early_drop()).
remote:
remote:  Avoid this race in nf_ct_find_expectation() by using atomic_inc_not_zero(),
remote:  and checking if nf_ct_is_dying() (path via nf_ct_delete()).
remote:
remote:  Signed-off-by: Jesper Dangaard Brouer <brouer@redhat.com>
remote:  Signed-off-by: Florian Westphal <fw@strlen.de>
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
remote:
remote:  refs #SWRGROUTER-4846
remote:
remote:
remote:   net/netfilter/nf_conntrack_core.c | 39 ++++++++-----------
remote:   1 file changed, 17 insertions(+), 22 deletions(-)
remote:  ;brouer@redhat.com;2016-10-27 17:57:52 -0400;bf4f9c45944a69c39574617b4726b6b826bac0a0;SWRGROUTER-4846 RG reboots due to the watchdog firing when running traffic test (kernel.org commit id b7779d06f9950e14a008a2de970b44233fe49c86);
remote:  netfilter: conntrack: spinlock per cpu to protect special lists.
remote:
remote:  One spinlock per cpu to protect dying/unconfirmed/template special lists.
remote:  (These lists are now per cpu, a bit like the untracked ct)
remote:  Add a @cpu field to nf_conn, to make sure we hold the appropriate
remote:  spinlock at removal time.
remote:
remote:  Signed-off-by: Eric Dumazet <edumazet@google.com>
remote:  Signed-off-by: Jesper Dangaard Brouer <brouer@redhat.com>
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Reviewed-by: Florian Westphal <fw@strlen.de>
remote:  Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
remote:
remote:  refs #SWRGROUTER-4846
remote:
remote:
remote:   net/netfilter/nf_conntrack_core.c   | 23 +++++++++++------
remote:   net/netfilter/nf_conntrack_helper.c |  5 ++++
remote:   2 files changed, 20 insertions(+), 8 deletions(-)
remote:  ;brouer@redhat.com;2016-10-27 17:57:51 -0400;fbeecd62d9fe5bc0e5c8d008aa70477ef9b48417;SWRGROUTER-4846 RG reboots due to the watchdog firing when running traffic test (kernel.org commit id b476b72a0f8514a5a4c561bab731ddd506a284e7);
remote:  netfilter: trivial code cleanup and doc changes
remote:
remote:  Changes while reading through the netfilter code.
remote:
remote:  Added hint about how conntrack nf_conn refcnt is accessed.
remote:  And renamed repl_hash to reply_hash for readability
remote:
remote:  Signed-off-by: Jesper Dangaard Brouer <brouer@redhat.com>
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Reviewed-by: Florian Westphal <fw@strlen.de>
remote:  Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
remote:
remote:  refs #SWRGROUTER-4846
remote:
remote:
remote:   net/netfilter/nf_conntrack_core.c | 22 ++++++++-----------
remote:   1 file changed, 9 insertions(+), 13 deletions(-)
remote:  ;rp888308@broadcom.com;2016-10-27 17:57:51 -0400;0e72095741afd027a349d9376c2e19452b563dbd;SWRGROUTER-4846 RG reboots due to the watchdog firing when running traffic test;
remote:  1. Get status only for the promoted flow and TCP flows with established state
remote:  2. Add 2way or 3way handshake run-time option for nf_conntrack (default 2way handshake)
remote:  3. Disable keep master alive logic for slave connections
remote:
remote:  refs #SWRGROUTER-4846
remote:
remote:
remote:   drivers/bcm_media_gw/flowmgr/flowmgr.h |  2 ++
remote:   .../flowmgr/flowmgr_core.c             | 14 +++++++++++++-
remote:   .../bcm_media_gw/flowmgr/flowmgr_fap.c | 10 +++++-----
remote:   .../netfilter/nf_conntrack_offload.h   |  2 +-
remote:   4 files changed, 21 insertions(+), 7 deletions(-)
remote:  ;czacker@broadcom.com;2016-10-27 17:57:50 -0400;25ac94fc0a0deb7a887529644a8108209c7b0d34;SWRGROUTER-5362: Need to make sure pause frames are NOT enabled on IMP ports but are enabled on LAN facing Ethernet ports;
remote:  refs #SWRGROUTER-5362
remote:
remote:
remote:   drivers/bcm_media_gw/ethsw/ethsw_core.c | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;czacker@broadcom.com;2016-10-27 17:57:50 -0400;9e69ebf9d5fa0b90b9f3a188a608ba3459a4870f;SWRGROUTER-5362: Need to make sure pause frames are NOT enabled on IMP ports but are enabled on LAN facing Ethernet ports;
remote:  refs #SWRGROUTER-5362
remote:
remote:
remote:   drivers/bcm_media_gw/ethsw/ethsw_core.c | 12 ++++++------
remote:   drivers/bcm_media_gw/ethsw/ethsw_core.h |  2 +-
remote:   2 files changed, 7 insertions(+), 7 deletions(-)
remote:  ;robey@broadcom.com;2016-10-27 17:57:49 -0400;592bf7659ffdcde5f09bc1f1bcc9725183c407b4;SWRGROUTER-5253 Temporarily disable netxl in the build;
remote:  Reenable netxl now tha thte nightly builds have been fixed by setting the default in Kconfig to m.
remote:
remote:  refs #SWRGROUTER-5253
remote:
remote:
remote:   drivers/bcm_media_gw/Kconfig | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;tross@broadcom.com;2016-10-27 17:57:49 -0400;75c0725a0c97a3acc55986ecbedfd03ceaf4347a;SWRGROUTER-5357: DQNET: Add support to set Ethernet port parameters via ethtool;
remote:  Added ethtool_ops.set_settings support to dqnet.
remote:
remote:  refs #SWRGROUTER-5357
remote:
remote:
remote:   .../bcm_media_gw/dqnet/dqnet_ethsw.c   |  4 +-
remote:   .../bcm_media_gw/dqnet/dqnet_ethtool.c | 80 +-------------
remote:   .../bcm_media_gw/dqnet/dqnet_switch.c  |  4 +-
remote:   3 files changed, 5 insertions(+), 83 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-10-27 17:57:49 -0400;9037c4dd0c4406ad3cb191d5a830737d8104a0df;SWRGROUTER-4512: Add support for passing SKB's to/from HW;
remote:  Updates after code review.
remote:
remote:  refs #SWRGROUTER-4512
remote:
remote:
remote:   drivers/bcm_media_gw/dqnet/dqnet_qmsg.c | 12 ------------
remote:   1 file changed, 12 deletions(-)
remote:  ;tross@broadcom.com;2016-10-27 17:57:48 -0400;263ba915300c1854de3a691d936edcd844915be1;SWRGROUTER-5329: Disable pause packet generation;
remote:  Temporarily disable switch pause packet generation until a proper
remote:  solution can be determined.
remote:
remote:  refs #SWRGROUTER-5329
remote:
remote:
remote:   drivers/bcm_media_gw/ethsw/ethsw_core.c | 12 ++++++------
remote:   1 file changed, 6 insertions(+), 6 deletions(-)
remote:  ;tross@broadcom.com;2016-10-27 17:57:48 -0400;bb6e1934021a5d95e4c0071f0acccb05f16b4e6d;SWRGROUTER-5328: DQNET: Failure to remove BRCM tag results in SKB leak;
remote:  Free SKB if call to dqnet_rm_brcm_tag fails.
remote:
remote:  refs #SWRGROUTER-5328
remote:
remote:
remote:   drivers/bcm_media_gw/dqnet/dqnet_core.c | 12 +++++++++++-
remote:   1 file changed, 11 insertions(+), 1 deletion(-)
remote:  ;jayeshp@broadcom.com;2016-10-27 17:57:47 -0400;079d2135d5de23a3070c5118bc92f0b2daaf0c9d;SWRGROUTER-5310: SFAP support broken after NetXL update for 3390;
remote:  Use SKB based SFAP for 3390.
remote:  Enable bulding SFAP as lodable module.
remote:
remote:  refs #SWRGROUTER-5310
remote:
remote:
remote:   drivers/bcm_media_gw/Kconfig | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;ptimariu@broadcom.com;2016-10-27 17:57:47 -0400;b4f601e01dd1e40d71bf26b6386f8d2c23d187bf;SWRGROUTER-5265: 3390B0 - Wifi: Data path not working;
remote:  Fix 3390 base device tree; revert HWM value change to queue 56
remote:
remote:  refs #SWRGROUTER-5265
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi | 4 ++--
remote:   1 file changed, 2 insertions(+), 2 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-10-27 17:57:46 -0400;7b69b98d51b26c96008cca12a4e86d2e091b96d7;SWRGROUTER-1886: Runner GRE termination & FlowMgr GRE v4;
remote:  Fix bug in adding IP flows through flowmgr proc interface for Runner.
remote:
remote:  refs #SWRGROUTER-1886
remote:
remote:
remote:   .../flowmgr/flowmgr_core.c             | 16 ++++--------
remote:   .../flowmgr/flowmgr_procfs.c           | 18 --------------
remote:   2 files changed, 5 insertions(+), 29 deletions(-)
remote:  ;czacker@broadcom.com;2016-10-27 17:57:46 -0400;955002781e7a48ae8f57b8cce03bed7d90e7cb91;SWRGROUTER-5256: Ethernet drops packets while running LAN->WAN    traffic from 2 ethernet ports;
remote:  refs #SWRGROUTER-5256
remote:
remote:
remote:   drivers/bcm_media_gw/ethsw/ethsw_core.h | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;robey@broadcom.com;2016-10-27 17:57:46 -0400;3f1b68871b9b385187f9382c19adc4b689dc4c68;SWRGROUTER-5253 Temporarily disable netxl in the build;
remote:  Temporarily disable nextxl so that the nightly build succeeds by setting the default in Kconfig to n.
remote:
remote:  refs #SWRGROUTER-5253
remote:
remote:
remote:   drivers/bcm_media_gw/Kconfig | 10 ++++++++++
remote:   1 file changed, 10 insertions(+)
remote:  ;tross@broadcom.com;2016-10-27 17:57:45 -0400;4665b3008c7b9daf8194585971ce40a28056caf9;SWRGROUTER-4667: FPM buffer pool depletion when RG connected to external switch;
remote:  Add dqnet support for STP and enable STP in br0.
remote:
remote:  refs #SWRGROUTER-4667
remote:
remote:
remote:   .../bcm_media_gw/dqnet/dqnet_core.c    |  4 +-
remote:   .../bcm_media_gw/dqnet/dqnet_ethsw.c   |  4 +-
remote:   .../bcm_media_gw/dqnet/dqnet_switch.c  |  4 +-
remote:   drivers/bcm_media_gw/ethsw/ethsw_api.c | 20 ++++++
remote:   .../bcm_media_gw/ethsw/ethsw_core.c    | 45 +++++++++++++-
remote:   .../bcm_media_gw/ethsw/ethsw_priv.h    |  1 -
remote:   6 files changed, 68 insertions(+), 10 deletions(-)
remote:  ;akatre@broadcom.com;2016-10-27 17:57:45 -0400;ea24fa276ebc2dbb72d5944ed26fce1972554c6c;WiFi: "FPM Pool 0: pool full" errors while running concurrent traffic through both wifi radios.;
remote:  Minor coding style changes as per review.
remote:
remote:  refs #SWRGROUTER-4337
remote:
remote:
remote:   drivers/bcm_media_gw/fpm/fpm_core.c | 3 ++-
remote:   drivers/bcm_media_gw/fpm/fpm_priv.h | 2 +-
remote:   2 files changed, 3 insertions(+), 2 deletions(-)
remote:  ;tross@broadcom.com;2016-10-27 17:57:44 -0400;408a1caacebb6c34f56e4a1bba346f8d0be28a0d;SWRGROUTER-4821: Add support for BCM93390WVG design;
remote:  Added 3390B0-WVG, 3390Z0-WVG, and 3390C0-WVG DT files.
remote:
remote:  refs #SWRGROUTER-4821
remote:
remote:
remote:   arch/arm/boot/dts/Makefile | 16 +++++++++++++++-
remote:   1 file changed, 15 insertions(+), 1 deletion(-)
remote:  ;rp888308@broadcom.com;2016-10-27 17:57:44 -0400;9b7e3f2704df8b59f994b9cbbed12e8172f4ea85;SWRGROUTER-4008 Periodic traffic dropouts during bidirectional FTP test;
remote:  Fixing fast_death_timeout unit from second to jiffies
remote:
remote:  refs #SWRGROUTER-4008
remote:
remote:  (cherry picked from commit  1ee8aaec69a21826120e2699ebed4ae1ed69e4f0)
remote:
remote:
remote:   drivers/bcm_media_gw/flowmgr/flowmgr_core.c | 4 ++--
remote:   1 file changed, 2 insertions(+), 2 deletions(-)
remote:  ;tross@broadcom.com;2016-10-27 17:57:43 -0400;02c71b683b5af626602f30e26821fbe964951903;SWRGROUTER-4932: SV board won't boot using images from feat_PowerManagement branch.;
remote:  UniMAC was not being powered on boards with EthWAN support.
remote:
remote:  refs #SWRGROUTER-4932
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-ethwan.dtsi | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;skern@broadcom.com;2016-10-27 17:57:43 -0400;70b62d00dc7067f3033aeffa9b72f52e29884073;SWRGROUTER-4769: Update feat_MAP stream to latest develop;
remote:  Update feat_MAP stream to latest develop
remote:
remote:  refs #SWRGROUTER-4769
remote:
remote:      Squashed commit of the following:
remote:
remote:      commit e11a2479a3590f957328bad7f8e182f39113670f
remote:      Author: Peter Timariu <ptimariu@broadcom.com>
remote:      Date:   Wed May 25 17:00:09 2016 -0700
remote:
remote:          SWRGROUTER-4754: WiFi: buzz merge checkpatch fixes
remote:
remote:          - run checkpatch.pl with --fix-inplace and review
remote:          - fixed ws/tab, indentation, line length
remote:          - auto-fix linux kernel style issues
remote:          - add updated BCM copyright header in Makefile
remote:
remote:          SWRGROUTER-4754
remote:
remote:      commit 61885f434af839372f49072e04568fb7e547b0e8
remote:      Author: Tim Ross <tross@broadcom.com>
remote:      Date:   Wed May 25 17:19:28 2016 -0400
remote:
remote:          SWRGROUTER-4755: Update gpio-brcmstb.c to latest version from STBLinux 3.14-1.14.
remote:
remote:          Update gpio-brcmstb.c to STBLinux version 3.14-1.14.
remote:          Update wps and gpio-irqt drivers to workaround SWLINUX-4071.
remote:          Fix compiler warnings in wps driver.
remote:
remote:          SWRGROUTER-4755
remote:
remote:      commit 4d3a88409f12f66d26945ffae7dd1234e9819f14
remote:      Author: Peter Timariu <ptimariu@broadcom.com>
remote:      Date:   Wed May 25 10:33:57 2016 -0700
remote:
remote:          SWRGROUTER-4752: WiFi: remove BUZZZ dependency on userspace headers
remote:
remote:          - change <typedefs.h> into <linux/types.h>
remote:          - remove dependency on typedefs.h from wl path in Makefile
remote:          - change TRUE/FALSE to standard bool types;
remote:          - switch to uint32_t where uint32 was being used.
remote:
remote:          SWRGROUTER-4752
remote:
remote:      commit 7aaa02c4c7209844c757f3c0d871482d1d773aca
remote:      Merge: 4a52346 dff89ce
remote:      Author: Carlos Soto <csoto@broadcom.com>
remote:      Date:   Wed May 25 09:26:06 2016 -0400
remote:
remote:          Merge tag 'stblinux-3.14-1.14' into develop
remote:
remote:          Merge STB Linux branch stb-3.14 at tag stblinux-3.14-1.14
remote:
remote:          Merge consists of rebased commits so hash IDs are not compatible with
remote:          STB Linux repository
remote:
remote:          Corresponding commit ID on STB Linux repository: 5cd2b551970f2a0
remote:
remote:          SWRGROUTER-4677
remote:
remote:      commit dff89cedfde86a0dd0aff1cd0914e41c33ce07ef
remote:      Author: Alex Chu <alexchu@broadcom.com>
remote:      Date:   Wed May 4 17:15:16 2016 -0700
remote:
remote:          Bump version to stblinux-3.14-1.14
remote:
remote:          Signed-off-by: Alex Chu <alexchu@broadcom.com>
remote:          (cherry picked from commit 5cd2b551970f2a0d3b1d1a9f9f7b36c637e8ad66)
remote:
remote:      commit 8e2a80171f590d0fe29d94f3099f7e845ca4e36c
remote:      Author: Doug Berger <doug.berger@broadcom.com>
remote:      Date:   Fri Apr 29 20:06:13 2016 -0700
remote:
remote:          gpio: brcmstb: assume all instances are wakup sources
remote:
remote:          This commit uses the existance of a second interrupt in any gpio device
remote:          tree node as an indication that the second interrupt should be used by
remote:          all driver instances as the wakeup interrupt.
remote:
remote:          SWLINUX-4046
remote:
remote:          Signed-off-by: Doug Berger <doug.berger@broadcom.com>
remote:          (cherry picked from commit d141f6cb0152562a209006417d995ac3fe2d1ef3)
remote:
remote:      commit bf429cebbe1c0ca902ec0875e7a2d48218691437
remote:      Author: Florian Fainelli <florian.fainelli@broadcom.com>
remote:      Date:   Tue Apr 26 10:37:45 2016 -0700
remote:
remote:          brcmstb_defconfig: Compress kernel with XZ instead of GZIP
remote:
remote:          GZIP is the default kernel compression method, while it is a good tradeoff
remote:          between compression ratio and speed, recent additions to the default kernel
remote:          have made us get too close from the 4MB size, which is the typical "kernel"
remote:          partition provided by BOLT. Until we can afford not caring about size, switch
remote:          to the strongest compression algorithm that is supported: XZ, putting us back
remote:          into the safe zone for a while.
remote:
remote:          SWLINUX-4051
remote:
remote:          Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:          (cherry picked from commit 4c3dd042a8fc83e3157ee0448e7d3c9888772d8f)
remote:
remote:      commit 035d24c4efe7112391c4860a9d1e9202c5ae1990
remote:      Author: Florian Fainelli <florian.fainelli@broadcom.com>
remote:      Date:   Mon Apr 25 16:48:11 2016 -0700
remote:
remote:          Bump version to 3.14-1.14pre
remote:
remote:          Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:          (cherry picked from commit e12b228d40df0c85ecc1b8bf46f95fef1f29b8ed)
remote:
remote:      commit 6f39dde6c4e9286f6fb2163544256acc7aa4fba3
remote:      Author: Florian Fainelli <florian.fainelli@broadcom.com>
remote:      Date:   Thu Apr 21 15:32:35 2016 -0700
remote:
remote:          gpio: brcmstb: Save and restore registers for non wake-up banks
remote:
remote:          GPIO banks which are not capable of acting as wake-up source for the system
remote:          will lose their register contents upon S3 (deep sleep) suspend/resume
remote:          sequences. Make sure that we save a copy of their register contents during
remote:          suspend to restore them during resume.
remote:
remote:          SWLINUX-4046
remote:
remote:          Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:          (cherry picked from commit cfddd0ad3f3595634cb0d2f928d61aab62d78575)
remote:
remote:      Commit b2393948e253235a20014d02cb408b21199717de
remote:      Author: Florian Fainelli <florian.fainelli@broadcom.com>
remote:      Date:   Thu Apr 21 14:58:35 2016 -0700
remote:
remote:          gpio: brcmstb: Fix wake-up on GPIO interrupts
remote:
remote:          The current driver was missing a few key things to allow GPIO interrupts to be
remote:          properly used as wake-up sources as intended:
remote:
remote:          - the IRQCHIP_MASK_ON_SUSPEND should only apply to the non wake-up capable
remote:            controllers
remote:          - we need to know which GPIO interrupt line is requested to be a
remote:            wake-up source, and program its interrupt mask accordingly to make it able to
remote:            wake-up the system
remote:
remote:          In order to accomplish that, we introduce a per-GPIO bank bitmask of active
remote:          sources (wake_active) and program it into GIO_MASK when we are about to
remote:          suspend.
remote:
remote:          SWLINUX-4046
remote:
remote:          Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:          (cherry picked from commit 1e5d87cb14500501e2370584c42c4c0118d52034)
remote:
remote:      commit 5946d41e2e38dd182a63e85f86eddc5bfb9c8034
remote:      Author: Dave Chinner <dchinner@redhat.com>
remote:      Date:   Tue May 6 07:37:31 2014 +1000
remote:
remote:          xfs: remote attribute overwrite causes transaction overrun
remote:
remote:          [Upstream commit 8275cdd0e7ac550dcce2b3ef6d2fb3b808c1ae59]
remote:
remote:          Commit e461fcb ("xfs: remote attribute lookups require the value
remote:          length") passes the remote attribute length in the xfs_da_args
remote:          structure on lookup so that CRC calculations and validity checking
remote:          can be performed correctly by related code. This, unfortunately has
remote:          the side effect of changing the args->valuelen parameter in cases
remote:          where it shouldn't.
remote:
remote:          That is, when we replace a remote attribute, the incoming
remote:          replacement stores the value and length in args->value and
remote:          args->valuelen, but then the lookup which finds the existing remote
remote:          attribute overwrites args->valuelen with the length of the remote
remote:          attribute being replaced. Hence when we go to create the new
remote:          attribute, we create it of the size of the existing remote
remote:          attribute, not the size it is supposed to be. When the new attribute
remote:          is much smaller than the old attribute, this results in a
remote:          transaction overrun and an ASSERT() failure on a debug kernel:
remote:
remote:          XFS: Assertion failed: tp->t_blk_res_used <= tp->t_blk_res, file: fs/xfs/xfs_trans.c, line: 331
remote:
remote:          Fix this by keeping the remote attribute value length separate to
remote:          the attribute value length in the xfs_da_args structure. The enables
remote:          us to pass the length of the remote attribute to be removed without
remote:          overwriting the new attribute's length.
remote:
remote:          Also, ensure that when we save remote block contexts for a later
remote:          rename we zero the original state variables so that we don't confuse
remote:          the state of the attribute to be removes with the state of the new
remote:          attribute that we just added. [Spotted by Brain Foster.]
remote:
remote:          SWLINUX-3896
remote:
remote:          Signed-off-by: Dave Chinner <dchinner@redhat.com>
remote:          Reviewed-by: Brian Foster <bfoster@redhat.com>
remote:          Signed-off-by: Dave Chinner <david@fromorbit.com>
remote:          Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:          (cherry picked from commit 2b7073db4e7c87c7188c9a2296852cdb2c94d32e)
remote:
remote:      commit b99ca3e74a4e309bd0a44ad6fcf327d305f17a25
remote:      Author: Kamal Dasu <kdasu@broadcom.com>
remote:      Date:   Thu Mar 24 17:25:49 2016 -0400
remote:
remote:          spi: brcmstb: Reading status register inconsistency
remote:
remote:          Remove checks for case OPCODE_RDSR and calls to
remote:          bcmspi_emulate_flash_rdsr().
remote:
remote:          SWLINUX-4016
remote:
remote:          Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:          (cherry picked from commit 1617a463beafa16cb98d433d32fea3f26fce256c)
remote:
remote:      commit feca8e2988af108fc0c11838d13d4212296e7049
remote:      Author: Florian Fainelli <florian.fainelli@broadcom.com>
remote:      Date:   Tue Apr 12 10:10:34 2016 -0700
remote:
remote:          soc: brcmstb: nexus: Update IRQ API with additional BSC channels (F, G)
remote:
remote:          While we are at it bump the API version to indicate these additions, and
remote:          re-arrange the enum so all iic channels are ordered.
remote:
remote:          SWLINUX-4030
remote:
remote:          Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:          (cherry picked from commit 0b5bb03055cf992d7d2e1a77148a3aa68f17282d)
remote:
remote:      commit d52343722816e8ae28f6b66ff752e5e9d4ce3f71
remote:      Author: Edwin Chan <edwin.chan@broadcom.com>
remote:      Date:   Fri Mar 4 22:43:44 2016 -0800
remote:
remote:          bcmgenet: add begin/complete ethtool ops
remote:
remote:          Make sure clock is enabled for ethtool ops.
remote:
remote:          SWLINUX-4000
remote:
remote:          Signed-off-by: Edwin Chan <edwin.chan@broadcom.com>
remote:          (cherry picked from commit 1e844268df6cc71885f43550b350e464d8764c34)
remote:
remote:      commit 85ec5782216eb7fe8da5ce2a854d7d3b85435e0d
remote:      Author: Florian Fainelli <florian.fainelli@broadcom.com>
remote:      Date:   Fri Apr 1 15:27:56 2016 -0700
remote:
remote:          Bump version to 3.14-1.13
remote:
remote:          Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:          (cherry picked from commit 594cc49e5069ca97bf7ab2cf54f91ea6860605d4)
remote:
remote:      commit 5fc45747d45be7e8d3dbd51dd4fe9ad020dbf488
remote:      Author: Florian Fainelli <florian.fainelli@broadcom.com>
remote:      Date:   Tue Mar 22 19:31:44 2016 -0700
remote:
remote:          bsp: Select CONFIG_BCM7120_L2_IRQ
remote:
remote:          Now that the Nexus APIs are enabled, we can use the irq-bcm7120-l2 interrupt
remote:          controller which provides L2 interrupts for a different number of peripherals
remote:          and replaces the irq0-stub driver.
remote:
remote:          SWLINUX-3979
remote:
remote:          Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:          (cherry picked from commit 9e60a07595cb4e47578e2f76211e227770ca5f26)
remote:
remote:      commit d6fbffa994ee12a1ae4125ab61a2471b363e1088
remote:      Author: Doug Berger <doug.berger@broadcom.com>
remote:      Date:   Tue Mar 22 10:04:56 2016 -0700
remote:
remote:          BCMGENET: Power up the internal PHY before probing the MII
remote:
remote:          When using the internal PHY it must be powered up when the MII is probed
remote:          or the PHY will not be detected.  Since the PHY is powered up at reset
remote:          this has not been a problem.  However, when the kernel is restarted with
remote:          kexec the PHY will likely be powered down when the kernel starts so it
remote:          will not be detected and the Ethernet link will not be established.
remote:
remote:          This commit explicitly powers up the internal PHY when the GENET driver
remote:          is probed to correct this behavior.
remote:
remote:          SWLINUX-3829
remote:
remote:          Signed-off-by: Doug Berger <doug.berger@broadcom.com>
remote:          (cherry picked from commit bc40c11305e23ebf37b344f35c751b5d8eeb82ea)
remote:
remote:      commit 569397d467e55a7962ebd5c8c449097e363281f4
remote:      Author: Florian Fainelli <florian.fainelli@broadcom.com>
remote:      Date:   Thu Mar 10 12:00:42 2016 -0800
remote:
remote:          defconfig: Turn on CONFIG_GPIO_SYSFS
remote:
remote:          Makes it easier for people testing GPIOs to access them from user space.
remote:
remote:          SWLINUX-3979
remote:
remote:          Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:          (cherry picked from commit 74f5ab05041a09bbd306af614a8d05a30972f9a3)
remote:
remote:      commit 6e322f4ae283d2e95bc50532c3678eaae9b1ac39
remote:      Author: Bo (Andover) Zhang <zhang@broadcom.com>
remote:      Date:   Tue Jan 5 08:43:35 2016 -0500
remote:
remote:          irq: ipi: added support to set/clear IPI handlers.
remote:
remote:          Add support for definining custom IPI handlers, which is needed for supporting
remote:          a Trusted OS scheme.
remote:
remote:          SWLINUX-3917
remote:
remote:          Signed-off-by: Bo (Andover) Zhang <zhang@broadcom.com>
remote:          Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:          (cherry picked from commit a9a32943976fa92ba5958c0de5bbfe0dd4856e4a)
remote:
remote:      commit ddbbffe729fcd1dc6c7e0bd216ad5ac4131575c5
remote:      Author: Al Cooper <al.cooper@broadcom.com>
remote:      Date:   Fri Mar 4 11:29:34 2016 -0500
remote:
remote:          usb: Prevent USB DMA hardware from reading into BMEM
remote:
remote:          A USB hardware bug where the USB DMA engine will prefetch
remote:          beyond the end of the buffer can cause a Memory Range Checker
remote:          error by reading into BMEM. This is being fixed by reserving
remote:          the 4K preceding the start of each BMEM region. NOTE: The
remote:          USB DMA bug may be fixed in the latest chips, the 7271 and
remote:          7268, but this has not been verified.
remote:
remote:          SWLINUX-3996
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit 47772fa1469bd6e3a16024ee8a2f57fbf71abaab)
remote:
remote:      commit 875c9c53ae6d045e727c50b160667e018e9518b1
remote:      Author: Florian Fainelli <florian.fainelli@broadcom.com>
remote:      Date:   Mon Feb 29 15:24:52 2016 -0800
remote:
remote:          drivers: soc: memory: Switch get_pages() to vmalloc()
remote:
remote:          There is no need to be requesting contiguous kernel memory, nor direct mapped
remote:          memory for get_pages(), so switch it to vmalloc() which should lower the
remote:          pressure on high-order allocations.
remote:
remote:          SWLINUX-3991
remote:
remote:          Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:          (cherry picked from commit e8ea32ceeab02515e658f827cd4d06295ddb11e1)
remote:
remote:      commit 265791e11a836fcef5afaeb87fb379c9e2a2caa0
remote:      Author: Yevgeny Pats <yevgeny@perception-point.io>
remote:      Date:   Tue Jan 19 22:09:04 2016 +0000
remote:
remote:          KEYS: Fix keyring ref leak in join_session_keyring()
remote:
remote:          [Upstream commit 23567fd052a9abb6d67fe8e7a9ccdd9800a540f2]
remote:
remote:          This fixes CVE-2016-0728.
remote:
remote:          If a thread is asked to join as a session keyring the keyring that's already
remote:          set as its session, we leak a keyring reference.
remote:
remote:          This can be tested with the following program:
remote:
remote:          	#include <stddef.h>
remote:          	#include <stdio.h>
remote:          	#include <sys/types.h>
remote:          	#include <keyutils.h>
remote:
remote:          	int main(int argc, const char *argv[])
remote:          	{
remote:          		int i = 0;
remote:          		key_serial_t serial;
remote:
remote:          		serial = keyctl(KEYCTL_JOIN_SESSION_KEYRING,
remote:          				"leaked-keyring");
remote:          		if (serial < 0) {
remote:          			perror("keyctl");
remote:          			return -1;
remote:          		}
remote:
remote:          		if (keyctl(KEYCTL_SETPERM, serial,
remote:          			   KEY_POS_ALL | KEY_USR_ALL) < 0) {
remote:          			perror("keyctl");
remote:          			return -1;
remote:          		}
remote:
remote:          		for (i = 0; i < 100; i++) {
remote:          			serial = keyctl(KEYCTL_JOIN_SESSION_KEYRING,
remote:          					"leaked-keyring");
remote:          			if (serial < 0) {
remote:          				perror("keyctl");
remote:          				return -1;
remote:          			}
remote:          		}
remote:
remote:          		return 0;
remote:          	}
remote:
remote:          If, after the program has run, there something like the following line in
remote:          /proc/keys:
remote:
remote:          3f3d898f I--Q---   100 perm 3f3f0000     0     0 keyring   leaked-keyring: empty
remote:
remote:          with a usage count of 100 * the number of times the program has been run,
remote:          then the kernel is malfunctioning.  If leaked-keyring has zero usages or
remote:          has been garbage collected, then the problem is fixed.
remote:
remote:          SWLINUX-3989
remote:
remote:          Reported-by: Yevgeny Pats <yevgeny@perception-point.io>
remote:          Signed-off-by: David Howells <dhowells@redhat.com>
remote:          Acked-by: Don Zickus <dzickus@redhat.com>
remote:          Acked-by: Prarit Bhargava <prarit@redhat.com>
remote:          Acked-by: Jarod Wilson <jarod@redhat.com>
remote:          Signed-off-by: James Morris <james.l.morris@oracle.com>
remote:          Signed-off-by: Danesh Petigara <danesh.petigara@broadcom.com>
remote:          (cherry picked from commit 263bc053a5c03269e1bb36792b2ac4d721af6ef8)
remote:
remote:      commit 1765076cba2d422f93f8aee6a037eb2e742fe865
remote:      Author: Wolfram Sang <wsa@the-dreams.de>
remote:      Date:   Sun Feb 21 15:16:48 2016 +0100
remote:
remote:          i2c: brcmstb: allocate correct amount of memory for regmap
remote:
remote:          We want the size of the struct, not of a pointer to it. To be future
remote:          proof, just dereference the pointer to get the desired type.
remote:
remote:          [patch: https://patchwork.ozlabs.org/patch/585828/]
remote:
remote:          SWLINUX-3986
remote:
remote:          Signed-off-by: Wolfram Sang <wsa@the-dreams.de>
remote:          Acked-by: Gregory Fong <gregory.0xf0@gmail.com>
remote:          Acked-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Reviewed-by: Kamal Dasu <kdasu.kdev@gmail.com>
remote:          (cherry picked from commit 625491a972f08d2e31b03d6de6a5156ab92ddf93)
remote:
remote:      commit 8c17c3070c78c842b816efb3090634052aa407e2
remote:      Author: Florian Fainelli <florian.fainelli@broadcom.com>
remote:      Date:   Fri Feb 26 16:12:45 2016 -0800
remote:
remote:          brcmstb: bmem: correct bmem behavior in brcmstb_get_page()
remote:
remote:          When generating an address for bmem_find_region() from a pfn value we
remote:          must promote the unsigned long pfn value to the phy_addr_t type expected
remote:          by the bmem_find_region() function before performing the left shift.
remote:
remote:          Otherwise, there is a risk that the PAGE_SHIFT to the left will cause
remote:          meaningful bits of the pfn value to overflow the unsigned long data
remote:          type causing the address to unintentionally wrap.  This in turn can
remote:          cause a highmem address above 4GB to wrap back into the 4GB range and
remote:          be mistaken for being within a BMEM/BRCMSTB_CMA region.
remote:
remote:          SWLINUX-3980
remote:
remote:          Signed-off-by: Doug Berger <doug.berger@broadcom.com>
remote:          Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:          (cherry picked from commit 41daa14b328fdc490847918663545c11fa43b8bc)
remote:
remote:      commit bc5db38900e92e046db38c547e6046d715516e3a
remote:      Author: Florian Fainelli <florian.fainelli@broadcom.com>
remote:      Date:   Fri Feb 26 16:02:49 2016 -0800
remote:
remote:          defconfig: Turn on CONFIG_BRCMSTB_NEXUS_API
remote:
remote:          Turn on CONFIG_BRCMSTB_NEXUS_API=y by default, allowing Nexus to use the
remote:          different GPIO, virtual L1 and other APIs defined by the Linux kernel.
remote:
remote:          SWLINUX-3979
remote:
remote:          Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:          (cherry picked from commit f16217635322a8ca071d0d67c1c3c604badadfe6)
remote:
remote:      commit c44f72ddbe4c82da5f4192eca3aef56a1526d9ca
remote:      Author: Justin Chen <justin.chen@broadcom.com>
remote:      Date:   Fri Feb 12 11:13:19 2016 -0800
remote:
remote:          bsp: add SoC device with family id, product id and revision.
remote:
remote:          Added SoC driver at drivers/soc/brcmstb/common.c. Added two
remote:          helper functions for getting family/product ID located at
remote:          include/linux/soc/brcmstb/brcmstb.h.
remote:
remote:          Assigned the values of soc_dev_attribute accordingly:
remote:          family = chip family id
remote:          soc_id = product id
remote:          revision = product revision
remote:
remote:          SWLINUX-3946
remote:
remote:          Signed-off-by: Justin Chen <justin.chen@broadcom.com>
remote:          (cherry picked from commit 4fdfcd2a0a5c1c7b6f5d64e179c9705ec814e816)
remote:
remote:      commit cde6f9b12aa48d9e49e660613d4d22954f0f623b
remote:      Author: Jim Quinlan <james.quinlan@broadcom.com>
remote:      Date:   Tue Feb 9 11:02:45 2016 -0500
remote:
remote:          pci: confirm that SSC is on if it is indeed on
remote:
remote:          Before this commit, nothing would be printed if we successfully
remote:          entered SSC (spread spectrum clocking) mode.  Now, when we
remote:          successfully enter SSC, the link status line will have '(SSC)'
remote:          appended to it.
remote:
remote:          SWLINUX-3954
remote:
remote:          Signed-off-by: Jim Quinlan <james.quinlan@broadcom.com>
remote:          (cherry picked from commit d3f8ce55a6d7339ba5586d51a39303ce7891918e)
remote:
remote:      commit a27efa98933167a672efde7f759146d99ef7a691
remote:      Author: Jim Quinlan <james.quinlan@broadcom.com>
remote:      Date:   Tue Feb 9 10:49:23 2016 -0500
remote:
remote:          pci: enable PCIe advanced error reporting
remote:
remote:          SWLINUX-3953
remote:
remote:          Signed-off-by: Jim Quinlan <james.quinlan@broadcom.com>
remote:          (cherry picked from commit f684909500fe307d953974eac5fee999e2ec6f82)
remote:
remote:      commit 8dd49b84a5d737cda08604dcffb52f04d1bc4037
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Fri Jan 15 16:11:27 2016 -0500
remote:
remote:          pci: add MSI functionality
remote:
remote:          This commit adds MSI functionality to the BrcmSTB PCIe hardware.  The
remote:          code is influenced by the MSI implementation as seen in pcie-rcar.c.
remote:
remote:          This MSI implementation is complicated by two factors:
remote:
remote:          1. we have multiple root controllers (RC), each with their own MSI
remote:
remote:          2. we have some chips implemented where the PCIe interrupt is shared
remote:          with the MSI interrupt.  In addition, the MSI interrupt bits do
remote:          not have their own register; there are 8 bits starting at position
remote:          24 in the L2 interrupt register.
remote:
remote:          SWLINUX-3571
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit db87c836e1db2082783fd3f2d6ac00a747c040bb)
remote:
remote:      commit 26ea36f3da53f63ea642ac45ba027e701242b1cc
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Fri Jan 15 16:08:12 2016 -0500
remote:
remote:          pci: fix L2 interrupt initialization
remote:
remote:          The interrupt initialization code has been funky since day 0.
remote:          It doesn't really matter because the current code doesn't
remote:          handle interrupts.  Change the code to be more sensible.
remote:
remote:          SWLINUX-3571
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit e2cd4a303deb656b7808e64ccec7b0b741dcd986)
remote:
remote:      commit b3771a905d5593993e79716dcc72f2bbf0306efe
remote:      Author: Florian Fainelli <florian.fainelli@broadcom.com>
remote:      Date:   Mon Feb 8 12:57:58 2016 -0800
remote:
remote:          of: fdt: Export initial_boot_params
remote:
remote:          Some proprietary modules might be willing to get access to the flattened Device
remote:          Tree blob and extract information they care about, make that possible, but
remote:          surround the change with a CONFIG_BRCMSTB ifdef to make it obvious this is
remote:          specific to our kernel.
remote:
remote:          SWLINUX-3951
remote:
remote:          Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:          (cherry picked from commit 7987e11d9bb34cdb230c5f132a543541a2b25f10)
remote:
remote:      commit 134d98387ae969942f93d09a94cbc00e22168ab2
remote:      Author: Doug Berger <douglasb@broadcom.com>
remote:      Date:   Tue Feb 2 15:23:38 2016 -0800
remote:
remote:          soc: brcmstb: nexus: add brcmstb_gpio_remove() to API
remote:
remote:          The function brcmstb_gpio_remove() was added to the internal Nexus API to
remote:          allow the GPIO reservations to be released by Nexus.  This allows a Nexus
remote:          module to be removed without continuing to hold GPIO resources.
remote:
remote:          SWLINUX-3922
remote:
remote:          Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:          (cherry picked from commit da9cb2747c30f61ce59e30d13b9469586cb823d0)
remote:
remote:      commit 4ad474550a92a2f6869d92d96acfeec6956c8180
remote:      Author: Doug Berger <douglasb@broadcom.com>
remote:      Date:   Wed Jan 20 16:21:13 2016 -0800
remote:
remote:          soc: brcmstb: nexus: brcmstb_update32() access is properly synchronized
remote:
remote:          The implementation of the brcmstb_update32() function of the Nexus API has
remote:          been revised to use the same basic memory-mapped GPIO controllers as the
remote:          gpio-brcmstb driver.
remote:
remote:          The function is now merely a shell to preserve the API that calls a new
remote:          function (brcmstb_gpio_update32) located in the implementation of the Nexus
remote:          GPIO API that can use the same locks and accessors used by the gpio-brcmstb
remote:          driver.
remote:
remote:          SWLINUX-3922
remote:
remote:          Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:          (cherry picked from commit db7c2b0f2fc778ccf00053f3bf7a1c6cc7fd117a)
remote:
remote:      commit 6484a6a041487ed8b31809682f78c3e007395e9c
remote:      Author: Doug Berger <douglasb@broadcom.com>
remote:      Date:   Wed Jan 20 14:27:46 2016 -0800
remote:
remote:          soc: brcmstb: nexus: introduce GPIO_PER_BANK define
remote:
remote:          The symbol GIO_BANK_SIZE defines the byte-aligned address space occupied by
remote:          the registers of one bank within a GIO block.
remote:
remote:          The new symbol GPIO_PER_BANK defines the number of GPIO pins controlled by
remote:          a bank of GIO registers.
remote:
remote:          They both happen to equal 32 at the moment, but that should not be relied
remote:          upon, so they should not be used interchangeably like they were prior to
remote:          this commit.
remote:
remote:          SWLINUX-3922
remote:
remote:          Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:          (cherry picked from commit b9769d8b40a9ff8a8dd026de003b9bace64b54cc)
remote:
remote:      commit d0a7a70219020c06d964e3d836e0c6b0d1fb7955
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Dec 18 14:33:37 2015 -0800
remote:
remote:          soc: brcmstb: Report DDR controller frequency through sysfs
remote:
remote:          Expose a "frequency" sysfs atrribute which returns the DDR controller frequency
remote:          it is operating at. If the attribute is not found, 0 is reported, which should
remote:          be treated as an invalid frequency anyway.
remote:
remote:          SWLINUX-3637
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 1129a940601c23739d2f4dfbe6966b06e944b361)
remote:
remote:      commit 7bfa3ca649a9c14cfe6eb3d5b6c9769509e48dc8
remote:      Author: Doug Berger <douglasb@broadcom.com>
remote:      Date:   Tue Jan 26 15:50:08 2016 -0800
remote:
remote:          gpio: brcmstb: enable masking of interrupts when changing type
remote:
remote:          Mask the GPIO interrupt while its type is being changed, just in case
remote:          it can prevent a spurious interrupt.
remote:
remote:          SWLINUX-3931
remote:
remote:          Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:          (cherry picked from commit b97e54657d93b4329f089774c618e2a0c3f9ed7f)
remote:
remote:      commit b66bedd51d0883c0c6f078e380a1018557ddb268
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jan 25 14:38:22 2016 -0800
remote:
remote:          bsp: Remove 7145B0 BCHP headers
remote:
remote:          SWLINUX-3935
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 82adf567a749f811db5bc4f25d4b9e179ce05e7c)
remote:
remote:      commit 29e2ce40e86fb6447d9094802c4c16b85a802809
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jan 25 14:37:15 2016 -0800
remote:
remote:          bsp: Remove support for 7145B0
remote:
remote:          SWLINUX-3935
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 17c5a0d8e0c02686bfa05bca8badb95dc7f5f5b5)
remote:
remote:      commit f1f233784ca27af29ed0774a169e719b313c1519
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jan 25 14:36:50 2016 -0800
remote:
remote:          drivers: Remove support for 7145B0
remote:
remote:          SWLINUX-3935
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 761d5bb4e05d4afa0e897b5e587bec01813864ba)
remote:
remote:      commit 0798c502f23d9d08400eb17fe284d07ccbb0b93b
remote:      Author: Doug Berger <douglasb@broadcom.com>
remote:      Date:   Thu Jan 21 11:02:13 2016 -0800
remote:
remote:          gpio: brcmstb: release the bgc lock when invoking irq handlers
remote:
remote:          The basic memory-mapped GPIO controller lock must be released before calling
remote:          the registered GPIO interrupt handlers to allow the interrupt handlers to
remote:          access the hardware.  Otherwise, the hardware accesses will deadlock when
remote:          they attempt to grab the lock.
remote:
remote:          SWLINUX-3931
remote:
remote:          Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:          (cherry picked from commit db8b1c7b15b5bcf6b1be2421bdf561474d0c9887)
remote:
remote:      commit 16b70de17ef162fdacb244dd72e9c30d615d5a79
remote:      Author: Doug Berger <douglasb@broadcom.com>
remote:      Date:   Tue Jan 19 09:46:26 2016 -0800
remote:
remote:          gpio: brcmstb: correct the configuration of level interrupts
remote:
remote:          This commit corrects a bug when configuring the GPIO hardware for
remote:          IRQ_TYPE_LEVEL_LOW and IRQ_TYPE_LEVEL_HIGH interrupt types. The
remote:          hardware is now correctly configured to support those types.
remote:
remote:          SWLINUX-3934
remote:
remote:          Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:          (cherry picked from commit d56e81de691f7fd92b74a86fe38cc15ed0bba8ec)
remote:
remote:      commit 8b6a4c579f6f9036b4ff64951014498201972774
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Jan 15 17:24:31 2016 -0800
remote:
remote:          Bump version to 3.14-1.12pre
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 939a408dd39497fa79f52066b9576071bd6485cf)
remote:
remote:      commit 49fae7f88389c2f5c246fb259ccb991d4557a0fc
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Wed Jan 6 11:39:34 2016 -0500
remote:
remote:          usb: USB 3.0 device as rootfs fails to recover after S2 or S3
remote:
remote:          On systems using IPP (Invert Port Power), mounted USB 3.0
remote:          devices will get re-enumerated on S3 resume and the mounted
remote:          filesystem will no longer be accessible. This is happening
remote:          because a system using IPP will power up with USB power
remote:          enabled to the USB devices until the IPP can be set by software.
remote:          This is enough time for 3.0 devices to timeout on the 3.0
remote:          connect attempt (because the 3.0 PHY has not yet been enabled)
remote:          and fall back to a 2.0 device. This shouldn't be a problem
remote:          because the 3.0 devices in 2.0 mode would normally be power
remote:          cycled after the software sets IPP correctly, but the USB driver
remote:          turns on device power so quickly after we set IPP that the device
remote:          doesn't see the power cycle (on a 7445SV board it takes about
remote:          8ms for power to drop to zero). This change adds a 50ms delay
remote:          when IPP is being set. The delay is only added if IPP was not
remote:          already set to avoid delays if BOLT already set IPP.
remote:
remote:          SWLINUX-3919
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit b08af4b665e38bdcbd2f9511eaa5a107bf619030)
remote:
remote:      commit 351905d498f13ff7abd63833c3aae5b57426f797
remote:      Author: Doug Berger <douglasb@broadcom.com>
remote:      Date:   Wed Jan 13 12:47:32 2016 -0800
remote:
remote:          gpio: brcmstb: define irq_disable service
remote:
remote:          The gpiolib irqchip helpers will use irq_unmask if irq_enable is not
remote:          defined.  However, when using the handle_simple_irq() generic handler
remote:          the irq_disable service will not use irq_mask to disable the interrupt.
remote:
remote:          When using the handle_simple_irq() generic handler it should be enough
remote:          to define irq_enable and irq_disable, but since we are using the flag
remote:          IRQCHIP_MASK_ON_SUSPEND we need to define the irq_mask as well.
remote:
remote:          This commit just defines irq_disabled the same as irq_mask so that
remote:          calls to disable_irq for gpio interrupts will mask the interrupt.
remote:
remote:          SWLINUX-3931
remote:
remote:          Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:          (cherry picked from commit 56ce13556279cdbb64a7ad8760a60871551bf01e)
remote:
remote:      commit 9ac9421d274e1aab21e2583d4ff52cc8774acbd4
remote:      Author: Doug Berger <douglasb@broadcom.com>
remote:      Date:   Wed Jan 13 12:24:41 2016 -0800
remote:
remote:          gpio: brcmstb: only clear the status bits of serviced gpio
remote:
remote:          Reading and writing the gpio bank status register each time a pending
remote:          interrupt bit is serviced could cause new pending bits to be cleared
remote:          without servicing the associated interrupts.
remote:
remote:          SWLINUX-3931
remote:
remote:          Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:          (cherry picked from commit 5fa8656f3e0673c97052d6be82ee27b618017e07)
remote:
remote:      commit 6e13699b1557723b62dbe36ede599671c3b6b174
remote:      Author: Kamal Dasu <kdasu.kdev@gmail.com>
remote:      Date:   Wed Dec 16 15:49:09 2015 -0500
remote:
remote:          i2c: brcmstb: Adding support for CM and DSL SoCs
remote:
remote:          [upstream commit e2e5a2c618373b55bbb2eca2a6e535dddd04412c]
remote:
remote:          Broadcoms DSL, CM (cable modem)and STB I2C core implementation have
remote:          8 data in/out registers that can transfer 8 bytes or 32 bytes max.
remote:          Cable and DSL "Peripheral" i2c cores use single byte per data
remote:          register and the STB can use 4 byte per data register transfer.
remote:          Adding support to take care of this difference. Accordingly added
remote:          the compatible string for SoCs using the "Peripheral" I2C block.
remote:
remote:          Signed-off-by: Kamal Dasu <kdasu.kdev@gmail.com>
remote:          Reviewed-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Signed-off-by: Wolfram Sang <wsa@the-dreams.de>
remote:          (cherry picked from commit b32cfef3df73449725a4406c3fb84c81bbcc4889)
remote:
remote:      commit cae0660dc6938a01b7bd42b4db515cb82ebad53c
remote:      Author: Kamal Dasu <kdasu@broadcom.com>
remote:      Date:   Mon Dec 7 16:01:25 2015 -0500
remote:
remote:          i2c: brcmstb: Merge code with upstream commit
remote:
remote:          Merging upstream code changes to the current driver.
remote:          [upstream commit: b96bcbdd i2c: brcmstb: Add Broadcom settop SoC i2c
remote:          controller driver]
remote:
remote:          SWLINUX-3897
remote:
remote:          Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:          (cherry picked from commit 5c9733b6fe579b0df515b50dd63dd3d888ad2c63)
remote:
remote:      commit c64a9ad3551c23a706313c7ef9cd52c2fc15a25d
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Dec 28 11:15:07 2015 -0800
remote:
remote:          defconfig: Turn on CONFIG_IP_MROUTE
remote:
remote:          Turn on Linux's multicast IP router feature and support for PIM v1 and
remote:          v2, useful for building wireless routers.
remote:
remote:          SWLINUX-3885
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 009ed9fa7ecb22e65b66d1721e3d9f664987dd1c)
remote:
remote:      commit 949081c4592c813ba6e0d3dde467ded1711aef75
remote:      Author: Danesh Petigara <dpetigara@broadcom.com>
remote:      Date:   Tue Dec 15 10:11:14 2015 -0800
remote:
remote:          soc: brcmstb: preserve pstore buffer on panic
remote:
remote:          Writes a magic value to an AON sram register on panic
remote:          to preserve the pstore/ramoops buffer on reboot.
remote:
remote:          SWLINUX-3908
remote:
remote:          Signed-off-by: Danesh Petigara <dpetigara@broadcom.com>
remote:          (cherry picked from commit ee0841dc812a7cc7385792398f2c48849293d367)
remote:
remote:      commit 194911d971d40666a32d02b3dc7970ff4855b15e
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Mon Dec 7 17:45:47 2015 -0500
remote:
remote:          pci: fix how the DT property "interrupt-map" is handled
remote:
remote:          Currently, Bolt's DT has a PCIe property called "interrupt-map"
remote:          which is malformed.  Coming with SWBOLT-1718, the node will
remote:          be properly formatted.  This commit handles both cases; the
remote:          old "legacy" format and the new proper format.
remote:
remote:          The 4.1 branch PCI host driver will only handle the new format.
remote:
remote:          SWLINUX-3836
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit d653c3f04485480b21581fd9be59ea04b9c5d6d4)
remote:
remote:      commit 96a21ba74fbf82847d5a4aa31ec9ad267817c1a6
remote:      Author: Ben Zhang <benzh@chromium.org>
remote:      Date:   Thu Oct 30 17:14:21 2014 -0700
remote:
remote:          pstore/ram: Strip ramoops header for correct decompression
remote:
remote:          [Upstream commit a28726b4fb624f81d637a8afb9ea12fc16500f61]
remote:
remote:          pstore compression/decompression was added during 3.12.
remote:          The ramoops driver prepends a "====timestamp.timestamp-C|D\n"
remote:          header to the compressed record before handing it over to pstore
remote:          driver which doesn't know about the header. In pstore_decompress(),
remote:          the pstore driver reads the first "==" as a zlib header, so the
remote:          decompression always fails. For example, this causes the driver
remote:          to write /dev/pstore/dmesg-ramoops-0.enc.z instead of
remote:          /dev/pstore/dmesg-ramoops-0.
remote:
remote:          This patch makes the ramoops driver remove the header before
remote:          pstore decompression.
remote:
remote:          SWLINUX-3904
remote:
remote:          Signed-off-by: Ben Zhang <benzh@chromium.org>
remote:          Acked-by: Kees Cook <keescook@chromium.org>
remote:          Signed-off-by: Tony Luck <tony.luck@intel.com>
remote:          (cherry picked from commit e5ae22ff6886b50a2879085c6b7db18a92b8fed2)
remote:
remote:      commit 0a187f448ee0dbe208a06481cbd5fcd2b35b6f4d
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Fri Dec 11 20:00:39 2015 -0500
remote:
remote:          bsp: remove unneeded bchp files
remote:
remote:          Changes made by the script:
remote:
remote:          	/projects/stbgit/scripts/bin/linux_unneed_bchp.pl
remote:
remote:          SWLINUX-3862
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit 0c639823ca7a0f749bb35189dd9a434c575ef181)
remote:
remote:      commit ee629986feb56d674f259a611b33b1ea7799d2fa
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Dec 11 17:15:39 2015 -0800
remote:
remote:          Bump version to 3.14-1.11pre
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit f1e24d8d11a4e0d36478ef9b7bf818250d02a14b)
remote:
remote:      commit 1980669c65d2ee265eb5c1ec0265b29a22cd8f6c
remote:      Author: Doug Berger <douglasb@broadcom.com>
remote:      Date:   Thu Dec 10 18:22:56 2015 -0800
remote:
remote:          thermal: brcmstb_thermal: restrict negative temperatures
remote:
remote:          The thermal API in v3.14 of the kernel uses unsigned long values to
remote:          represent temperatures so negative values can not be used.
remote:
remote:          This commit restricts the temperature values reported by the get_temp()
remote:          function of the brcmstb_thermal driver so that negative values are
remote:          reported as 0.
remote:
remote:          SWLINUX-3890
remote:
remote:          Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:          (cherry picked from commit c913fa3535e20921143cc36f42dcf43561377512)
remote:
remote:      commit af7e67df454a9433808026d01be067728596be37
remote:      Author: Doug Berger <douglasb@broadcom.com>
remote:      Date:   Thu Dec 10 17:17:32 2015 -0800
remote:
remote:          thermal: brcmstb_thermal: represent temperatures with int data type
remote:
remote:          The brcmstb_thermal driver was not properly handling computations of
remote:          negative temperatures.  This was partly attributable to inconsistency
remote:          in the v3.14 kernel thermal API which largely defines temperatures to
remote:          be unsigned.
remote:
remote:          Later versions of the kernel have cleaned up the thermal API to always
remote:          represent temperatures with type int.  This commit changes the internal
remote:          representations of temperatures within the driver to use type int and
remote:          corrects the bounds checking and computations accordingly.
remote:
remote:          SWLINUX-3890
remote:
remote:          Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:          (cherry picked from commit 5cedf72ebced61a4be279b916a50565db831192d)
remote:
remote:      commit 6d64a0ddca4601446c3008f04912a6d0d6052ebc
remote:      Author: Markus Mayer <mmayer@broadcom.com>
remote:      Date:   Mon Nov 23 15:23:04 2015 -0800
remote:
remote:          soc: brcmstb: wktmr: Turn on CONFIG_RTC_CLASS
remote:
remote:          Now that we have RTC support in the wakeup-timer, we need to enable the
remote:          corresponding driver in the defconfig.
remote:
remote:          SWLINUX-3802
remote:
remote:          Signed-off-by: Markus Mayer <mmayer@broadcom.com>
remote:          (cherry picked from commit 6e93aa27fc6628db17ae67c077045e7bfaae6570)
remote:
remote:      commit d806683e51223a2d7d8df663b7e793c834a1944d
remote:      Author: Markus Mayer <mmayer@broadcom.com>
remote:      Date:   Mon Nov 23 10:22:39 2015 -0800
remote:
remote:          soc: brcmstb: wktmr: add RTC support
remote:
remote:          We add basic RTC support to the wake-timer driver.
remote:
remote:          SWLINUX-3802
remote:
remote:          Signed-off-by: Markus Mayer <mmayer@broadcom.com>
remote:          (cherry picked from commit 266befd9a4cfb0946996028d296a4c723bdcfd7c)
remote:
remote:      commit 83665c998e86947feeec96b6613090e5161104f4
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Wed Dec 2 18:23:09 2015 -0500
remote:
remote:          usb: Add connected retry on resume for non SS devices
remote:
remote:          Currently usb_port_resume waits for up to 2 seconds for CONNECT
remote:          status for SS devices only. This change will do the same thing for
remote:          non-SS devices even though the reason is a little different. This
remote:          will fix an issue where VBUS is turned off during system wide
remote:          "suspend to ram" and some 2.0 devices take greater than the current
remote:          max of 100ms to show connected after VBUS is enabled. This is most
remote:          commonly seen on hard drive based devices and USB3.0 devices plugged
remote:          into a 2.0 only port. This patch has been accepted upstream.
remote:
remote:          SWLINUX-3888
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit 51bc1a1637c1d9850cf4240e09d707e901c8deea)
remote:
remote:      commit 82cbe3516a2ff1ad2f38fdfc5e593bf4154a7e62
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue Dec 1 14:04:07 2015 -0800
remote:
remote:          sata_brcmstb: Add a module license to sata_brcmstb_phy.c
remote:
remote:          Fixes missing license issues seen while loading the module:
remote:
remote:          [    3.420411] sata_brcmstb_phy: module license 'unspecified' taints kernel.
remote:
remote:          SWLINUX-3870
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit c6651008bee5dfe3d5a6781eb0f29af802ff2149)
remote:
remote:      commit fc7fea67b1e83b09e65a7879f38fa96760940781
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue Dec 1 14:02:15 2015 -0800
remote:
remote:          sata_brcmstb: Remove speed limiting code.
remote:
remote:          This code is just parsing Device Tree properties, and locally storing a value,
remote:          we never use, nor program properly.
remote:
remote:          The proper way to limit the SATA speed is to use libata.force=<speed>G as
remote:          documented in Documentation/kernel-parameters.txt.
remote:
remote:          SWLINUX-3870
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit d19d2e9391f54f9668e86c557416a747bf301b43)
remote:
remote:      commit e07b585a4bfe62cd3c49a82817fc5a10807f6697
remote:      Author: Steve Rae <srae@broadcom.com>
remote:      Date:   Mon Nov 16 12:12:57 2015 -0800
remote:
remote:          packaging: add spec file
remote:
remote:          Add spec file for use with RPM based distributions.
remote:
remote:          SWSTB-322
remote:
remote:          Signed-off-by: Steve Rae <srae@broadcom.com>
remote:          (cherry picked from commit 29fba957060d322f213c8ef0737ef5f27a6dbd15)
remote:
remote:      commit dbd948dbc379e4894caf1fa245e406a13308cac0
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue Dec 1 11:37:36 2015 -0800
remote:
remote:          mmc: Fix sdhci_fix_caps() return code for 7445D0
remote:
remote:          The function returns void, not an integer, fix that.
remote:
remote:          SWLINUX-3834
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit bff68ce291b71b95ef6cbb27e4907e970d9cc390)
remote:
remote:      commit bbc0ebee08537f1aade2e2deb4fa8da3581a6063
remote:      Author: Kamal Dasu <kdasu@broadcom.com>
remote:      Date:   Thu Nov 19 15:51:31 2015 -0500
remote:
remote:          mtd: brcmstb_nand:: Detect sticky ucorrectable ECC errors on DMA reads
remote:
remote:          This change provides a workaround for [CRNAND-32] where nand controller
remote:          could have a possible sticky error after a PIO and a following DMA read. As
remote:          part of [CRNAND-57] we could do a PIO to verify erased page uncorr ecc
remote:          erorr to eliminate false positives.  But this has a side effect of running into
remote:          CRNAND-32. The fix retries a DMA if we see a uncorr_ecc after a DMA read
remote:          transactiion to overcome CRNAND-32 first and then deal with CRNAND-57 as usual.
remote:
remote:          SWLINUX-3675
remote:
remote:          Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:          (cherry picked from commit de6cdddaa3bdc24cbd47734e02f31e76953d8184)
remote:
remote:      commit a2aa3a147cc89e9e7b4d70afea3adc3e665da4ee
remote:      Author: Danesh Petigara <dpetigara@broadcom.com>
remote:      Date:   Fri Oct 23 23:54:53 2015 -0700
remote:
remote:          ARM: mmu: fix default vmalloc size for < 1GiB
remote:
remote:          The current default vmalloc size has been bumped up to
remote:          744MiB for platforms with >= 1 GiB (and if more than one
remote:          meminfo bank exists). As the memory banks > 760MiB (the
remote:          maximum lowmem size for a 3:1 kernel split) are split at
remote:          the lowmem/highmem boundary, the automatic bmem reservation
remote:          scheme breaks when 760MiB < memory size < 1GiB.
remote:
remote:          For example, if the bank size is 768MiB, it's split into
remote:          a 760MiB lowmem and 8MiB highmem bank. The bmem reservation
remote:          algorithm keeps all of the 760MiB for the system and only
remote:          ends up reserving 8MiB for bmem.
remote:
remote:          This patch sets the default vmalloc size for memory banks
remote:          > 760MiB to 744MiB. The change ensures the bmem automatic
remote:          reservation algorithm works correctly for 760MiB < memory
remote:          size < 1GiB.
remote:
remote:          SWLINUX-3853
remote:
remote:          Signed-off-by: Danesh Petigara <dpetigara@broadcom.com>
remote:          (cherry picked from commit 174cc928d2fa4c99b6a822cd5d5d9486f2dae892)
remote:
remote:      commit df01bd0a897d0f31dec77cc79af92fd67cd1f06e
remote:      Author: Danesh Petigara <dpetigara@broadcom.com>
remote:      Date:   Fri Oct 23 15:54:24 2015 -0700
remote:
remote:          brcmstb: memory: fix default bmem reservation
remote:
remote:          On single memory bank platforms, 20% of the available
remote:          memory is set aside for the system and the rest is reserved
remote:          as bmem. This scheme doesn't work well for very low memory
remote:          profiles (e.g. 256MiB), resulting in OOM conditions.
remote:
remote:          This patches adds the following changes to single memory
remote:          bank configurations:
remote:
remote:          - For bank sizes less than or equal to 128MiB, all memory
remote:          is allocated to the system and bmem reservation is skipped.
remote:
remote:          - For bank sizes larger than 128MiB,
remote:          reserved_bmem = 80% x (bank_size - 128MiB).
remote:
remote:          SWLINUX-3853
remote:
remote:          Signed-off-by: Danesh Petigara <dpetigara@broadcom.com>
remote:          (cherry picked from commit 13f37812e8ae00e0c07e5675ad7c1cf3598752ad)
remote:
remote:      commit cc208b2b21d00c650b3ae2dcd14641597e897cb0
remote:      Author: Kamal Dasu <kdasu@broadcom.com>
remote:      Date:   Mon Oct 19 16:58:19 2015 -0400
remote:
remote:          spi: brcmstb: Fix S3 boot for both read and write
remote:
remote:          S3 warm boot was broken for all 4-byte addressing parts
remote:          for reads as well as write access. Added proper mspi
remote:          reconfiguration on S3. Fix has been tested to work in both
remote:          Flex mode access and override access for reads. Also tested
remote:          writes to upper addresses using rw filesystem.
remote:
remote:          SWLINUX-3755
remote:
remote:          Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:          (cherry picked from commit 16e3b5c136fdf2908b6dfcc9ad380d70c1bebbf8)
remote:
remote:      commit 67fec65cfc39ada84676b0eac2ab70efecf94f16
remote:      Author: Kamal Dasu <kdasu@broadcom.com>
remote:      Date:   Mon Oct 19 16:53:00 2015 -0400
remote:
remote:          spi: brcmstb: spin_lock msg list when writing to hw
remote:
remote:          Add Program Page opcode dynamic debugging and also fixed
remote:          locking of list manipulatoin during the write operation.
remote:
remote:          SWLINUX-3755
remote:
remote:          Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:          (cherry picked from commit 58e4ad71b7271c1807d51ada2fdd76b7a6d17afa)
remote:
remote:      commit 468a10a0fa5461c70119d9065355bd215ec997e0
remote:      Author: Kamal Dasu <kdasu@broadcom.com>
remote:      Date:   Mon Oct 19 16:40:28 2015 -0400
remote:
remote:          spi: brcmstb: Add support for 4-byte address writes
remote:
remote:          Kernel needs support to enable/disable 4-byte addressing
remote:          by sending opcode EN4B/EX4B to mspi. Currently the
remote:          writes work for 4-byte address parts only when boot loader
remote:          sets it. However on S3 boot we need to resend the mspi
remote:          commands.
remote:
remote:          SWLINUX-3755
remote:
remote:          Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:          (cherry picked from commit 5811d1abab9735f82c03e08852d298b1b571ddbe)
remote:
remote:      commit 56e444fada0f8bbfefbb31b9d20e0275ffb0859b
remote:      Author: Kamal Dasu <kdasu@broadcom.com>
remote:      Date:   Mon Oct 19 17:34:33 2015 -0400
remote:
remote:          spi: brcmstb: Fix 4-byte reads in non flex mode
remote:
remote:          When flex mode is disabled driver should still be able to read
remote:          with 4-byte addressing. Fix sets the upper address byte to be
remote:          sent to the mspi in this mode via the tx buffer.
remote:
remote:          SWLINUX-3755
remote:
remote:          Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:          (cherry picked from commit 15c41ad6dc5dbaa6495481998fe761d511f290ef)
remote:
remote:      commit 6dc0837bf5817045be7b0979178898b01a7702af
remote:      Author: Kamal Dasu <kdasu@broadcom.com>
remote:      Date:   Mon Oct 19 16:27:29 2015 -0400
remote:
remote:          spi: brcmstb: Fix override control mode read access
remote:
remote:          Added support for reads in override control mode. We
remote:          set this mode only is the override register is set.
remote:          The use of override registers shall be driven by
remote:          boot loader configuration of the override control
remote:          register. Flex mode read is disabled in this mode.
remote:
remote:          SWLINUX-3755
remote:
remote:          Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:          (cherry picked from commit 7c26092d5591051b133bf9d93b9c0cd5b2ee63cb)
remote:
remote:      commit b2b0938124951ea73809ac9b0247242285c306c8
remote:      Author: Kamal Dasu <kdasu@broadcom.com>
remote:      Date:   Mon Oct 19 15:39:22 2015 -0400
remote:
remote:          spi: brcmstb: Fix flex mode 4byte addressing read commands
remote:
remote:          Use appropriate 4-byte address read commands. These commands
remote:          should work for all spi-nor vendors. Removed spansion specific
remote:          checks. Fixed for all 1-bit, 2-bit, 4-bit data lane access when
remote:          used with spi-nor parts that need 4-byte addressing.
remote:
remote:          SWLINUX-3755
remote:
remote:          Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:          (cherry picked from commit 84508d32249dff34fb337e84378ba5e3e5437900)
remote:
remote:      commit 6876b61c4461328d35f4b140d9e281a9733e27cd
remote:      Author: Kamal Dasu <kdasu@broadcom.com>
remote:      Date:   Mon Oct 19 15:25:03 2015 -0400
remote:
remote:          spi: brcmstb: Use dynamic debugging in the driver
remote:
remote:          Change the DBG macro to use pr_debug to enable dynamic
remote:          debugging for better runtime debugging.
remote:
remote:          SWLINUX-3755
remote:
remote:          Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:          (cherry picked from commit e7012e7c4edfa79638dde79bc764297525f80c70)
remote:
remote:      commit 7bdb2148e9aafb4fd7c75a490c5d3628992f4f9e
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Mon Oct 19 14:53:47 2015 -0400
remote:
remote:          usb: Change the way usb-brcm driver is disable for new USB style DT
remote:
remote:          The new style USB Device Tree uses a usb-phy instead of a
remote:          wrapper (the usb-brcm driver) and this changes the way the
remote:          usb-brcm driver is disabled when the new style is detected. The
remote:          driver now returns ENODEV instead of zero which stop any further
remote:          calls to the driver. This makes the previous commit 01f3e893197a,
remote:          which checked for a NULL priv in suspend and resume, un-necessary.
remote:
remote:          SWLINUX-3803
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit 9b3aa47bd210117b07c175e6868ca5b760503d51)
remote:
remote:      commit 0cbecb1559c08f61eb571487e7628b6eaf525039
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Oct 16 19:10:03 2015 -0700
remote:
remote:          Bump version to 3.14-1.10pre
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit d1177c0efe761e86d9cd7a395349977ca866a7d1)
remote:
remote:      commit 89a922cd7d4fc48b37458bac6bbf4f8936ed902a
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Oct 15 16:20:49 2015 -0700
remote:
remote:          include: brcmstb: Bump BRCMSTB_H_VERSION to 5
remote:
remote:          SWLINUX-3701, SWLINUX-3754, SWLINUX-3776, SWLINUX-3775
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 16fd6c641279cf6ca614b5c61a0e8a86338bd9fd)
remote:
remote:      commit af3b05289ad600425dc9d99b975319e442511471
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Oct 15 16:18:22 2015 -0700
remote:
remote:          soc: brcmstb: nexus: Add atomic register update API
remote:
remote:          Add a brcmstb_update32() function which updates, for now, the GPIO register
remote:          range after getting a successful virtual address to that register, and
remote:          verifying that Linux is not already owning one of the bits inside the mask it
remote:          attempts to modify.
remote:
remote:          If it succeeds, we update the internal GPIO bookeeping bitmap for Nexus to flag
remote:          that this GPIO is requested for Nexus use.
remote:
remote:          SWLINUX-3775
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 2418bdb55be74ed45f3a60cd8d245e5dcf05af9b)
remote:
remote:      commit baa470ec2462d8ddd902a5affbc9c95ab7f17b79
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Sep 30 17:08:15 2015 -0700
remote:
remote:          soc: brcmstb: nexus: Add GPIO interrupt resolution API
remote:
remote:          Add a Nexus API which allows Nexus to specify a GPIO offset and shift, and
remote:          obtain the corresponding virtual interrupt number corresponding to that GPIO
remote:          offset and shift.
remote:
remote:          Linux will do an implicit gpio_request() to guaranteed Nexus with exclusivity
remote:          on that specific GPIO.
remote:
remote:          Since we are adding another function, bump the API version accordingly in
remote:          brcmstb.h.
remote:
remote:          SWLINUX-3776
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 635d50300c6ca2f3235eda287ef036eb10d8445d)
remote:
remote:      commit 62cefe0072e9bb1df2caf99c9c64882f2771e37d
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Sep 11 16:43:55 2015 -0700
remote:
remote:          soc: brcmstb: nexus: Add brcmstb_get_l2_irq_id() API
remote:
remote:          Add a Nexus API under drivers/soc/brcmstb/nexus/irq.c which resolves a given
remote:          IRQ0 or IRQ0_AON L2 interrupt number into its corresponding Linux virtual IRQ
remote:          number that can be passed to request_irq().
remote:
remote:          Also add a selftest/example in tools/testing/brcmstb/irq-api/ which can be used
remote:          to test and verify that this behaves properly.
remote:
remote:          SWLINUX-3754
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 98782ec2f742a11ee48a9efed580f29371ca5caa)
remote:
remote:      commit 7048224738bf02eace4cfedddf7302fdac6fbce3
remote:      Author: Doug Berger <douglasb@broadcom.com>
remote:      Date:   Wed Oct 14 11:07:10 2015 -0700
remote:
remote:          soc: add nexus_version_check.h
remote:
remote:          This header file is not intended to be included by any files within the Linux
remote:          distribution.  It is provided with the distribution to be included by Nexus
remote:          software to provide a compile-time mechanism for communicating that changes
remote:          have been made to the Linux distribution that are known to be incompatible
remote:          with older versions of the Nexus software.
remote:
remote:          When such a change is made to the Linux distribution this file must be updated
remote:          to identify the version of the previous Nexus release that is no longer
remote:          compatible and a brief summary of the incompatibility should be included in
remote:          the error message.
remote:
remote:          SWLINUX-3701
remote:
remote:          Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:          (cherry picked from commit a8fd6b95a68cd6a486428440b582ba9663470edb)
remote:
remote:      commit 18892af60444f546e1c2306eb549be6ef163b91b
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Oct 16 15:12:43 2015 -0700
remote:
remote:          usb: Do not de-reference private context during suspend/resume
remote:
remote:          With BOLT v1.07, Device Tree contains a proper USB PHY Device Tree node
remote:          brcm_usb_instance_probe() bails out early because there is such a PHY, and so
remote:          we do not have a valid dev->drvdata pointer by the time we run
remote:          brcm_usb_suspend(), we fetch that private pointer using dev_get_drvadata() and
remote:          de-reference a NULL pointer.
remote:
remote:          Fixes: 2598787ab8c9 ("usb: Change Broadcom USB drivers structure to remove USB
remote:          wrapper driver")
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:
remote:          (cherry picked from commit 01f3e893197a3bfdf860cf3b9f71684cc3a4a8eb)
remote:
remote:      commit defa9767784bdc4ca610992fe8f301715eac6dc1
remote:      Author: David S. Miller <davem@davemloft.net>
remote:      Date:   Fri May 1 22:02:47 2015 -0400
remote:
remote:          ipv4: Missing sk_nulls_node_init() in ping_unhash().
remote:
remote:          [Upstream commit a134f083e79fb4c3d0a925691e732c56911b4326]
remote:
remote:          If we don't do that, then the poison value is left in the ->pprev
remote:          backlink.
remote:
remote:          This can cause crashes if we do a disconnect, followed by a connect().
remote:
remote:          SWLINUX-3845
remote:
remote:          Tested-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Reported-by: Wen Xu <hotdog3645@gmail.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          (cherry picked from commit 7e5cc14185569c00cde88ed59aad836794faf7ee)
remote:
remote:      commit 724c284dd8a2fecf9f0d1a36d6b79eae89633f75
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Tue Sep 15 10:15:22 2015 -0400
remote:
remote:          usb: Change Broadcom USB drivers structure to remove USB wrapper driver
remote:
remote:          The current Broadcom USB drivers (ohci, ehci, xhci and bdc) are setup
remote:          as child drivers to a USB wrapper driver. The wrapper driver handles
remote:          any global USB controller setup and then starts the child drivers. This
remote:          change will replace the wrapper driver with a usb-phy driver that will
remote:          do the global USB controller setup and the child drivers will become
remote:          normal drivers started by the device tree parser. The new functionality
remote:          requires a new style of USB Device Tree node descriptions and will
remote:          only work with a matching version of BOLT. The kernel will also support
remote:          the old style DT entries so it will work correctly with either version
remote:          of BOLT.
remote:
remote:          SWLINUX-3803
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit 2598787ab8c983ed983a97962c2493a55d05da69)
remote:
remote:      commit d10ef318333825a409023232cc82ff8eb59b9715
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Mon Sep 28 18:32:15 2015 -0400
remote:
remote:          mmc: Add ability to change driver strength from a Device Tree prop
remote:
remote:          Customers are requesting the ability to change the Host and Card
remote:          Driver Type (drive strength) because they are seeing interference
remote:          with WiFi and having Certification issues. This change allows new
remote:          Device Tree properties to change the default Driver Type for both
remote:          Host and Card. Not all cards support all Driver Types and if the
remote:          requested type is not supported the default will continue to be used.
remote:          The SD spec states that only UHS modes use selectable driver strength,
remote:          but our host controller allows it for HS mode as well. A customer
remote:          has requested support for the HS setting so an additional device
remote:          tree property was added for this.
remote:
remote:          The Device Tree properties that control the drive strength are:
remote:          "host-driver-strength", "host-hs-driver-strength" and
remote:          "card-driver-strength". These properties can have the value
remote:          "A", "B", "C", or "D". Where A is x1.5, B is x1.0 (default),
remote:          C is x0.75 and D is x0.5
remote:
remote:          NOTES
remote:           o Reducing Drive Strength may result in read/write errors
remote:             depending on the board design.
remote:           o The Host side settings are not supported on the 74371, which
remote:             uses the older version of the SDIO core.
remote:
remote:          SWLINUX-3828
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit d278d4756dec21638667b0198bf3bda7a7924477)
remote:
remote:      commit ee6cf7f5c7c6ff53b77b1ec467f060798237b5cc
remote:      Author: Adrian Hunter <adrian.hunter@intel.com>
remote:      Date:   Fri Feb 6 14:12:59 2015 +0200
remote:
remote:          mmc: sdhci: Add a callback to select drive strength
remote:
remote:          [Upstream commit cb8496482e8886bbd6bd79462d8062db572b0473]
remote:
remote:          Add a callbak to let host drivers select drive
remote:          strength.
remote:
remote:          SWLINUX-3828
remote:
remote:          Signed-off-by: Adrian Hunter <adrian.hunter@intel.com>
remote:          Signed-off-by: Ulf Hansson <ulf.hansson@linaro.org>
remote:          (cherry picked from commit 0a76b2bf55f39c1915a4c71be170313bf8bbe2af)
remote:
remote:      commit 262767ce998eb52eb6cd58968b31371a4edbd8df
remote:      Author: Petri Gynther <pgynther@google.com>
remote:      Date:   Wed May 20 14:35:00 2015 -0700
remote:
remote:          mmc: sdhci: fix driver type B and D handling in sdhci_do_set_ios()
remote:
remote:          [Upstream commit 43e943a04049d8f4ee96a940517a5fcb0f558ad2]
remote:
remote:          sdhci_do_set_ios() doesn't currently program SDHCI_HOST_CONTROL2
remote:          register correctly when host->preset_enabled == false.
remote:
remote:          Add code to handle the missing cases MMC_SET_DRIVER_TYPE_B and
remote:          MMC_SET_DRIVER_TYPE_D.
remote:
remote:          SWLINUX-3828
remote:
remote:          Signed-off-by: Petri Gynther <pgynther@google.com>
remote:          Signed-off-by: Ulf Hansson <ulf.hansson@linaro.org>
remote:          (cherry picked from commit 2375f98f63d9119ef9ee854dc94492e10b7140c8)
remote:
remote:      commit 0982e487890f167e4ef4eb02399fc96ed335abf2
remote:      Author: Adrian Hunter <adrian.hunter@intel.com>
remote:      Date:   Fri Feb 6 14:12:54 2015 +0200
remote:
remote:          mmc: core: Add 'card' to drive strength selection callback
remote:
remote:          [Upstream commit f168359efbb99d6f8591bb666d6510bb78df2d07]
remote:
remote:          In preparation for supporting also eMMC drive strength,
remote:          add the 'card' as a parameter so that the callback can
remote:          distinguish different types of cards if necessary.
remote:
remote:          SWLINUX-3828
remote:
remote:          Signed-off-by: Adrian Hunter <adrian.hunter@intel.com>
remote:          Signed-off-by: Ulf Hansson <ulf.hansson@linaro.org>
remote:          (cherry picked from commit b69ba9ab3834dc5e3cfda05c9d5927b2f294aa42)
remote:
remote:      commit 60885dc7e97741eb17fcdfcc52c7d10c2c1a609f
remote:      Author: Adrian Hunter <adrian.hunter@intel.com>
remote:      Date:   Fri Feb 6 14:12:52 2015 +0200
remote:
remote:          mmc: core: Allow card drive strength to be different to host
remote:
remote:          [Upstream commit b4f30a174e1fda8118eda038b5d8d5260db36ad5]
remote:
remote:          Initialization of UHS-I modes for SD and SDIO cards
remote:          employs a callback to allow the host driver to
remote:          choose a drive strength value. Currently that
remote:          assumes the card drive strength and host driver
remote:          type must be the same value. Change to let the
remote:          callback make that decision and return both the
remote:          card drive strength and host driver type.
remote:
remote:          SWLINUX-3828
remote:
remote:          Signed-off-by: Adrian Hunter <adrian.hunter@intel.com>
remote:          Signed-off-by: Ulf Hansson <ulf.hansson@linaro.org>
remote:          (cherry picked from commit c4c8afde60acd7581d5c8148926b1c377a79919c)
remote:
remote:      commit 9041a96077990a5b71934221bbd512046f8f883b
remote:      Author: Justin Chen <Justinc1@broadcom.com>
remote:      Date:   Thu Oct 8 18:38:46 2015 -0700
remote:
remote:          spi: brcmstb-mspi: Fix 16 bits_per_word transfers
remote:
remote:          The driver was incrementing by bytes when writing 16 bits into the buffer.
remote:          This cause the driver to send twice as much data for 16 bits_per_word
remote:          transfers. Changed driver to increment by 2 bytes if 16 bits_per_word is
remote:          set.
remote:
remote:          SWLINUX-3121
remote:
remote:          Signed-off-by: Justin Chen <Justinc1@broadcom.com>
remote:          (cherry picked from commit 76ca11bbc34dd06a15db4665e38ea33b1870060a)
remote:
remote:      commit 1976fed6c9e8183f1176a6b8714bfa78bdf153ed
remote:      Author: Tim Ross <tross@broadcom.com>
remote:      Date:   Mon Jul 20 17:51:10 2015 -0400
remote:
remote:          pci: turn off/on/on voltage regulator on suspend/resume/boot
remote:
remote:          Allow the PCIe RC driver to use fixed-voltage regulator(s)
remote:          to control the power of endpoint device(s).
remote:
remote:          SWLINUX-3735
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit f3c9e7b1cfd81fc7089729517824ca765dc92edf)
remote:
remote:      commit 542a9e5956044a909b9685b3b20e83e51085b99b
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Mon Sep 28 14:58:40 2015 -0400
remote:
remote:          gpio: brcmstb: have driver register during subsys_initcall()
remote:
remote:          Because regulators are started with subsys_initcall(), and gpio
remote:          references may be contained in the regulators, it makes sense
remote:          to start the brcmstb-gpio's with a subsys_initcall().  The
remote:          order within the drivers/Makefile ensures that the gpio
remote:          initialization happens prior to the regulator's initialization.
remote:
remote:          SWLINUX-3735
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit 9b7fb7601818c773fb2c6e3b037f2b07227a604f)
remote:
remote:      commit 4e6c165e7b85bc7b7c498b8c6edc1d50f8e1daa9
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Mon Sep 28 09:57:11 2015 -0400
remote:
remote:          pci: change from arch_initcall() to fs_initcall()
remote:
remote:          For unknown historical reasons, the PCIe host driver uses
remote:          arch_initcall().  This commit supplants this with fs_initcal().
remote:
remote:          SWLINUX-3735
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit b3a2e402f94cf9c606f6bb5c791c14a6244e1ccb)
remote:
remote:      commit fa2cc3486d489bcf9462b3064f8f04e77d7fccf2
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Thu Oct 1 10:35:18 2015 -0400
remote:
remote:          clk: Remove ordering restrictions for software clocks
remote:
remote:          After using "kexec" to load and run a new kernel, the new kernel
remote:          doesn't work normally.
remote:          1. It can't detect the plug/unplug of usb disk/ethernet cable.
remote:          2. If run with a usb disk plugged, there will be kernel panic.
remote:
remote:          This is the result of Software Clocks not setting up their parents
remote:          correctly when booting via kexec. The prevents the parent
remote:          clocks of the sw clock from being enabled. This is happening because
remote:          kexec uses /proc/device-tree to reconstruct the FDT that is used
remote:          to boot the new kernel and this changes the original node order to be
remote:          alphabetical and the clock software depends on the parent clock nodes
remote:          being defined before the software clock. This change removes the
remote:          ordering restriction and allows sw clocks and parents to be
remote:          defined in any order.
remote:
remote:          SWLINUX-3829
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit 350c3e2ff1ee679ff0afc311c28d6d94d33cdad2)
remote:
remote:      commit 3f5ee7fd224b53dc513766444fb9ef1db3782381
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Fri Oct 2 11:05:26 2015 -0400
remote:
remote:          mmc: Allow SDR50 mode for 7439b0 and 7445e0
remote:
remote:          SDR50 mode has been fixed for the 7439b0 and 7445e0 so don't
remote:          disable it.
remote:
remote:          SWLINUX-3834
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit 2fda787f008a08bb35b424d90437ad7022d74171)
remote:
remote:      commit 24ff46f94dee1c1f2700310a0d49fb074b1d8ea2
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue Aug 4 17:29:45 2015 -0700
remote:
remote:          pwm: Add Broadcom BCM7038 PWM controller support
remote:
remote:          Add support for the BCM7038-style PWM controller found in all BCM7xxx STB SoCs.
remote:          This controller has a hardcoded 2 channels per controller, and cascades a
remote:          variable frequency generator on top of a fixed frequency generator which offers
remote:          a range of a 148ns period all the way to ~622ms periods.
remote:
remote:          SWLINUX-3716
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit fa8c0ed0aaaa5de855d99acfdc57abd42aed78b9)
remote:
remote:      commit de1342d7c69b2f332ace6354749099151714fd97
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue Aug 4 17:29:24 2015 -0700
remote:
remote:          Documentation: dt: add Broadcom BCM7038 PWM controller binding
remote:
remote:          Add a binding documentation for the Broadcom BCM7038 PWM controller found in
remote:          BCM7xxx chips.
remote:
remote:          SWLINUX-3716
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit a6737e339875b5955cb72cd772f850c5620a0549)
remote:
remote:      commit 577907c4a5cd63ccb06f1dc8eccfcee508d1675c
remote:      Author: Florian Fainelli <f.fainelli@gmail.com>
remote:      Date:   Sat Sep 5 12:55:37 2015 -0700
remote:
remote:          net: dsa: bcm_sf2: Fix ageing conditions and operation
remote:
remote:          The comparison check between cur_hw_state and hw_state is currently
remote:          invalid because cur_hw_state is right shifted by G_MISTP_SHIFT, while
remote:          hw_state is not, so we end-up comparing bits 2:0 with bits 7:5, which is
remote:          going to cause an additional aging to occur. Fix this by not shifting
remote:          cur_hw_state while reading it, but instead, mask the value with the
remote:          appropriately shitfted bitmask.
remote:
remote:          The other problem with the fast-ageing process is that we did not set
remote:          the EN_AGE_DYNAMIC bit to request the ageing to occur for dynamically
remote:          learned MAC addresses. Finally, write back 0 to the FAST_AGE_CTRL
remote:          register to avoid leaving spurious bits sets from one operation to the
remote:          other.
remote:
remote:          SWLINUX-3728
remote:
remote:          Fixes: d1adb695f919 ("net: dsa: bcm_sf2: add HW bridging support")
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit ff121a18f798f3bcb64b8cf7f8bb1b8d4086dcf8)
remote:
remote:      commit 982417ca5a75aab7fe6487383a69ccc8d6de3191
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Apr 3 17:27:05 2014 -0700
remote:
remote:          BCMGENET: Implement RX coalescing control knobs
remote:
remote:          Add support for the ethtool rx-frames coalescing parameter which allows
remote:          defining the number of RX interrupts per frames received. The RDMA
remote:          engine supports a configurable timeout with a resolution of
remote:          approximately 8.192 us.
remote:
remote:          We can no longer enable the BDONE/PDONE interrupts as those would
remote:          fire for each packet/buffer received, which would defeat the MBDONE
remote:          interrupt purpose. The MBDONE interrupt is guaranteed to correspond to a
remote:          PDONE/BDONE interrupt when the threshold is set to 1.
remote:
remote:          SWLINUX-2569
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 5ab371e13f551aa8915e1d030311a7a2007a69d1)
remote:
remote:      commit a2733d1dfc10cba1deba585e11061424faf29b77
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Apr 3 17:23:58 2014 -0700
remote:
remote:          BCMGENET: Implement TX coalescing control knobs
remote:
remote:          Configuring the ethtool tx-frames property, which translates into N
remote:          packets before a TX interrupt is the simplest configuration scheme
remote:          because it requires no locking neither at the softare nor hardware
remote:          level, and is completely indepedent from the link speed. Since ethtool
remote:          does not allow per-tx queue coalescing parameters, we apply the same
remote:          setting to any transmit queue.
remote:
remote:          We can no longer enable the BDONE/PDONE interrupts as those would fire
remote:          for each packet/buffer received, which would defeat the MBDONE interrupt
remote:          purpose. The MBDONE interrupt is guaranteed to correspond to a
remote:          PDONE/BDONE interrupt when the threshold is set to 1, but offers
remote:          interrupt coalescing when the value is > 1.
remote:
remote:          Since the HW is configured to generate an interrupt when the ring
remote:          becomes emtpy, we have to deny any timeout/timer settings coming from
remote:          user-space to indicate we can only generate an interrupt very <N>
remote:          packets.
remote:
remote:          While we are at it, fix the DMA_INTR_THRESHOLD_MASK value which was off
remote:          by one bit (0xff vs. 0x1ff).
remote:
remote:          SWLINUX-2569
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 2056ab3bcd954270737ddc6934bb1ea7aedbc71f)
remote:
remote:      commit 3bafecebbcf402026d04d455ff6f49bb0ed8e28c
remote:      Author: Romain Izard <romain.izard.pro@gmail.com>
remote:      Date:   Fri Jun 27 10:51:07 2014 +0200
remote:
remote:          mmc: Allow forward compatibility for eMMC
remote:
remote:          [Upstream commit 03a59437ef6b6ad7fb0165cb9b96c08d6bf057fc]
remote:
remote:          As stated by the eMMC 5.0 specification, a chip should not be rejected
remote:          only because of the revision stated in the EXT_CSD_REV field of the
remote:          EXT_CSD register.
remote:
remote:          Remove the control on this value, the control of the CSD_STRUCTURE field
remote:          should be sufficient to reject future incompatible changes.
remote:
remote:          SWLINUX-3815
remote:
remote:          Signed-off-by: Romain Izard <romain.izard.pro@gmail.com>
remote:          Signed-off-by: Ulf Hansson <ulf.hansson@linaro.org>
remote:          Signed-off-by: Danesh Petigara <dpetigara@broadcom.com>
remote:          (cherry picked from commit ecdb8cd3a6628830bfc04dbba2816a0489fadb1d)
remote:
remote:      commit 520a1ae86d6964d351f89c823a96bf2282d20db6
remote:      Author: Dmitry Torokhov <dmitry.torokhov@gmail.com>
remote:      Date:   Thu Aug 6 19:15:30 2015 -0700
remote:
remote:          Input: do not emit unneeded EV_SYN when suspending
remote:
remote:          [Upstream commit 00159f19a5057cb779146afce1cceede692af346]
remote:
remote:          Do not emit EV_SYN/SYN_REPORT on suspend if there were no keys that are
remote:          still pressed as we are suspending the device (and in all other cases when
remote:          input core is forcibly releasing keys via input_dev_release_keys() call).
remote:
remote:          SWLINUX-3810
remote:
remote:          Reviewed-by: Benson Leung <bleung@chromium.org>
remote:          Signed-off-by: Dmitry Torokhov <dmitry.torokhov@gmail.com>
remote:          Signed-off-by: Danesh Petigara <dpetigara@broadcom.com>
remote:          (cherry picked from commit 38575d26e1bfdfe4e6244d199c440134733ddacb)
remote:
remote:      commit 5c34b786645623317fe7bfc9b8b70534e1ce9061
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Aug 24 18:43:40 2015 -0700
remote:
remote:          spi: brcmstb-mspi: refactor to use MMIO accessors
remote:
remote:          The driver was doing direct manipulation of a pointer to the iomapped region as
remote:          volatile data, which is not considered the "proper" way to do I/O (see
remote:          Documentation/volatile-considered-harmful.txt).  Change to use the MMIO
remote:          accessors, and insert the required memory barriers.
remote:
remote:          SWLINUX-3121
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 868c5b3b47a480421e17cfd6536e4ef83538100e)
remote:
remote:      commit 748d4efdf1bdc1fe9c8e459d5b909f57dccd5fbd
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Aug 24 14:22:57 2015 -0700
remote:
remote:          spi: brcmstb-mspi: get base freq and max speed dynamically if possible
remote:
remote:          The hardcoded SPI base frequency should only be used if we don't actually have
remote:          a clk provider.
remote:
remote:          SWLINUX-3121
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 4573187ba1207fe7cd93ad201370bf1885c439db)
remote:
remote:      commit 4d8287cb8975c9e3ff3385fee563bb6a009885af
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Tue Jul 21 19:30:21 2015 -0700
remote:
remote:          spi: brcmstb-mspi: remove unnecessary check for new params in spi_transfer
remote:
remote:          The speed, mode, and bits per word should never change in the middle of a
remote:          spi_transfer.  Checking for that in the loop within write_to_hw() was a
remote:          holdover from this function was called from transfer() in the dual bspi/mspi
remote:          driver, where it was necessary because that would handle multiple spi_transfers
remote:          at a time and it was important to know when to break.  Now that we're using
remote:          transfer_one(), remove the unnecessary test.
remote:
remote:          Also, it was misleading to have a function named ..._update_parms when calling
remote:          it one way was actually just a test that wouldn't actually update any
remote:          parameters.  Now it becomes a single-purpose function that fits its name.
remote:
remote:          SWLINUX-3121
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit ef6f4ecc7665f6a49c9857ef7a6080e90a01a19c)
remote:
remote:      commit e2cf2b190c6ce9562fd262c251e3f0fe7904ed60
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jul 20 19:45:29 2015 -0700
remote:
remote:          spi: brcmstb-mspi: various cleanup
remote:
remote:          - add debug output for >8-bit txfr, more comments
remote:          - don't BUG() on no data in write_to_hw (This really shouldn't be that
remote:            fatal of a case, if we hit this, just report it and don't actually
remote:            submit any data.)
remote:          - move fnb (find_next_byte output) check after write_to_hw loop to make
remote:            it clearer that it only is run at the loop end
remote:          - kill bcmspi_parms member chip_select (this was for bspi)
remote:          - document bcmspi_parms
remote:          - make legacy mspi ifdef naming consistent
remote:
remote:          SWLINUX-3121
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit f5ab7799c83fd6f54c46fe4f923ec17262d64bd7)
remote:
remote:      commit e85c983b10fde75824cf6ce20521a4a77d7b0abb
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jul 20 19:39:47 2015 -0700
remote:
remote:          spi: brcmstb-mspi: actually use chip select
remote:
remote:          Use the chip select value from the spidev so we can use something other than
remote:          CS0 and avoid talking to CS0 when we mean to talk to somebody else.
remote:
remote:          SWLINUX-3121
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit caeb7d718778a2dbaabb42a18bf6fa2e52bc1f87)
remote:
remote:      commit 91df4a4b7e058f40f948074b900c35a2ccc18b7a
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jul 20 17:37:14 2015 -0700
remote:
remote:          spi: brcmstb-mspi: use defines for cdram
remote:
remote:          Add some defines to make manipulating the CDRAM registers a bit less magic.
remote:
remote:          SWLINUX-3121
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 92cb09dff3095d673574d68abba6f7acf0d69974)
remote:
remote:      commit 6bd48682c86d048ac6f6730a3866c788421dd187
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jul 20 17:15:02 2015 -0700
remote:
remote:          spi: brcmstb-mspi: document find_next_byte, kill defunct loop
remote:
remote:          The 'while' loop could never actually loop, since it breaks out or returns
remote:          beforehand.
remote:
remote:          SWLINUX-3121
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit c442d533d7b473b1a9d4ff078173c2faf686f605)
remote:
remote:      commit ec98255ffda17a805d51a71e29f6d5409cf26f9b
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jul 20 12:55:01 2015 -0700
remote:
remote:          spi: brcmstb-mspi: don't reset waitqueue in bcmspi_transfer_one
remote:
remote:          In bcmspi_transfer_one(), we were calling init_completion on the same
remote:          completion object, which according to Documentation/scheduler/completion.txt is
remote:          "most likely a bug as it re-initializes the queue to an empty queue and
remote:          enqueued tasks could get "lost"".  The way we're currently doing things, we
remote:          never have more than one item in the waitqueue, but it's possible a future
remote:          optimization might do that, so let's change this now to avoid a potential
remote:          future problem.
remote:
remote:          SWLINUX-3121
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 99c49eba182e34eae2af3d80499760fe6ed5389e)
remote:
remote:      commit 38a17a804102fefe87bead45743afe0fdbabfdb4
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jul 20 12:44:09 2015 -0700
remote:
remote:          spi: brcmstb-mspi: fix completion timeout
remote:
remote:          We had the timeout set as msecs_to_jiffies(10), and were seeing bad timeout
remote:          values.  Now, with CONFIG_HZ=100, a jiffy is ~10 ms, so msecs_to_jiffies(10)
remote:          ends up returning 1 jiffy.  Unfortunately, if I understand correctly, waiting
remote:          for a single jiffy isn't that effective, because it means you could be waiting
remote:          for basically no time at all, depending on when your operation is scheduled to
remote:          occur.  This matches up with what we were seeing, which is that when several
remote:          SPI writes were scheduled in sequence, it would consistently fail after several
remote:          ms, which suggests the following:
remote:
remote:          time
remote:           |
remote:           v                                       tick occurs
remote:           |
remote:           v        other things happen
remote:           |
remote:           v        SPI write starts
remote:           |
remote:           v        SPI write finishes
remote:           |
remote:           v        next SPI write starts
remote:           |                                       tick occurs
remote:           v        SPI write is considered to have timed out
remote:
remote:          Increase the timeout to 11 (which will be rounded up to 2 jiffies) seems to
remote:          make this problem go away entirely, which further supports this idea.  But
remote:          looking at a sampling of SPI bus drivers in drivers/spi/ suggests that it's
remote:          probably just best to set a larger timeout value, so let's set it to HZ (will
remote:          result in 1s timeout).
remote:
remote:          SWLINUX-3121
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 17d3cc2abfab6fffb2bef6640060b22ae242859e)
remote:
remote:      commit a5ee4859853e8a1a4529c0ec653a6f7b40ac69fa
remote:      Author: Brian Norris <computersforpeace@gmail.com>
remote:      Date:   Tue Feb 10 19:28:15 2015 -0800
remote:
remote:          spi: Add Broadcom MSPI controller driver
remote:
remote:          Some comments that are NOT FOR UPSTREAM, explaining what was changed from
remote:          original spi-brcmstb driver:
remote:
remote:          - removes BSPI support (this should be made into a proper spi-nor framework
remote:            driver), which means we don't poke EBI CS anymore
remote:          - removes EBI CS switching, which is only needed for memory mapping
remote:          - add write lock field for use with BSPI
remote:          - use the BCM7120 L2 driver instead of twiddling L2 directly from here
remote:          - get rid of useless debug prints and unused fields
remote:          - use newer transfer_one spi core API
remote:          - use spi_transfer_is_last() instead of directly checking transfer_list
remote:          - remove unnecessary state and locking
remote:          - add timeout to wait_for_completion
remote:          - request mspi_done IRQ
remote:
remote:          Changes added by Gregory and Florian:
remote:
remote:          Until the spi-nor framework is used to allow using BSPI with this
remote:          driver, the spi-brcmstb driver, if enabled, should be used for HIF SPI
remote:          (MSPI+BSPI) instead.  This will then only be used when the compatible
remote:          string is "brcm,spi-brcmstb-mspi".
remote:
remote:          SWLINUX-3121
remote:
remote:          [gregory: This update was originally made by Brian Norris
remote:          <computersforpeace@gmail.com>.  I have left the authorship intact, and added
remote:          the commit message above describing the changes]
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:          (cherry picked from commit b4718d43bde1165dea2657e4565924804e1729b4)
remote:
remote:      commit 3a35adac4d1b33f8ab450be9f5b183039e519d55
remote:      Author: Beniamino Galvani <b.galvani@gmail.com>
remote:      Date:   Sat Nov 22 16:21:39 2014 +0100
remote:
remote:          spi: core: Add spi_transfer_is_last() helper
remote:
remote:          This adds the function spi_transfer_is_last() which can be used by
remote:          drivers to know whether a given transfer is the last one in the
remote:          current message.
remote:
remote:          Signed-off-by: Beniamino Galvani <b.galvani@gmail.com>
remote:          Signed-off-by: Mark Brown <broonie@kernel.org>
remote:          (cherry picked from commit 34215f5e8b977d5833a9c187729df95369c20576)
remote:
remote:      commit c3f901625bcd27ecea236697b9bfa66f4a6dcc68
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Wed Aug 26 14:46:32 2015 -0700
remote:
remote:          dt-bindings: spi: Add Broadcom MSPI binding
remote:
remote:          Add the binding for the Broadcom MSPI SPI master controller, used on various
remote:          Broadcom chips including BRCMSTB (BCM7XXX), Broadcom Cygnus, and more.
remote:
remote:          SWLINUX-3121
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 9140ff6c5d60a19db31252b7da71b910950298ec)
remote:
remote:      commit 714d185291fbd389bb4fd8b2c545983166d62b0b
remote:      Author: Danesh Petigara <dpetigara@broadcom.com>
remote:      Date:   Wed Sep 9 09:21:13 2015 -0400
remote:
remote:          usb: bdc: driver fails after resuming from S3 suspend
remote:
remote:          The BDC driver will fail after resuming from S3 suspend and this
remote:          will cause any upper layer gadget driver to fail.
remote:
remote:          SWLINUX-3799
remote:
remote:          Signed-off-by: Danesh Petigara <dpetigara@broadcom.com>
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit e887b38b61bbc7ace5ecbd46d1784d1bd772541e)
remote:
remote:      commit be4fd7fd46df1de18bd3472b609313b8f9491fec
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Sep 3 11:34:39 2015 -0700
remote:
remote:          BCMGENET: Fix error path in bcmgenet_mii_new_dt_init()
remote:
remote:          In case we parse the 'phy-mode' property, that is, of_get_phy_mode() returned
remote:          an error, we will take the "out" label, call mdiobus_unregister(), and then
remote:          return an error code. bcmgenet_mii_init() will take the "out" label as well and
remote:          call bcmgenet_mii_exit() calling bcmgenet_mii_free() which calls
remote:          mdiobus_unregister() a second time.
remote:
remote:          We would hit the BUG() condition on the mii_bus structure 'state' member and
remote:          crash the kernel.
remote:
remote:          Fix this by removing the mdiobus_unregister() call in
remote:          bcmgenet_mii_new_dt_init() since it duplicates the existing error path.
remote:
remote:          SWLINUX-3792
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 604e06a82739c435d8fe2c3ff9cbe2636eae41b5)
remote:
remote:      commit c98a2488d204efceb891ee8f385be2437ea6306f
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Sun Aug 16 20:06:23 2015 -0700
remote:
remote:          soc: brcmstb: Move Bus Interface Unit code to shared location
remote:
remote:          The code enabling or disabling Write Pairing is shared between all SoCs,
remote:          move this to a common location, and add a function declaration for this
remote:          code to run early: before SMP is initialized.
remote:
remote:          SWLINUX-3579
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 445a3e9f9fd869a3df4e7e76f812ee6f2213918a)
remote:
remote:      commit 6ca86c4e15a0e4e7da423e5d883d5a24b87c89af
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Sep 9 11:05:50 2015 -0700
remote:
remote:          Revert "mm: some brcmstb_get_page() cleanup"
remote:
remote:          This reverts commit e5308bd82743c1621ce4641a701cb2c07ec46235 since this causes
remote:          regressions O_DIRECT when using Nexus' playback application:
remote:
remote:          *** 00:00:00.603 playback: spdif audio: decoder 0 -> stereo
remote:          *** 00:00:01.604 playback: HDMI not connected
remote:          *** 00:00:01.604 playback: hdmi audio: decoder 0 -> stereo
remote:          *** 00:00:01.782 nexus_video_output: No HDMI Rx connected.. settings will not be applied
remote:          playback>
remote:          [   63.936454] Unable to handle kernel paging request at virtual address 72546f62
remote:          [   63.944243] pgd = da4e7a00
remote:          [   63.946960] [72546f62] *pgd=00000000
remote:          [   63.950561] Internal error: Oops: 205 [#1] SMP ARM
remote:          [   63.955356] Modules linked in: wakeup_drv(O) nexus(PO)
remote:          [   63.960540] CPU: 1 PID: 1460 Comm: nx_io_worker0 Tainted: P           O 3.14.28-1.9 #1
remote:          [   63.968465] task: db11a4c0 ti: d9830000 task.ti: d9830000
remote:          [   63.973879] PC is at nfs_create_request+0x88/0x128
remote:          [   63.978676] LR is at nfs_get_lock_context+0x50/0x110
remote:          [   63.983647] pc : [<c0195b44>]    lr : [<c018fe28>]    psr: 40030013
remote:          [   63.983647] sp : d9831de8  ip : 00000592  fp : db3265c0
remote:          [   63.995135] r10: dad21790  r9 : c0b9d094  r8 : 00000000
remote:          [   64.000365] r7 : da5a9100  r6 : da5a9100  r5 : 72546f62  r4 : db326600
remote:          [   64.006899] r3 : da5a911c  r2 : 00000002  r1 : 00000000  r0 : da5a9100
remote:          [   64.013434] Flags: nZcv  IRQs on  FIQs on  Mode SVC_32  ISA ARM  Segment user
remote:          [   64.020576] Control: 30c5387d  Table: 1a4e7a00  DAC: 55555555
remote:          [   64.026328] Process nx_io_worker0 (pid: 1460, stack limit = 0xd9830238)
remote:          [   64.032949] Stack: (0xd9831de8 to 0xd9832000)
remote:          [   64.037311] 1de0:                   00000000 00001000 0002e000 00000002 00000000 00001000
remote:          [   64.045497] 1e00: 00000000 c0194698 00001000 d99a3600 00000000 00000000 0002e000 ac92c000
remote:          [   64.053683] 1e20: 00001000 0000002f d99a3600 0000002f 00100000 00000001 d9830000 dad21790
remote:          [   64.061869] 1e40: d9831f00 00000001 00000000 00000000 00000000 dace6e48 00000000 dad217a4
remote:          [   64.070056] 1e60: d9831f08 dace6eb8 db3265c0 db3265c0 00000000 00001000 00100000 00000000
remote:          [   64.078242] 1e80: 00000038 dace6e48 c0565774 00000000 00000000 db11a4c0 c0565768 00000000
remote:          [   64.086428] 1ea0: dad21790 00000000 00000000 00000000 00000000 d9831f80 db11a4c0 0002f000
remote:          [   64.094614] 1ec0: ac92b000 00000000 00040088 c018cc04 00000000 00000000 00000001 da4e7980
remote:          [   64.102800] 1ee0: 00000001 00000000 00000000 d9831f80 db11a4c0 c00ce8c4 00000000 00000000
remote:          [   64.110987] 1f00: ac92b000 0002f000 db325840 00000000 00000000 00000000 db11a4c0 00000000
remote:          [   64.119173] 1f20: 00000000 00000000 00000000 00000000 0002f000 00000000 00000000 00000000
remote:          [   64.127359] 1f40: ac92b000 db325840 ac92b000 d9831f80 db325840 c00cef58 5a095f40 0037abb5
remote:          [   64.135544] 1f60: ffffffff 00000000 00000000 db325843 db325840 0002f000 ac92b000 c00cf600
remote:          [   64.143730] 1f80: 00000000 00000000 da478c81 0004104c 0002f000 ac92b000 00000003 c000eea4
remote:          [   64.151917] 1fa0: d9830000 c000ed20 0004104c 0002f000 00000006 ac92b000 0002f000 b6eac50c
remote:          [   64.160104] 1fc0: 0004104c 0002f000 ac92b000 00000003 00000000 b6ead524 b6ead524 00040088
remote:          [   64.168289] 1fe0: 00000000 87f6edc0 b6eedbf9 b6eedc00 80030030 00000006 00000000 00010074
remote:          [   64.176486] [<c0195b44>] (nfs_create_request) from [<c0194698>] (nfs_file_direct_read+0x460/0x834)
remote:          [   64.185457] [<c0194698>] (nfs_file_direct_read) from [<c018cc04>] (nfs_file_read+0x58/0xb4)
remote:          [   64.193823] [<c018cc04>] (nfs_file_read) from [<c00ce8c4>] (do_sync_read+0x80/0xa8)
remote:          [   64.201492] [<c00ce8c4>] (do_sync_read) from [<c00cef58>] (vfs_read+0x90/0x138)
remote:          [   64.208813] [<c00cef58>] (vfs_read) from [<c00cf600>] (SyS_read+0x40/0x94)
remote:          [   64.215701] [<c00cf600>] (SyS_read) from [<c000ed20>] (ret_fast_syscall+0x0/0x30)
remote:          [   64.223193] Code: e1831f92 e3310000 1afffffa e5845008 (e5953000)
remote:          [   64.229336] ---[ end trace 4a585ec805596471 ]---
remote:
remote:          SWLINUX-3769
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 370e9b1d7ea33c50cf49e11fad0d99071e4289a5)
remote:
remote:      commit a51d183e9c8d434bb5b4f0f2d19d05a204d539a6
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Aug 28 17:24:09 2015 -0700
remote:
remote:          Bump version to 3.14-1.9pre
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 996846184fe334a7bbe3a58c3d56b67ff04152e7)
remote:
remote:      commit 123501c62645b6a0dba7cde894c8b92f85bc9a06
remote:      Author: Justin Chen <Justinc1@broadcom.com>
remote:      Date:   Thu Aug 27 16:50:45 2015 -0700
remote:
remote:          watchdog_dev: Change watchdog naming to be consistent with alias
remote:
remote:          There isn't a way to differentiate multiple watchdogs because
remote:          the naming scheme is done through watchdog_dev. This change uses
remote:          the alias ID for the watchdog name. This makes it easy to cross
remote:          reference the watchdog with the device tree alias so we can know
remote:          which watchdog we are using.
remote:
remote:          If no alias is defined, the watchdog will use the default naming
remote:          scheme.
remote:
remote:          SWLINUX-3621
remote:
remote:          Signed-off-by: Justin Chen <Justinc1@broadcom.com>
remote:          (cherry picked from commit c218f81d0e8c136d22bbc36f184f42d5f2fa6dc5)
remote:
remote:      commit 2976a8097c0839eb3076b499545a0f4b14eeaf4d
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Jul 30 11:34:11 2015 -0700
remote:
remote:          net: dsa: Add netconsole support
remote:
remote:          Add support for netconsole using DSA slave network devices. We need to do
remote:          something very similar to what the 802.1q driver does: manage our own setup and
remote:          cleanup and hook into the transmit path of the slave devices to transmit
remote:          netpoll packets.
remote:
remote:          SWLINUX-3725
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 41a1515fe34be09a48966d0b0a1eb0a83db5007f)
remote:
remote:      commit d15dc0afbe57b876a15c0b224cbafff199056193
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Jul 30 11:12:45 2015 -0700
remote:
remote:          BCMSYSPORT: Add netconsole support
remote:
remote:          Implement a ndo_poll_controller() callback to allow netconsole to be used with
remote:          the SYSTEMPORT driver.
remote:
remote:          SWLINUX-3725
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 0e5be1bcf88b42da2553049aade4a4a6288e2911)
remote:
remote:      commit 9299ecc4365d4800fc34f405faa1eb3ca424d640
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Jul 30 10:43:34 2015 -0700
remote:
remote:          BCMGENET: Add netconsole support
remote:
remote:          Add netconsole support to the GENET driver by implementing a
remote:          ndo_poll_controller() callback which invokes the RX interrupt handler and
remote:          reclaims transmitted buffers.
remote:
remote:          SWLINUX-3725
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 2e4b3c665765fba1c659c6b8cc0880b9a41a42e6)
remote:
remote:      commit 0b750a7f98f9fa10c1c0ffe234d47899f9b50027
remote:      Author: Russell King <rmk+kernel@arm.linux.org.uk>
remote:      Date:   Tue May 19 17:06:44 2015 +0100
remote:
remote:          ARM: v7 setup function should invalidate L1 cache
remote:
remote:          All ARMv5 and older CPUs invalidate their caches in the early assembly
remote:          setup function, prior to enabling the MMU.  This is because the L1
remote:          cache should not contain any data relevant to the execution of the
remote:          kernel at this point; all data should have been flushed out to memory.
remote:
remote:          This requirement should also be true for ARMv6 and ARMv7 CPUs - indeed,
remote:          these typically do not search their caches when caching is disabled (as
remote:          it needs to be when the MMU is disabled) so this change should be safe.
remote:
remote:          ARMv7 allows there to be CPUs which search their caches while caching is
remote:          disabled, and it's permitted that the cache is uninitialised at boot;
remote:          for these, the architecture reference manual requires that an
remote:          implementation specific code sequence is used immediately after reset
remote:          to ensure that the cache is placed into a sane state.  Such
remote:          functionality is definitely outside the remit of the Linux kernel, and
remote:          must be done by the SoC's firmware before _any_ CPU gets to the Linux
remote:          kernel.
remote:
remote:          Changing the data cache clean+invalidate to a mere invalidate allows us
remote:          to get rid of a lot of platform specific hacks around this issue for
remote:          their secondary CPU bringup paths - some of which were buggy.
remote:
remote:          SWLINUX-3778
remote:
remote:          Reviewed-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Tested-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Tested-by: Heiko Stuebner <heiko@sntech.de>
remote:          Tested-by: Dinh Nguyen <dinguyen@opensource.altera.com>
remote:          Acked-by: Sebastian Hesselbarth <sebastian.hesselbarth@gmail.com>
remote:          Tested-by: Sebastian Hesselbarth <sebastian.hesselbarth@gmail.com>
remote:          Acked-by: Shawn Guo <shawn.guo@linaro.org>
remote:          Tested-by: Thierry Reding <treding@nvidia.com>
remote:          Acked-by: Thierry Reding <treding@nvidia.com>
remote:          Tested-by: Geert Uytterhoeven <geert+renesas@glider.be>
remote:          Tested-by: Michal Simek <michal.simek@xilinx.com>
remote:          Tested-by: Wei Xu <xuwei5@hisilicon.com>
remote:          Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
remote:          [gregory: dropped a bunch of changes for archs that aren't in 3.14, and didn't
remote:          check too carefully that this will work for anything but brcmstb]
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:          Conflicts:
remote:          	arch/arm/mach-bcm/Makefile
remote:          	arch/arm/mach-bcm/headsmp-brcmstb.S
remote:          	arch/arm/mach-bcm/platsmp-brcmstb.c
remote:          	arch/arm/mach-berlin/headsmp.S
remote:          	arch/arm/mach-berlin/platsmp.c
remote:          	arch/arm/mach-hisi/Makefile
remote:          	arch/arm/mach-hisi/core.h
remote:          	arch/arm/mach-hisi/platsmp.c
remote:          	arch/arm/mach-mvebu/headsmp-a9.S
remote:          	arch/arm/mach-rockchip/core.h
remote:          	arch/arm/mach-rockchip/headsmp.S
remote:          	arch/arm/mach-rockchip/platsmp.c
remote:          	arch/arm/mach-shmobile/common.h
remote:          	arch/arm/mach-shmobile/headsmp.S
remote:          	arch/arm/mach-socfpga/core.h
remote:          	arch/arm/mach-socfpga/platsmp.c
remote:
remote:          (cherry picked from commit f89d9c7ec86c2205b159e3d5dd8132084039bbff)
remote:
remote:      commit 713e7071ca3454818e528eb7f20389ac32fb0111
remote:      Author: Arnd Bergmann <arnd@arndb.de>
remote:      Date:   Sun Mar 16 18:04:54 2014 +0100
remote:
remote:          ARM: sunxi: fix build for THUMB2_KERNEL
remote:
remote:          Building an SMP kernel for the sunxi platform with THUMB2 instructions
remote:          fails with this error at the moment:
remote:
remote:          headsmp.S:7: Error: Thumb encoding does not support an immediate here -- `msr cpsr_fsxc,#0xd3'
remote:
remote:          Since the generic secondary_startup function already does
remote:          the same thing in a safe way, we can just drop the private
remote:          sunxi implementation and jump straight to secondary_startup.
remote:
remote:          SWLINUX-3778
remote:
remote:          Signed-off-by: Arnd Bergmann <arnd@arndb.de>
remote:          Cc: Maxime Ripard <maxime.ripard@free-electrons.com>
remote:          [gregory: we need this for secondary_startup]
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:          (cherry picked from commit 4f0ea929d10a429b37ae8707e1d9b55177f64a60)
remote:
remote:      commit a36639635a1c15ae7bf84bd76f7412202fd06c6a
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Aug 17 11:47:49 2015 -0700
remote:
remote:          ARM: brcmstb: backport upstream platsmp cleanups
remote:
remote:          The following were changes made by Brian during the upstream submission of the
remote:          SMP code:
remote:          - Add some more comments explaining what we have to do to bring down secondary
remote:            CPUs
remote:          - Get rid of some unnecessary tests
remote:          - Correct per_cpu_sw_state_wr() by moving the dmb() to before setting the
remote:            state and eliminating the dmb_sev(),
remote:          - Check in brcmstb_boot_secondary that we actually had the required DT nodes
remote:
remote:          (Yes, there's a typo in one of the comments, I'm keeping it to be consistent
remote:          with upstream for now)
remote:
remote:          SWLINUX-3778
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 850979dd90baaaf6491eb9dc2cf0ec5707f5933b)
remote:
remote:      commit 8a2943d5af7bc80fac91a9178467cd0e853cd334
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Aug 14 15:13:14 2015 -0700
remote:
remote:          soc: brcmstb: wktmr: Resolve section mismatch
remote:
remote:          register_persistent_clock() is annotated with __init and called from
remote:          brcmstb_wktmr_probe() which is not, causing a section mismatch.
remote:
remote:          Unwind module_platform_driver() to introduce separate module_init()/exit()
remote:          entry points and allowing using to call platform_driver_probe() with a specific
remote:          function annotated with __init.
remote:
remote:          SWLINUX-3721
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit affa5c913eb69fd9221a1970fc28199e2bb8c976)
remote:
remote:      commit 4cf80c5e57f7fa81f5f3426c0037cdde9d9e8bdf
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Aug 17 18:59:21 2015 -0700
remote:
remote:          ARM: brcmstb: add earlyprintk UART address for 74371a0
remote:
remote:          We were missing an explicit setting for DEBUG_UART_PHYS and
remote:          DEBUG_UART_VIRT for 74371a0, and was instead relying on the default
remote:          value being the right one.  Since this might not be the case, and we
remote:          know what it ought to be, just add the correct values.
remote:
remote:          SWLINUX-3780
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 7664fd8a8e6ac403a5d81525e1fa16302376948f)
remote:
remote:      commit 54528351505e6b2a0b39fc511ca0e701cdf00e11
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Wed Aug 12 20:19:56 2015 -0700
remote:
remote:          mm: some brcmstb_get_page() cleanup
remote:
remote:          brcmstb_get_page() does not actually use its vma argument, so get rid of that.
remote:          We still need to check that we actually have a vma beforehand though.  Also,
remote:          the next_page label in __get_user_pages() (GUP) already handles accounting so we'd
remote:          like to just jump there and not duplicate the logic.  While looking at that, I
remote:          realized that we were unnecessarily re-finding the current vma every iteration,
remote:          which should only be necessary when first calling GUP or when crossing a vma
remote:          bound, so by changing to jump to next_page and instead also calling
remote:          brcmstb_get_page() in the inner loop, that should help to optimize GUP for BMEM
remote:          and CMA.
remote:
remote:          SWLINUX-3769
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit e5308bd82743c1621ce4641a701cb2c07ec46235)
remote:
remote:      commit 29e8384551f2d0caf337ab70d6ef6685963abc17
remote:      Author: Justin Chen <Justinc1@broadcom.com>
remote:      Date:   Fri Aug 14 12:17:56 2015 -0700
remote:
remote:          watchdog: add support for brcmstb
remote:
remote:          Added documentation for device tree binding.
remote:
remote:          SWLINUX-3621
remote:
remote:          Signed-off-by: Justin Chen <Justinc1@broadcom.com>
remote:          (cherry picked from commit 8f71e0e602d57377069c15db0150827548d6b10c)
remote:
remote:      commit 7b6f69d7669535d88b6d56efaf124c41255823c6
remote:      Author: Ben Hutchings <ben.hutchings@codethink.co.uk>
remote:      Date:   Tue Jan 27 00:58:15 2015 +0000
remote:
remote:          net: phy: Invalidate LP advertising flags when restarting or disabling AN
remote:
remote:          [Upstream commit 9b3320ef702d1c7daf165d5c72c945f0be6b2bed]
remote:
remote:          It is possible to see the old value of the LP advertising flags
remote:          through ethtool after reconfiguring the PHY and before autonegotiation
remote:          completes.  If autonegotiation is turned off then the last value seen
remote:          will persist indefinitely.
remote:
remote:          SWLINUX-3766
remote:
remote:          Signed-off-by: Ben Hutchings <ben.hutchings@codethink.co.uk>
remote:          Acked-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 250be9fa7511092e2c38e6d60b7de2f9ce03534b)
remote:
remote:      commit 552528490df40c5bff8a3370e153cf1c9bc74e43
remote:      Author: Brian Hill <brian@houston-radar.com>
remote:      Date:   Tue Nov 11 13:39:39 2014 -0700
remote:
remote:          net: phy: Correctly handle MII ioctl which changes autonegotiation.
remote:
remote:          [Upstream commit 79ce0477ffe82e7e49e55179cd176a1c33382744]
remote:
remote:          When advertised capabilities are changed with mii-tool, such as:
remote:          mii-tool -A 10baseT
remote:          the existing handler has two errors.
remote:
remote:          - An actual PHY register value is provided by mii-tool, and this
remote:            must be mapped to internal state with mii_adv_to_ethtool_adv_t().
remote:          - The PHY state machine needs to be told that autonegotiation has
remote:            again been performed.  If not, the MAC will not be notified of
remote:            the new link speed and duplex, resulting in a possible config
remote:            mismatch.
remote:
remote:          SWLINUX-3766
remote:
remote:          Signed-off-by: Brian Hill <Brian@houston-radar.com>
remote:          Acked-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 9e4788657f319b030b04e8fe42b8c15791b478fb)
remote:
remote:      commit f86024647c7c79e02e1dc4287054c2cc6875176f
remote:      Author: Doug Berger <douglasb@broadcom.com>
remote:      Date:   Fri Aug 7 14:20:48 2015 -0700
remote:
remote:          thermal: brcmstb_thermal: maintain consistency of the private data
remote:
remote:          Set the regtype member of the private data structure before setting the
remote:          thermal member of the structure so that it will always be valid when
remote:          thermal is non-zero. This ensures consistency of the private data structure.
remote:
remote:          SWLINUX-3756
remote:
remote:          Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:          (cherry picked from commit 595f818a922fa0c41ca183c7e0502a5d43adc49a)
remote:
remote:      commit 8ee6f43ff88811f0ec0d7d26f8560a04a6635ddc
remote:      Author: Doug Berger <douglasb@broadcom.com>
remote:      Date:   Fri Aug 7 12:02:35 2015 -0700
remote:
remote:          thermal: brcmstb_thermal: fix unregister call
remote:
remote:          Thermal drivers registered thermal_zone_of_sensor_register() should be
remote:          deregistered with thermal_zone_of_sensor_unregister() instead of
remote:          thermal_zone_device_unregister().
remote:
remote:          SWLINUX-3756
remote:
remote:          Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:          (cherry picked from commit e39fdf8743dbc6d6e12ae946d47d22a1cb5a163a)
remote:
remote:      commit a0080894b07afb1a8810e7526270a2bb5e66e5dc
remote:      Author: Doug Berger <douglasb@broadcom.com>
remote:      Date:   Thu Aug 6 16:47:37 2015 -0700
remote:
remote:          thermal: brcmstb_thermal: add device pointer to private data
remote:
remote:          The Broadcom Set-Top Box Thermal driver now retains a pointer to its device
remote:          structure in its private data structure so that it is available for use with
remote:          device logging methods.  The previous version used a pointer to the
remote:          thermal_zone_device to locate its device structure, but the attempt to log an
remote:          error on the first attempt to read the thermal monitor before the pointer to
remote:          the thermal_zone_device had been established caused a NULL pointer dereference
remote:          and a kernel panic.
remote:
remote:          SWLINUX-3756
remote:
remote:          Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:          (cherry picked from commit ba8c19749253c3a55cb0faf81b138befa8de1e35)
remote:
remote:      commit 8d96ae09c9ba94b7b7b70d66113e62d026ce6ce5
remote:      Author: Kamal Dasu <kdasu@broadcom.com>
remote:      Date:   Tue Aug 4 15:17:59 2015 -0400
remote:
remote:          spi: brcmstb: Add QOR cmd support for quad io
remote:
remote:          brcmstb spi driver can use bspi hardware to read
remote:          Added QOR command support for reads to succeed.
remote:
remote:          SWLINUX-3618
remote:
remote:          Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:          (cherry picked from commit 4fe6465d2fd00c7f47b24c4e41617a3cc8b10e77)
remote:
remote:      commit 6e9198d55f90741302d93113a584b84fa520327b
remote:      Author: Danesh Petigara <dpetigara@broadcom.com>
remote:      Date:   Thu Jul 16 13:55:00 2015 -0700
remote:
remote:          libata: skip debounce delay on link resume
remote:
remote:          The link resume logic uses a 200msec delay while debouncing
remote:          the SControl register. The rationale behind that delay is
remote:          to accomodate some PHYs that behave badly if their SStatus/
remote:          SControl registers are pounded immediately on resume.
remote:          The Broadcom STB SATA PHY does not seem to have this issue.
remote:          This patch introduces a new link flag that allows platforms
remote:          to skip the debounce delay if it isn't needed.
remote:
remote:          SWLINUX-3745
remote:
remote:          Signed-off-by: Danesh Petigara <dpetigara@broadcom.com>
remote:          (cherry picked from commit a4c2d1939fdf58839db899f4d708b9f4394ef302)
remote:
remote:      commit 489c054dda54c16024c0537a3bd06200a422aecb
remote:      Author: Petri Gynther <pgynther@google.com>
remote:      Date:   Wed Apr 1 00:40:00 2015 -0700
remote:
remote:          BCMGENET: enable MoCA link state change detection
remote:
remote:          [Upstream commit 8d88c6ebb34c3e54debe81e9b0d81b60411f8179]
remote:
remote:          Currently, MoCA fixed PHYs are always in link-up state, regardless of
remote:          whether the link is actually up or not.
remote:
remote:          Add code to properly detect MoCA link state changes and to reflect the
remote:          new state in MoCA fixed PHY. Only GENET V3 and V4 MACs are capable of
remote:          detecting MoCA link state changes.
remote:
remote:          The code works as follows:
remote:          1. GENET MAC detects MoCA link state change and issues UMAC_IRQ_LINK_UP
remote:             or UMAC_IRQ_LINK_DOWN interrupt.
remote:          2. Link up/down interrupt is processed in bcmgenet_irq_task(), which
remote:             calls phy_mac_interrupt().
remote:          3. phy_mac_interrupt() updates the fixed PHY phydev->link and kicks
remote:             the PHY state machine.
remote:          4. PHY state machine proceeds to read the fixed PHY link status
remote:             register.
remote:          5. When the fixed PHY link status register is being read, the new
remote:             function bcmgenet_fixed_phy_link_update() gets called. It copies
remote:             the fixed PHY phydev->link value to the fixed PHY status->link.
remote:          6. PHY state machine receives the new link state of the fixed PHY.
remote:          7. MoCA fixed PHY link state now correctly reflects the real MoCA
remote:             hardware link state.
remote:
remote:          SWLINUX-3744
remote:
remote:          Signed-off-by: Petri Gynther <pgynther@google.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 415d214ad82b7e86a1fe38aa84f7876fb2b856ed)
remote:
remote:      commit 154469a0fd30d57448389ebef9cf8da6a864cabb
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jul 20 16:12:25 2015 -0700
remote:
remote:          BCMGENET: Fold bcmgenet_mii_config() in bcmgenet_mii_probe()
remote:
remote:          This is required for bcmgenet_mii_config() to know about the kind of PHY device
remote:          we are bound to (internal, MoCA, external etc...) and do either the appropriate
remote:          PHY and hardware setup in case we need.
remote:
remote:          Doing this during the driver probe time forced us to call this again during
remote:          bcmgenet_open() in case we never brought up the interface.
remote:
remote:          In order for bcmgenet_mii_config() to have full knowledge about the PHY device,
remote:          make sure we do assign priv->phydev with a correct PHY device pointer before
remote:          calling bcmgenet_mii_config().
remote:
remote:          SWLINUX-3744
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 5e0f094a403062ffcb09b2e032f5ee3325448f00)
remote:
remote:      commit bf2dd34e7eeb00cc36a60437de1298321706e879
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jul 20 16:25:31 2015 -0700
remote:
remote:          BCMGENET: Move check for MoCA PHY later
remote:
remote:          of_get_phy_mode() understands "moca" as a valid PHY mode, such that we will
remote:          never enter the < 0 condition and we will fail to assign priv->phy_type
remote:          correctly.
remote:
remote:          SWLINUX-3744
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 8b4e790c6462c6a0955f8c92330498c91731f8b5)
remote:
remote:      commit 51266fc3959c2283d25549295b7c89f72be4ddfb
remote:      Author: Petri Gynther <pgynther@google.com>
remote:      Date:   Mon Mar 30 00:29:35 2015 -0700
remote:
remote:          BCMGENET: fix the call to phy_mac_interrupt()
remote:
remote:          [Upstream commit 451e1ca2ab68b9184379fde7867f278c4b3efc61]
remote:
remote:          On phy_mac_interrupt() call, the new_link parameter should be 0 or 1.
remote:
remote:          SWLINUX-3744
remote:
remote:          Signed-off-by: Petri Gynther <pgynther@google.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit f7f14969611a2426754f63750ab71f6d9d256067)
remote:
remote:      commit 31c036155105fd0d0412a24accae7f67ffadc350
remote:      Author: Petri Gynther <pgynther@google.com>
remote:      Date:   Mon Mar 30 00:29:24 2015 -0700
remote:
remote:          BCMGENET: add UMAC_IRQ_LINK_EVENT
remote:
remote:          [Upstream commit e122966dd9aedb666df93f5ee6007e1688194611]
remote:
remote:          Add #define UMAC_IRQ_LINK_EVENT to simplify link event handling code.
remote:
remote:          SWLINUX-3744
remote:
remote:          Signed-off-by: Petri Gynther <pgynther@google.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 23e76393abd93803ad24a8a1d7e0043404e33577)
remote:
remote:      commit 227ac3c7abaaa7aea3773266b9b0272bd7f3059f
remote:      Author: Danesh Petigara <dpetigara@broadcom.com>
remote:      Date:   Mon Jul 13 11:30:38 2015 -0700
remote:
remote:          drivers: ata: wake port before DMA stop for ALPM
remote:
remote:          The AHCI driver code stops and starts port DMA engines at will
remote:          without considering the power state of the particular port. The
remote:          AHCI specification isn't very clear on how to handle this scenario,
remote:          leaving implementation open to interpretation.
remote:
remote:          Broadcom's STB SATA host controller is unable to handle port DMA
remote:          controller restarts when the port in question is in low power mode.
remote:          When a port enters partial or slumber mode, it's PHY is powered down.
remote:          When a controller restart is requested, the controller's internal
remote:          state machine expects the PHY to be brought back up by software which
remote:          never happens in this case, resulting in failures.
remote:
remote:          To avoid this situation, logic is added to manually wake up the port
remote:          just before it's DMA engine is stopped, if the port happens to be in
remote:          a low power state. HBA initiated power management ensures that the port
remote:          eventually returns to it's configured low power state, when the link is
remote:          idle (as per the conditions listed in the spec). A new host flag is also
remote:          added to ensure this logic is only exercised for hosts with the above
remote:          limitation.
remote:
remote:          SWLINUX-3620
remote:
remote:          Signed-off-by: Danesh Petigara <dpetigara@broadcom.com>
remote:          (cherry picked from commit bf8508c4eea6dad6ade28c7d6ddb79109608b68f)
remote:
remote:      commit efb51ce4f3b53346fd7c194127e1cc8a8cc6328d
remote:      Author: Danesh Petigara <dpetigara@broadcom.com>
remote:      Date:   Fri Jul 3 10:58:45 2015 -0700
remote:
remote:          ahci: disable DIPM on brcmstb SATA controller
remote:
remote:          The Broadcom STB SATA host controller does not support device
remote:          initiated power management. Disable support for this feature
remote:          so the driver never sends SETFEATURES commands to the device
remote:          to enable/disable DIPM.
remote:
remote:          SWLINUX-3620
remote:
remote:          Signed-off-by: Danesh Petigara <dpetigara@broadcom.com>
remote:          (cherry picked from commit f553564eff4da88a7fb70c449c27abf9d770fa1d)
remote:
remote:      commit 7fd3ddacd797ce345710bf0224b36cc8c8faede8
remote:      Author: Danesh Petigara <dpetigara@broadcom.com>
remote:      Date:   Mon Jul 13 11:25:38 2015 -0700
remote:
remote:          sata_brcmstb: enable support for ALPM
remote:
remote:          Enable support for ALPM in the host controller's capabilities
remote:          register. Also adjust the PLL  timeout to give it enough time
remote:          to lock when the port exits slumber mode.
remote:
remote:          SWLINUX-3620
remote:
remote:          Signed-off-by: Danesh Petigara <dpetigara@broadcom.com>
remote:          (cherry picked from commit f5b9f3772cf060bd8327474ca114a9d69e20b1e8)
remote:
remote:      commit bf5a1e73e066b6571a56c3f987276d7e9cc631e4
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Jul 17 18:15:56 2015 -0700
remote:
remote:          soc: brcmstb: wktmr: Implement persistent clock for sleep
remote:
remote:          In order to have the core kernel timekeeping code to work and be able to
remote:          account for time spent during sleep states, implement a persistent clock device
remote:          which utilizes the WKTMR.
remote:
remote:          ARM offers the ability to dynamically register such a device using
remote:          register_persistent_clock(), so we utilize this to provide a working
remote:          implementation.
remote:
remote:          While at it, fix the typo on the prescaler register define.
remote:
remote:          Note that the wktmr is now a singleton, and we will return -EBUSY if we find an
remote:          existing wake-timer instance while probing.
remote:
remote:          SWLINUX-3721
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 2e72031aad74bd0f050e4034c91fa7413a187897)
remote:
remote:      commit 9e6474d2823ac845dbe04d9bca75566bdc814e55
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Jul 22 10:36:10 2015 -0700
remote:
remote:          irqchip: bcm7120-l2: Fix interrupt status reads for multiple L1
remote:
remote:          Our irq-bcm7120-l2 interrupt controller driver utilizes the same handler
remote:          function for the different parent interrupts it services: UPG_MAIN, UPG_BSC for
remote:          instance.
remote:
remote:          The problem is that function reads the IRQSTAT register which can combine
remote:          interrupt causes for different parent interrupts, such that we can end-up in the
remote:          following situation:
remote:
remote:          - CPU takes an interrupt
remote:          - bcm7120_l2_intc_irq_handle() reads IRQSTAT
remote:          - generic_handle_irq() is invoked
remote:          - there are still pending interrupts flagged in IRQSTAT from a different parent
remote:          - handle_bad_irq() is invoked
remote:
remote:          In order to fix this, make sure that we always mask IRQSTAT with the
remote:          appropriate bits that correspond go the parent interrupt source this is coming
remote:          from. To simplify things, associate an unique structure per parent interrupt
remote:          handler to avoid multiplying the number of lookups.
remote:
remote:          While at it, remove the unused 'gc' argument from bcm7120_l2_intc_irq_handle().
remote:
remote:          SWLINUX-3747
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 96144b62fac9aeff32f35a8e8260d9833cebf06c)
remote:
remote:      commit 996eb6579b80135397fcb4b2e235db885877753d
remote:      Author: Kevin Cernekee <cernekee@gmail.com>
remote:      Date:   Thu Nov 6 22:44:24 2014 -0800
remote:
remote:          irqchip: bcm7120-l2: Fix missing nibble in gc->unused mask
remote:
remote:          [Upstream commit 0b5cb32ca5aea14bfcfda380e5da67b0abf35b4b]
remote:
remote:          This mask should have been 0xffff_ffff, not 0x0fff_ffff.
remote:
remote:          The change should not have an effect on current users (STB) because bits
remote:          31:27 are unused.
remote:
remote:          SWLINUX-3747
remote:
remote:          Signed-off-by: Kevin Cernekee <cernekee@gmail.com>
remote:          Acked-by: Arnd Bergmann <arnd@arndb.de>
remote:          Acked-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Link: https://lkml.kernel.org/r/1415342669-30640-10-git-send-email-cernekee@gmail.com
remote:          Signed-off-by: Jason Cooper <jason@lakedaemon.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit ffae1a1724b00e15db51db27d97d6b2f1f0215f8)
remote:
remote:      commit c52a979dc7a33d409b8ddb9386d1c6603cc27dcc
remote:      Author: Kevin Cernekee <cernekee@gmail.com>
remote:      Date:   Thu Nov 6 22:44:21 2014 -0800
remote:
remote:          irqchip: bcm7120-l2: Eliminate bad IRQ check
remote:
remote:          [Upstream commit f668f074ff58dea540d83bbed1b2c1171b0dd764]
remote:
remote:          This check may be prone to race conditions, e.g.
remote:
remote:          1) Some external event (e.g. GPIO level) causes an IRQ to become pending
remote:          2) Peripheral asserts the L2 IRQ
remote:          3) CPU takes an interrupt
remote:          4) The event from #1 goes away
remote:          5) bcm7120_l2_intc_irq_handle() reads back a 0 status
remote:
remote:          Unlike the hardware supported by brcmstb-l2, the bcm7120-l2 controller
remote:          does not latch the IRQ status.  Bits can change if the inputs to the
remote:          controller change.  Also, do_bad_IRQ() is an ARM-specific macro.
remote:
remote:          So let's just nuke it.
remote:
remote:          SWLINUX-3747
remote:
remote:          Signed-off-by: Kevin Cernekee <cernekee@gmail.com>
remote:          Acked-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Acked-by: Arnd Bergmann <arnd@arndb.de>
remote:          Link: https://lkml.kernel.org/r/1415342669-30640-7-git-send-email-cernekee@gmail.com
remote:          Signed-off-by: Jason Cooper <jason@lakedaemon.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 66d853d61ee613ad7825d71bfa6ef1e757cbd0bf)
remote:
remote:      commit fb5ba779f2fc6bee4630d37974571fa9f65470ff
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jul 27 16:39:08 2015 -0700
remote:
remote:          brcmstb: memory: add special vmap() for BMEM
remote:
remote:          vmap(), by default, checks to see that the number of pages is not larger than
remote:          the total number of pages managed by Linux.  Usually, this is a nice sanity
remote:          check, and we want to keep that for any of the kernel's vmap() invocations.
remote:          However, this is a problem for our use case because we actually want to vmap()
remote:          pages that are _not_ managed by Linux.  This essentially copies vmap() but
remote:          removes the check against totalram_pages.
remote:
remote:          SWLINUX-3730
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 7b55ad0cce0e19d6e05c0a503b7e14d5e6b193c1)
remote:
remote:      commit 2fb3622542183ea37adc2f802afb7a1c78612ed6
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Fri Jul 24 15:43:53 2015 -0700
remote:
remote:          brcmstb: memory: add function to kva map based on phys addr
remote:
remote:          Add function brcmstb_memory_kva_map_phys() to take in a physical address
remote:          instead of a page.  This API will be used by refsw, which was just converting
remote:          to a struct page * to call our function.
remote:
remote:          Bump BRCMSTB_H_VERSION to 4.
remote:
remote:          SWLINUX-3730
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 27015fd335fbae37a08b1e73cbf4e68e9337ec64)
remote:
remote:      commit ccec1782e60cc8a7f8f772af7edcaf059a57f289
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Thu Jul 23 15:42:50 2015 -0700
remote:
remote:          soc: brcmstb: move kva_(un)map functions to memory API
remote:
remote:          The kernel VA map and unmap functions are not really just for CMA and will also
remote:          be used for BMEM, so move there.  Also modify cma_driver.h so that it will
remote:          continue to be possible to use the names cma_dev_kva_{map,unmap}.
remote:
remote:          Bump BRCMSTB_H_VERSION to 3.
remote:
remote:          SWLINUX-3730
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 8a7fb96af0f302c4f242ab485b926b4a9014d459)
remote:
remote:      commit 3996e3208028c185a2771367e78559617304de77
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Wed Jul 22 14:16:41 2015 -0400
remote:
remote:          usb: bdc: Fix compiler error when CONFIG_USB_GADGET_VERBOSE is enabled
remote:
remote:          Fix compiler error in the USB BDC driver when the config options
remote:          CONFIG_USB_GADGET_DEBUG and CONFIG_USB_GADGET_VERBOSE are enabled
remote:          in the defconfig.
remote:
remote:          SWLINUX-3746
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit b1847e591c96fd7fbcf3460250df11a2556c4761)
remote:
remote:      commit 12d49c9f15dd64b020b549efde7a71775dc18c80
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jul 20 14:29:54 2015 -0700
remote:
remote:          Bump version to 3.14-1.8pre
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit cde111bd52a20199a26d1173f2cdd7cac7bd885f)
remote:
remote:      commit c9424976df5425e77f004b5786af33b213d9af3b
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Jul 15 17:25:30 2015 -0700
remote:
remote:          BCMGENET: Delay PHY initialization to bcmgenet_open()
remote:
remote:          We are currently doing a full PHY initialization and starting the PHY state
remote:          machine during bcmgenet_mii_init() which is executed in the probe function.
remote:          This is convenient to determine whether we can attach to a proper PHY device
remote:          but comes with expense of spending up to 10ms per MDIO transaction, which
remote:          slows things down.
remote:
remote:          This also creates a situation where we end-up attaching twice to the PHY,
remote:          which is not quite correct either.
remote:
remote:          Fix this by moving bcmgenet_mii_probe() into bcmgenet_open().
remote:
remote:          SWLINUX-3743
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 5043be0c54365e785a08a97ecbc24968927ec051)
remote:
remote:      commit ae56714f97bfa4392863bf95cd94962c9e78ac1c
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Jul 17 10:00:03 2015 -0700
remote:
remote:          BCMGENET: Use correct dev_id for free_irq
remote:
remote:          bcmgenet_open()'s error path calls free_irq() with a dev_id argument different
remote:          from the one we used to call request_irq() with, this will make us trip over
remote:          the warning in kernel/irq/manage.c::__free_irq() against "action" since we
remote:          cannot find a corresponding action mapped to this interrupt.
remote:
remote:          SWLINUX-3743
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 97b0f4c5c25bb208fdca9eed8e76c77c415d9191)
remote:
remote:      commit 95c018426f3fc0ff3d5f83307298cead43e01cb3
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Wed Jul 15 12:10:48 2015 -0700
remote:
remote:          brcmstb_defconfig: enable CONFIG_HZ_1000
remote:
remote:          Timer latency is too high with the default of 100, so increase to 1000.
remote:
remote:          Tested using nexus baseline with the following change:
remote:
remote:          --- a/nexus/platforms/common/src/nexus_platform.c
remote:          +++ b/nexus/platforms/common/src/nexus_platform.c
remote:          @@ -681,6 +681,14 @@ NEXUS_Error NEXUS_Platform_Init_tagged( const NEXUS_PlatformSettings *pSettings,
remote:               preInitState = NEXUS_Platform_P_PreInit();
remote:               if (!preInitState) {errCode = -1; goto err_preinit;} /* no BERR_TRACE possible */
remote:
remote:          +    {
remote:          +        unsigned loops = 50;
remote:          +        while (loops--) {
remote:          +            BKNI_Sleep(1);
remote:          +            BDBG_WRN(("here"));
remote:          +        }
remote:          +    }
remote:          +
remote:               NEXUS_Platform_GetReleaseVersion(g_platformSwVersion,100);
remote:               BDBG_WRN(("%s boxmode %d",g_platformSwVersion, preInitState->boxMode));
remote:
remote:          SWLINUX-3443
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 149b9b1da0e6f384f7e5f83d20a9bc6f50edc8d2)
remote:
remote:      commit 2a0e01144059562bddf0a3e127276b9a9b29b643
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Wed Jul 15 13:15:40 2015 -0400
remote:
remote:          usb: gadget: bdc: Add device-tree binding document for BDC driver
remote:
remote:          SWLINUX-3630
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit a8a40ea7cd00637b77cae19cf2a23734b037d5b5)
remote:
remote:      commit cc240b7e8dfd65129c5c9cde2598d704fdfaa6e9
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Wed Jul 15 09:25:06 2015 -0400
remote:
remote:          usb: gadget: bdc: Add additional configuration setup for BDC
remote:
remote:          This will enable the BDC base driver that can be used by any
remote:          Gadget driver. To test this driver a Gadget driver can be enabled
remote:          in the defconfig file.
remote:          Storage support:
remote:          CONFIG_USB_F_MASS_STORAGE=y
remote:          CONFIG_USB_MASS_STORAGE=y
remote:          Ethernet dongle support:
remote:          CONFIG_USB_ETH=y
remote:
remote:          SWLINUX-3630
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit e202e40f6a42042e00a7b98b3d80de136db16e27)
remote:
remote:      commit c78d52a396dc150e8a62154119d89caf16201136
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Wed Jul 15 09:21:43 2015 -0400
remote:
remote:          usb: gadget: bdc: Minor cleanup in usb-brcm.c
remote:
remote:          SWLINUX-3630
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit 91d47c93a6b289db8ba1b6e848af2994917c0427)
remote:
remote:      commit d70e04fb176a66a76d4e614aabfe5ae23da7b53b
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Fri Jun 19 11:12:16 2015 -0400
remote:
remote:          usb: gadget: bdc: Fix a driver crash on disconnect
remote:
remote:          ep_dequeue() in bdc_ep.c was capturing the hw dequeue pointer
remote:          incorrectly by reading the wrong register for the upper 32 bits.
remote:
remote:          SWLINUX-3630
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit 1d3ef38aedc034914b3b2f4930a9be58a8f7af72)
remote:
remote:      commit ebecdffa99d4748524d311a0ba38845eb87b56c1
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Jan 22 13:52:54 2015 -0800
remote:
remote:          usb: gadget: bdc: hook a quick Device Tree compatible string
remote:
remote:          Allows Device Tree probing
remote:
remote:          SWLINUX-3630
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit e8f5f48012969e6f10e0636f4e6dfd43eb4ee934)
remote:
remote:      commit db4b478cf1e02d1e64478f9c4b7703b729a63055
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Jan 16 16:48:56 2015 -0800
remote:
remote:          usb: gadget: bdc: fix bdc_stop function prototype
remote:
remote:          SWLINUX-3630
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit f3f765fc7129c00c8c1d9991eb89fb7aa8b77067)
remote:
remote:      commit b9577f103f12e9ebe37b72c57500d7ecfd6ea4dc
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Jan 16 16:45:57 2015 -0800
remote:
remote:          usb: gadget: Introduce usb_gadget_giveback_request()
remote:
remote:          All USB peripheral controller drivers call completion routines directly.
remote:          This patch adds usb_gadget_giveback_request() which will be used instead
remote:          of direct invocation in the next patch. The goal here is to have a place
remote:          where common functionality can be added.
remote:
remote:          SWLINUX-3630
remote:
remote:          Signed-off-by: Michal Sojka <sojka@merica.cz>
remote:          Acked-by: Felipe Balbi <balbi@ti.com>
remote:          Tested-by: Felipe Balbi <balbi@ti.com>
remote:          Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
remote:          [fainelli: make it apply to 3.14]
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:
remote:          (cherry picked from commit 39163dad04c3649770bcb73534bd0f02d5ac4eef)
remote:
remote:      commit ef02a1622ed64b3ade2396d5218cfb0a2bbc2021
remote:      Author: John W. Linville <linville@tuxdriver.com>
remote:      Date:   Tue Jan 6 14:49:47 2015 -0500
remote:
remote:          usb: gadget: udc: avoid dereference before NULL check in ep_queue
remote:
remote:          Coverity: CID 1260069
remote:
remote:          SWLINUX-3630
remote:
remote:          Signed-off-by: John W. Linville <linville@tuxdriver.com>
remote:          Cc: Felipe Balbi <balbi@ti.com>
remote:          Cc: stable <stable@vger.kernel.org>
remote:          Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit bfce096be610f6d4f5f1ce2acc0e1547a638f746)
remote:
remote:      commit 91e74ab695553888ca43c4b5409986e01de67522
remote:      Author: Dan Carpenter <dan.carpenter@oracle.com>
remote:      Date:   Sat Nov 29 15:49:17 2014 +0300
remote:
remote:          usb: gadget: udc: missing curly braces
remote:
remote:          There were curly braces intended here.
remote:
remote:          SWLINUX-3630
remote:
remote:          Signed-off-by: Dan Carpenter <dan.carpenter@oracle.com>
remote:          Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit d9d74cba7958bd1570cde46edf5d19e8d6d9ea52)
remote:
remote:      commit 35b86185202ec2e50aababd87bf9adac14cbaed2
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Jan 16 16:26:38 2015 -0800
remote:
remote:          usb: gadget: Add UDC driver for Broadcom USB3.0 device controller IP BDC
remote:
remote:          This patch adds a UDC driver for Broadcom's USB3.0 Peripheral core named BDC.
remote:          BDC supports control traffic on ep0 and bulk/Int/Isoch traffic on all other
remote:          endpoints.
remote:
remote:          [ balbi@ti.com : fix build error on randconfig due to lack of
remote:          	<linux/dmapool.h> ]
remote:
remote:          SWLINUX-3630
remote:
remote:          Signed-off-by: Ashwini Pahuja <ashwini.linux@gmail.com>
remote:          Signed-off-by: Felipe Balbi <balbi@ti.com>
remote:          [fainelli: resolve file move to be in drivers/usb/gadget/]
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:
remote:          (cherry picked from commit 992aae1084928a4acd14918035d84837219a10d4)
remote:
remote:      commit d5c92b893188bab5c93e08f5ec90cba9168adea3
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jul 13 18:00:40 2015 -0700
remote:
remote:          soc: brcmstb: default to bmem
remote:
remote:          Change default reservation type from CMA to BMEM.
remote:
remote:          SWLINUX-3730
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit b2a60a30c3f3be3c72b34ed59e79d2dadf74bf3d)
remote:
remote:      commit 2a379b7b48c975336d27518909e0ee639f19ea12
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue Jul 14 12:32:18 2015 -0700
remote:
remote:          BCMGENET: Remove excessive PHY reset
remote:
remote:          We are currently issuing multiple PHY resets during a suspend/resume,
remote:          first during bcmgenet_power_up() which does a hardware reset, then a
remote:          software reset by calling bcmgenet_mii_reset(). This is both unnecessary
remote:          and can take as long as 10ms per MDIO transactions while we re-apply
remote:          workarounds because we do not yet have MDIO interrupts enabled.
remote:
remote:          phy_resume() takes care of re-apply our workarounds in case we need any,
remote:          and bcmgenet_power_up() does a PHY hardware reset, all of this is more
remote:          than enough to guarantee that the PHY operates correctly.
remote:
remote:          SWLINUX-3736
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 52ed8d25f2e4065adc92b32949f3a671f52d11a6)
remote:
remote:      commit f40a3a4b87c68720f13bfc89c1ecfce48c6ddcaf
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Tue Jun 30 10:47:47 2015 -0400
remote:
remote:          usb: Enable USB 3.0 SSC on both ports
remote:
remote:          Currently, USB 3.0 SSC is enabled via port 0 MDIO registers, which
remote:          should have been adequate. However, due to a bug in the USB 3.0 PHY,
remote:          it must be enabled via both ports.
remote:
remote:          SWLINUX-3722
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit ea1d8977994f57427209158f6ca966933904f004)
remote:
remote:      commit c48e34663e4f7d32a42f3744a423479e000fb472
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jun 29 18:07:30 2015 -0700
remote:
remote:          soc: brcmstb: memory: fix regression in memblock reserve adjustment
remote:
remote:          When updating the default reservation code to handle reserved-memory[1]
remote:          DT entries in addition to memreserve, I made an off-by-one error when
remote:          checking for the unhandled 'split region' case and could also set the
remote:          incorrect size for memreserve at the end of a region.  Fix that,
remote:          simplify the logic a bit, and add some (hopefully) clarifying comments.
remote:
remote:          [1] https://www.kernel.org/doc/Documentation/devicetree/bindings/reserved-memory/reserved-memory.txt
remote:              http://jira.broadcom.com/browse/SWLINUX-3647
remote:
remote:          fixes #SWLINUX-3713
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit a40e62fd2bb44796523518ddbacd45940439a449)
remote:
remote:      commit d2dc9d30834d9ea858076abba945e715f7063088
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Mon Jun 29 18:05:47 2015 -0400
remote:
remote:          mmc: Some Micron eMMC devices cause reboot to hang
remote:
remote:          When using eMMC as the boot device, some Micron eMMC devices will
remote:          cause reboot to hang. This is a result of the eMMC device not going
remote:          into boot mode after the hardware sends CMD0 to reset the eMMC
remote:          device. This only happens if the kernel driver sends CMD5 (SLEEP_WAKE),
remote:          to put the device into sleep state, before restarting the system.
remote:          The fix is to add a quirk that avoids sending the SLEEP command
remote:          and to use MMC_FIXUP to set the quirk for these Micron devices.
remote:
remote:          SWLINUX-3720
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit 58a56945f7ab3bbe17a9ed15ce9f15763210a42f)
remote:
remote:      commit 3e1773226be12696891208e7ed7cc94c3d2a0c7e
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Jun 5 16:34:42 2015 -0700
remote:
remote:          net: phy: mdio-bcm-unimac: workaround initial read failures for integrated PHYs
remote:
remote:          All BCM7xxx integrated Gigabit PHYs have an issue in their MDIO
remote:          management controller which will make the initial read or write to them
remote:          to fail and return 0xffff. This is a real issue as the typical first
remote:          thing we do is read from MII_PHYSID1 and MII_PHYSID2 from get_phy_id()
remote:          to register a driver for these PHYs.
remote:
remote:          Coupled with the workaround in drivers/net/phy/bcm7xxx.c, this
remote:          workaround for the MDIO bus controller consists in scanning the list of
remote:          PHYs to do this initial read workaround for as part of the MDIO bus
remote:          reset routine which is invoked prior to mdiobus_scan().
remote:
remote:          Once we have a proper PHY driver/device registered, all workarounds are
remote:          located there (e.g: power management suspend/resume calls).
remote:
remote:          SWLINUX-3684
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit fb4d51ba013462d04625080420c4316d35df03a0)
remote:
remote:      commit 6d8da89cdacdb42b1c249c69df71b1b4c4a6d3d7
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Jun 5 16:25:05 2015 -0700
remote:
remote:          net: bcmgenet: workaround initial read failures for integrated PHYs
remote:
remote:          All BCM7xxx integrated Gigabit PHYs have an issue in their MDIO
remote:          management controller which will make the initial read or write to them
remote:          to fail and return 0xffff. This is a real issue as the typical first
remote:          thing we do is read from MII_PHYSID1 and MII_PHYSID2 from get_phy_id()
remote:          to register a driver for these PHYs.
remote:
remote:          Coupled with the workaround in drivers/net/phy/bcm7xxx.c, this
remote:          workaround for the MDIO bus controller consists in scanning the list of
remote:          PHYs to do this initial read workaround for as part of the MDIO bus
remote:          reset routine which is invoked prior to mdiobus_scan().
remote:
remote:          Once we have a proper PHY driver/device registered, all workarounds are
remote:          located there (e.g: power management suspend/resume calls).
remote:
remote:          SWLINUX-3684
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 030f1f1693718d481c5023045acb2416dbb3d962)
remote:
remote:      commit 1d23399fbac172e3b5f8a2159ab5b714b52a5a0e
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Jun 3 11:53:03 2015 -0700
remote:
remote:          net: phy: bcm7xxx: workaround MDIO management controller initial read
remote:
remote:          The initial MDIO read or write towards the BCM7xxx integrated PHY may
remote:          fail, workaround this by inserting a dummy MII_BMSR read to force the
remote:          MDIO management controller to see at least one valid transaction and get
remote:          out of stuck state out of reset.
remote:
remote:          SWLINUX-3684
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 35f9349943c8d96764266158478f495a05452e8d)
remote:
remote:      commit 780f24696e5e9f2c6114114025c654b54310fb96
remote:      Author: Daniel Mack <zonque@gmail.com>
remote:      Date:   Mon Jun 2 13:32:45 2014 +0200
remote:
remote:          net: of_mdio: use int type for address variable
remote:
remote:          Use int rather than u32 to fix the following warning:
remote:
remote:          drivers/of/of_mdio.c:147 of_mdiobus_register() warn: unsigned 'addr' is
remote:          never less than zero.
remote:
remote:          SWLINUX-3684
remote:
remote:          Signed-off-by: Daniel Mack <zonque@gmail.com>
remote:          Fixes: 8f8382888cba ("net: of_mdio: factor out code to parse a phy's 'reg' property")
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 98956aadf44a33fee23199151c2622aa1fa85c91)
remote:
remote:      commit db6ad47c825196103c6863ed3de7a87954236400
remote:      Author: Daniel Mack <zonque@gmail.com>
remote:      Date:   Sat May 24 09:34:27 2014 +0200
remote:
remote:          net: of_mdio: don't store the length of a property if we don't need to
remote:
remote:          of_get_property() can be called with NULL as 2nd argument if the caller
remote:          is not interested in the length of a property. Use that here so we can
remote:          get rid of a variable.
remote:
remote:          SWLINUX-3684
remote:
remote:          Signed-off-by: Daniel Mack <zonque@gmail.com>
remote:          Reviewed-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 84367958b3592bf433f29e2c3f7975998be37788)
remote:
remote:      commit 0d669d7e9c0da6e8ca4f0dea5007437bd51b6ab3
remote:      Author: Florian Fainelli <f.fainelli@gmail.com>
remote:      Date:   Tue Mar 10 16:57:11 2015 -0700
remote:
remote:          of: mdio: export of_mdio_parse_addr
remote:
remote:          [Upstream commit 33d6737761ea425d43f3b6e4561573a4020982f2]
remote:
remote:          Export of_mdio_parse_addr() which allows parsing a given Ethernet PHY
remote:          node MDIO address, verify it is within the allowed range, and return
remote:          its value. This is going to be useful for the DSA code which needs to
remote:          deal with multiple layers of MDIO buses.
remote:
remote:          SWLINUX-3684
remote:
remote:          Acked-by: Rob Herring <robh@kernel.org>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit cc7db93f3633d497a1af7f7091d53039082bad68)
remote:
remote:      commit c1f8193c858618124e0948b251381de1725f8b45
remote:      Author: Daniel Mack <zonque@gmail.com>
remote:      Date:   Sat May 24 09:34:25 2014 +0200
remote:
remote:          net: of_mdio: factor out code to parse a phy's 'reg' property
remote:
remote:          [Upstream commit 8f8382888cbaf6de13046437d41a1c3d1394d51f]
remote:
remote:          Factor out some logic into of_mdio_parse_addr() so it can be reused
remote:          later. While at it, use of_property_read_u32() rather than open-coding
remote:          the same logic again.
remote:
remote:          SWLINUX-3684
remote:
remote:          Signed-off-by: Daniel Mack <zonque@gmail.com>
remote:          Reviewed-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit d29685d835ccd606c0d0b4eb71e6cf0e674414ac)
remote:
remote:      commit 37941d56b7216831bac56df07917474529d54635
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Fri Jun 5 08:21:37 2015 -0400
remote:
remote:          usb: BDC: Configure Host/Device mode port sharing based on DT
remote:
remote:          The "device" property in the ""brcm,usb-instance" node will
remote:          specify how a port will be shared between USB Host and Device
remote:          controllers. "off" will will be host only, "on" will be device
remote:          only and "dual" will be the DRD (Dual Role Device) mode.
remote:          This property will be used by the USB wrapper driver to configure
remote:          the USB ctrl registers properly.
remote:          NOTES:
remote:          - "dual" mode is broken on the 7439bx but will be fixed in
remote:            future chips.
remote:          - The combination of enabled DT nodes for ohci ehic xhci and bdc
remote:            are expected to be correct for the chosen mode.
remote:
remote:          SWLINUX-3693
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit 26fceffcef460a225dba612a7f7eef6008ea7c21)
remote:
remote:      commit 7aa6f8164bbb326f54968ccc93cca26bf4d6a935
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Wed Jun 3 17:38:16 2015 -0400
remote:
remote:          usb: Update bchp_usb_ctrl.h for 7439b0
remote:
remote:          SWLINUX-3693
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit 7d843e13e369df6f9847e3eb331b49faec46e400)
remote:
remote:      commit 682473a472b4e017619304b8b74cb9dc407cbaf5
remote:      Author: Shane Yi <shyi@broadcom.com>
remote:      Date:   Thu Jun 11 10:42:36 2015 -0700
remote:
remote:          bsp: added Kconfig entries for 3390b0
remote:
remote:          SWLINUX-3667
remote:
remote:          Signed-off-by: Shane Yi <shyi@broadcom.com>
remote:          (cherry picked from commit f5c9027e13632712873b5f729d0c2c50507f12be)
remote:
remote:      commit a0af8af67219ec6d78becb182bf23579e3f091e2
remote:      Author: Shane Yi <shyi@broadcom.com>
remote:      Date:   Thu Jun 11 10:41:03 2015 -0700
remote:
remote:          bsp: added bchp headers for 3390b0
remote:
remote:          SWLINUX-3667
remote:
remote:          Signed-off-by: Shane Yi <shyi@broadcom.com>
remote:          (cherry picked from commit db6855767a0885b735df38bd63df99e87a07de78)
remote:
remote:      commit 3ebc0a66d873112acaf9030a3a602603aff741f9
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Jun 19 15:53:44 2015 -0700
remote:
remote:          Revert "BCMSYSPORT: Switch TX reclaim to NAPI context"
remote:
remote:          This reverts commit ac4a2acc2453bccb87e6a16d1fd1313be305b531. This change
remote:          is causing a performance regression as reported by Alex Chu during SQA.
remote:
remote:          3.14 is missing some upstream changes that are required to do less interrupt
remote:          masking while executing NAPI which give a significant performance boost
remote:          this is no longer a problem on 4.1 and newer.
remote:
remote:          SWLINUX-3690
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit b69c20822f4ffed2f2a8f140cb88d15a26b47037)
remote:
remote:      commit 07d9e26222a3ae4150c58d8621ff934ab25b4b28
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Jun 19 13:48:52 2015 -0700
remote:
remote:          Revert "BCMSYSPORT: rewrite bcm_sysport_rx_refill"
remote:
remote:          This reverts commit ced41ec297954d70a43b059bd4f44669e368e1dc. Alex Chu reported
remote:          a noticeable performance drop, ranging from ~940Mbits/sec to ~760Mbits/sec.
remote:
remote:          These changes were tested against an upstream kernel which contains some
remote:          improvements on how SKB allocation in NAPI context operate, and these changes
remote:          are not in 3.14 yet and way too invasive to backport.
remote:
remote:          Revert back to the previous behavior which consists in invalidating data cache
remote:          lines after DMA, processing the packet, and then re-allocating it during the
remote:          refill operation.
remote:
remote:          SWLINUX-3690
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit d41e2147419f44920bfbb2c555f08cda7b5ceabd)
remote:
remote:      commit b8d163fb102b52854aa5b824ff66fa5a78f45d1f
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jun 15 14:32:04 2015 -0700
remote:
remote:          soc: brcmstb: memory: fix up default reserve alignment
remote:
remote:          When moving the default reservation logic, I accidentally left out a
remote:          crucial change for the 512M DRAM case: alignment fixing.  While this
remote:          should _hopefully_ only be required for 512M, we actually want to be
remote:          pageblock-aligned all the time (well, it's not pageblock for transparent
remote:          hugepages, but it's easier to just say pageblock), and it's certainly
remote:          possible that some memory reservations might not be so aligned.  So just
remote:          do the alignment all of the time like we were doing in cma_driver
remote:          before.
remote:
remote:          Tested on 73649a0 (512M RAM) that default boot-time CMA reserve works
remote:          and 'cmatool unittest' passes all tests after this change.
remote:
remote:          SWLINUX-3504
remote:
remote:          Reported-by: Alex Chu <alexchu@broadcom.com>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 8f699ad52a5c50d3409a638bee874d117b3b7ec7)
remote:
remote:      commit f4b8ca8305bbc0b9d4a441a40add70a0acfb5525
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Jun 10 11:55:20 2015 -0700
remote:
remote:          net: dsa: bcm_sf2: do not use indirect reads and writes for 7445E0
remote:
remote:          7445E0 contains an ECO (HW7445-1526) which disconnected the internal SF2
remote:          pseudo-PHY which was known to conflict with the external pseudo-PHY of
remote:          BCM53125 switches. This motivated the need to utilize the internal SF2
remote:          MDIO controller via indirect register reads/writes to control external
remote:          Broadcom switches due to this address conflict (both responded at
remote:          address 30d).
remote:
remote:          For 7445E0, the internal pseudo-PHY of the SF2 switch got disconnected,
remote:          and as a consequence this prevents the internal SF2 MDIO bus controller
remote:          from reading data (reads back everything as 0) since the MDI line is
remote:          tied low.
remote:
remote:          Fix this by making the indirect register reads and writes conditional to
remote:          7445D0, on 7445E0 we can utilize the SWITCH_MDIO controller (backed by
remote:          mdio-unimac and not the DSA created slave MII bus).
remote:
remote:          SWLINUX-3699
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 09d5d3e8bc3be21072000ee3098f7edc5b0cfea9)
remote:
remote:      commit 5205378f2f92d9742162e4ffe50afc26d43cfaae
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Jun 10 11:54:36 2015 -0700
remote:
remote:          net: phy: mdio-unimac: handle broken turn-around for specific PHYs
remote:
remote:          Some Ethernet PHYs/switches such as Broadcom's BCM53125 have a hardware bug
remote:          which makes them not release the MDIO line during turn-around time.  This gets
remote:          flagged by the UniMAC MDIO controller as a read failure, and we fail the read
remote:          transaction.
remote:
remote:          Check the MDIO bus phy_ignore_ta_mask bitmask for the PHY we are reading
remote:          from and if it is listed in this bitmask, ignore the read failure and proceed
remote:          with returning the data we read out of the controller.
remote:
remote:          SWLINUX-2863
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 7656d1c266a4e3b1d9ecb55521e74d92990ed524)
remote:
remote:      commit 0446e75742f218e2263cf277ff39a7d109ad5ab9
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu May 14 16:10:59 2015 -0700
remote:
remote:          BCMGENET: handle broken turn-around for specific PHYs
remote:
remote:          Some Ethernet PHYs/switches such as Broadcom's BCM53125 have a hardware bug
remote:          which makes them not release the MDIO line during turn-around time.  This gets
remote:          flagged by the GENET MDIO controller as a read failure, and we fail the read
remote:          transaction.
remote:
remote:          Check the MDIO bus phy_ignore_ta_mask bitmask for the PHY we are reading from
remote:          and if it is listed in this bitmask, ignore the read failure and proceed with
remote:          returning the data we read out of the controller.
remote:
remote:          SWLINUX-2863
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit a43d720e7d282ea8f1d3c8668eb09c5ea132eb7a)
remote:
remote:      commit 825881565770b4e5798f4c1d67236466b24b9c00
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Jun 10 11:52:22 2015 -0700
remote:
remote:          net: phy: ethsw: flag switch pseudo-PHY as having broken turn-around
remote:
remote:          We will able to successfully detect switches since we typically use address 0
remote:          to read the switch's MII_PHYSID1/2 register, therefore ethsw_probe() will be
remote:          invoked and we use it to tell the MDIO bus controller that the switch
remote:          pseudo-PHY (30d) has a broken turn-around and that it should ignore read
remote:          failures at this address.
remote:
remote:          SWLINUX-2863
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit acf19dab2df595c3daf67d24eee1bf519adc7b9d)
remote:
remote:      commit cbb740c79596ba9cc3bd6fe961c82f678fb66fc4
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Jun 10 17:07:00 2015 -0700
remote:
remote:          net: dsa: bcm_sf2: Utilized BRCM_PSEUDO_PHY_ADDR
remote:
remote:          Replace the open-coded constant 30 with its definition from brcmphy.h
remote:
remote:          SWLINUX-2863
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 73b2ae6459fc70bc95a9d30788c93bdc8597393f)
remote:
remote:      commit dc5d071fdf513c93addf5ceafa9eef7027f20d3b
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Jun 10 17:00:49 2015 -0700
remote:
remote:          net: phy: ethsw: Utilize BRCM_PSEUDO_PHY_ADDR
remote:
remote:          Replace our local constant with the shared header constant.
remote:
remote:          SWLINUX-2863
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 9ac13a3c4baefe90835c0de7a28bd01fc19f912c)
remote:
remote:      commit b41a796cdd86356bb033be2c6a6379e0252adf04
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Jun 10 16:42:27 2015 -0700
remote:
remote:          net: phy: define Broadcom pseudo-PHY address in brcmphy.h
remote:
remote:          Define the pseudo-PHY address (30) which is used by all Broadcom Ethernet
remote:          switches in a shared header file.
remote:
remote:          SWLINUX-2863
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 0ece811de6e2fbb4e58f01211051f986262f3612)
remote:
remote:      commit 8fbc3dcd066002ff814c92eea4a5f3c1ecc3c690
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue May 12 10:33:26 2015 -0700
remote:
remote:          net: phy: mdio-gpio: Handle phy_ignore_ta_mask
remote:
remote:          [Upstream commit ea48b2b8ada594e985b86da98b0c966d1ae23a4b]
remote:
remote:          Update mdiobb_read() to read whether the PHY has a broken turn-around,
remote:          and if it does, ignore it to make the read succeeed.
remote:
remote:          SWLINUX-2863
remote:
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit dd44b091601a6b97fd64954b7fe9207fb387d700)
remote:
remote:      commit 697ec7f944116fed5a271bcd32e7dd190258cad0
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue May 12 10:33:25 2015 -0700
remote:
remote:          of: mdio: Add a "broken-turn-around" property
remote:
remote:          [Upstream commit ab6016e0c134c3a564e6750f5b246ba17ada4686]
remote:
remote:          Some Ethernet PHY devices/switches may not properly release the MDIO bus
remote:          during turn-around time, and fail to drive it low, which can be seen by
remote:          some controllers as a read failure, while the data clocked in is still
remote:          correct.
remote:
remote:          Add a boolean property "broken-turn-around" which is parsed by the
remote:          generic MDIO bus probing code and will set the corresponding bit in the
remote:          MDIO bus phy_ignore_ta_mask bitmask for MDIO bus drivers to utilize that
remote:          information.
remote:
remote:          SWLINUX-2863
remote:
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 1d051efb5c36128c6ba2243dab04308882a73aaf)
remote:
remote:      commit 3d712815623c55197feeeeb5c6c16aa8b79d504b
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue May 12 10:33:24 2015 -0700
remote:
remote:          net: phy: Add phy_ignore_ta_mask to account for broken turn-around
remote:
remote:          [Upstream commit 922f2dd1b65a888e34c472979460dc23211750a2]
remote:
remote:          Some PHY devices/switches will not release the turn-around line as they
remote:          should do at the end of a MDIO transaction. To help with such
remote:          situations, allow MDIO bus drivers to be made aware of such
remote:          restrictions.
remote:
remote:          SWLINUX-2863
remote:
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 85912a596952be41f883db2b6c043add5e01ccc6)
remote:
remote:      commit ff988f8816d6d3f78b1f786820f4f335d52bd23c
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue Jun 9 19:38:12 2015 -0700
remote:
remote:          Bump version to 3.14-1.7pre
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit a86f1185be47c7821055d910b5c1e21ffdb51d1a)
remote:
remote:      commit 95085b4f94a51dd53d1a94b1123ae517f17ed803
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Fri Jun 5 08:18:56 2015 -0400
remote:
remote:          usb: Fix usb-brcm-common-init module license.
remote:
remote:          This module is used by both BOLT and the Linux kernel so it
remote:          needs a license that works for both. Fix this by replacing the
remote:          GPLv2 license with the BSD license.
remote:
remote:          SWLINUX-3693
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit ba25d115e58f9498777faeb8a6bdc85aca194359)
remote:
remote:      commit 921295c9cb440c0d5210957bc8568d864f31f5b0
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jun 8 19:13:13 2015 -0700
remote:
remote:          cma: brcm-cma: change brcm_cma=0 to disable brcm cma
remote:
remote:          Before, we would just return 0 as an invalid size.  While it is invalid, this
remote:          will a) be caught later and b) the value should be used like the bmem code to
remote:          indicate that we want to disable using this entirely, since there isn't another
remote:          easy way to do that.
remote:
remote:          SWLINUX-3504
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit b0426ccecd3c73a7b83663a84f8dd31d12d91d34)
remote:
remote:      commit 9026bcf80ddaf976f016fffe1c1f46baca392181
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jun 8 18:39:14 2015 -0700
remote:
remote:          soc: brcmstb: add back default CMA reservation, allow BMEM via switch
remote:
remote:          Introduces two shared variables, brcmstb_default_reserve and
remote:          brcmstb_memory_override_defaults, for the reserve functions to determine
remote:          whether to set up the default reservations for CMA or BMEM.  In order to change
remote:          the default, modify the value of brcmstb_default_reserve and recompile.
remote:          Specifying any brcm_cma or bmem parameter on the kernel boot line will result
remote:          in the selected default being overridden with manual reservations.
remote:
remote:          Bump memory API version to 2 for the additions.
remote:
remote:          SWLINUX-3504
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 4e9707e26c1f18a239672201ae91759cad5189bb)
remote:
remote:      commit acba179a68ef6853e2782296eed2bc993023404e
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jun 8 16:32:26 2015 -0700
remote:
remote:          soc: brcmstb: move default reserve from bmem to memory API
remote:
remote:          This is prep for sharing this code back to cma_driver.  Introduces a dependency
remote:          on BRCMSTB_MEMORY_API so update Kconfig accordingly.
remote:
remote:          SWLINUX-3504
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit cf23bd03500ce52f9585e106290f0df625651a8d)
remote:
remote:      commit d29f3419186ab3a8dfe909ab2a4e0def086415fe
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Fri Jun 5 15:43:56 2015 -0400
remote:
remote:          pci: issue warning when dma-ranges prop is observed
remote:
remote:          Recently, Bolt began adding optionally the "dma-ranges" property
remote:          to the PCIe nodes.  This property instructs Linux how to massage
remote:          the dma_addr_t values obtained when allocating DMA memory for
remote:          use with PCIe drivers.  Currently, this Linux functionality is
remote:          a WIP so just issue a warning for now when we see the property.
remote:
remote:          SWLINUX-3694
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit aad79cdaa0c65c2fd3b0ce81a5579286de24e207)
remote:
remote:      commit e0336cd031e3a642aec991dfc02d187c44213bf6
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Thu Jun 4 16:24:16 2015 -0400
remote:
remote:          pci: make use of 'brcm,log2-scb-sizes' property if present
remote:
remote:          The 'brcm,log2-scb-sizes' property indicates how large the SCB window
remote:          must be to project an inbound region to PCIe space.  This commit
remote:          reads the property if present and overrides the default value
remote:          for the window size.
remote:
remote:          SWLINUX-3694
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit 4d9f5f63c4aadf3781b89110e450fe752ef7f545)
remote:
remote:      commit 54464a1e93827190ac63802980a7112a0fd1b4ab
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jun 8 10:37:25 2015 -0700
remote:
remote:          net: phy: bcm7xxx: Update E0+ GPHY workaround based on HW7445-1949
remote:
remote:          A new workaround to solve marginal 100BaseT rise/fall time has been provided in
remote:          HW7445-1949, update the AFE_TX_CONFIG register parameters based on the hardware
remote:          group recommendations. This workaround applies to all E0 and newer GPHY
remote:          revisions.
remote:
remote:          SWLINUX-3697
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 3602ca04a3db83b3c947acf9c336a4184aa442e5)
remote:
remote:      commit 28fb74d573f6b067ce82f1d9733b420458399370
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jun 8 10:35:35 2015 -0700
remote:
remote:          net: phy: bcm7xxx: Update D0 GPHY workaround based on HW7445-1804
remote:
remote:          A new workaround to solve marginal 100BaseT rise/fall time has been provided in
remote:          HW7445-1804, update the AFE_TX_CONFIG register parameters based on the hardware
remote:          group recommendations.
remote:
remote:          SWLINUX-3697
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 7419ba64b840c3135aa4fa114e9570f793c76867)
remote:
remote:      commit 11428cdcdb0a2733fa79cb26d370c2bf4abf31d2
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jun 1 16:23:57 2015 -0700
remote:
remote:          BCMGENET: Power on MII block for all MII modes
remote:
remote:          The RGMII block is currently only powered on when using RGMII or RGMII_NO_ID,
remote:          which is not correct when using the GENET interface in MII or Reverse MII
remote:          modes. We always need to power on the RGMII interface for this block to
remote:          properly work.
remote:
remote:          SWLINUX-3683
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 113502e0d8c39483f6d2da0e381cd297de6f1919)
remote:
remote:      commit 3a899c7135ef7706fc9e1cff629250bb53a452ff
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Wed Jun 3 18:44:11 2015 -0700
remote:
remote:          dt-bindings: brcmstb-gpio: remove interrupt-names, update examples
remote:
remote:          We don't actually use the "interrupt-names" property, so remove it from
remote:          the listed optional properties and from the examples.  And since we're
remote:          modifying the examples, also follow Brian's suggestions to:
remote:
remote:          - change #gpio-cells, #interrupt-cells, and brcm,gpio-bank-widths from
remote:            hex to dec
remote:          - use phandles
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 139bc47f8f2649e183283c994be139d0044aa6d4)
remote:
remote:      commit 4bb440271fb87bea35c141289862511fea9f217a
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Tue Jun 2 20:17:29 2015 -0700
remote:
remote:          gpio: brcmstb: support wakeup from S5 cold boot
remote:
remote:          For wake from S5, we need to:
remote:          - register a reboot handler
remote:          - set wakeup capability before requesting IRQ so wakeup count is incremented
remote:          - mask all GPIO IRQs and clear any pending interrupts during driver probe to
remote:            since no driver will yet be registered to handle any IRQs carried over from
remote:            boot at that time, and it's possible that the booted kernel does not request
remote:            the same IRQ anyway.
remote:
remote:          This means that /sys/.../power/wakeup_count is valid at boot time,
remote:          and we can properly account for S5 wakeup stats. e.g.:
remote:
remote:            ### After waking from S5 from a GPIO key
remote:            # cat /sys/bus/platform/drivers/brcmstb-gpio/f04172c0.gpio/power/wakeup
remote:            enabled
remote:            # cat /sys/bus/platform/drivers/brcmstb-gpio/f04172c0.gpio/power/wakeup_count
remote:            1
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit c6c609b5e17b3d12bd68d3c85a642e297a1b0854)
remote:
remote:      commit fe446931a14190ae615eb642bfaaeee4be4901cb
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Tue Jun 2 14:33:26 2015 -0700
remote:
remote:          gpio: brcmstb: switch to using gpiolib irqchip helpers
remote:
remote:          Switches the BRCMSTB UPG GIO driver to using the gpiolib irqchip helpers
remote:          in the gpiolib core.  This lets us reduce the amount of duplicated code
remote:          a bit.  For this to work, the irq setup function is changed to be called
remote:          once per bank instead of once per device.
remote:
remote:          What wasn't obvious to me before: you can have multiple chained irqchips
remote:          and associated IRQ domains for a single parent IRQ, and as long as the
remote:          xlate function is written correctly, a GPIO IRQ request end up checking
remote:          the correct domain and will get associated with the correct IRQ.  What
remote:          helps make this clear is to read
remote:            drivers/gpio/gpiolib-of.c:
remote:             - of_gpiochip_find_and_xlate()
remote:             - of_get_named_gpiod_flags()
remote:            drivers/gpio/gpiolib.c:
remote:             - gpiochip_find()
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit bd08857fde1fc4c2bd2b05aced340f85a721059e)
remote:
remote:      commit 867e5302deb87ae36296b48b018f90bee8b3e320
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Tue Jun 2 20:16:48 2015 -0700
remote:
remote:          gpio: brcmstb: add missing sanity checks
remote:
remote:          Check the return values of {enable,disable}_irq_wake, check for
remote:          brcmstb_gpio_irq_handler being called before anything can actually
remote:          handle the IRQ, and add a missing newline.  Also return IRQ_NONE in
remote:          irq_set_wake if we didn't get called with the right irq.
remote:
remote:          While we're at it, make a trivial change from of_find_property() to
remote:          of_property_read_bool() when checking for "interrupt-controller".
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 31fd5393318751c6e8abe8e1c6d19d79b3e436b8)
remote:
remote:      commit 722eccbca53020f47fe9e77de566936caf05cc77
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jun 1 15:52:07 2015 -0700
remote:
remote:          gpio: brcmstb: fix null ptr dereference in driver remove
remote:
remote:          If a failure occurs during probe, brcmstb_gpio_remove() is called. In remove,
remote:          we call platform_get_drvdata(), but at the time of failure in the probe the
remote:          driver data hadn't yet been set which leads to a NULL ptr dereference in the
remote:          remove's list_for_each.  Call platform_set_drvdata() and set up list head right
remote:          after allocating the priv struct to both avoid the null pointer dereference
remote:          that could occur today.  To guard against potential future changes, check for
remote:          null pointer in remove.
remote:
remote:          SWLINUX-3604
remote:
remote:          Reported-by: Tim Ross <tross@broadcom.com>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 6db5d7318424b75086bd041a3ee135444dd7d501)
remote:
remote:      commit c72340f6d1e3ed4efcfd2074104e8ed6f98f666c
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jun 1 10:35:02 2015 -0700
remote:
remote:          gpio: brcmstb: temporarily demote missing IRQ from err to warn
remote:
remote:          Since we are using the IRQ0 stub by default, the attempt to get the IRQ for the
remote:          GPIO controller will fail.  So for now, don't fail probe, only warn and tell
remote:          the user how they can get GPIO interrupt support in linux.
remote:
remote:          Revert me when BCM7120_L2_IRQ=y is the default.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit ab1c7246da1447879a5168885ebf87abaf4a568a)
remote:
remote:      commit e349df58bde5d5354040633e57b8d5a5c3c3ee8e
remote:      Author: Jarkko Nikula <jarkko.nikula@linux.intel.com>
remote:      Date:   Tue Sep 16 16:23:15 2014 +0300
remote:
remote:          gpio: Fix potential NULL handler data in chained irqchip handler
remote:
remote:          [Upstream commit 324b0398781e7afb846378dd2d8a4374faaf236b]
remote:
remote:          There is possibility with misconfigured pins that interrupt occurs instantly
remote:          after setting irq_set_chained_handler() in gpiochip_set_chained_irqchip().
remote:          Now if handler gets called before irq_set_handler_data() the handler gets
remote:          NULL handler data.
remote:
remote:          Fix this by moving irq_set_handler_data() call before
remote:          irq_set_chained_handler() in gpiochip_set_chained_irqchip().
remote:
remote:          SWLINUX-3604
remote:
remote:          Cc: Stable <stable@vger.kernel.org> # 3.15+
remote:          Reviewed-by: Alexandre Courbot <acourbot@nvidia.com>
remote:          Signed-off-by: Jarkko Nikula <jarkko.nikula@linux.intel.com>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit afcedf4920729e2019f0054c87d018e214a14b0b)
remote:
remote:      commit e566ea8ee679a8da1d00ce744a5c8d44e1fd14c7
remote:      Author: Paul Bolle <pebolle@tiscali.nl>
remote:      Date:   Fri Sep 5 13:09:25 2014 +0200
remote:
remote:          gpio: fix 'CONFIG_GPIO_IRQCHIP' comments
remote:
remote:          [Upstream commit 7d75a871888e3f5e1a7c99bf240d1cd67d8bdfa0]
remote:
remote:          These two typos were introduced in commit 1425052097b5 ("gpio: add IRQ
remote:          chip helpers in gpiolib").
remote:
remote:          The correct symbol name is CONFIG_GPIOLIB_IRQCHIP.
remote:
remote:          SWLINUX-3604
remote:
remote:          [jkosina@suse.cz: add changelog]
remote:          Signed-off-by: Paul Bolle <pebolle@tiscali.nl>
remote:          Signed-off-by: Jiri Kosina <jkosina@suse.cz>
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit ee7331e7cbb3c94db9f02633208047aff86e3b7d)
remote:
remote:      commit badde22c79c9f7f8911852d092beee19d24d78e3
remote:      Author: Thierry Reding <treding@nvidia.com>
remote:      Date:   Wed Apr 23 17:28:08 2014 +0200
remote:
remote:          gpio: of: Remove unneeded dummy function
remote:
remote:          [Upstream commit 47a95fe71662fa38ff3abe9956f1ca1451fa6e70]
remote:
remote:          of_find_gpio() is always called under an IS_ENABLED(CONFIG_OF), so the
remote:          dummy implementation provided for !OF configurations is not needed.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Thierry Reding <treding@nvidia.com>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 014059ea2f474a91e70e7cd6074ccb85174c9bcb)
remote:
remote:      commit cca139d3fb54d0a56277cd3e2caf05b4e7a5f4c9
remote:      Author: Linus Walleij <linus.walleij@linaro.org>
remote:      Date:   Wed Apr 23 16:45:12 2014 +0200
remote:
remote:          gpio: do not set up hardware for IRQ_TYPE_NONE
remote:
remote:          [Upstream commit 1333b90f33623cdc4028a3523bc186330573990a]
remote:
remote:          Some GPIO irqchip drivers exploit the irqdomain mapping
remote:          function to set up the IRQ default type in the hardware,
remote:          make sure that if we pass IRQ_TYPE_NONE, no hardware setup
remote:          whatsoever takes place (this should be the norm) until
remote:          later when the IRQ gets utilized.
remote:
remote:          SWLINUX-3604
remote:
remote:          Cc: Ezequiel Garcia <ezequiel.garcia@free-electrons.com>
remote:          Cc: Santosh Shilimkar <santosh.shilimkar@ti.com>
remote:          Cc: linux-omap <linux-omap@vger.kernel.org>
remote:          Tested-by: Peter Ujfalusi <peter.ujfalusi@ti.com>
remote:          Tested-by: Javier Martinez Canillas <javier@dowhile0.org>
remote:          Tested-by: Nishanth Menon <nm@ti.com>
remote:          Acked-by: Nishanth Menon <nm@ti.com>
remote:          Tested-by: Tony Lindgren <tony@atomide.com>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit c859e437358baa7e95a5cf502be11edae5793797)
remote:
remote:      commit 30d929b5cf97760475dd94621f2f6efb25697474
remote:      Author: Linus Walleij <linus.walleij@linaro.org>
remote:      Date:   Tue Apr 22 14:01:46 2014 +0200
remote:
remote:          gpio: put GPIO IRQs into their own lock class
remote:
remote:          [Upstream commit e45d1c80c0eee88e82751461e9cac49d9ed287bc]
remote:
remote:          Another feature that is duplicated in a number of GPIO irqchips
remote:          is that these cascades IRQs are assigned their own lock class
remote:          so as to avoid warnings about lockdep recursions. Do this also
remote:          in the generic GPIO irqchip helpers for smooth transition to
remote:          this core infrastructure.
remote:
remote:          SWLINUX-3604
remote:
remote:          Cc: Thomas Gleixner <tglx@linutronix.de>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 714a2554d38f3601320db081b41cfee68589ab70)
remote:
remote:      commit 9b8d755ab24d244f393c64ff290cfc7f43f7f324
remote:      Author: Linus Walleij <linus.walleij@linaro.org>
remote:      Date:   Wed Apr 9 13:34:39 2014 +0200
remote:
remote:          gpio: support threaded interrupts in irqchip helpers
remote:
remote:          [Upstream commit 1c8732bb0355b929b09173464cdca7df4d516f89]
remote:
remote:          Some off-chip GPIO expanders need to be communicated by I2C or
remote:          SPI traffic, but may still support IRQs. By the sleeping nature
remote:          of such buses, such IRQ handlers need to be threaded. Support
remote:          such handlers in the gpiochip irqchip helpers by flagging IRQs
remote:          as threaded if the .can_sleep property of the gpiochip is
remote:          true.
remote:
remote:          Helpfully deny registration of chained IRQ handlers if the
remote:          .can_sleep property is set, as such chips will invariably need
remote:          a nested handler rather than a chained handler.
remote:
remote:          SWLINUX-3604
remote:
remote:          Cc: Thomas Gleixner <tglx@linutronix.de>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit df749dcfb45e74fd739cb35a2e033adf501535e3)
remote:
remote:      commit 87a2eadd092b292b26265b35fe65409c0bfed109
remote:      Author: Linus Walleij <linus.walleij@linaro.org>
remote:      Date:   Wed Apr 9 13:20:38 2014 +0200
remote:
remote:          gpio: set data first, then chip and handler
remote:
remote:          [Upstream commit 7633fb959b711a8d91548911eb087fb931c7b8e4]
remote:
remote:          During irq mapping, in irq_set_chip_and_handler() the process
remote:          of setting this up may incur calls to lock the irqchip, which
remote:          in turn may need to dereference and use the chip data. So set
remote:          the data first, then set the chip and handler.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 36bd53062d57cab74fc1e7a2345bef4acfc66539)
remote:
remote:      commit e44c42bd3215540e48a20e9b03a2d6c4a29a5897
remote:      Author: Linus Walleij <linus.walleij@linaro.org>
remote:      Date:   Fri Mar 28 20:42:01 2014 +0100
remote:
remote:          gpio: unmap gpio irqs properly
remote:
remote:          [Upstream commit c3626fdea044cc97bfc035ebb048f7619acb6736]
remote:
remote:          When using the irqchip helper inside the gpiolib, make sure
remote:          the IRQs are unmapped/disposed before the irqdomain is removed
remote:          as part of removing the gpiochip.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit d462aefdead8ea30054e1d561f2570fe10d76b02)
remote:
remote:      commit dc8cf272820792f6c9266af2f03cb3824e076a10
remote:      Author: Linus Walleij <linus.walleij@linaro.org>
remote:      Date:   Tue Mar 25 10:40:18 2014 +0100
remote:
remote:          gpio: add IRQ chip helpers in gpiolib
remote:
remote:          [Upstream commit 1425052097b53de841e064dc190a9009480c208c]
remote:
remote:          This provides a function gpiochip_irqchip_add() to set
remote:          up an irqchip for a GPIO controller, and a function
remote:          gpiochip_set_chained_irqchip() to chain it to a parent
remote:          irqchip.
remote:
remote:          Most GPIOs are of the type where a number of lines form
remote:          a cascaded interrupt controller chained onto
remote:          the primary system interrupt controller (or further down the
remote:          chain) so let's add this helper and factor the code to
remote:          request the lines to be used as IRQs, the .to_irq() function
remote:          and the irqdomain into the core as well.
remote:
remote:          SWLINUX-3604
remote:
remote:          Acked-by: Thomas Gleixner <tglx@linutronix.de>
remote:          Acked-by: Alexandre Courbot <acourbot@nvidia.com>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit ae5165c6bcc91ca129402cc5fffa82656eb4db76)
remote:
remote:      commit 22748012bbaf82b2a765507b1a3804fd7ea7c0eb
remote:      Author: Thomas Gleixner <tglx@linutronix.de>
remote:      Date:   Sat Mar 8 08:59:58 2014 +0100
remote:
remote:          genirq: Provide irq_request/release_resources chip callbacks
remote:
remote:          [Upstream commit f438acdf3de8f19ad2789eddbf52e3280292759b]
remote:
remote:          For certain irq types, e.g. gpios, it's necessary to request resources
remote:          before starting up the irq.
remote:
remote:          This might fail so we cannot use the irq_startup() callback because we
remote:          might call the irq_set_type() callback before that which does not make
remote:          sense when the resource is not available. Calling irq_startup() before
remote:          irq_set_type() can lead to spurious interrupts which is not desired
remote:          either.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
remote:          Cc: Jean-Jacques Hiblot <jjhiblot@traphandler.com>
remote:          Cc: Grant Likely <grant.likely@linaro.org>
remote:          Cc: linux-arm-kernel@lists.infradead.org
remote:          Reviewed-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Link: http://lkml.kernel.org/r/alpine.DEB.2.02.1403080857160.18573@ionos.tec.linutronix.de
remote:          Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit cc8c8e48691674a7b98dda49a8f9461787e608c4)
remote:
remote:      commit 1c677ef2ff4406cdcd5d84d03f8ecc7fe4467ca4
remote:      Author: Mika Westerberg <mika.westerberg@linux.intel.com>
remote:      Date:   Mon Mar 10 14:54:50 2014 +0200
remote:
remote:          gpiolib: Allow GPIO chips to request their own GPIOs
remote:
remote:          [Upstream commit 77c2d7929d7d7f0e391b17f85d2d954912ed0590]
remote:
remote:          Sometimes it is useful to allow GPIO chips themselves to request GPIOs they
remote:          own through gpiolib API. One use case is ACPI ASL code that should be able
remote:          to toggle GPIOs through GPIO operation regions.
remote:
remote:          We can't use gpio_request() because it will pin the module to the kernel
remote:          forever (it calls try_module_get()). To solve this we move module refcount
remote:          manipulation to gpiod_request() and let __gpiod_request() handle the actual
remote:          request. This changes the sequence a bit as now try_module_get() is called
remote:          outside of gpio_lock (I think this is safe, try_module_get() handles
remote:          serialization it needs already).
remote:
remote:          Then we provide gpiolib internal functions gpiochip_request/free_own_desc()
remote:          that do the same as gpio_request() but don't manipulate module refrence
remote:          count. This allows the GPIO chip driver to request and free descriptors it
remote:          owns without being pinned to the kernel forever.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Mika Westerberg <mika.westerberg@linux.intel.com>
remote:          Reviewed-by: Alexandre Courbot <acourbot@nvidia.com>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit b419a537c1b1c78cb53d9f2e27a1750a08cf8589)
remote:
remote:      commit 5c26cf1c76917e37b61052a5c24ed130ec237ced
remote:      Author: Linus Walleij <linus.walleij@linaro.org>
remote:      Date:   Fri Mar 7 10:12:49 2014 +0800
remote:
remote:          gpio: remove misleading documentation
remote:
remote:          [Upstream commit f438acdf3de8f19ad2789eddbf52e3280292759b]
remote:
remote:          It is currently debated where the functions to lock a certain
remote:          GPIO line as used for IRQs should be called. Delete all
remote:          misleading documentation.
remote:
remote:          SWLINUX-3604
remote:
remote:          Reported-by: Thomas Gleixner <tglx@linutronix.de>
remote:          Cc: Jean-Jacques Hiblot <jjhiblot@traphandler.com>
remote:          Acked-by: Alexandre Courbot <acourbot@nvidia.com>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit ed381afb161cc486015d4df31efa562009e5e51d)
remote:
remote:      commit 86d3fd3dca70dba137accfcc20e0083441c3ba9c
remote:      Author: Richard Genoud <richard.genoud@gmail.com>
remote:      Date:   Tue Feb 11 17:25:35 2014 +0100
remote:
remote:          gpio: update path to documentation
remote:
remote:          [Upstream commit bb1e88ccb771492ac908ac295ec135efa1d53093]
remote:
remote:          ref #SWLINUX-3604
remote:
remote:          Signed-off-by: Richard Genoud <richard.genoud@gmail.com>
remote:          Signed-off-by: Jiri Kosina <jkosina@suse.cz>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit c2d2ef9c6caa06129a22da9c55b93c5cc2e53c75)
remote:
remote:      commit 01642d0b3a94561cec8f2272ef233d287302532f
remote:      Author: Alexandre Courbot <acourbot@nvidia.com>
remote:      Date:   Sun Feb 9 17:43:54 2014 +0900
remote:
remote:          gpiolib: add gpiochip_get_desc() driver function
remote:
remote:          [Upstream commit bb1e88ccb771492ac908ac295ec135efa1d53093]
remote:
remote:          Some drivers dealing with a gpio_chip might need to act on its
remote:          descriptors directly; one example is pinctrl drivers that need to lock a
remote:          GPIO for being used as IRQ using gpiod_lock_as_irq().
remote:
remote:          This patch exports a gpiochip_get_desc() function that returns the
remote:          GPIO descriptor at the requested index. It also sweeps the
remote:          gpio_to_chip() function out of the consumer interface since any holder
remote:          of a gpio_chip reference can manipulate its GPIOs way beyond what a
remote:          consumer should be allowed to do.
remote:
remote:          As a result, gpio_chip is not visible anymore to simple GPIO consumers.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Alexandre Courbot <acourbot@nvidia.com>
remote:          Reviewed-by: Mika Westerberg <mika.westerberg@linux.intel.com>
remote:          Reviewed-by: Jean-Jacques Hiblot <jjhiblot@traphandler.com>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit d3746d7959ee314df2a82453a1aab96b883c21e5)
remote:
remote:      commit fa4c97c122d76805034c7cb3caf71c47fa189bda
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Tue May 19 18:04:34 2015 -0700
remote:
remote:          test: add brcmstb memory api tester
remote:
remote:          SWLINUX-3504
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 3daf94837bd8aca3fefdc40c5387ea3b3caa1400)
remote:
remote:      commit bfbd01d8142cc205ac9d49690927ec9ce1ddc000
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon May 18 19:10:20 2015 -0700
remote:
remote:          brcmstb: document brcm_cma and bmem parameters
remote:
remote:          SWLINUX-3504
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit f85d575c72e395ec75abe1da1feb949eeec6b5e8)
remote:
remote:      commit d78d76c9a3e58bdb029c77f758579215e8ec20d2
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon May 18 19:22:19 2015 -0700
remote:
remote:          brcmstb: bmem: Add default reservation
remote:
remote:          The default reservation matches that which was previously the default
remote:          reservation for cma_driver:
remote:
remote:          if only lowmem:
remote:            reserved 80%
remote:          else:
remote:            reserve all but 256 MiB in 32-bit space
remote:            in >32-bit space, reserve 64 MiB per bank
remote:
remote:          SWLINUX-3504
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 66dc387e14502334c6da14c77f059de11d909624)
remote:
remote:      commit 4ae6fa06fd9535d0e0542218d5d7921fe0ca23c3
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Fri May 15 19:24:15 2015 -0700
remote:
remote:          cma: brcm-cma: no default reserve, add brcm_cma boot param
remote:
remote:          We no longer create any CMA reserved areas by default, as they will be bmem
remote:          instead.  Add a brcm_cma parameter that allows specifying locations where a cma
remote:          region should be created.
remote:
remote:          Example: passing in 'brcm_cma=512M@1024M brcm_cma=512M@1536M' will result in
remote:          two CMA regions 512 MiB in size, one at 0x40000000 and one at 0x60000000.
remote:
remote:          SWLINUX-3504
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 1b4fc982f75080a83fd5c3a8813d072702b9877c)
remote:
remote:      commit 67858446a7cb12a5b6ec65e697e40139f5fe86ba
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Fri May 15 17:25:14 2015 -0700
remote:
remote:          mach-bcm: rename brcmstb.h to headsmp-brcmstb.h
remote:
remote:          Since brcmstb.h only contains a single declaration for headsmp-brcmstb.h,
remote:          rename accordingly.
remote:
remote:          SWLINUX-3504
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 2ed1e3eec72c5dace11debba141d7c4efe59fef2)
remote:
remote:      commit e550ad175f2639b760375040f30c28d240e1432a
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Fri May 15 17:12:05 2015 -0700
remote:
remote:          brcmstb: move cma/bmem reserve and register decls to their headers
remote:
remote:          Since cma_driver and bmem are both outside of arch code, move the declarations
remote:          for their _reserve (and for cma, _register) functions into their respective
remote:          header files.
remote:
remote:          SWLINUX-3611, SWLINUX-3504
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit dc095fb8f347606c6720125187528a738ed2f437)
remote:
remote:      commit b182c2dc41123396b34eeb49c2cfa3a4667f4bc1
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Thu May 14 20:15:52 2015 -0700
remote:
remote:          soc: brcmstb: Add memory API for middleware
remote:
remote:          Adds a way for the Broadcom middleware (nexus) to be able to get the
remote:          information it needs about how memory is placed on the system.  This is done by
remote:          the ability to populate a struct brcmstb_memory with info on
remote:          - PA ranges for each memory controller
remote:          - static "bmem" ranges
remote:          - dynamic (CMA in this case) reserved ranges
remote:          - reserved areas unavailable to middleware
remote:
remote:          We use libfdt to read the device tree for info on what memory should actually
remote:          be visible.
remote:
remote:          Moves phys_addr_to_memc from cma_driver to memory API and renames as
remote:          brcmstb_memory_phys_addr_to_memc, since it is now shared by cma_driver and this
remote:          code.
remote:
remote:          This also adds to the platform reserve code in order to grab the memblock
remote:          reserve info during early boot, as the memblock info isn't discarded later.
remote:
remote:          SWLINUX-3504
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit e2beab5376997fbdf8bb14df1b5a0ff079f4b092)
remote:
remote:      commit f39f776af91971af7eab12fd4a8e655ae43abd21
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Fri May 15 16:38:35 2015 -0700
remote:
remote:          soc: brcmstb: Add option BRCMSTB_CMA
remote:
remote:          Adds a config knob for the brcmstb platform-specific reserve/register
remote:          functions, ioctls, kernel API, and O_DIRECT on CMA pages.  This code used to be
remote:          enabled for BRCMSTB && CMA, but these interfaces are probably only wanted when
remote:          using brcmstb middleware, so it'd be good to be able to easily disable it.
remote:
remote:          Enables the new option in brcmstb_defconfig so that we keep the same behavior
remote:          as before.
remote:
remote:          SWLINUX-3611
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 516073dc666b23cff305bca148d98ca1f5c5c1e5)
remote:
remote:      commit a1bc48164c7a05409db696633780f0f1445b930f
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Fri May 15 16:30:15 2015 -0700
remote:
remote:          soc: brcmstb: Move cma_driver from arch/arm/mach-bcm
remote:
remote:          Move brcmstb platform CMA driver from arch/arm/mach-bcm/cma_driver.c to its new
remote:          home at drivers/platform/brcmstb/brcmstb-cma.c.  Note that there are still some
remote:          ARM-specific parts and those parts rely on meminfo which goes away in 3.16.
remote:
remote:          SWLINUX-3611
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 3482ca7f452e553c26e674be1d7b20cec15ce509)
remote:
remote:      commit 321b2618a550b42fbfdbc100a00e4aacdc9f126c
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Tue May 19 17:53:01 2015 -0700
remote:
remote:          ARM: mm: move fdt reservedmem scan before platform reserve
remote:
remote:          This change makes it possible to see what memory was marked as reserved (both
remote:          memreserve entries and reserved-memory nodes) in devicetree before doing
remote:          platform-specific reserve, which is necessary for the brcmstb memory API.
remote:
remote:          SWLINUX-3504
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit d2de3f34701317175164095f794c0678d9d46c70)
remote:
remote:      commit 7c817d7ce47927e63108b2a3e50593bf12bd9406
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Tue May 12 16:31:51 2015 -0700
remote:
remote:          bmem: Add brcmstb platform_device and populate with bmem entries
remote:
remote:          Just putting this in bmem.c for now since the bmem entries will be the only
remote:          things under /sys/devices/platform/brcmstb .
remote:
remote:          SWLINUX-3504
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit e3fca12bc50ed83df77389401c65ff7a5f24882d)
remote:
remote:      commit 53a317e5f430024452bf7a7b22d3889aee335565
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Tue May 12 16:22:52 2015 -0700
remote:
remote:          brcmstb: Allow bmem to be used for boot-time reserve
remote:
remote:          Also some minor whitespace changes and comments for readability.
remote:
remote:          SWLINUX-3504
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 09b00075a0172d50cf508b0e63f4da28f16dfdf9)
remote:
remote:      commit d601eba4d2d8622d4d0c5fedd4c2f59a9df31791
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Fri Dec 19 18:30:53 2014 -0800
remote:
remote:          mm: Allow O_DIRECT for bmem-managed regions
remote:
remote:          Rename cma_get_page to brcmstb_get_page and use it for checking whether the
remote:          underlying page is in either a CMA or BMEM region.
remote:
remote:          SWLINUX-3504
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 04886ea315824ed5321ed2c965b7b7c5ca554b14)
remote:
remote:      commit b8f9d9b145e9c98cada4c5b65f3501da75e00965
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Tue May 12 15:28:24 2015 -0700
remote:
remote:          brcmstb: port bmem from stblinux-3.3-3.5 release
remote:
remote:          Changes include:
remote:
remote:          - Place in drivers/soc/brcmstb
remote:          - Use new Kconfig entry to enable: CONFIG_BRCMSTB_BMEM
remote:          - No default allocation (must specify everything manually).
remote:          - Does not assume that address 0 means "put at end of memc0".  It'll put the
remote:            reserved regions wherever you want.
remote:          - No safeties: you can reserve all of lowmem if you want to watch the kernel
remote:            crash and burn.
remote:          - No special handling for memc1: not needed since we're not overriding the
remote:            default free_bootmem like on mips, but rather providing a saner means via
remote:            bmem_reserve which uses memblock and will be called from arch code.
remote:          - MAX_BMEM_REGIONS bumped from 4 to 8.
remote:          - Uses phys_addr_t instead of unsigned long so we can use >32-bit addresses
remote:            where appropriate.
remote:          - Don't BUG on pud_none in bmem_get_page because we've seen this unnecessarily
remote:            crashes the kernel on ARM when called from GUP (see SWLINUX-3350)
remote:          - Use phys_addr_t for bmem functions
remote:
remote:          SWLINUX-3504
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 0d0c2367c11afe4e956b0327a31502ee03c51576)
remote:
remote:      commit ba3eb6f07e248304b5d85935a481774b04ad39aa
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Fri Apr 24 14:14:41 2015 -0400
remote:
remote:          clk: add configurable clock multiplier
remote:
remote:          This defines a clock multiplier.  It is essentially a mirror of
remote:          clk-divider.c.
remote:
remote:          SWLINUX-3650
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit 8da3c075ec07d2a583f4397808ed99a3f2c9c884)
remote:
remote:      commit 8c4d0ad834c3f403df591038cbf59e11573952c8
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Sat Feb 28 18:09:17 2015 -0800
remote:
remote:          BCMSYSPORT: fix software maintained statistics
remote:
remote:          [Upstream commit 55ff4ea9a853f5ec9a8290c0ccc1d00c97e49f82]
remote:
remote:          Commit 60b4ea1781fd ("net: systemport: log RX buffer allocation and RX/TX DMA
remote:          failures") added a few software maintained statistics using
remote:          BCM_SYSPORT_STAT_MIB_RX and BCM_SYSPORT_STAT_MIB_TX. These statistics are read
remote:          from the hardware MIB counters, such that bcm_sysport_update_mib_counters() was
remote:          trying to read from a non-existing MIB offset for these counters.
remote:
remote:          Fix this by introducing a special type: BCM_SYSPORT_STAT_SOFT, similar to
remote:          BCM_SYSPORT_STAT_NETDEV, such that bcm_sysport_get_ethtool_stats will read from
remote:          the software mib.
remote:
remote:          SWLINUX-3690
remote:
remote:          Fixes: 60b4ea1781fd ("net: systemport: log RX buffer allocation and RX/TX DMA failures")
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 838aed6af382ec702d872701eee3a3b9ec5da913)
remote:
remote:      commit 50f4a00113764c6d7ceba5c09b87f7bf42cf3c50
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu May 28 10:39:12 2015 -0700
remote:
remote:          BCMSYSPORT: Add a check for oversized packets
remote:
remote:          We might occasionally receive oversized packets which will make us invoke
remote:          skb_over_panic() since the length of the packet exceeds the nominal size of
remote:          2KiB we allocated space for. Avoid crashing the kernel, but instead just
remote:          discard this packet and move on to process the next one.
remote:
remote:          SWLINUX-3690
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit deaba2d5df1605260e76f438c8b3ba3e61dcfe21)
remote:
remote:      commit 2d79c64b2ad9fb411996bdd240cfc93fd4f85530
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu May 28 10:36:53 2015 -0700
remote:
remote:          BCMSYSPORT: Switch TX reclaim to NAPI context
remote:
remote:          Matches the upstream driver and provides a small relief on CPU load by allowing
remote:          per-TX queue softirq contexts to be scheduled.
remote:
remote:          SWLINUX-3690
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit ac4a2acc2453bccb87e6a16d1fd1313be305b531)
remote:
remote:      commit de3eb0ad550f3e2d26be3f9dbd5af01324fe7003
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue May 26 16:01:48 2015 -0700
remote:
remote:          BCMSYSPORT: rewrite bcm_sysport_rx_refill
remote:
remote:          Currently, bcm_sysport_desc_rx() calls bcm_sysport_rx_refill() at the end of Rx
remote:          packet processing loop, after the current Rx packet has already been passed to
remote:          napi_gro_receive(). However, bcm_sysport_rx_refill() might fail to allocate a new
remote:          Rx skb, thus leaving a hole on the Rx queue where no valid Rx buffer exists.
remote:
remote:          To eliminate this situation:
remote:
remote:          1. Rewrite bcm_sysport_rx_refill() to retain the current Rx skb on the
remote:          Rx queue if a new replacement Rx skb can't be allocated and DMA-mapped.
remote:          In this case, the data on the current Rx skb is effectively dropped.
remote:
remote:          2. Modify bcm_sysport_desc_rx() to call bcm_sysport_rx_refill() at the
remote:          top of Rx packet processing loop, so that the new replacement Rx skb is
remote:          already in place before the current Rx skb is processed.
remote:
remote:          This is loosely inspired from d6707bec5986 ("net: bcmgenet: rewrite
remote:          bcmgenet_rx_refill()")
remote:
remote:          SWLINUX-3690
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit ced41ec297954d70a43b059bd4f44669e368e1dc)
remote:
remote:      commit af4726e8f62d9e31e9ad0fb090a849f7cc322981
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue May 26 15:47:58 2015 -0700
remote:
remote:          BCMSYSPORT: Pre-calculate and utilize cb->bd_addr
remote:
remote:          There is a 1:1 mapping between the software maintained control block in
remote:          priv->rx_cbs and the buffer address in priv->rx_bds, such that there is
remote:          no need to keep computing the buffer address when refiling a control
remote:          block.
remote:
remote:          SWLINUX-3690
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit b57bdb42ba9221741206bc197ac8bed6cb885f90)
remote:
remote:      commit 25ba541660ff12a7667eebf05317110db48b9b0f
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Wed May 27 16:42:02 2015 -0700
remote:
remote:          ARM: brcmstb: Add default gpio number
remote:
remote:          Out of the brcmstb SoCs that I know, BCM3390 has the largest numbers of GPIOs,
remote:          with its
remote:          - 320 "peripheral" GPIOs
remote:          - 5*32 = 160 UPG GPIOs (counting unused lines, which do get counted)
remote:          - 2*32 = 64 UPG AON GPIOs (counting unused lines)
remote:          Total: 544
remote:
remote:          I suspect that the upper limit will only need to be higher in the future, so
remote:          set it to 1024.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 5c021f12c7401a83cf479a1325476db49a2a259a)
remote:
remote:      commit 8ed500895539b9d2983d1dfb4001c00ce34f0e44
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon May 11 19:55:21 2015 -0700
remote:
remote:          gpio: brcmstb: Allow GPIOs to be wakeup sources
remote:
remote:          Several drivers (e.g. gpio-keys) allow for GPIOs to be configured as wakeup
remote:          sources, and this GPIO controller supports that through a separate interrupt
remote:          path.
remote:
remote:          The de-facto standard DT property "wakeup-source" is checked, since that
remote:          indicates whether the GPIO controller hardware can wake.  Uses the
remote:          IRQCHIP_MASK_ON_SUSPEND irq_chip flag because UPG GIO doesn't have any of its
remote:          own wakeup source configuration.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 0effa31c2e127d372b83f8e69f66f8f9653f0c8d)
remote:
remote:      commit 1a4e62fd90f18e4556da8e14f8b730093c2ff33d
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Wed May 27 17:02:09 2015 -0700
remote:
remote:          gpio: brcmstb: Add interrupt support
remote:
remote:          Create an irq_chip for each GIO block.  Uses chained IRQ handling since
remote:          known uses of this block have a BCM7120 L2 interrupt controller as a
remote:          parent.  Supports interrupts for all GPIOs.
remote:
remote:          In the IRQ handler, we check for raised IRQs for invalid GPIOs and warn
remote:          (ratelimited) if they're encountered.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 2d6323caccbfec3a958ab472980fbc89823f7134)
remote:
remote:      commit 79293ac42c9a2577fde6901a71dcc79afbd7a03e
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Tue May 26 17:08:33 2015 -0700
remote:
remote:          gpio: brcmstb: have GPIOs for invalid lines
remote:
remote:          This will allow for a 1:1 translation of the hardware numberspace to the linux
remote:          IRQ numberspace, i.e.
remote:
remote:          bank0: 0..31
remote:          bank1: 32..63
remote:          ....
remote:          bankN: 32*n..32*n+31
remote:
remote:          so that we can handle and warn on raised IRQs for invalid GPIO lines.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 9ffdd6a793b573ca6d85cb40ec5cdc6b935c8921)
remote:
remote:      commit c83fda724ca45f01f6a935a1c702ff7c40ad3b60
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Tue May 26 15:28:20 2015 -0700
remote:
remote:          dt-bindings: brcmstb-gpio: document properties for wakeup
remote:
remote:          Some brcmstb GPIO controllers can be used to wake from suspend, so use the
remote:          de facto standard property 'wakeup-source' to mark the nodes of controllers
remote:          with that capability.
remote:
remote:          Also document interrupts-extended, which will be used for wakeup handling
remote:          because the interrupt parent for the wake IRQ is different from the regular
remote:          IRQ.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 573d20080d32975e8075e5094d28476e58a30d77)
remote:
remote:      commit cae7a4d450ff7ada0816e858a4d10724635b302a
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Thu May 21 18:04:37 2015 -0700
remote:
remote:          gpio: brcmstb: fix handling for GPIOs above first bank
remote:
remote:          This ensures that we do a valid GPIO number translation, since the default
remote:          of_gpio_simple_xlate is designed for a 1:1 gpio chip to controller mapping,
remote:          but we have an N:1 mapping.
remote:
remote:          Also brings us to match the initial commit adding brcmstb gpio support
remote:          upstream.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit ed0db018c1601a1316fe4080ee197e4770aac53a)
remote:
remote:      commit 42f2d306bd6de5b8aee01c52a4fd0725d4ea244e
remote:      Author: Johan Hovold <johan@kernel.org>
remote:      Date:   Mon Jan 12 17:12:24 2015 +0100
remote:
remote:          gpio: fix memory and reference leaks in gpiochip_add error path
remote:
remote:          [Upstream commit 5539b3c938d64a60cb1fc442ac3ce9263d52de0c]
remote:
remote:          Memory allocated and references taken by of_gpiochip_add and
remote:          acpi_gpiochip_add were never released on errors in gpiochip_add (e.g.
remote:          failure to find free gpio range).
remote:
remote:          Fixes: 391c970c0dd1 ("of/gpio: add default of_xlate function if device
remote:          has a node pointer")
remote:          Fixes: 664e3e5ac64c ("gpio / ACPI: register to ACPI events
remote:          automatically")
remote:          Cc: stable <stable@vger.kernel.org>
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Johan Hovold <johan@kernel.org>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 58bbfdac1ba98f05ad26bd2269b2ce849986105f)
remote:
remote:      commit 0135b15a6620672a9cb081f3c86e2948b4f77229
remote:      Author: Alexandre Courbot <acourbot@nvidia.com>
remote:      Date:   Tue Jul 1 14:45:14 2014 +0900
remote:
remote:          gpio: always compile label support
remote:
remote:          [Upstream commit 9c8318ff7041c8024e3afa22ce77e208138f1da5]
remote:
remote:          Compiling out GPIO labels results in a space gain so small that it can
remote:          hardly be justified. Labels can also be useful for printing debug
remote:          messages, so always keep them around.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Alexandre Courbot <acourbot@nvidia.com>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 86d92d0568ed08891822b782879d35a95be20ac4)
remote:
remote:      commit 3d3576f91c002ae71f8000a4ea1f1ac85301dfd0
remote:      Author: Tony Lindgren <tony@atomide.com>
remote:      Date:   Mon Jun 2 16:13:46 2014 -0700
remote:
remote:          gpio: of: Fix handling for deferred probe for -gpio suffix
remote:
remote:          [Upstream commit 06fc3b70f1dc9c53070fa63a528830f54afc3c38]
remote:
remote:          Commit dd34c37aa3e (gpio: of: Allow -gpio suffix for property names)
remote:          added parsing for both -gpio and -gpios suffix but also changed
remote:          the handling for deferred probe unintentionally. Because of the
remote:          looping the second name will now return -ENOENT instead of
remote:          -EPROBE_DEFER. Fix the issue by breaking out of the loop if
remote:          -EPROBE_DEFER is encountered.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Tony Lindgren <tony@atomide.com>
remote:          Reviewed-by: Thierry Reding <treding@nvidia.com>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit d3dbe79dfd83491e5f0cf08330d1572055441355)
remote:
remote:      commit 614e65af47e09342ebeca8d0462efac0b69b5bb1
remote:      Author: Thierry Reding <treding@nvidia.com>
remote:      Date:   Fri Apr 25 16:54:22 2014 +0200
remote:
remote:          gpio: Fix gpio_get -> gpiod_get typo in kernel-doc
remote:
remote:          [Upstream commit 0879162f33bf8a2fe637a22bb77d20233f486ac4]
remote:
remote:          The function is called gpiod_get(), not gpio_get(). Fix the kernel-doc
remote:          comment to match the name.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Thierry Reding <treding@nvidia.com>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 3eeedee7fdf9f2398efae0035ae012c7f6b8e45e)
remote:
remote:      commit 2173365b51eebe65001a06e16ff9655ad6be7cdc
remote:      Author: Thierry Reding <treding@nvidia.com>
remote:      Date:   Wed Apr 23 17:28:09 2014 +0200
remote:
remote:          gpio: of: Allow -gpio suffix for property names
remote:
remote:          [Upstream commit dd34c37aa3e81715a1ed8da61fa438072428e188]
remote:
remote:          Many bindings use the -gpio suffix in property names. Support this in
remote:          addition to the -gpios suffix when requesting GPIOs using the new
remote:          descriptor-based API.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Thierry Reding <treding@nvidia.com>
remote:          Acked-by: Alexandre Courbot <acourbot@nvidia.com>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 1a2b4b125d5f26c9f4102db170ce31ce09e373c3)
remote:
remote:      commit a7aae731f121987b1f33e22931f133010f28f977
remote:      Author: Alexandre Courbot <acourbot@nvidia.com>
remote:      Date:   Tue Mar 11 15:52:09 2014 +0900
remote:
remote:          gpio: clamp returned values to the boolean range
remote:
remote:          [Upstream commit 23600969ff137cf4c3bc9098f77e381de334e3f7]
remote:
remote:          Nothing prevents GPIO drivers from returning values outside the
remote:          boolean range, and as it turns out a few drivers are actually doing so.
remote:          These values were passed as-is to unsuspecting consumers and created
remote:          confusion.
remote:
remote:          This patch makes the internal _gpiod_get_raw_value() function return a
remote:          bool, effectively clamping the GPIO value to the boolean range no
remote:          matter what the driver does.
remote:
remote:          While we are at it, we also change the value parameter of
remote:          _gpiod_set_raw_value() to bool type before drivers start doing funny
remote:          things with it as well.
remote:
remote:          Another way to fix this would be to change the prototypes of the driver
remote:          interface to use bool directly, but this would require a huge
remote:          cross-systems patch so this simpler solution is preferred.
remote:
remote:          Changes since v1:
remote:          - Change local variable type to bool as well, use boolean values in
remote:            code
remote:          - Also change prototype of open drain/open source setting functions
remote:            since they are only called from _gpiod_set_raw_value()
remote:
remote:          This probably calls for a larger booleanization of gpiolib, but let's
remote:          keep that for a latter change - right now we need to address the issue
remote:          of non-boolean values returned by drivers.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Alexandre Courbot <acourbot@nvidia.com>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 1d14edc2834d36306bbdf341231e1fb61d9c1363)
remote:
remote:      commit d60eb3d3aa036381a709e8069f1f9d992728819e
remote:      Author: Rahul Bedarkar <rahulbedarkar89@gmail.com>
remote:      Date:   Sat Feb 8 11:55:25 2014 +0530
remote:
remote:          GPIO: gpiolib: correct description of gpiod_direction_output
remote:
remote:          [Upstream commit 90df4fe07f9794984bd2dafd1d28acd45318d37f]
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Rahul Bedarkar <rahulbedarkar89@gmail.com>
remote:          Reviewed-by: Alexandre Courbot <acourbot@nvidia.com>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 6e383b9592a35353e4449e6df079510bbf2a80ef)
remote:
remote:      commit 1048d9d4a9d9c5ce7a9d5bd7a4969fec87df13a9
remote:      Author: Philipp Zabel <p.zabel@pengutronix.de>
remote:      Date:   Tue Jan 7 12:34:11 2014 +0100
remote:
remote:          gpio: make gpiod_direction_output take a logical value
remote:
remote:          [Upstream commit ef70bbe1aaa612f75360e5df5952fddec50b7ca9]
remote:
remote:          The documentation was not clear about whether
remote:          gpio_direction_output should take a logical value or the physical
remote:          level on the output line, i.e. whether the ACTIVE_LOW status
remote:          would be taken into account.
remote:
remote:          This converts gpiod_direction_output to use the logical level
remote:          and adds a new gpiod_direction_output_raw for the raw value.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Philipp Zabel <p.zabel@pengutronix.de>
remote:          Reviewed-by: Alexandre Courbot <acourbot@nvidia.com>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 401d2ba97af15ff21f04ec4c1ae4cab2cc261f0d)
remote:
remote:      commit ce74f1f8e07a0ddae576f8d3bda693626775bd3d
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Tue May 12 17:21:55 2015 -0400
remote:
remote:          pci: transition to l23 before turning off power
remote:
remote:          This change modifies slightly the turn off protocol so that it
remote:          is compatible with a Wake-on-LAN configuration.  Although the
remote:          PCIe block does not natively support WOL, the WAKE# of a PCIe
remote:          device may be connected to a GPIO pin and configured to wake
remote:          the device.
remote:
remote:          SWLINUX-3679
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit 61b126c31a7527aabf9ffe6ae5caf9925b8d3eeb)
remote:
remote:      commit 4b677bcc2fb6b071dda922a4a8cd93cb92de015e
remote:      Author: grmoore@altera.com <grmoore@altera.com>
remote:      Date:   Tue Apr 29 10:29:51 2014 -0500
remote:
remote:          mtd: m25p80: add support for flag status register on Micron chips
remote:
remote:          [Loose backport of commit c14deddec1fbd8c9757c53a49dbfd2dc83265f21,
remote:          "mtd: spi-nor: add support for flag status register on Micron chips"
remote:          adapted to work with old m25p80.c]
remote:
remote:          Some new Micron flash chips require reading the flag status register to
remote:          determine when operations have completed.
remote:
remote:          Furthermore, chips with multi-die stacks of the 65nm 256Mb QSPI also
remote:          require reading the status register before reading the flag status
remote:          register.
remote:
remote:          This patch adds support for the flag status register in the n25q512ax3
remote:          and n25q00 Micron QSPI flash chips.
remote:
remote:          SWLINUX-3686
remote:
remote:          Signed-off-by: Graham Moore <grmoore@altera.com>
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 022825e4c61baa09f8b38ff3001a76a84fdf07a2)
remote:
remote:      commit e0949b1640a4b004a952c1b3cff543e99c11c1a8
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Tue May 19 13:07:48 2015 -0400
remote:
remote:          usb: Fix 7366C0 issue with reading ahead into memory holes
remote:
remote:          Setting ESTOP_SCB_REQ for the 7366c0 will prevent the memory
remote:          controller from reading ahead into memory holes. This is fixed
remote:          by getting the latest version of usb-brcm-common-init.c from
remote:          BOLT which has this fix (SWBOLT-1552) along with fixes for
remote:          SWBOLT-1532 and SWBOLT-1531.
remote:
remote:          SWLINUX-3682
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit 4f0ff0311982fb0c3031e7c492aa57e9b66ebe46)
remote:
remote:      commit 860bbacf462b1e2fd486fc83c7b7442b2582d6ff
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Apr 30 16:24:01 2015 -0700
remote:
remote:          BCMSYSPORT: Implement RX coalescing control knobs
remote:
remote:          [Upstream commit d0634868d30ed2c511b45c63efe8eeb85c62c7f6]
remote:
remote:          Similarly to the TX path, allow the RX path to be configured with both
remote:          'rx-frames' and 'rx-usecs' coalescing parameters.
remote:
remote:          SWLINUX-3664
remote:
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 3091afc302834df2a0bab047e180325402c0e33e)
remote:
remote:      commit 8778ab348f14d1bcb71ed20bcdccd297d8c604da
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Apr 30 16:02:08 2015 -0700
remote:
remote:          BCMSYSPORT: Implement TX coalescing control knobs
remote:
remote:          [Upstream commit b1a15e8643c444f9fc185d296e99424618ad1180]
remote:
remote:          Add the ability to configure both 'tx-frames' which controls how many frames
remote:          are doing to trigger a single interrupt and 'tx-usecs' which dictates how long
remote:          to wait before an interrupt should be services.
remote:
remote:          To configure tx-frames and tx-usecs from ethtool:
remote:
remote:          ethtool -C eth0 tx-frames <number>
remote:          ethtool -C eth0 tx-usecs <number>
remote:
remote:          To get the settings:
remote:
remote:          ethtool -c eth0
remote:
remote:          SWLINUX-3664
remote:
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 240b12653f4b0441162aae0360ef85c1503dadc9)
remote:
remote:      commit 75b1d195a00e2e94172063186a2eba7e9e710f2e
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed May 6 12:43:17 2015 -0700
remote:
remote:          BCMGENET: Remove brcmstb.h inclusion
remote:
remote:          Now that there is no platform code outside of the BCMGENET driver that needs to
remote:          set/access BRCM_PHY_TYPE, move these definitions into bcmgenet.h to keep them
remote:          local to the driver.
remote:
remote:          SWLINUX-3246, SWLINUX-2749
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 4c787d27b25a9f6d674b390afb4a4908a56d84cf)
remote:
remote:      commit d5c7c393c5ff42344e71c18ae48f6dba3db2709e
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Apr 9 18:07:51 2015 -0700
remote:
remote:          bsp: Remove fixed PHY parsing code
remote:
remote:          That code is now deprecated and unused since we have automatic registration of
remote:          these fixed PHYs devices now in drivers using them: SYSTEMPORT, GENET and dsa.
remote:
remote:          SWLINUX-3246
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 2ba52a1c2509dbf6f8cd2d02b54ad899e0aa003d)
remote:
remote:      commit f63a42375beadae4efb8714ca688562d73642d0f
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Feb 13 16:08:43 2014 -0800
remote:
remote:          net: phy: update port type for MoCA PHYs
remote:
remote:          [Upstream commit c88838ce89515331ac835a470dc51ddf574770b1]
remote:
remote:          MoCA PHYs are using coaxial (BNC-like) connectors, update the
remote:          transceiver port type when replying to ethtool.
remote:
remote:          SWLINUX-3246
remote:
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit a7da0d6b87a783945fe5cdbc77a0eda4a6283e1a)
remote:
remote:      commit a447d48760e7e99d52d4cdb1c257b5959a229b04
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue May 5 15:21:39 2015 -0700
remote:
remote:          BCMGENET: Recognize MoCA PHY support
remote:
remote:          We need to match the MoCA PHY type the same way we deal with the internal PHY
remote:          (PHY_INTERFACE_MDOE_NA) in order for the GENET - MoCA instances to probe
remote:          successfully.
remote:
remote:          SWLINUX-3246
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 3659971011150fb38e5b63a327ee19e33322c549)
remote:
remote:      commit 2adc6806f380ea107b4d8632f51312f54cca0070
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Feb 13 16:08:42 2014 -0800
remote:
remote:          net: phy: add MoCA PHY type
remote:
remote:          [Upstream commit fd70f72c66eeada848abaed9eb6bbdbaf57764e9]
remote:
remote:          Some Ethernet MACs are connected to a MoCA PHY which will handle the
remote:          low-level job of sending Ethernet frames on the coaxial cable, these
remote:          Ethernet MACs need to know about it to be properly configured.
remote:          Add a new PHY mode "moca" and update the Device Tree parsing logic to
remote:          look for it.
remote:
remote:          SWLINUX-3246
remote:
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 4881b735da3f57eca0bcd44b9f296b97afea77a1)
remote:
remote:      commit aedb8310607bc8a3c6b56c46604bba37696a81f0
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu May 22 09:47:45 2014 -0700
remote:
remote:          BCMGENET: use the new fixed PHY helpers
remote:
remote:          [Upstream commit 9abf0c2b717a7b59d351c2a15e917f1a78cfca02]
remote:
remote:          of_phy_connect_fixed_link() is becoming obsolete, and also required
remote:          platform code to register the fixed PHYs at the specified addresses for
remote:          those to be usable. Get rid of it and use the new of_phy_is_fixed_link()
remote:          plus of_phy_register_fixed_link() helpers to transition over the new
remote:          scheme.
remote:
remote:          SWLINUX-3246
remote:
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 02d9d49ae3be73a96d07b5d39344835692ddf0fc)
remote:
remote:      commit 99acf81c622d883fc19bfef6b08f7746d110d2df
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Apr 9 18:03:47 2015 -0700
remote:
remote:          net: dsa: Utilize new fixed PHY helpers
remote:
remote:          In order to remove some of our fixed PHY Device Tree parsing code in
remote:          arch/arm/mach-bcm/brcmstb.c, convert DSA to use the new helper functions
remote:          recently backported and resynchronize dsa_slave_phy_setup() to make it look
remote:          more like its upstream version.
remote:
remote:          This essentially brings some of the changes introduced in:
remote:
remote:          0d8bcdd383b8 net: dsa: allow for more complex PHY setups
remote:          ce31b31c68e7 net: dsa: allow updating fixed PHY link information
remote:
remote:          SWLINUX-3246
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit b5e555dbe84f0082ca80a246b0811bd190f521ba)
remote:
remote:      commit 1516f97bc33d149655fccc93e4b2f31d0ff302e7
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu May 22 09:47:46 2014 -0700
remote:
remote:          BCMSYSPORT: use the new fixed PHY helpers
remote:
remote:          [Upstream commit 186534a3f83261e4d509ed7721e6a6fdb85ab380]
remote:
remote:          of_phy_connect_fixed_link() is becoming obsolete, and also required
remote:          platform code to register the fixed PHYs at the specified addresses for
remote:          those to be usable. Get rid of it and use the new of_phy_is_fixed_link()
remote:          plus of_phy_register_fixed_link() helpers to transition over the new
remote:          scheme.
remote:
remote:          SWLINUX-3246
remote:
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 1d1315aaca02c218b3d12073f4b0a862bafb92f6)
remote:
remote:      commit fe6bb2a01eedfdc1a6ce8e9224c61a2f7cab182b
remote:      Author: Konrad Zapalowicz <bergo.torino@gmail.com>
remote:      Date:   Thu Jun 5 20:27:42 2014 +0200
remote:
remote:          net: phy: fix sparse warning in fixed.c
remote:
remote:          [Upstream commit 46cfd6ea23b0a207c87269d86457727dc4485708]
remote:
remote:          This commit fixes the following sparse warning:
remote:
remote:          drivers/net/phy/fixed.c:207
remote:              - warning: symbol 'fixed_phy_del' was not declared.
remote:                Should it be static?
remote:
remote:          by adding symbol definition to the phy_fixed.h API file. It is ok to do
remote:          because the function in question is an exported symbol.
remote:
remote:          SWLINUX-3246
remote:
remote:          Signed-off-by: Konrad Zapalowicz <bergo.torino@gmail.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit b2cb3e950fa1669fc1d25deaff2f5cc51a52f41d)
remote:
remote:      commit 39762e9e85cb938bf03ddb957a0546b18247aee3
remote:      Author: Richard Retanubun <rretanubun.work@gmail.com>
remote:      Date:   Fri Jun 20 10:11:07 2014 -0400
remote:
remote:          of: mdio: fixup of_phy_register_fixed_link parsing of new bindings
remote:
remote:          [Upstream commit a72e154107340b868e69e0afeb418c9ec0994317]
remote:
remote:          Fixes commit 3be2a49e5c08 ("of: provide a binding for fixed link PHYs")
remote:
remote:          Fix the parsing of the new fixed link dts bindings for duplex,
remote:          pause, and asym_pause by using the correct device node pointer.
remote:
remote:          SWLINUX-3246
remote:
remote:          Signed-off-by: Richard Retanubun <rretanubun.work@gmail.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit e839d7ce2cf0a64683717c4faae018f1635dadee)
remote:
remote:      commit fba2eb68a811a6814add1b455856ae6fd34fd7a2
remote:      Author: Thomas Petazzoni <thomas.petazzoni@free-electrons.com>
remote:      Date:   Fri May 16 16:14:05 2014 +0200
remote:
remote:          of: provide a binding for fixed link PHYs
remote:
remote:          [Upstream commit 3be2a49e5c08d268f8af0dd4fe89a24ea8cdc339]
remote:
remote:          Some Ethernet MACs have a "fixed link", and are not connected to a
remote:          normal MDIO-managed PHY device. For those situations, a Device Tree
remote:          binding allows to describe a "fixed link" using a special PHY node.
remote:
remote:          This patch adds:
remote:
remote:           * A documentation for the fixed PHY Device Tree binding.
remote:
remote:           * An of_phy_is_fixed_link() function that an Ethernet driver can call
remote:             on its PHY phandle to find out whether it's a fixed link PHY or
remote:             not. It should typically be used to know if
remote:             of_phy_register_fixed_link() should be called.
remote:
remote:           * An of_phy_register_fixed_link() function that instantiates the
remote:             fixed PHY into the PHY subsystem, so that when the driver calls
remote:             of_phy_connect(), the PHY device associated to the OF node will be
remote:             found.
remote:
remote:          These two additional functions also support the old fixed-link Device
remote:          Tree binding used on PowerPC platforms, so that ultimately, the
remote:          network device drivers for those platforms could be converted to use
remote:          of_phy_is_fixed_link() and of_phy_register_fixed_link() instead of
remote:          of_phy_connect_fixed_link(), while keeping compatibility with their
remote:          respective Device Tree bindings.
remote:
remote:          SWLINUX-3246
remote:
remote:          Signed-off-by: Thomas Petazzoni <thomas.petazzoni@free-electrons.com>
remote:          Reviewed-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Tested-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 177729ec47d6123d68414fb8f9d9318df98ff808)
remote:
remote:      commit 585bb80a5e98fb2ce41865c5e7967c7d8d98bdd8
remote:      Author: Thomas Petazzoni <thomas.petazzoni@free-electrons.com>
remote:      Date:   Fri May 16 16:14:04 2014 +0200
remote:
remote:          net: phy: extend fixed driver with fixed_phy_register()
remote:
remote:          [Upstream commit a75951217472c522c324adb0a4de3ba69d656ef5]
remote:
remote:          The existing fixed_phy_add() function has several drawbacks that
remote:          prevents it from being used as is for OF-based declaration of fixed
remote:          PHYs:
remote:
remote:           * The address of the PHY on the fake bus needs to be passed, while a
remote:             dynamic allocation is desired.
remote:
remote:           * Since the phy_device instantiation is post-poned until the next
remote:             mdiobus scan, there is no way to associate the fixed PHY with its
remote:             OF node, which later prevents of_phy_connect() from finding this
remote:             fixed PHY from a given OF node.
remote:
remote:          To solve this, this commit introduces fixed_phy_register(), which will
remote:          allocate an available PHY address, add the PHY using fixed_phy_add()
remote:          and instantiate the phy_device structure associated with the provided
remote:          OF node.
remote:
remote:          SWLINUX-3246
remote:
remote:          Signed-off-by: Thomas Petazzoni <thomas.petazzoni@free-electrons.com>
remote:          Acked-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Acked-by: Grant Likely <grant.likely@linaro.org>
remote:          Tested-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit ddf67252a34999f7a7435935ddaf2845ba3a522c)
remote:
remote:      commit 8f8d3d9d9f1711c50249960fd2e5b47ee0f8d1a9
remote:      Author: Thomas Petazzoni <thomas.petazzoni@free-electrons.com>
remote:      Date:   Fri May 16 16:14:03 2014 +0200
remote:
remote:          net: phy: decouple PHY id and PHY address in fixed PHY driver
remote:
remote:          [Upstream commit 9b744942290c168287013f0a19ff7392f65c8107]
remote:
remote:          Until now, the fixed_phy_add() function was taking as argument
remote:          'phy_id', which was used both as the PHY address on the fake fixed
remote:          MDIO bus, and as the PHY id, as available in the MII_PHYSID1 and
remote:          MII_PHYSID2 registers. However, those two informations are completely
remote:          unrelated.
remote:
remote:          This patch decouples them. The PHY id of fixed PHYs is hardcoded to be
remote:          0x0. Ideally, a really reserved value would be nicer, but there
remote:          doesn't seem to be an easy of making sure a dummy value can be
remote:          assigned to the Linux kernel for such usage.
remote:
remote:          The PHY address remains passed by the caller of phy_fixed_add().
remote:
remote:          SWLINUX-3246
remote:
remote:          Signed-off-by: Thomas Petazzoni <thomas.petazzoni@free-electrons.com>
remote:          Reviewed-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Tested-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit a94f131c208243c7d287222e23f11ba92145d718)
remote:
remote:      commit 34b0fd6307e8d7ffbc3a129705a603693f76a217
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Tue May 12 19:19:21 2015 -0700
remote:
remote:          scripts: analyze_oom.py: account for minimum highmem too
remote:
remote:          When looking whether an allocation that's allowed to use highmem should
remote:          succeed, make sure to account for highmem's min watermark.
remote:
remote:          SWLINUX-3677
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit b6964c389a1d0404e2c1c0ed0426e8dd674506c1)
remote:
remote:      commit 2bdbaefa3b5680428c205b1fdbdc8adc74b3888e
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Thu May 7 18:31:28 2015 -0400
remote:
remote:          pci: enable aspm
remote:
remote:          This commit enables PCIe ASPM power states L0s and L1.  However,
remote:          their activation is not turned on by default.  The user
remote:          may override the default ASPM setting by either setting the
remote:          boot parameter 'pcie_aspm.policy' at boot or setting
remote:          '/sys/module/pcie_aspm/parameters/policy' at runtime.
remote:
remote:          SWLINUX-3673
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit 978edaf832a784fdb786b8008364dc81792e2762)
remote:
remote:      commit f95e42af80f4fb03ff39dbc576aea9b829a08b12
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Fri May 8 14:17:44 2015 -0700
remote:
remote:          scripts: analyze_oom.py incorrectly ignores highmem CMA
remote:
remote:          The has_cma variable is used to determine whether there is a need to account
remote:          for CMA in the OOM analysis (i.e. whether it has to worry about movable vs
remote:          unmovable pages).  Unfortunately, since it wasn't reporting for highmem, the
remote:          resulting analysis is wrong if the only free cma pages are in highmem.  Fix
remote:          that.
remote:
remote:          fixes #SWLINUX-3677
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 60330933099e7ad1fe4a76c96fe0e26d42c72869)
remote:
remote:      commit d8883f50801ca08bddb37b69cd92028dfd520a4f
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu May 7 16:40:23 2015 -0700
remote:
remote:          net: dsa: bcm_sf2: propagate carrier down states
remote:
remote:          There is currently a complex race condition with fixed PHYs utilizing a
remote:          link_update callback in how they propagate link down notifications. We may, or
remote:          may not, under certain circumstances reach the PHY_NOLINK state in the PHY state
remote:          machine, which means that we will never call netif_carrier_off() for that
remote:          interface. This is a problem for link monitoring applications since they will
remote:          never learn about the "NO-CARRIER" flag.
remote:
remote:          Fix that by explicitly calling netif_carrier_off() in our link_update callback
remote:          to propagate carrier state changes accordingly.
remote:
remote:          SWLINUX-3672
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 50bc6335ed5d2731ffd77c20a9c5f6fe5482480a)
remote:
remote:      commit b11ba395efe71a90ef9e75c92f93c805eed6b12d
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed May 6 10:58:31 2015 -0700
remote:
remote:          bsp: Remove 7366b0 BCHP headers
remote:
remote:          SWLINUX-3669
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit d0aeb968ef123f943a5e46de99ee4d3ffc4bba5c)
remote:
remote:      commit 8803f370749c7c762ea932c14208232e1621cf05
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed May 6 10:57:30 2015 -0700
remote:
remote:          bsp: Remove support for 7366B0
remote:
remote:          SWLINUX-3669
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit f384e8afc4f48c36d7fffae3a5d6e1456e79e65c)
remote:
remote:      commit 52970c030de04ce0c0573ebd3e2c74781fdb46f3
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed May 6 10:56:04 2015 -0700
remote:
remote:          drivers: Remove support for 7366b0
remote:
remote:          SWLINUX-3669
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 67743ca2a13e204b0432f8b76b36ca7917e0df09)
remote:
remote:      commit fb368e62154c57482a8c3124263bbc54bf1cdfe7
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Tue Apr 21 18:56:41 2015 -0700
remote:
remote:          soc: brcmstb: wktmr: release wakeup resources on device removal
remote:
remote:          A device can already have wakeup_source info attached to it when it is
remote:          probed (either via sysfs, or due to improper cleanup when
remote:          unbinding/binding). So like every other driver which uses this API,
remote:          let's *not* bail on errors during device_wakeup_enable(). Usually
remote:          (always?) this just means that the device was already wakeup-enabled.
remote:
remote:          Resolves errors like this:
remote:
remote:             # echo f0417480.waketimer > /sys/bus/platform/drivers/brcm-waketimer/unbind
remote:             # echo f0417480.waketimer > /sys/bus/platform/drivers/brcm-waketimer/bind
remote:             [   22.512742] brcm-waketimer: probe of f0417480.waketimer failed with error -17
remote:
remote:          SWLINUX-3638
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit ffe51459c8dcf20398cd32cfac2ea5451a00d839)
remote:
remote:      commit 1086dec76d44ef49b3e88479687c2714cfa63968
remote:      Author: Tobias Klauser <tklauser@distanz.ch>
remote:      Date:   Tue Sep 23 15:19:41 2014 +0200
remote:
remote:          net: bcmgenet: Fix compile warning
remote:
remote:          bcmgenet_wol_resume() is only used in bcmgenet_resume(), which is only
remote:          defined when CONFIG_PM_SLEEP is enabled. This leads to the following
remote:          compile warning when building with !CONFIG_PM_SLEEP:
remote:
remote:          drivers/net/ethernet/broadcom/genet/bcmgenet.c:1967:12: warning: bcmgenet_wol_resumed defined but not used [-Wunused-function]
remote:
remote:          Since bcmgenet_resume() is the only user of bcmgenet_wol_resume(), fix
remote:          this by directly inlining the function there.
remote:
remote:          Reported-by: Geert Uytterhoeven <geert@linux-m68k.org>
remote:          Signed-off-by: Tobias Klauser <tklauser@distanz.ch>
remote:          Acked-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          (cherry picked from commit 0a29b3dafbb2fc46421cc2950523814c7c6c8bfb)
remote:          [Brian: loose cherry-pick; there were a few conflicts]
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:
remote:          (cherry picked from commit 0ac5f8a9cd3e4b84d3ed7f0eadec78741aadbec8)
remote:
remote:      commit fdf04af2863569bfc8b3ecdba86b7a528b16dd9b
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Tue Apr 21 18:51:30 2015 -0700
remote:
remote:          bmoca: compile when !CONFIG_PM
remote:
remote:            CC      drivers/char/bmoca.o
remote:          drivers/char/bmoca.c: In function moca_wol_isrd:
remote:          drivers/char/bmoca.c:2589:3: error: implicit declaration of function moca_set_pm_stated [-Werror=implicit-function-declaration]
remote:             moca_set_pm_state(priv, MOCA_RESUMING_ASSERT);
remote:             ^
remote:
remote:          To resolve this, just give an empty definition for !CONFIG_PM. This is
remote:          harmless.
remote:
remote:          SWLINUX-3638
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 4f2e99279927e23f7b502936667dc8417e654a5b)
remote:
remote:      commit d5e4aa6b07ebd2fef458677bb7815447195d616d
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Tue Apr 21 18:48:35 2015 -0700
remote:
remote:          pci: fix build with !CONFIG_PM
remote:
remote:          Most of the checks in pci-brcmstb.c use C-style checks:
remote:
remote:          	if (IS_ENABLED(CONFIG_PM))
remote:          		...;
remote:
remote:          But these functions are pulled out via the preprocessor, yielding
remote:          compile failures when !defined(CONFIG_PM). Just leave these in
remote:          unconditionally, and the compiler will remove them when they are
remote:          logically unused.
remote:
remote:          SWLINUX-3638
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit ec0a7aa6b98a665ea54c32d09d12338343bb3cc5)
remote:
remote:      commit 40d812c66f9987ac710edcbbe4700f756307c8bb
remote:      Author: Thierry Reding <treding@nvidia.com>
remote:      Date:   Wed Oct 1 13:59:00 2014 +0200
remote:
remote:          net: dsa: Fix build warning for !PM_SLEEP
remote:
remote:          The dsa_switch_suspend() and dsa_switch_resume() functions are only used
remote:          when PM_SLEEP is enabled, so they need #ifdef CONFIG_PM_SLEEP protection
remote:          to avoid a compiler warning.
remote:
remote:          SWLINUX-3638
remote:
remote:          Signed-off-by: Thierry Reding <treding@nvidia.com>
remote:          Acked-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          (cherry picked from commit e506d405ac7d34d03996c97ac68aa2ac010be64a)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit e085ad19e4b4ed94044b8e54eac2ad6161dffb19)
remote:
remote:      commit cef024f546936a16763477b8704edc50c9fd52bd
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Thu Jul 24 17:10:14 2014 -0700
remote:
remote:          bmoca: use devm_*, clean up #ifdefs
remote:
remote:          SWLINUX-3638
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit c137fe7702da3450c6137e25fba9ac0273b67189)
remote:
remote:      commit f2fe706f7ae63365fb7409f33ff8c6528ac0905d
remote:      Author: Ulf Hansson <ulf.hansson@linaro.org>
remote:      Date:   Wed Dec 18 11:59:17 2013 +0100
remote:
remote:          mmc: core: Enable MMC_CAP2_CACHE_CTRL as default
remote:
remote:          [Upstream commit 7536d3f83aa42ba1a3b1c6b30c2b6d94a820cbb2]
remote:
remote:          There are no reason to why the use of a non-volatile internal eMMC
remote:          cache should be controlled by a host cap. Instead let's just enable it
remote:          if the eMMC card supports it.
remote:
remote:          SWLINUX-3656
remote:
remote:          Signed-off-by: Ulf Hansson <ulf.hansson@linaro.org>
remote:          Acked-by: Seungwon Jeon <tgih.jun@samsung.com>
remote:          Signed-off-by: Chris Ball <chris@printf.net>
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit 14ac89e5055bcabcb744bb39c61e0786612df90e)
remote:
remote:      commit c13f46ece1460a41c10aed8f6dfa4af833469552
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Wed Apr 1 17:20:10 2015 -0700
remote:
remote:          brcmstb_defconfig: Enable GPIOLIB
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit f1367f20f7c0e9f74a6d4a8154b225f9745dcb6a)
remote:
remote:      commit bb7fc2c88ae22c63e32e8dcb96ae37c60a473025
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Fri Mar 20 14:54:31 2015 -0700
remote:
remote:          gpio: Add GPIO support for Broadcom STB SoCs
remote:
remote:          This adds support for the GPIO IP "UPG GIO" used on Broadcom STB SoCs
remote:          (BCM7XXX and some others).  Uses basic_mmio_gpio to instantiate a
remote:          gpio_chip for each bank.  The driver assumes that it handles the base
remote:          set of GPIOs on the system and that it can start its numbering sequence
remote:          from 0, so any GPIO expanders used with it must dynamically assign GPIO
remote:          numbers after this driver has finished registering its GPIOs.
remote:
remote:          Does not implement the interrupt-controller portion yet, will be done in a
remote:          future commit.
remote:
remote:          SWLINUX-3604
remote:
remote:          List-usage-fixed-by: Brian Norris <norris@broadcom.com>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 7c1aa70d23ede9be118724b88d1fff11da0630b2)
remote:
remote:      commit 7f4f1708bf7351c12785d79243cb10361c46136f
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Wed Apr 1 15:28:41 2015 -0700
remote:
remote:          dt-bindings: add brcmstb-gpio GPIO binding
remote:
remote:          Add binding for Broadcom STB "UPG GIO" GPIO controller.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit f8a0d3737c0056029ef9b8ac20ac11563881a000)
remote:
remote:      commit b77372762bc586d9a8c89288cc8cae1ccc9b3f99
remote:      Author: Heiko Stuebner <heiko.stuebner@bqreaders.com>
remote:      Date:   Wed Feb 12 01:00:34 2014 +0100
remote:
remote:          of: add functions to count number of elements in a property
remote:
remote:          [Upstream commit ad54a0cfbeb4bd4033d09017557ccbc423f9d5ff]
remote:
remote:          The need to know the number of array elements in a property is
remote:          a common pattern. To prevent duplication of open-coded implementations
remote:          add a helper static function that also centralises strict sanity
remote:          checking and DTB format details, as well as a set of wrapper functions
remote:          for u8, u16, u32 and u64.
remote:
remote:          SWLINUX-3604
remote:
remote:          Suggested-by: Mark Rutland <mark.rutland@arm.com>
remote:          Signed-off-by: Heiko Stuebner <heiko.stuebner@bqreaders.com>
remote:          Acked-by: Rob Herring <robh@kernel.org>
remote:          Acked-by: Grant Likely <grant.likely@linaro.org>
remote:          Acked-by: Mark Rutland <mark.rutland@arm.com>
remote:          Signed-off-by: Mark Brown <broonie@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 7294b41058f32ce6e817d8a823b45cf800a95e2b)
remote:
remote:      commit 0f30c197345dc4de9437c36cffe8b17823f1cd1b
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Tue Apr 28 10:12:13 2015 -0400
remote:
remote:          USB: Get usb-brcm-common-init.c back in sync with the BOLT version
remote:
remote:          The usb-brcm-common-init.c was written to be shared, without change,
remote:          between BOLT and the kernel. The file has gotten out of sync with
remote:          some new changes added to the kernel version and some new changes
remote:          added to the BOLT version. This will get the file back in sync.
remote:          The changes include a 74371a0 workaround that requires the use
remote:          of the XHCI EX (extended capabilities) register block which
remote:          has been added to the XHCI device tree entry by BOLT.
remote:
remote:          SWLINUX-3624
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit 0418378bbb5e838d659c6f92c004827888402e76)
remote:
remote:      commit 269ddce30d68cb192d002d04dfa7f007b20df662
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Thu Apr 23 14:25:57 2015 -0700
remote:
remote:          uapi: export cma_driver.h
remote:
remote:          In case we want to use 'make headers_install'.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit f72e3a3bf73527b725e6ee21c0f7d470c2e246c6)
remote:
remote:      commit eba0bd39c7151c05a00538aeacb2b8380e385a49
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Apr 22 15:53:29 2015 -0700
remote:
remote:          Bump version to 3.14-1.6pre
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit a4b0b0fe1edb64f1f91646a7928440fdf26b54b6)
remote:
remote:      commit 5fc287fca6b4667036a9377c47868ecf3a35a018
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue Apr 21 15:50:32 2015 -0700
remote:
remote:          brcmstb_defconfig: Disable KEXEC
remote:
remote:          Kexec is not consistently and reliably working on all platforms, disable it for
remote:          now until it gets properly fixed and safe to get re-enabled.
remote:
remote:          SWLINUX-3639
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 3880908c9b095cb7d30a74f8dc7614a598dabeba)
remote:
remote:      commit 139d37399b546daf204229d7c5a2d62f4892a957
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Apr 15 15:17:26 2015 -0700
remote:
remote:          ARM: B15: Enable read-ahead cache by default
remote:
remote:          Now that our middleware has been migrated to using
remote:          __cpuc_flush_kern_cache_all() which is properly dealing with the B15 RAC
remote:          flushing, we can turn on this option by default
remote:
remote:          SWLINUX-3639
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 8ac0374c06e1488405f0b9dc0c254d99985102a9)
remote:
remote:      commit af5639a2e41922cdc84d61eafbf03534fb78374f
remote:      Author: Florian Fainelli <f.fainelli@gmail.com>
remote:      Date:   Mon Mar 16 17:46:42 2015 -0700
remote:
remote:          ARM: B15: Register reboot notifier for KEXEC
remote:
remote:          During kexec, we will go through kernel_kexec() -> syscore_suspend() if
remote:          CONFIG_KEXEC_JUMP is set, if not, down the road we end-up calling
remote:          kernel_restart_prepare() which invokes reboot notifiers with
remote:          SYS_RESTART.
remote:
remote:          We register a reboot notifier to make sure that the B15 read-ahead cache
remote:          is disabled, since it is another level of instruction and data cache,
remote:          and we want to avoid any potential side effects with booting a new
remote:          kernel with such a cache still turned on.
remote:
remote:          SWLINUX-3639
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 02c05a65e164cf0987b7912b41e03ab5f3947923)
remote:
remote:      commit f31d78c8cf92181478601f591144182195a48a8e
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Thu Apr 16 17:05:33 2015 -0700
remote:
remote:          brcmstb_defconfig: enable user_space thermal governor by default
remote:
remote:          As of now, it is important to always use the 'user_space' thermal
remote:          policy, so that user-space will receive trip point uevent notifications.
remote:          If it ever comes down to needing to support both a kernel and user-space
remote:          governor, we might need to move the kobject_uevent_env() calls into
remote:          brcmstb_thermal and switch back to, e.g., step_wise.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 0d11680dbc714b13a53bbd6f8885db6d64b85959)
remote:
remote:      commit be1f699a4419bc5519c1d206e0c6dd3624b7e7bf
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Thu Apr 16 16:34:41 2015 -0700
remote:
remote:          thermal: brcmstb_thermal: add of-thermal and hardware trigger support
remote:
remote:          We can make use of the upstream thermal device tree bindings to
remote:          configure trip points for us. We can also make use of the proposed
remote:          .set_trips() callback, which was backported in a previous patch (not
remote:          upstream yet) to utilize our high/low interrupts most economically.
remote:
remote:          Because we supplied some basic support for temperature readins
remote:          previously, where this driver registered its own standalone thermal zone
remote:          (without using the of-thermal framework), I have migrated the existing
remote:          support into a fall-back 'brcmstb_thermal_zone_probe()' option. This
remote:          can help transition between device trees that have the 'thermal-zones'
remote:          node set up and those that don't. We should schedule this to be removed
remote:          quickly in a future release.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit e48cd6d70081a5ebfc7fafc78be9e22569521be2)
remote:
remote:      commit 20baf7a19edbc55cd12cc97d88d6e2111d679653
remote:      Author: Brian Norris <computersforpeace@gmail.com>
remote:      Date:   Wed Apr 1 17:03:13 2015 -0700
remote:
remote:          thermal: user_space: add trip point number and temperature to uevent data
remote:
remote:          Now that the thermal core supplies trip notifications when
remote:          *crossing* a trip point, and only for that single trip point, it is
remote:          useful to provide this information in the uevent metadata. That way, a
remote:          user-space governor can figure out this information directly, without
remote:          any guessing. This also eliminates a potential race, where the
remote:          temperature may have changed between the time a hardware trip was fired
remote:          and the time it is received by the governor.
remote:
remote:          This patch should be submitted upstream. It's possible this will not
remote:          suit the general needs of other thermal users, and so we might consider
remote:          integrating this directly into brcmstb_thermal instead.
remote:
remote:          Prior RFC submission, which received no comments (4/17/15):
remote:          http://thread.gmane.org/gmane.linux.kernel/1922796
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 2b2274fd832628edac2714890ddf5076fa886d52)
remote:
remote:      commit b265158fadd2185008ff7691322f2a209b2d1382
remote:      Author: Brian Norris <computersforpeace@gmail.com>
remote:      Date:   Thu Apr 16 15:48:49 2015 -0700
remote:
remote:          thermal: report trips only when crossed
remote:
remote:          For some reason, the existing infrastructure will notify *all* trip
remote:          points whenever any driver calls thermal_zone_device_update_temp(). This
remote:          is unfortunate for users of hardware-backed trip points, since that
remote:          means we lose all information about which trip point triggered the
remote:          update, if any.
remote:
remote:          Instead, let's only call handle_thermal_trip() when we've crossed a
remote:          trip.
remote:
remote:          This should be submitted upstream, possibly with some rework to make it
remote:          more generically useful. If nothing else, it might generate some
remote:          explanation as to why the trip point notifications are currently so
remote:          peculiar, as described above.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 07bd877f9207c9b39149f8807d18a3e806157698)
remote:
remote:      commit a231663b668fcc1b166c39bc3a88a219e7d29a23
remote:      Author: Brian Norris <computersforpeace@gmail.com>
remote:      Date:   Thu Apr 16 15:37:37 2015 -0700
remote:
remote:          thermal: add thermal_zone_device_update_temp() API
remote:
remote:          Allow drivers to report a particular update temperature.
remote:
remote:          This is important for hardware-supported trip points. On such hardware,
remote:          there is a potential for inconstency in the following sequence:
remote:
remote:          (1) hardware interrupt
remote:          (2) themal_zone_device_update(),
remote:          (3) zone->get_temp()
remote:
remote:          Between (1) and (3), the temperature might change a bit.
remote:
remote:          So, rather than add in caching to the sensor driver to record the
remote:          temperature at (1), just allow the driver to pass it directly through.
remote:
remote:          This should be submitted upstream.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 108133d196afc29f13ad6e78201dd6fc7203cac6)
remote:
remote:      commit 5642a16565b7b5f0afe893933b0d265c096eafa1
remote:      Author: Sascha Hauer <s.hauer@pengutronix.de>
remote:      Date:   Thu Mar 26 16:54:00 2015 +0100
remote:
remote:          thermal: of: implement .set_trips for device tree thermal zones
remote:
remote:          [Backported preliminary patch. See thread:
remote:          http://thread.gmane.org/gmane.linux.power-management.general/58483/]
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 3cd4d53f0458e701d176c3437dbba4a5d51a9bbc)
remote:
remote:      commit bce42c78595217815ba4cacef4817f020ac21a16
remote:      Author: Sascha Hauer <s.hauer@pengutronix.de>
remote:      Date:   Thu Mar 26 16:53:59 2015 +0100
remote:
remote:          thermal: Add support for hardware-tracked trip points
remote:
remote:          [Backported preliminary patch. See thread:
remote:          http://thread.gmane.org/gmane.linux.power-management.general/58483/]
remote:
remote:          This adds support for hardware-tracked trip points to the device tree
remote:          thermal sensor framework.
remote:
remote:          The framework supports an arbitrary number of trip points. Whenever
remote:          the current temperature is updated, the trip points immediately
remote:          below and above the current temperature are found. A .set_trips
remote:          callback is then called with the temperatures. If there is no trip
remote:          point above or below the current temperature, the passed trip
remote:          temperature will be ULONG_MAX or 0 respectively. In this callback,
remote:          the driver should program the hardware such that it is notified
remote:          when either of these trip points are triggered. When a trip point
remote:          is triggered, the driver should call `thermal_zone_device_update'
remote:          for the respective thermal zone. This will cause the trip points
remote:          to be updated again.
remote:
remote:          If .set_trips is not implemented, the framework behaves as before.
remote:
remote:          This patch is based on an earlier version from Mikko Perttunen
remote:          <mikko.perttunen@kapsi.fi>
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit ea98ecf433f575e8207e92f5f97401cbd4f1d17c)
remote:
remote:      commit 4732709d808a2a0de81cbc5e10c159136d822a9e
remote:      Author: Sascha Hauer <s.hauer@pengutronix.de>
remote:      Date:   Thu Mar 26 16:53:57 2015 +0100
remote:
remote:          thermal: Make struct thermal_zone_device_ops const
remote:
remote:          [Backported preliminary patch. See thread:
remote:          http://thread.gmane.org/gmane.linux.power-management.general/58483/]
remote:
remote:          Now that the of thermal support no longer changes the
remote:          thermal_zone_device_ops it can be const again.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 3ca444889b05815ee5cb89b926ca5135b0c7f70d)
remote:
remote:      commit e78f447ee16d96866610aec3c06304d55c93c1a8
remote:      Author: Sascha Hauer <s.hauer@pengutronix.de>
remote:      Date:   Thu Mar 26 16:53:56 2015 +0100
remote:
remote:          thermal: of: always set sensor related callbacks
remote:
remote:          [Backported preliminary patch. See thread:
remote:          http://thread.gmane.org/gmane.linux.power-management.general/58483/]
remote:
remote:          Now that the thermal core treats -ENOSYS like the callbacks were
remote:          not present at all we no longer have to overwrite the ops during
remote:          runtime but instead can always set them and return -ENOSYS if no
remote:          sensor is registered.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit ba9a02a0e014f15e44968c3b72a76db0f5ad94f9)
remote:
remote:      commit 0e4cc8f5fd991e390202e498a3a9eefa41b51f7f
remote:      Author: Sascha Hauer <s.hauer@pengutronix.de>
remote:      Date:   Thu Mar 26 16:53:55 2015 +0100
remote:
remote:          thermal: Allow sensor ops to fail with -ENOSYS
remote:
remote:          [Backported preliminary patch. See thread:
remote:          http://thread.gmane.org/gmane.linux.power-management.general/58483/]
remote:
remote:          The thermal core uses the existence of the .get_temp, .get_trend and
remote:          .set_emul_temp to detect whether this operation exists and should be
remote:          used or whether it should be emulated in software. This makes problems
remote:          for of-thermal which has to modify the struct thermal_zone_device_ops
remote:          during runtime whenever a sensor is registered or unregistered.
remote:
remote:          Let the core test for -ENOSYS from these callbacks and treat it like
remote:          if the callbacks were not present.
remote:
remote:          This allows of-thermal to always set the sensor related callbacks and
remote:          to make struct thermal_zone_device_ops const again.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 8d174873ac9cbd28ddc3dd3f65d991a37c3d6049)
remote:
remote:      commit 695233c94789d09c7d51d75c10ab02f4a9ed009e
remote:      Author: Sascha Hauer <s.hauer@pengutronix.de>
remote:      Date:   Thu Mar 26 16:53:53 2015 +0100
remote:
remote:          thermal: streamline get_trend callbacks
remote:
remote:          [Backported preliminary patch. See thread:
remote:          http://thread.gmane.org/gmane.linux.power-management.general/58483/]
remote:
remote:          The .get_trend callback in struct thermal_zone_device_ops has the prototype:
remote:
remote:          	int (*get_trend) (struct thermal_zone_device *, int,
remote:          			  enum thermal_trend *);
remote:
remote:          whereas the .get_trend callback in struct thermal_zone_of_device_ops has:
remote:
remote:          	int (*get_trend)(void *, long *);
remote:
remote:          Streamline both prototypes and add the trip argument to the OF callback
remote:          aswell and use enum thermal_trend * instead of an integer pointer.
remote:
remote:          While the OF prototype may be the better one, this should be decided at
remote:          framework level and not on OF level.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 0c59731c01d4e0e8f5c62e6a94f21cf8f5c19704)
remote:
remote:      commit b65a5e091bfdf7c99fef3e0b631b5827b20fced8
remote:      Author: Sascha Hauer <s.hauer@pengutronix.de>
remote:      Date:   Thu Mar 26 16:53:52 2015 +0100
remote:
remote:          thermal: inline only once used function
remote:
remote:          [Backported preliminary patch. See thread:
remote:          http://thread.gmane.org/gmane.linux.power-management.general/58483/]
remote:
remote:          Inline update_temperature into its only caller to make the code
remote:          more readable.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit d04ae45a8fb83493160c458ebf6f9fc816c7018e)
remote:
remote:      commit 0c5cded31df332de58cf70b5407a714db16c84c4
remote:      Author: Sascha Hauer <s.hauer@pengutronix.de>
remote:      Date:   Thu Mar 26 16:53:51 2015 +0100
remote:
remote:          thermal: Fix not emulating critical temperatures
remote:
remote:          [Backported preliminary patch. See thread:
remote:          http://thread.gmane.org/gmane.linux.power-management.general/58483/]
remote:
remote:          commit e6e238c38 (thermal: sysfs: Add a new sysfs node emul_temp for
remote:          thermal emulation)  promised not to emulate critical temperatures,
remote:          but the check for critical temperatures is broken in multiple ways:
remote:
remote:          - The code should only accept an emulated temperature when the emulated
remote:            temperature is lower than the critical temperature. Instead the code
remote:            accepts an emulated temperature whenever the real temperature is lower
remote:            than the critical temperature. This makes no sense and trying to
remote:            emulate a temperature higher than the critical temperature halts the
remote:            system.
remote:          - When trying to emulate a higher-than-critical temperature we should either
remote:            limit the emulated temperature to the maximum non critical temperature
remote:            or refuse to emulate this temperature. Instead the code just silently
remote:            ignores the emulated temperature and continues with the real temperature.
remote:
remote:          This patch moves the test for illegal emulated temperature to the sysfs
remote:          write function so that we can properly refuse illegal temperatures here.
remote:          Trying to write illegal temperatures results in an error message. While
remote:          at it use IS_ENABLED() instead of #ifdefs.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 5fa4d4671626b95262c06e712fb08083d9cfd45d)
remote:
remote:      commit 4ea223753cee2187ca8ab8965aa4e5c4b15fd564
remote:      Author: Sascha Hauer <s.hauer@pengutronix.de>
remote:      Date:   Thu Mar 26 16:53:50 2015 +0100
remote:
remote:          thermal: remove useless call to thermal_zone_device_set_polling
remote:
remote:          [Backported preliminary patch. See thread:
remote:          http://thread.gmane.org/gmane.linux.power-management.general/58483/]
remote:
remote:          When the thermal zone has no get_temp callback then thermal_zone_device_register()
remote:          calls thermal_zone_device_set_polling() with a polling delay of 0. This
remote:          only cancels the poll_queue. Since the poll_queue hasn't been scheduled this
remote:          is a no-op. Remove it.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 7544f03b28cdb91ec56685ca82f2fdfe439822b6)
remote:
remote:      commit c4a7b97c23fffbaef3a6f2484fff76d4186249d5
remote:      Author: Nishanth Menon <nm@ti.com>
remote:      Date:   Fri Feb 13 19:28:02 2015 -0600
remote:
remote:          thermal: Introduce dummy functions when thermal is not defined
remote:
remote:          When CONFIG_THERMAL is not enabled, it is better to introduce
remote:          equivalent dummy functions in the exported header than to
remote:          introduce #ifdeffery in drivers using the function.
remote:
remote:          This will prevent issues such as that reported in:
remote:          http://www.spinics.net/lists/linux-next/msg31573.html
remote:
remote:          While at it switch over to IS_ENABLED for thermal macros
remote:          to allow for thermal framework to be built as framework
remote:          and relevant APIs be usable by relevant drivers as a result.
remote:
remote:          SWLINUX-3599
remote:
remote:          Reported-by: Guenter Roeck <linux@roeck-us.net>
remote:          Signed-off-by: Nishanth Menon <nm@ti.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit 12ca7188468ee29c4e717f73db4bf43c90954fc7)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 6895bc8ce3951d034c0bf730755bc8ee743eea93)
remote:
remote:      commit 91c463ad83a03f967f66da8972a0f9bf58f4a78a
remote:      Author: Lukasz Majewski <l.majewski@samsung.com>
remote:      Date:   Mon Jan 19 12:44:04 2015 +0100
remote:
remote:          thermal: of: Enable thermal_zoneX when sensor is correctly added
remote:
remote:          Up till now the thermal_zone mode was by default "disabled". With this
remote:          patch the default behavior was changed to "enable".
remote:
remote:          One can read the mode at:
remote:          /sys/class/thermal/thermal_zone0/mode
remote:
remote:          SWLINUX-3599
remote:
remote:          Tested-by: Javi Merino <javi.merino@arm.com>
remote:          Reported-by: Abhilash Kesavan <a.kesavan@samsung.com>
remote:          Signed-off-by: Lukasz Majewski <l.majewski@samsung.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit 528012c1f4379738c6307b273d20cc3caa7d08af)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit cfd42749165f47f45ee9eaf8376be6bfdce60cc7)
remote:
remote:      commit a7b927f0541208a0c49afab955ab690a1cbc9041
remote:      Author: Punit Agrawal <punit.agrawal@arm.com>
remote:      Date:   Tue Dec 9 12:22:01 2014 +0000
remote:
remote:          thermal: Fix cdev registration with THERMAL_NO_LIMIT on 64bit
remote:
remote:          The size of unsigned long varies between 32 and 64 bit systems while
remote:          the size of phandle arguments is always 32 bits per parameter.
remote:
remote:          On 64-bit systems, cooling devices registered via of-thermal apis fail
remote:          to bind when the min/max cooling state is specified as
remote:          THERMAL_NO_LIMIT (-1UL) as there is a mis-match between the value read
remote:          from the device tree (32bit) and the pre-processor define (64bit).
remote:
remote:          As we're unlikely to need cooling states larger than 32 bits, and for
remote:          consistency with the size of phandle arguments, explicitly limit
remote:          THERMAL_NO_LIMIT to 32 bits.
remote:
remote:          SWLINUX-3599
remote:
remote:          Reported-by: Hyungwoo Yang <hwoo.yang@gmail.com>
remote:          Acked-by: Zhang Rui <rui.zhang@intel.com>
remote:          Signed-off-by: Punit Agrawal <punit.agrawal@arm.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit a940cb34fed73b2d4809a4575f2981d5927e2c21)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 6204e0484ab0cf78e158321fe0101c75bd5ac10e)
remote:
remote:      commit 8706c31c53d61644564b802d3e19c0f8ae83cd31
remote:      Author: Lukasz Majewski <l.majewski@samsung.com>
remote:      Date:   Tue Nov 18 11:16:30 2014 +0100
remote:
remote:          thermal:core:fix: Check return code of the ->get_max_state() callback
remote:
remote:          The return code from ->get_max_state() callback was not checked during
remote:          binding cooling device to thermal zone device.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Lukasz Majewski <l.majewski@samsung.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit 9a3031dc3e7a5edfeb52ae8951f8bcd927351854)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 496089560c948b796c767abf1492bbf3f84d2f57)
remote:
remote:      commit 78f7681ea905af99bdf44e7cd4bbb5ae09843683
remote:      Author: Lukasz Majewski <l.majewski@samsung.com>
remote:      Date:   Mon Dec 8 18:04:21 2014 +0100
remote:
remote:          thermal: of: Extend current of-thermal.c code to allow setting emulated temp
remote:
remote:          Before this change it was only possible to set get_temp() and get_trend()
remote:          methods to be used in the common code handling passing parameters via
remote:          device tree to "cpu-thermal" CPU thermal zone device.
remote:
remote:          Now it is possible to also set emulated value of temperature for debug
remote:          purposes.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Lukasz Majewski <l.majewski@samsung.com>
remote:          Acked-by: Eduardo Valentin <edubezval@gmail.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit 184a4bf623fa587067851d25435fcb2f41de445b)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 2948540a0196c83bf5dca855b4812a27fd8fec04)
remote:
remote:      commit 893cb50113ecb0f298ebedae4a36c2fc483f52f8
remote:      Author: Lukasz Majewski <l.majewski@samsung.com>
remote:      Date:   Mon Dec 8 18:04:20 2014 +0100
remote:
remote:          thermal: of: Extend of-thermal to export table of trip points
remote:
remote:          This patch extends the of-thermal.c to export trip points for a given
remote:          thermal zone.
remote:
remote:          Thermal drivers should use of_thermal_get_trip_points() method to get
remote:          pointer to table of thermal trip points.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Lukasz Majewski <l.majewski@samsung.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit ce8be7785922de0ef497b20384425ed04f674f9d)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 26a2a3840e8162a3a15c8d13b6bf6e24afa47e28)
remote:
remote:      commit 7cbd1bdded27d3b7a751affbe2c4aad87925cc3e
remote:      Author: Lukasz Majewski <l.majewski@samsung.com>
remote:      Date:   Mon Dec 8 18:04:19 2014 +0100
remote:
remote:          thermal: of: Rename struct __thermal_trip to struct thermal_trip
remote:
remote:          This patch changes name of struct __thermal_trip to thermal_trip and moves
remote:          declaration of the latter to ./include/linux/thermal.h for better visibility.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Lukasz Majewski <l.majewski@samsung.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit ad9914ac3b1f5c12ef2cf1c58a6ddda306fb79d4)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 25bb1bb3bfeaff95b4424515e6513aea1c8165a9)
remote:
remote:      commit 32bbefdae6da94bd242f77b6b50a040f751fe283
remote:      Author: Lukasz Majewski <l.majewski@samsung.com>
remote:      Date:   Mon Dec 8 18:04:18 2014 +0100
remote:
remote:          thermal: of: Extend of-thermal.c to provide check if trip point is valid
remote:
remote:          This patch extends the of-thermal.c to provide check if trip point is
remote:          valid.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Lukasz Majewski <l.majewski@samsung.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit a9bf2cc49d9030e374edb9cc0389512a1a1c357e)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 8f350b6cac51fb92147949e808cd210c00638c54)
remote:
remote:      commit 526bd667035b24990edccb66d22aacb8b9747b13
remote:      Author: Lukasz Majewski <l.majewski@samsung.com>
remote:      Date:   Mon Dec 8 18:04:17 2014 +0100
remote:
remote:          thermal: of: Extend of-thermal.c to provide number of trip points
remote:
remote:          This patch extends the of-thermal.c to provide information about number of
remote:          available trip points.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Lukasz Majewski <l.majewski@samsung.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit 08dab66ec8431a1f744596cfc9f5fb659b623835)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 25819acb4a1913f4cb36844a9af9ea1dbe5f8bec)
remote:
remote:      commit b19dc849b5de82c206192e32a8aa9e9364bab005
remote:      Author: Javi Merino <javi.merino@arm.com>
remote:      Date:   Tue Nov 25 16:00:33 2014 +0000
remote:
remote:          thermal: lock the thermal zone when switching governors
remote:
remote:          Currently, userspace can request a governor change while the governor
remote:          itself is running.  Grab the thermal zone lock when changing the
remote:          governor to prevent this race.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Javi Merino <javi.merino@arm.com>
remote:          Signed-off-by: Zhang Rui <rui.zhang@intel.com>
remote:          (cherry picked from commit b6cc772f64ac7d1917770406844b73a94ca5ef06)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 1575aa1f55957449b53e3303b358844e831b8856)
remote:
remote:      commit 77ba6056e84aae80a6cb199dd74e773fa7c1ed71
remote:      Author: Srinivas Pandruvada <srinivas.pandruvada@linux.intel.com>
remote:      Date:   Wed Nov 12 15:43:29 2014 -0800
remote:
remote:          thermal: core: ignore invalid trip temperature
remote:
remote:          Ignore invalid trip temperature less or equal to zero. Some
remote:          buggy systems have invalid trips, causing system shutdown.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Srinivas Pandruvada <srinivas.pandruvada@linux.intel.com>
remote:          Signed-off-by: Zhang Rui <rui.zhang@intel.com>
remote:          (cherry picked from commit 84ffe3ecc2c8b3effc41c0babd2cc24f1edb2aab)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 8de4cc52c8f27397206ca543cad07411cd41a36e)
remote:
remote:      commit 97f0d05aadee076353770f73afa7e289b1c0af2a
remote:      Author: Eduardo Valentin <edubezval@gmail.com>
remote:      Date:   Fri Nov 7 21:24:39 2014 -0400
remote:
remote:          thermal: of: improve of-thermal sensor registration API
remote:
remote:          Different drivers request API extensions in of-thermal. For this reason,
remote:          additional callbacks are required to fit the new drivers needs.
remote:
remote:          The current API implementation expects the registering sensor driver
remote:          to provide a get_temp and get_trend callbacks as function parameters.
remote:          As the amount of callbacks is growing, this patch changes the existing
remote:          implementation to use a .ops field to hold all the of thermal callbacks
remote:          to sensor drivers.
remote:
remote:          This patch also changes the existing of-thermal users to fit the new
remote:          API design. No functional change is introduced in this patch.
remote:
remote:          SWLINUX-3599
remote:
remote:          Cc: Alexandre Courbot <gnurou@gmail.com>
remote:          Cc: devicetree@vger.kernel.org
remote:          Cc: Grant Likely <grant.likely@linaro.org>
remote:          Cc: Guenter Roeck <linux@roeck-us.net>
remote:          Cc: Jean Delvare <jdelvare@suse.de>
remote:          Cc: linux-kernel@vger.kernel.org
remote:          Cc: linux-pm@vger.kernel.org
remote:          Cc: linux-tegra@vger.kernel.org
remote:          Cc: lm-sensors@lm-sensors.org
remote:          Cc: Rob Herring <robh+dt@kernel.org>
remote:          Cc: Stephen Warren <swarren@wwwdotorg.org>
remote:          Cc: Thierry Reding <thierry.reding@gmail.com>
remote:          Cc: Zhang Rui <rui.zhang@intel.com>
remote:          Acked-by: Guenter Roeck <linux@roeck-us.net>
remote:          Tested-by: Mikko Perttunen <mikko.perttunen@kapsi.fi>
remote:          Reviewed-by: Mikko Perttunen <mikko.perttunen@kapsi.fi>
remote:          Reviewed-by: Alexandre Courbot <acourbot@nvidia.com>
remote:          Reviewed-by: Lukasz Majewski <l.majewski@samsung.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit 2251aef64a38db60f4ae7a4a83f9203c6791f196)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 6f3e452cceabf6667e02c59070b65c3123b4abe1)
remote:
remote:      commit 75a69c88a4a3866072091d1bfc7b9f88feae8550
remote:      Author: Yao Dongdong <yaodongdong@huawei.com>
remote:      Date:   Tue Oct 28 07:40:25 2014 +0000
remote:
remote:          Thermal:Remove usless if(!result) before return tz
remote:
remote:          result is always zero when comes here.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Yao Dongdong <yaodongdong@huawei.com>
remote:          Acked-by: Eduardo Valentin <edubezval@gmail.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit 14015860565a1464193ddb3fbd3f7253a37dfcf9)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit c2563873e49c91baeb1a2c703bf57376332329fa)
remote:
remote:      commit 3db74834166d7c543058b18f71d9fbffc87cbda8
remote:      Author: Vladimir Zapolskiy <vz@mleia.com>
remote:      Date:   Mon Sep 29 02:47:46 2014 +0300
remote:
remote:          thermal: fix multiple disbalanced device node counters
remote:
remote:          Here on function return all temporarily used device nodes shall
remote:          decrement their usage counter. The problems are found with device
remote:          nodes allocated by for_each_child_of_node(), of_parse_phandle()
remote:          and of_find_node_by_name(), fix all problems at once.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Vladimir Zapolskiy <vz@mleia.com>
remote:          Cc: devicetree@vger.kernel.org
remote:          Cc: Zhang Rui <rui.zhang@intel.com>
remote:          Cc: Eduardo Valentin <edubezval@gmail.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit c2aad93c7edd5e1bc26cc1d80c1c00a954f01946)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 5056eb8e8ae125b0f60c78ddf83eb6b8939b517c)
remote:
remote:      commit 1e51740ebf696466fd38620135168738ef3b3cb7
remote:      Author: Lukasz Majewski <l.majewski@samsung.com>
remote:      Date:   Wed Sep 24 10:27:10 2014 +0200
remote:
remote:          thermal: step_wise: fix: Prevent from binary overflow when trend is dropping
remote:
remote:          It turns out that some boards can have instance->lower greater than 0 and
remote:          when thermal trend is dropping it results with next_target equal to -1.
remote:
remote:          Since the next_target is defined as unsigned long it is interpreted as
remote:          0xFFFFFFFF and larger than instance->upper.
remote:          As a result the next_target is set to instance->upper which ramps up to
remote:          maximal cooling device target when the temperature is steadily decreasing.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Lukasz Majewski <l.majewski@samsung.com>
remote:          Signed-off-by: Zhang Rui <rui.zhang@intel.com>
remote:          (cherry picked from commit 26bb0e9a1a938ec98ee07aa76533f1a711fba706)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 2033ac2ff1b2a66846267a14026f8f46ba1467fe)
remote:
remote:      commit a7d897946806c91f063e1fc7f9e6bd65f91fb8aa
remote:      Author: Laxman Dewangan <ldewangan@nvidia.com>
remote:      Date:   Fri Jul 25 15:31:58 2014 +0530
remote:
remote:          thermal: add support to disable thermal zone from DTS
remote:
remote:          Add support to check status of the thermal zone before registering the
remote:          zone. This will help on disabling some non-existing thermal zone from
remote:          the top level DTS file out of common dtsi thermalzone file.
remote:
remote:          For example,
remote:          we have 3 platforms almost same but thermal zones on this platform are
remote:          little bit different. Platform 1 and 2 have three thermal zones and
remote:          platform 3 has two thermal zones. To avoid duplication of the thermal
remote:          zones entries on each DTS file of platforms,we created one common
remote:          dtsi file for thermal zone and included this dtsi file from these
remote:          3 platform's top level dts file.
remote:
remote:          On common thermal zone com dtsi file, all thermal zone are enabled and
remote:          need to disable one of thermal zone on platform 3 dts file. For this, we
remote:          just added entry status = "disabled" for that thermal zone on platform 3
remote:          dts file and along with this change to make it work.
remote:
remote:          This way, we reuse the common file and control the enable/disable of the
remote:          thermal zone from top level dts file.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Laxman Dewangan <ldewangan@nvidia.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit a020279ee611c31ac163c00b21b975e7ecbb2e9c)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit f6e730a5cbc26c99ff88926beab6950611f4d22a)
remote:
remote:      commit 8a123a373086268bd77c239c10ca224f2b460e85
remote:      Author: Punit Agrawal <punit.agrawal@arm.com>
remote:      Date:   Tue Jul 29 11:50:50 2014 +0100
remote:
remote:          thermal: trace: Trace when temperature is above a trip point
remote:
remote:          Create a new event to trace when the temperature is above a trip
remote:          point. Use the trace-point when handling non-critical and critical
remote:          trip pionts.
remote:
remote:          SWLINUX-3599
remote:
remote:          Cc: Zhang Rui <rui.zhang@intel.com>
remote:          Cc: Eduardo Valentin <edubezval@gmail.com>
remote:          Cc: Steven Rostedt <rostedt@goodmis.org>
remote:          Cc: Frederic Weisbecker <fweisbec@gmail.com>
remote:          Cc: Ingo Molnar <mingo@redhat.com>
remote:          Signed-off-by: Punit Agrawal <punit.agrawal@arm.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit 208cd822a19e683bc890f6708786f2420e172d76)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 4ca0f150723bd30784dd77ec6381228aaf07f94a)
remote:
remote:      commit 00d1bcd363d345e1309ff44fe525fd78fc0415c9
remote:      Author: Punit Agrawal <punit.agrawal@arm.com>
remote:      Date:   Tue Jul 29 11:50:49 2014 +0100
remote:
remote:          thermal: trace: Trace when a cooling device's state is updated
remote:
remote:          Introduce and use an event to trace when a cooling device's state is
remote:          updated. This is useful to follow the effect of governor decisions on
remote:          cooling devices.
remote:
remote:          SWLINUX-3599
remote:
remote:          Cc: Zhang Rui <rui.zhang@intel.com>
remote:          Cc: Eduardo Valentin <edubezval@gmail.com>
remote:          Cc: Steven Rostedt <rostedt@goodmis.org>
remote:          Cc: Frederic Weisbecker <fweisbec@gmail.com>
remote:          Cc: Ingo Molnar <mingo@redhat.com>
remote:          Signed-off-by: Punit Agrawal <punit.agrawal@arm.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit 39811569e43a81417bc0ddca3d0c7658c3dcd4b0)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 0d15547fdcdc931033c469434290fb0bdf831369)
remote:
remote:      commit 25cdcf1ac0aa3d2442c94acb8b991ec7bb401841
remote:      Author: Punit Agrawal <punit.agrawal@arm.com>
remote:      Date:   Tue Jul 29 11:50:48 2014 +0100
remote:
remote:          thermal: trace: Trace temperature changes
remote:
remote:          Create a new event to trace the temperature of a thermal zone. Using
remote:          this event trace the temperature changes of the thermal zone every-time
remote:          it is updated.
remote:
remote:          SWLINUX-3599
remote:
remote:          Cc: Zhang Rui <rui.zhang@intel.com>
remote:          Cc: Eduardo Valentin <edubezval@gmail.com>
remote:          Cc: Steven Rostedt <rostedt@goodmis.org>
remote:          Cc: Frederic Weisbecker <fweisbec@gmail.com>
remote:          Cc: Ingo Molnar <mingo@redhat.com>
remote:          Signed-off-by: Punit Agrawal <punit.agrawal@arm.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit 100a8fdbf525bb11796692a713c267be6523a890)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 1c7d60554aeeeb794a75a371f6364c4fea8b4c19)
remote:
remote:      commit 0982b5f511eb9399fa7269edb332ab66357e902c
remote:      Author: Javi Merino <javi.merino@arm.com>
remote:      Date:   Wed Jun 25 11:00:12 2014 +0100
remote:
remote:          thermal: document struct thermal_zone_device and thermal_governor
remote:
remote:          Document struct thermal_zone_device and struct thermal_governor fields
remote:          and their use by the thermal framework code.
remote:
remote:          SWLINUX-3599
remote:
remote:          Cc: Zhang Rui <rui.zhang@intel.com>
remote:          Cc: Eduardo Valentin <edubezval@gmail.com>
remote:          Signed-off-by: Javi Merino <javi.merino@arm.com>
remote:          Signed-off-by: Zhang Rui <rui.zhang@intel.com>
remote:          (cherry picked from commit c708a98f01068fe07f77448031f9f5317423e777)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 81562af40c03a641acfe0e9d91792670f1b505b4)
remote:
remote:      commit 17d0cf1b62abe8f7dfe49795df18d224231e5ff6
remote:      Author: Punit Agrawal <punit.agrawal@arm.com>
remote:      Date:   Tue Jun 3 10:59:58 2014 +0100
remote:
remote:          thermal: Bind cooling devices with the correct arguments
remote:
remote:          When binding cooling devices to thermal zones created from the device
remote:          tree the minimum and maximum cooling states are in the wrong order
remote:          leading to failure to bind.
remote:
remote:          Fix the order of cooling states in the call to
remote:          thermal_zone_bind_cooling_device to fix this.
remote:
remote:          SWLINUX-3599
remote:
remote:          Cc:Zhang Rui <rui.zhang@intel.com>
remote:          Signed-off-by: Punit Agrawal <punit.agrawal@arm.com>
remote:          Reviewed-by: Stephen Boyd <sboyd@codeaurora.org>
remote:          Signed-off-by: Zhang Rui <rui.zhang@intel.com>
remote:          (cherry picked from commit dd354b84d47ec8ca53686bdb3cc1aecdeb75bef5)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 0f9244b0f10f74b39eeb3cef7d8a6f7ef10ee5e9)
remote:
remote:      commit c6f70dfbc4cca80172839d2e63c1a01f98f2640d
remote:      Author: Stephen Boyd <sboyd@codeaurora.org>
remote:      Date:   Wed Jun 18 16:32:08 2014 -0700
remote:
remote:          thermal: Add braces around suspect code
remote:
remote:          It looks like this code is missing braces, otherwise the if
remote:          statement shouldn't have been indented. Fix it.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Stephen Boyd <sboyd@codeaurora.org>
remote:          Signed-off-by: Zhang Rui <rui.zhang@intel.com>
remote:          (cherry picked from commit ca9521b770c988bb6bb8eea1241f7a487dab6ff1)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 801cf455af25897d0a52bc000fb5165ac61d18d2)
remote:
remote:      commit 1dd505957c67d313b0bb29860a518270e6dd6582
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 13 16:08:19 2015 -0700
remote:
remote:          clk: divider: handle integer overflow when dividing large clock rates
remote:
remote:          [Backported version of patch from:
remote:          http://article.gmane.org/gmane.linux.power-management.general/59004
remote:          Some discussion at:
remote:          lkml.kernel.org/g/20150413201433.GQ32500@ld-irv-0074]
remote:
remote:          On 32-bit architectures, 'unsigned long' (the type used to hold clock
remote:          rates, in Hz) is often only 32 bits wide. DIV_ROUND_UP() (as used in,
remote:          e.g., commit b11d282dbea2 "clk: divider: fix rate calculation for
remote:          fractional rates") can yield an integer overflow on clock rates that are
remote:          not (by themselves) too large to fit in 32 bits, because it performs
remote:          addition before the division. See for example:
remote:
remote:            DIV_ROUND_UP(3000000000, 1500000000) = (3.0G + 1.5G - 1) / 1.5G
remote:                                                 = OVERFLOW / 1.5G
remote:
remote:          This patch fixes such cases by always promoting the dividend to 64-bits
remote:          (unsigned long long) before doing the division. While this patch does
remote:          not resolve the issue with large clock rates across the common clock
remote:          framework nor address the problems with doing full 64-bit arithmetic on
remote:          a 32-bit architecture, it does fix some issues seen when using clock
remote:          dividers on a 3GHz reference clock to produce a 1.5GHz CPU clock for an
remote:          ARMv7 Brahma B15 SoC.
remote:
remote:          SWLINUX-3583
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 329b193a0390d3e1e93bac9e0065c3f682204139)
remote:
remote:      commit fcad7d6142cdecd202aecfe3e96f1315909fed1e
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 13 15:25:41 2015 -0700
remote:
remote:          clk: clk-divider: pass width to _register_divider()
remote:
remote:          _register_divider() expects a mask width parameter, not the mask itself.
remote:
remote:          Also add extra sanity checking on the device tree, since we really
remote:          expect a contiguous mask, packed to the low bit position.
remote:
remote:          Note that the code in question has not been merged upstream; the
remote:          original code was just grabbed off the mailing list.
remote:
remote:          Perhaps for an upstream submission, this property should be reworked as
remote:          a 'mask-width' parameter instead? It's not clear to me what we would do
remote:          with a non-contiguous mask, as this binding (and driver) was not really
remote:          designed for it. And I don't think such hardware exists, at least not in
remote:          a sane world.
remote:
remote:          SWLINUX-3583
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 29a7eb5c91224f73d293418e0a96e5aa273799d0)
remote:
remote:      commit 97fb0b6485e8bfa78318f82b7183bfae154bad9c
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 13 17:57:03 2015 -0700
remote:
remote:          soc: brcmstb: fixup copyright attributions
remote:
remote:          This is a trivial file, but nearly copied from Nvidia/Tegra. I meant to
remote:          keep the Nvidia/2014 copyright and add a Broadcom/2015 one.
remote:
remote:          SWLINUX-3579
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit b496b8fc5eaa4d709ab3ba3db6d38a7c72192653)
remote:
remote:      commit 931a3ed02acb6720203a546d814ea524a9bf684f
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Tue Apr 7 15:00:52 2015 -0700
remote:
remote:          soc: brcmstb: wktmr: fixup some checkpatch complaints
remote:
remote:          SWLINUX-3579
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 8c76369c67daf044157bfa638a811fea7f67159a)
remote:
remote:      commit c4b03e0f8b9baa84355052164e8baf02d410c8b1
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 6 17:43:31 2015 -0700
remote:
remote:          ARM: brcmstb_defconfig: add SRPD and wktmr drivers
remote:
remote:          SWLINUX-3579
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 7b63ed88dfad48440434549ecf0ad6be26222a38)
remote:
remote:      commit de9be700667e90e5168f279017c4d475197d00ad
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 6 17:47:22 2015 -0700
remote:
remote:          soc: brcmstb: move wake-up timer driver
remote:
remote:          SWLINUX-3579
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit fd284620c13290cde3017b3c6c4baa529e67d6d1)
remote:
remote:      commit feae3c5a4345b7f4f242afc881f962e61bed093f
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 6 17:39:03 2015 -0700
remote:
remote:          soc: brcmstb: move DDR SRPD driver
remote:
remote:          SWLINUX-3579
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 2dafec412e1af7a438d202538ffab93660ebfb7b)
remote:
remote:      commit 2b7ca13df5bd9aed9d6b9683668abafe34db295d
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 6 17:33:42 2015 -0700
remote:
remote:          soc: brcmstb: make IRQ0, PM support configurable
remote:
remote:          SWLINUX-3579
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit b5e73a4fc911072f264e89e9307c90980507f80e)
remote:
remote:      commit 2d985f88fd1a59ca83b72e50bad473b09591e9fb
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 6 15:10:56 2015 -0700
remote:
remote:          soc: brcmstb: move PM code out of arch/arm/
remote:
remote:          This doesn't quite solve all of our architecture dependencies yet. A few
remote:          remaining issues:
remote:
remote:           * We can't set IRQCHIP_MASK_ON_SUSPEND in gic_arch_extn.flags without a
remote:             machine descriptor
remote:
remote:           * Some of the S2 support code is still written in assembly
remote:
remote:          SWLINUX-3579
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit edf7e9d0cf2c36c242189f90b199f0e98bbd1b00)
remote:
remote:      commit 7048a8943c4a7ab535a5cd25bb8ac733b5753c2f
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 6 15:08:36 2015 -0700
remote:
remote:          soc: brcmstb: move IRQ0 hacks out of arch/arm/
remote:
remote:          To help modularize some more PM code.
remote:
remote:          Give this a new driver, that we can enable only when we can't turn on
remote:          the real IRQ0 driver.
remote:
remote:          SWLINUX-3579
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit e446ea88035a2107166ef200f699020247906bdf)
remote:
remote:      commit a0562add79dc76cda47a9561037077c9b6a002ec
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 6 14:49:13 2015 -0700
remote:
remote:          pm: update "S2" header comment
remote:
remote:          This file supports S3 and S5 as well.
remote:
remote:          SWLINUX-2749
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 52c31c2353415bfd5d9142bfa9726b3c29a01577)
remote:
remote:      commit 73fed911300315aac955aa092cc4aa39a28d54ab
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 6 14:46:43 2015 -0700
remote:
remote:          pm: untie PM code from machine init code
remote:
remote:          In preparation for moving to drivers/soc/brcmstb/, let's make the PM
remote:          init code use arch_initcall(), and imitate the Tegra soc_is_*() guard.
remote:
remote:          SWLINUX-2749
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit c2df895fabb17d4b9c873b7018f1049475f4138b)
remote:
remote:      commit 0cbcb294a9310f72cf0b1dd509f06f56027beb31
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 6 14:08:57 2015 -0700
remote:
remote:          soc: add brcmstb stub
remote:
remote:          SWLINUX-2749
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 5104f902fe74a892b780f11491fca5fe7c4f4892)
remote:
remote:      commit 9db2f7d31570a078e74f5216869b45b889a62765
remote:      Author: Santosh Shilimkar <santosh.shilimkar@ti.com>
remote:      Date:   Wed Apr 23 19:46:17 2014 -0400
remote:
remote:          soc: Introduce drivers/soc place-holder for SOC specific drivers
remote:
remote:          [Upstream commit 3a6e08218f36baa9c49282ad2fe0dfbf001d8f23]
remote:
remote:          Based on earlier thread "https://lkml.org/lkml/2013/10/7/662" and
remote:          discussion at Kernel Summit'2013, it was agreed to create
remote:          'driver/soc' for drivers which are quite SOC specific.
remote:
remote:          Further discussion on the subject is in response to
remote:          the earlier version of the patch is here:
remote:          	http://lwn.net/Articles/588942/
remote:
remote:          Cc: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
remote:          Cc: Kumar Gala <galak@codeaurora.org>
remote:          Cc: Paul Walmsley <paul@pwsan.com>
remote:          Cc: Olof Johansson <olof@lixom.net>
remote:          Cc: Arnd Bergmann <arnd@arndb.de>
remote:          Signed-off-by: Sandeep Nair <sandeep_n@ti.com>
remote:          Signed-off-by: Santosh Shilimkar <santosh.shilimkar@ti.com>
remote:          Signed-off-by: Kumar Gala <galak@codeaurora.org>
remote:
remote:          [Yeah, yeah, it's not bisectable]
remote:
remote:          SWLINUX-2749
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 8457fa799fcdbbf3107d263d2bddf0639f194b86)
remote:
remote:      commit 304df5433a286499e440e7ba6ef45a32ad935478
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 6 14:42:40 2015 -0700
remote:
remote:          bsp: update list of drivers using BDEV macros
remote:
remote:          This list is not exhaustive, and therefore is misleading.
remote:
remote:          SWLINUX-2749
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 9864ec9b4ff5ac1db200a1f568d2649bc3c22894)
remote:
remote:      commit a2972de0055f7506b4bb65b03bb5c14388252765
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 6 12:33:55 2015 -0700
remote:
remote:          ARM: brcmstb: combine hotplug/SMP support files
remote:
remote:          We have an unnecessary split of hotplug and SMP code, and that split
remote:          isn't done very well. Let's merge the two to reduce the number of header
remote:          declarations, number of files, and complexity.
remote:
remote:          This also matches upstream better.
remote:
remote:          SWLINUX-3622
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 78897c1b545ddd878821d7aba280568c8ddeacf3)
remote:
remote:      commit 6f2aa1636cb7284859bb9193467f16ba43ee964e
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 6 12:15:37 2015 -0700
remote:
remote:          ARM: brcmstb: initialize SMP ops with CPU_METHOD_OF_DECLARE() helpers
remote:
remote:          This allows the DT initialization framework to dynamically match our CPU
remote:          SMP code with the hardware it should be used on based on the DTB, rather
remote:          than statically determining that in our machine description file. This
remote:          enables the use of PSCI, for instance.
remote:
remote:          While doing this, let's move the code out into a separate mini driver,
remote:          so we can get all the SMP/hotplug code in one place, and to match
remote:          upstream.
remote:
remote:          SWLINUX-3622
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit d7c2d1d80df4b6f4d9fb0a37ca1ec5a463d97810)
remote:
remote:      commit 5d980590e9e534fb1aea73bbd4435489e534cbab
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 6 12:08:02 2015 -0700
remote:
remote:          bsp: build only when ARCH_BRCMSTB is enabled
remote:
remote:          Matches upstream a little better and should prevent build errors in odd
remote:          configurations.
remote:
remote:          Also, replace ':=' with '+=' so we don't clobber the contents of $(obj-y).
remote:
remote:          SWLINUX-3622
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 58b889b2cf4f3256729758df95cf969f7389d34f)
remote:
remote:      commit 1d917f672b7c3257734a5b1da8e9183817bc3e1b
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 6 11:48:51 2015 -0700
remote:
remote:          ARM: brcmstb: drop unnecessary SMP 'boot_lock'
remote:
remote:          This was just a copy-and-paste job from another implementation. We don't
remote:          have anything extra to synchronize here.
remote:
remote:          SWLINUX-3622
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 7f4fb815144e6278270164bd7b1081ad46e44a9d)
remote:
remote:      commit d663f2ea2b14f851db67c712c8d9ff593f0a4290
remote:      Author: Stephen Boyd <sboyd@codeaurora.org>
remote:      Date:   Wed Oct 30 18:21:09 2013 -0700
remote:
remote:          ARM: Introduce CPU_METHOD_OF_DECLARE() for cpu hotplug/smp
remote:
remote:          [Upstream commit 6c3ff8b11a16ec69199ab85b74a5fae6d9c59db7]
remote:
remote:          The goal of multi-platform kernels is to remove the need for mach
remote:          directories and machine descriptors. To further that goal,
remote:          introduce CPU_METHOD_OF_DECLARE() to allow cpu hotplug/smp
remote:          support to be separated from the machine descriptors.
remote:          Implementers should specify an enable-method property in their
remote:          cpus node and then implement a matching set of smp_ops in their
remote:          hotplug/smp code, wiring it up with the CPU_METHOD_OF_DECLARE()
remote:          macro. When the kernel is compiled we'll collect all the
remote:          enable-method smp_ops into one section for use at boot.
remote:
remote:          At boot time we'll look for an enable-method in each cpu node and
remote:          try to match that against all known CPU enable methods in the
remote:          kernel. If there are no enable-methods in the cpu nodes we
remote:          fallback to the cpus node and try to use any enable-method found
remote:          there. If that doesn't work we fall back to the old way of using
remote:          the machine descriptor.
remote:
remote:          Acked-by: Mark Rutland <mark.rutland@arm.com>
remote:          Cc: Russell King <linux@arm.linux.org.uk>
remote:          Cc: <devicetree@vger.kernel.org>
remote:          Signed-off-by: Stephen Boyd <sboyd@codeaurora.org>
remote:          Signed-off-by: Kumar Gala <galak@codeaurora.org>
remote:
remote:          SWLINUX-3622
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit f6fc01917f43d463e15e4adc21215616d686a828)
remote:
remote:      commit 9e7138b4e0c067675a64cceb2625bb9474811c93
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Apr 10 09:42:58 2015 -0700
remote:
remote:          Documentation: DT: Document brcm,write-pairing property
remote:
remote:          Document the hif-cpubiuctrl nodes a bit more, and add a documentation entry for
remote:          the optional "brcm,write-pairing" property.
remote:
remote:          SWLINUX-3600
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 270bf453302e3b15889f934a4fea154d3d9af915)
remote:
remote:      commit 59d5d1649d5f1a72ed9723c56fa95b5121ada1a6
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Apr 6 12:58:40 2015 -0700
remote:
remote:          bsp: Use brcm,write-pairing from DT to enable MCP write-pairing
remote:
remote:          If we can find a "brcm,write-pairing" boolean property in Device Tree, enable
remote:          MCP write-pairing. disable_mcp_write_pairing() is renamed to
remote:          mcp_write_pairing_set() to illustrate that it can both enable or disable.
remote:
remote:          For Device Tree that do not have this property, the behavior is unchanged, and
remote:          we keep disabling MCP write-pairing.
remote:
remote:          Newer chips which have working MCP write-pairing are expected to place this
remote:          property in the hif_cpubiuctrl node to indicate this.
remote:
remote:          SWLINUX-3600
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 955006c8b475cbc2f7c36cfbfbc61831654f0dbd)
remote:
remote:      commit 2a132675c482819b23cab902660caeb27fbebfc3
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Wed Apr 8 17:12:49 2015 -0700
remote:
remote:          kconfig: Print full defined and depends for multiply-defined symbols
remote:
remote:          [Upstream submission: https://lkml.org/lkml/2015/4/8/754 ]
remote:
remote:          get_symbol_str() was assuming that symbols would only have a single
remote:          property for the purpose of printing define and depends information.
remote:          This is not true, and one current example is FRAME_POINTER which is
remote:          both in lib/Kconfig.debug and arch/arm/Kconfig.debug.
remote:
remote:          In order to print out the correct Defined and Depends info, iterate
remote:          over all properties associated with the given symbol, similarly to was
remote:          done for selects.  And for depends, rather than iterating over the
remote:          property, just use the direct dependency expression.
remote:
remote:          CONFIG_FRAME_POINTER text, before:
remote:            Defined at lib/Kconfig.debug:323
remote:            Depends on: DEBUG_KERNEL [=y] && (ARM [=y] || CRIS || M68K || FRV || UML || AVR32 || SUPERH || BLACKFIN || MN10300 || METAG) || ARCH_WANT_FRAME_POINTERS [=n]
remote:
remote:          After:
remote:            Defined at lib/Kconfig.debug:323, arch/arm/Kconfig.debug:35
remote:            Depends on: DEBUG_KERNEL [=y] && (ARM [=y] || CRIS || M68K || FRV || UML || AVR32 || SUPERH || BLACKFIN || MN10300 || METAG) || ARCH_WANT_FRAME_POINTERS [=n] || !THUMB2_KERNEL [=n]
remote:
remote:          Removes now-unused function get_symbol_prop().
remote:
remote:          SWLINUX-3631
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 5c97132df8e226445b70965c4018f4d5c59f1588)
remote:
remote:      commit ec868d8db6de3388d59b443fd139431275d7de4c
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Apr 6 13:17:09 2015 -0700
remote:
remote:          cma: brcm-cma: do not use first meminfo bank if >1 bank
remote:
remote:          Since vmalloc is being used in arch/arm/mm/mmu.c to shrink the size of bank 0
remote:          and increase bank 1, we no longer need to place CMA regions in the first bank.
remote:          Now, altering the size of CMA regions on memc0 will be done entirely using the
remote:          'vmalloc' parameter.
remote:
remote:          This eliminates the now-unused "brcm_cma_kern_rsv" parameter which was stored
remote:          in the prm_kern_rsv_mb element of struct cma_region_rsv_data, and removes that
remote:          element from the struct as well.
remote:
remote:          SWLINUX-3625
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 408cf100ea7d759ae045eef0193c6eeab4293c77)
remote:
remote:      commit 03db6daa2ae8c9f80d12f520a65fdf4827caec7d
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Thu Apr 2 17:49:45 2015 -0700
remote:
remote:          cma: brcm-cma: Do not try to reserve regions of size 0
remote:
remote:          If there is no available space in a bank, we shouldn't try to reserve anything,
remote:          just return -EINVAL from cma_calc_rsv_range so we skip ahead to the next
remote:          segment.
remote:
remote:          SWLINUX-3625
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit ed4ecce47eb7d9b8fefe378b5e9c75835aa059b5)
remote:
remote:      commit d9812945df900194391bac95a951c5e179327122
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Thu Apr 2 17:43:46 2015 -0700
remote:
remote:          ARM: mmu: Bump default vmalloc to 744 MiB for BRCMSTB with >=1 GiB RAM
remote:
remote:          If >= 1 GiB RAM is present (or more than one meminfo bank exists), this
remote:          increases the vmalloc area to 744 MiB and thus reduces the default amount of
remote:          lowmem to 256 MiB, which is basically all we were getting anyway with
remote:          cma_driver putting all other memory in CMA regions.  This should eliminate what
remote:          has been referred to as the "CMA barrier" (the split in memory regions on the
remote:          first memory controller because of the lowmem/highmem boundary) without
remote:          negatively impacting the actual amount of memory on the system (kernel
remote:          allocations mostly couldn't use lowmem in CMA regions anyway).
remote:
remote:          It'd be nice if we could just have more lowmem so as not to help alleviate
remote:          lowmem exhaustion, but that's a problem for another day.
remote:
remote:          For systems with < 1GB RAM, there was no CMA barrier, so we keep the default
remote:          vmalloc size the same.
remote:
remote:          This will probably need updating if there are ever any boards with 768 MiB RAM.
remote:          Also, the function relies on meminfo so will need to be updated for 3.16+, which
remote:          no longer uses meminfo.
remote:
remote:          SWLINUX-3625
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 588090becbc4c088b80243950173902603b86a54)
remote:
remote:      commit 323d094a2b8ae53bbd0d71c152d010e78389f60a
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Tue Mar 31 11:40:48 2015 -0400
remote:
remote:          pci: gate refclk when ASPM L0s,L1 enabled
remote:
remote:          Refclk from RC should be gated with CLKREQ# input when ASPM L0s,L1
remote:          is enabled =>  setting the CLKREQ_DEBUG_ENABLE field to 1.
remote:
remote:          Note that some boards have unconnected jumpers for PCIE_refclk,
remote:          and said jumpers have to be connected or the PCIe link will not
remote:          come up.  An example of this is the BCM974371SV_V00, which had
remote:          to have J4110 connected before the link came up.  Most other
remote:          boards do not appear to have a problem.
remote:
remote:          SWLINUX-3574
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit 2b8212b94e13e1cc8220397c256ad33ab9b5bb2f)
remote:
remote:      commit bcda8e6eba4477992449f58bdc0e0fff563bf99f
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Nov 20 10:14:46 2014 -0800
remote:
remote:          bus: brcmstb_gisb: resolve section mismatch
remote:
remote:          Upstream commit 2e8a29a1c9aaa41f72a71bb81c3df66da8156c1e]
remote:
remote:          Commit f1bee783dd37 moved the call to hook_fault_code in
remote:          brcmstb_gisb_arb_probe() which now calls a function annotated with __init, so
remote:          this one must also be annotated with __init.
remote:
remote:          In order to avoid introducing another section mismatch, call
remote:          platform_driver_probe() manually and remove the .probe assignment from
remote:          brcmstb_gisb_arb_driver, this is very similar to what
remote:          drivers/pci/host/pci-imx6.c does since we basically have the same constraints
remote:          here.
remote:
remote:          SWLINUX-3579
remote:
remote:          Fixes: f1bee783dd37 ("bus: brcmstb_gisb: register the fault code hook")
remote:          Signed-off-by: Arnd Bergmann <arnd@arndb.de>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 04ff22cc6998a108cbe1f4c5359663bc00aaffdc)
remote:
remote:      commit ba227a72bc7a91fe313180f2774129d4bbfd7592
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Mar 18 12:43:38 2015 -0700
remote:
remote:          bus: brcmstb_gisb: hook fault code handler
remote:
remote:          [Upstream commit f1bee783dd37d088a8a7924205476ba1cf675378]
remote:
remote:          Commit 44127b771d9c31 ("bus: add Broadcom GISB bus arbiter timeout/error
remote:          handler") added everything that is required to register an ARM fault handler
remote:          for imprecise external aborts, except that there is nothing calling this
remote:          currently.
remote:
remote:          We do not need to export that specific function and have to update
remote:          arch/arm/mach-bcm/brcmstb.c to call it, simply, register the fault handler
remote:          during the probe() function of the driver.
remote:
remote:          SWLINUX-3579
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 7c35e77beaf512b7597c7d0d188f312f28e591ad)
remote:
remote:      commit 14ca80aeab88a290781ba516d22a3379665ec472
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Mar 18 12:40:55 2015 -0700
remote:
remote:          bus: relocate GISB bus arbiter driver
remote:
remote:          Relocate the GISB driver from arch/arm/mach-bcm/gisb-brcmstb.c to
remote:          drivers/bus/brcmstb_gisb.c to match the upstream submission done with commit
remote:          44127b771d9c31dcb5ab90d9093a4d48877738bc ("bus: add Broadcom GISB bus arbiter
remote:          timeout/error handler").
remote:
remote:          SWLINUX-3579
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 17fa15e8d54fd18f5c0ac053d5b111a14cb9aa4e)
remote:
remote:      commit f437a788aa50ca21dbe3fc5a6519bb7bc1a6ce05
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Tue Mar 31 10:26:14 2015 -0400
remote:
remote:          USB: Update 7366c0 USB bchp_usb*_ctrl.h files because they are incorrect
remote:
remote:          The current bchp_usb*_ctrl.h files for the 7366c0 are out of date
remote:          and incorrect and will cause USB S3 failures on resume.
remote:
remote:          SWLINUX-3619
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit c4abcd62f7e73e7c2cafb363fac041cefce13909)
remote:
remote:      commit 77e42c921d813caece9cf50ae4304421b5f268da
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Wed Mar 18 17:41:30 2015 -0400
remote:
remote:          pci: remove overly cautious checks for pcie var
remote:
remote:          SWLINUX-3614
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit cb29e06654154a2aa6d77ceb58680ba55eb40831)
remote:
remote:      commit 1288290cb8c42562503c47a1cfffdb1d18eb2e02
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Tue Mar 17 14:59:21 2015 -0400
remote:
remote:          pci: use IS_ENABLED(CONFIG_XXX) instead of #if
remote:
remote:          SWLINUX-3614
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit b85035c94f4bb41acb7c8c86d1869478d3dc0115)
remote:
remote:      commit 56bc5ae59abfeb826d66613f135ed9de66af1a7f
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Tue Mar 17 14:56:16 2015 -0400
remote:
remote:          pci: use list for pcie instead of an array
remote:
remote:          Remove the list and allow an unlimited amount of RC devices.
remote:
remote:          SWLINUX-3614
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit f48028220d6d1e4ba98208a717456ad9744f03a9)
remote:
remote:      commit f635de01837903343a6013045a3dfbeb85fd39cd
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Thu Mar 12 13:50:54 2015 -0400
remote:
remote:          pci: remove explicit scan_bus function
remote:
remote:          The custom scan_bus() function is no longer needed.
remote:
remote:          SWLINUX-3614
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit 7f37c63938048cb6b136465ae932347ff0e362b6)
remote:
remote:      commit 3310e464a0c30cec51c7c641e8fae11ca44717cf
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Thu Mar 12 13:25:29 2015 -0400
remote:
remote:          pci: dynamically allocate brcm_pcie structure
remote:
remote:          Before we kept a statically array of two PCIe structures which
remote:          seemed enough at the time.  With this commit we keep the array,
remote:          but make it an array of pointers that will contain dynmically
remote:          allocated PCIe structures.  In a future commit we will dispose
remote:          of the array entirely and use a list.
remote:
remote:          In the process of making this change, we initialize the
remote:          hw_data.private_data structure so that it points to an array
remote:          of our PCIe pointers.  As such, we can use the pci_sys_data
remote:          structure to recover the PCIe pointer of interest.  This
remote:          obsoletes the awkward bus range counting that was done for
remote:          each RC.
remote:
remote:          SWLINUX-3614
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit 2f0d2b0e3dfc87354fae2734d39b265fcbab5492)
remote:
remote:      commit a11ebe79cee47aa55cfc3ea8d9407b3300610c01
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Tue Feb 3 17:37:40 2015 -0500
remote:
remote:          pci: change use of 'bus' to be 'pcie'
remote:
remote:          Since this file existed for MIPs SOCs, the use of the term
remote:          'bus' in this file has been a misnomer.  This commit corrects
remote:          this.  Specifically, 'struct brcm_pci_bus *' is now
remote:          'struct brcm_pcie *', and the variables of this type that were
remote:          named 'bus' are now named 'pcie'.
remote:
remote:          SWLINUX-3614
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit 1141b54be7769dc8022d03304ccbb98bfc109f7f)
remote:
remote:      commit ac76baa275ba25171b45979d112493deef58b945
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Mar 19 12:24:13 2015 -0700
remote:
remote:          BCMGENET: drop duplicate BMCR-based software reset
remote:
remote:          phy_init_hw() also does a software reset using BMCR.reset, no need to do it
remote:          twice, especially when our own does not even wait for the reset to complete.
remote:
remote:          SWLINUX-3489
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit fcc7ce61d5ea4da983c5f8a2a8bae7dd8940bb85)
remote:
remote:      commit abba12b9716736dbc6780efdfe59df6c2c14bf12
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jan 19 17:16:36 2015 -0800
remote:
remote:          BCMGENET: power down and up GPHY during suspend if unused
remote:
remote:          In case the interface is not used, power down the integrated GPHY during
remote:          suspend. Similarly to bcmgenet_open(), bcmgenet_resume() powers on the GPHY
remote:          prior to any UniMAC activity.
remote:
remote:          SWLINUX-3489
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit ad4f6dcf3235dbea0099d8887b70d57e45284bef)
remote:
remote:      commit a4926f8656e0b8dc1e7a57451ed98175cc0e11f9
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jan 19 17:08:46 2015 -0800
remote:
remote:          BCMGENET: power up and down integrated GPHY when used/unused
remote:
remote:          Power up the GPHY while we are bringing-up the network interface, and
remote:          conversely, upon bring down, power the GPHY down.
remote:
remote:          SWLINUX-3489
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 48a7de6a4d99df5524db11b99717d4af4dd27064)
remote:
remote:      commit 0745637d011492a9335e2443d4494e4edcb1480a
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jan 19 16:59:30 2015 -0800
remote:
remote:          BCMGENET: implement GPHY power down sequence
remote:
remote:          Implement the GPHY power down sequence by setting all power down bits, putting
remote:          the GPHY in reset, and finally cutting the 25Mhz reference clock.
remote:
remote:          SWLINUX-3489
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 04f7709854ea6294845cf41f0501bec81e683a4b)
remote:
remote:      commit e1cf9b316005e14ce2fc29fd4c43c020ef702cd5
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jan 26 15:35:16 2015 -0800
remote:
remote:          BCMGENET: fix GPHY power-up sequence
remote:
remote:          We were missing a number of extra steps and delays to power-up the GPHY, update
remote:          the sequence to reflect the proper procedure here.
remote:
remote:          SWLINUX-3489
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit f99e887a43a14d205dc83974b97ce457ff0c008b)
remote:
remote:      commit a72718f4e37a7d7704666d8681155e18d7d2ea57
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jan 19 16:47:00 2015 -0800
remote:
remote:          BCMGENET: rename bcmgenet_ephy_power_up to bcmgenet_phy_power_set
remote:
remote:          In preparation for implementing the power down GPHY sequence, rename
remote:          bcmgenet_ephy_power_up to illustrate that it can do both, and add an "enable"
remote:          argument.
remote:
remote:          SWLINUX-3489
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit e2e90d05a5056c6beac986a92d3a2ee1c833b6ef)
remote:
remote:      commit 1b09d27a81e50d66ce253e7cfbe969b977e4f882
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jan 19 16:35:10 2015 -0800
remote:
remote:          BCMGENET: update bcmgenet_ephy_power_up to clear CK25_DIS bit
remote:
remote:          The CK25_DIS bit controls whether a 25Mhz clock is fed to the GPHY or not, in
remote:          preparation for powering down the integrated GPHY when relevant, make sure we
remote:          clear that bit.
remote:
remote:          SWLINUX-3489
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 7b5197a347ea616fb2de2a526507768fc08af1db)
remote:
remote:      commit 1138425a921ae82bce7d0543b78a65dcb26f30f0
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Mar 20 11:39:33 2015 -0700
remote:
remote:          BCMGENET: do not fall through when doing Wake-on-LAN power down
remote:
remote:          When preparing GENET for a Wake-on-LAN power down sequence, we will fall
remote:          through the GENET_POWER_PASSIVE power down, which turns off the GPHY, this is
remote:          absolutely not expected and should not be done.
remote:
remote:          While at it, propagate the return code from bcmgenet_power_down() to the
remote:          callers that care about it such as bcmgenet_close() and bcmgenet_suspend().
remote:
remote:          SWLINUX-3489
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit f12cabef40ca999fd74b3e9cbd0d6894fef07beb)
remote:
remote:      commit 3fc4eafd1f629ca7898817c568dff8531468f977
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jan 26 22:05:40 2015 -0800
remote:
remote:          net: phy: avoid suspending twice a PHY
remote:
remote:          [Upstream commit 803dd9c77ac3a08958535f2a1ad5890104e2c235]
remote:
remote:          As part of a call to ndo_close() a netdevice driver may call
remote:          phy_disconnect() -> phy_detach() -> phy_suspend(), such that the PHY is
remote:          suspsended at this point and a netdevice driver may clock gate the
remote:          backing peripheral providing MDIO bus accessses as well.
remote:
remote:          Update mdio_bus_phy_may_suspend() to return whether a PHY is allowed to
remote:          be suspended and conversely resumed if and only if it was not previously
remote:          suspended before while it is currently in detached (netdev pointer is
remote:          NULL) state.
remote:
remote:          This fixes bus errors seen during S2/S3 suspend/resume cycles for
remote:          netdevice drivers such as GENET which clock gates the entire Ethernet
remote:          MAC, including the MDIO bus block.
remote:
remote:          SWLINUX-3489
remote:
remote:          Acked-by: Fugang Duan <B38611@freescale.com>
remote:          Tested-by: Fugang Duan <B38611@freescale.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 009adadd3e09938b20fb77bf17c59f36f3bc8842)
remote:
remote:      commit 638b841b494fe09ea7f44d53626349366bd42ef5
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jan 26 22:05:39 2015 -0800
remote:
remote:          net: phy: keep track of the PHY suspend state
remote:
remote:          [Upstream commit 8a477a6fb6a33651adda772360b85fd813569743]
remote:
remote:          In order to avoid double calls to phydev->drv->suspend and resume, keep
remote:          track of whether the PHY has already been suspended as a consequence of
remote:          a successful call to phy_suspend(). We will use this in our MDIO bus
remote:          suspend/resume hooks to avoid a double suspend call.
remote:
remote:          SWLINUX-3489
remote:
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 16efd43e3f630dee48f664c1a06c965115161859)
remote:
remote:      commit ec4a940baf27c226361ea4f844830e0285b35c6b
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jan 26 22:05:37 2015 -0800
remote:
remote:          net: phy: utilize phy_suspend and phy_resume
remote:
remote:          [Upstream commit 9272efa2036f3f06625effc3a709416044578a92]
remote:
remote:          phy_suspend and phy_resume are an abstraction on top of the PHY device
remote:          driver suspend and resume callbacks, utilize those since they are the
remote:          proper interface to suspending and resuming a PHY device.
remote:
remote:          SWLINUX-3489
remote:
remote:          Acked-by: Fugang Duan <B38611@freescale.com>
remote:          Tested-by: Fugang Duan <B38611@freescale.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 54f5d6a68c4d5a514ebc438629ee91ec7b78c3cb)
remote:
remote:      commit cfba89d7b1135c65be8c31508ac6d282177acb33
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Mar 18 16:47:15 2015 -0700
remote:
remote:          brcmstb_defconfig: enable cramfs filesystem support
remote:
remote:          SWLINUX-3555
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit fc9c7d5ef7832173e2015fd1589941180ed54d58)
remote:
remote:      commit 05ba968a592330f6be026b8e99b7783e6d81bb80
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Mar 12 16:22:16 2015 -0700
remote:
remote:          bsp: remove MEGA_BARRIER workaround
remote:
remote:          7439a0 was the last chip that required the mega-barrier workaround to be
remote:          enabled, we can now remove that code.
remote:
remote:          SWLINUX-3524, SWLINUX-3591
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 25bf0c803d6a82f3c543280b9f980f1eaf47c56f)
remote:
remote:      commit 6ae0757b49d98c1f726f0d17302d32488efb883c
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Mar 12 16:19:15 2015 -0700
remote:
remote:          bsp: remove 7439a0 BCHP headers
remote:
remote:          SWLINUX-3524
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 8d9373b3261c762180285cea89c57db8a91caf3e)
remote:
remote:      commit 15c7afef77df3367bf51ae29a658aa77ce82b1e0
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Mar 12 16:18:57 2015 -0700
remote:
remote:          bsp: remove 7439a0 from Kconfig
remote:
remote:          SWLINUX-3524
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit bbdc2c2bf83fc3dc84a354071b7edeebeb4079f1)
remote:
remote:      commit 59b4592c5ec2f9f9721b343039c3d3322192c480
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Mar 12 16:18:21 2015 -0700
remote:
remote:          bsp: remove 7439a0 from PM
remote:
remote:          The only remnant of 7439a0 support is within the PM code to deal with the lack
remote:          of PM ack, remove that code.
remote:
remote:          SWLINUX-3524
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 77bc1f828f999e05d7a305ffdb2fe1d72971c7fc)
remote:
remote:      commit c1027f4414b6780543f8a0615600a7e9e5f7a946
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Mar 16 17:28:05 2015 -0700
remote:
remote:          serial: 8250: Revert buggy DW UART workaround
remote:
remote:          No longer need the workaround added for SWLINUX-2903 because the affected chips
remote:          are no longer supported.  This reverts
remote:          17656e1f6ee5a5b1b6bd7ea6346558a137441ff6 "serial: 8250: Unbreak secondary UARTs"
remote:          and
remote:          a645063d3faa851f6ca84f8d905b2b3478eefc19 "serial: 8250: improve buggy DW UART workaround"
remote:
remote:          SWLINUX-3591
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit a76b4a89fe273c1d9186ee406bb7010d7e9802f3)
remote:
remote:      commit 080223d099b4b8fdaa0119cf96520bb994d28908
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Mar 12 16:13:10 2015 -0700
remote:
remote:          tty: serial: remove BRCM_BUGGY_DW_UART support
remote:
remote:          We no longer require this workaround with 7439a0 being the last chip that used
remote:          this bogus UART core.
remote:
remote:          SWLINUX-3591, SWLINUX-3524
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 646a35489b1ec3abe76db539c3803154dd044855)
remote:
remote:      commit 7d3ba6bcc3539f2f8bf486f51401074014032b8a
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Mar 12 16:06:22 2015 -0700
remote:
remote:          sata_brcmstb: remove support for quirks
remote:
remote:          We do not support any chips which requires a quirk to be handled by either the
remote:          AHCI wrapper or the SATA PHY driver.
remote:
remote:          SWLINUX-3591
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 5cd1aef2e86081369cc2310e04c8b3902e8d070c)
remote:
remote:      commit ea45633d91501e20b09e3cd82076e8832254e988
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Mar 12 16:03:22 2015 -0700
remote:
remote:          drivers: remove 7439a0 support
remote:
remote:          Remove all workarounds for 7439a0 in our drivers: SATA, MMC, serial and USB
remote:          common initialization routine.
remote:
remote:          SWLINUX-3524
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 21651469f02fe5cad313ef6f14bb4f7fa914ff7a)
remote:
remote:      commit 5783a52b39b1b8b044fefb26140d342f6a94ffa9
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Feb 9 18:38:52 2015 -0800
remote:
remote:          mtd: brcmstb_nand: drop CRNAND-34 workaround
remote:
remote:          SWLINUX-3524
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit f00ecf3788c6a1268f56caa0971084d1a623d151)
remote:
remote:      commit a2d990d62d206ebf4242d083377aa38d1f5d1955
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Mar 12 15:44:22 2015 -0700
remote:
remote:          bsp: remove 7145a0 BCHP headers
remote:
remote:          SWLINUX-3591
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 816960e534c96c06e8a504e85a57a96ee3edaff4)
remote:
remote:      commit f80fdd95b9afaa6b24883018d301371b2866d765
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Mar 12 15:43:58 2015 -0700
remote:
remote:          bsp: remove 7145a0 from Kconfig
remote:
remote:          SWLINUX-3591
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit dcf14cc065d7c6bb7870fbe352253c6462696010)
remote:
remote:      commit 7777f91bb7fe474215f54c9279b72d8e434025f2
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Mar 12 15:42:43 2015 -0700
remote:
remote:          drivers: remove support for 7145a0
remote:
remote:          Remove 7145a0-specific workarounds from the SATA, serial and USB common
remote:          initialization routine.
remote:
remote:          SWLINUX-3591
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit b9dc585f1b8325eb4a131ff7af1d009a4cd54c28)
remote:
remote:      commit 194cb4267890d483ab8b838929fbb3bb65edfdbb
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Feb 9 18:28:04 2015 -0800
remote:
remote:          mtd: brcmstb_nand: drop HW7445_988_WORKAROUND
remote:
remote:          SWLINUX-3591
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 2c018b4b02fbe5cc60ac2d1707ae6053c902e153)
remote:
remote:      commit 73185e1524aea656afa6c8f047dd762aa6e05fb4
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Mar 16 17:09:33 2015 -0700
remote:
remote:          brcmstb_defconfig: enable FHANDLE and CGROUPS
remote:
remote:          These are the bare minimum kernel configuration options required by systemd
remote:          v215-10 currently used by Debian 8 allowing us to boot to a prompt.
remote:
remote:          SWLINUX-3588
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 509a281858e8ac6f00b186e5827d5ab778ae57ac)
remote:
remote:      commit bf44d5a6cb1878ae7f9f8d262fd9e96a7b12fac1
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Fri Mar 13 13:34:03 2015 -0400
remote:
remote:          usb: Add USB support for 7439B1
remote:
remote:          Keep XHCI hardware in reset if we don't have a XHCI device-tree
remote:          entry. This will allow 3.0 devices to be seen as 2.0 devices.
remote:          This is one of the possible configurations for the 7439B1.
remote:
remote:          SWLINUX-3602
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit 9224b0f3fe44edb1556db928f72a0d756b5c89f9)
remote:
remote:      commit d6cc581cbb007369e6247fba7f514365c8568408
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Thu Mar 12 18:53:23 2015 -0700
remote:
remote:          brcmstb_defconfig: add PM_DEBUG
remote:
remote:          To support the new suspend.pm_test_delay parameter.
remote:
remote:          fixes #SWLINUX-3603
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 9276b852119922b05bb0a8f8343ec36333e93208)
remote:
remote:      commit a521ec4774e23be0961b04afdfbaef5200b62faa
remote:      Author: Brian Norris <computersforpeace@gmail.com>
remote:      Date:   Sun Feb 22 21:16:49 2015 -0800
remote:
remote:          PM / sleep: add configurable delay for pm_test
remote:
remote:          [Queued upstream]
remote:
remote:          When CONFIG_PM_DEBUG=y, we provide a sysfs file (/sys/power/pm_test) for
remote:          selecting one of a few suspend test modes, where rather than entering a
remote:          full suspend state, the kernel will perform some subset of suspend
remote:          steps, wait 5 seconds, and then resume back to normal operation.
remote:
remote:          This mode is useful for (among other things) observing the state of the
remote:          system just before entering a sleep mode, for debugging or analysis
remote:          purposes. However, a constant 5 second wait is not sufficient for some
remote:          sorts of analysis; for example, on an SoC, one might want to use
remote:          external tools to probe the power states of various on-chip controllers
remote:          or clocks.
remote:
remote:          This patch turns this 5 second delay into a configurable module
remote:          parameter, so users can determine how long to wait in this
remote:          pseudo-suspend state before resuming the system.
remote:
remote:          Example (wait 30 seconds);
remote:
remote:            # echo 30 > /sys/module/suspend/parameters/pm_test_delay
remote:            # echo core > /sys/power/pm_test
remote:            # time echo mem  > /sys/power/state
remote:            ...
remote:            [   17.583625] suspend debug: Waiting for 30 second(s).
remote:            ...
remote:            real	0m30.381s
remote:            user	0m0.017s
remote:            sys	0m0.080s
remote:
remote:          SWLINUX-3603
remote:
remote:          Signed-off-by: Brian Norris <computersforpeace@gmail.com>
remote:          Acked-by: Pavel Machek <pavel@ucw.cz>
remote:          Reviewed-by: Kevin Cernekee <cernekee@chromium.org>
remote:          Acked-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
remote:          (cherry picked from commit 85e214411ccc9f6af0328a4b89f7fc19303688a8)
remote:
remote:      commit 3a4ee948b8d66906a8effa48d1755abcf865875d
remote:      Author: Kevin Cernekee <cernekee@broadcom.com>
remote:      Date:   Fri Jan 17 11:45:37 2014 -0800
remote:
remote:          spi-brcmstb: Fix BUG() when crossing 4MB boundaries
remote:
remote:          On BSPI <= V3 controllers, the hardware remaps the address bits in a way
remote:          that can cause trouble for transfers that cross a 4MB boundary.  For such
remote:          transfers, we currently BUG() out.  Change the driver behavior so that it
remote:          falls back gracefully to MSPI instead.
remote:
remote:          On BSPI >= V4 controllers, the hardware allows us to disable the remapping
remote:          logic.  So disable remapping during initialization, and disable the driver
remote:          code that modified and checked the address.
remote:
remote:          fixes #SWLINUX-3589
remote:
remote:          Signed-off-by: Kevin Cernekee <cernekee@broadcom.com>
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit e2e6e49f6214571d043e3748b4095957cca204fb)
remote:
remote:      commit 32c4000e99be008e6f7798c8d5d85e604e5562b1
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Tue Mar 3 13:06:21 2015 -0800
remote:
remote:          gitignore: ignore scripts/*.pyc
remote:
remote:          Any .pyc files are generated and should be ignored.
remote:
remote:          SWLINUX-3590
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit fb8b66d917bc7f0deee3dc7966a09f0f3a160773)
remote:
remote:      commit 65de82736ad7a91d5042b573eed6cb98b272033b
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Tue Mar 3 13:22:01 2015 -0800
remote:
remote:          scripts: Add analyze_oom.py to give feedback on OOMs
remote:
remote:          Takes in an OOM log, either from a file or on stdin, and tries to report info
remote:          on possible causes.
remote:
remote:          Example usage:
remote:
remote:            $ scripts/analyze_oom.py oopslog
remote:            gfp_flags: 0x2084d2
remote:            Decoded gfp_flags: ___GFP_HIGHMEM | ___GFP_WAIT | ___GFP_IO | ___GFP_FS | ___GFP_REPEAT | ___GFP_ZERO | ___GFP_NOTRACK
remote:            Free mem in ZONE_NORMAL: 89748 kB.
remote:            Free mem in ZONE_HIGHMEM: 544 kB.
remote:            Migrate type is MIGRATE_UNMOVABLE, cannot use CMA pages
remote:            Portion of ZONE_NORMAL which is CMA: 79952 kB.
remote:            Portion of ZONE_HIGHMEM which is CMA: 544 kB.
remote:            Total free: 89748 + 544 - 79952 - 544 = 9796 kB.
remote:            Minimum RAM allowed: 3484 kB
remote:            __GFP_HIGHMEM was set, must also exclude lowmem_reserve: 8320 kB
remote:
remote:            Did we have enough memory?
remote:            Test: my_free_kB - (PAGE_SIZE_kB << order) > min_kB + lowmem_reserve_kB
remote:                  9796 - 4 > 3484 + 8320
remote:            *No*, not enough memory at time of OOM.
remote:
remote:            Possible causes of OOM:
remote:            - If this took some time to fail, could be a memory leak in a kernel module.
remote:            - lowmem_reserve might be too high. Try tweaking /proc/sys/vm/lowmem_reserve_ratio.
remote:            - May not have enough lowmem outside of a CMA region. You may need to decrease the size of a region in lowmem.
remote:
remote:          Passes pylint.
remote:
remote:          SWLINUX-3590
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 83291cc17a487198945b9b397f21eec069ea8d25)
remote:
remote:      commit b2708f928126dbeab2c8b61afa4f4e0648b380a5
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Mar 2 19:30:07 2015 -0800
remote:
remote:          scripts: Add decode_gfpmask.py to get GFP flags from mask
remote:
remote:          Takes in a GFP mask as from an OOM log message and decodes it into the GFP
remote:          flags.  Example usage:
remote:
remote:            $ scripts/decode_gfpmask.py 0x2084d2
remote:            ___GFP_HIGHMEM | ___GFP_WAIT | ___GFP_IO | ___GFP_FS | ___GFP_REPEAT | ___GFP_ZERO | ___GFP_NOTRACK
remote:
remote:          Passes pylint.
remote:
remote:          SWLINUX-3590
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit f9ef5214db85193e17a067c17b70f024c3eafb57)
remote:
remote:      commit 84e05c97d408b6a03758954f9dd41e21ed8984e8
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Mar 13 15:14:56 2015 -0700
remote:
remote:          ARM: B15: disable read-ahead cache by default
remote:
remote:          Until our Set Top Box middleware has been fully migrated to a Linux
remote:          asm/cacheflush.h API, we cannot have the read-ahead cache enabled by default.
remote:
remote:          SWLINUX-3422
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 5b15e9afd5c69f10163134d3138802b43798f36a)
remote:
remote:      commit 86c249f9b16a0780d852b23fcfdf40ea86cc38a3
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Tue Mar 10 13:15:44 2015 -0700
remote:
remote:          scripts/setlocalversion: fix false positive -dirty tag from ctime
remote:
remote:          git-diff-index cannot detect that a file hasn't actually changed when the
remote:          file's ctime has changed (e.g. if chmod was used but didn't actually result in
remote:          any changes), which was causing setlocalversion to incorrectly add a -dirty
remote:          tag.  Run git-update-index beforehand to make sure that the index is correct.
remote:
remote:          fixes #SWLINUX-3596
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 8230b18e9ba2883a46d9b6782c5727db27660172)
remote:
remote:      commit bc076a79c89834920840b7a30cd88e470fcd85a5
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Mar 6 15:58:28 2015 -0800
remote:
remote:          Bump version to 3.14-1.5pre
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit a7f76c81d153aac09b58f668bc7e94643be16cc4)
remote:
remote:      commit cb453cdd6fe04bdc57bc7c44beed1a286b77c64a
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Mar 4 18:17:00 2015 -0800
remote:
remote:          ARM: B15: Add suspend/resume hooks
remote:
remote:          The Broadcom Brahma-B15 CPU readahead cache registers will be restored
remote:          to their Power-on-Reset values after a S3 suspend/resume cycles, so we
remote:          want to restore what we had enabled before.
remote:
remote:          Another thing we want to take care of is disabling the read-ahead cache
remote:          prior to suspending to avoid any sort of side effect with the spinlock
remote:          we need to grab to serialize register accesses.
remote:
remote:          SWLINUX-3422
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 50b11c0d6b0cb8a0edcaaa194350261ea1647af6)
remote:
remote:      commit faa6be15aa94cc9e9fbb2ed6f4573cfef62a1769
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Mar 4 18:08:32 2015 -0800
remote:
remote:          ARM: B15: Add CPU hotplug awareness
remote:
remote:          The Broadcom Brahma-B15 readahead cache needs to be disabled,
remote:          respectively re-enable during a CPU hotplug. In case we were not to do,
remote:          CPU hotplug would occasionally fail with random crashes when a given CPU
remote:          exits the coherency domain while the RAC is still enabled, as it would
remote:          get stale data from the RAC.
remote:
remote:          In order to avoid adding any specific B15 readahead-cache awareness to
remote:          arch/arm/mach-bcm/hotplug-brcmstb.c we use a CPU notifier which allows
remote:          us to catch CPU hotplug events and disable/flush enable the RAC
remote:          accordingly.
remote:
remote:          SWLINUX-3422
remote:
remote:          Signed-off-by: Alamy Liu <alamyliu@broadcom.com>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 70b04d8cab1fe6fb13efa983b8a5ca3a3768878e)
remote:
remote:      commit 14df49d24a8f9243ad299033c20aec85bef87e38
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Mar 4 17:48:36 2015 -0800
remote:
remote:          ARM: Hook B15 readahead cache functions based on processor
remote:
remote:          If we detect that we are running on a Broadcom Brahma-B15 CPU, and
remote:          CONFIG_CACHE_B15_RAC is enabled, make sure that we pick-up the
remote:          b15_cache_fns function operations.
remote:
remote:          If CONFIG_CACHE_B15_RAC is enabled, but we are not running on a Broadcom
remote:          Brahma-B15 CPU, we will fallback to calling into the regular
remote:          v7_cache_fns with the cost of a small test. If CONFIG_CACHE_B15_RAC is
remote:          disabled, there is no cost and we just use the regular v7_cache_fns.
remote:
remote:          SWLINUX-3422
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit eeff62ea6eba308c72260f3cd3644f50902ba401)
remote:
remote:      commit 4c93c3dc0fa1969730838984ae9d17032083bd90
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Mar 4 17:44:25 2015 -0800
remote:
remote:          RM: Add Broadcom Brahma-B15 readahead cache support
remote:
remote:          This patch adds support for the Broadcom Brahma-B15 CPU readahead cache
remote:          controller. This cache controller sits between the L2 and the memory bus
remote:          and its purpose is to provide a friendler burst size towards the DDR
remote:          interface than the native cache line size.
remote:
remote:          The readahead cache is mostly transparent, except for
remote:          flush_kern_cache_all, flush_kern_cache_louis and flush_icache_all, which
remote:          is precisely what we are overriding here.
remote:
remote:          The readahead cache only intercepts reads, not writes, as such, some
remote:          data can remain stale in any of its buffers, such that we need to flush
remote:          it, which is an operation that needs to happen in a particular order:
remote:
remote:          - disable the readahead cache
remote:          - flush it
remote:          - call the appropriate cache-v7.S function
remote:          - re-enable
remote:
remote:          This patch tries to minimize the impact to the cache-v7.S file by only
remote:          providing a stub in case CONFIG_CACHE_B15_RAC is enabled (default for
remote:          ARCH_BRCMSTB since it is the current user).
remote:
remote:          SWLINUX-3422
remote:
remote:          Signed-off-by: Alamy Liu <alamyliu@broadcom.com>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 72f87752e80ee6cafb6a9f1aa8150d0e342d04aa)
remote:
remote:      commit a1e0f9ed1ce86795150a11f0009735c0a649e087
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Mar 4 15:31:08 2015 -0800
remote:
remote:          ARM: v7: allow setting different cache functions
remote:
remote:          In preparation for adding support for the Broadcom Brahma-B15 read-ahead
remote:          cache which requires a different set of cache functions, allow the
remote:          __v7_proc macro to override the cache_fns settings, and default to
remote:          v7_cache_fns unless specified otherwise.
remote:
remote:          SWLINUX-3422
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 938abbff4acb491a4115da9e1e53a7497ed13d72)
remote:
remote:      commit 7e62e7a12f2a13ab6eef5ddc74e579eab6653e6c
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Mar 4 10:55:31 2015 -0800
remote:
remote:          BCMGENET: Properly disable password matching when requested
remote:
remote:          Ever since the BCMGENET driver was introduced, we had a small issue in the
remote:          driver with enabling/disabling password matching for magic packets.
remote:
remote:          Once we ask the driver to match against a magic packet with a password, we will
remote:          never clear the MPD_PWD_EN bit again, which means that we leave the hardware
remote:          matching magic packets with password.
remote:
remote:          Fix this by clearing the bit when WAKE_MAGICSECURE is not set.
remote:
remote:          SWLINUX-3585
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 62bcac06c4ae1b34bdfbdb448a7d64d53287d8e6)
remote:
remote:      commit abe0a8cc8a2b3f80ba70248ca9a18cf96bd3d36c
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Fri Feb 27 18:14:18 2015 -0800
remote:
remote:          bsp: add guard macro for users of brcmstb_pm_mem_exclude()
remote:
remote:          By request from Nexus team.
remote:
remote:          SWLINUX-3535
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit b0325d35c39622ff14a1b6984492ecd8dbdb08eb)
remote:
remote:      commit 1cc3a9b69a356321e364d36b1a4a5400a5bd182f
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Fri Feb 27 16:47:15 2015 -0800
remote:
remote:          PM: hack around a BSP race condition
remote:
remote:          Changes to the PM code have uncovered that if the host is too fast at
remote:          submitting BSP commands (e.g., clock stop and gen_random_key), the BSP
remote:          might not ever respond properly, causing a timeout.
remote:
remote:          According to the BSP firmware team, a few milliseconds (~2-3) wait after
remote:          the clock stop command should be sufficient to fend of such races within
remote:          the BSP. Let's add the hack.
remote:
remote:          SWLINUX-3535
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit ecd219c014afc2f37f9dc82bd6d04decaa2b007f)
remote:
remote:      commit e61803c70fc8696e6320df4617ab92b90ae61c22
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Thu Feb 19 17:12:16 2015 -0800
remote:
remote:          bsp: clean <linux/brcmstb/brcmstb.h> of old cruft
remote:
remote:          None of this is used any more.
remote:
remote:          SWLINUX-3535
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 0a951e509eb2c6d1ebde4b52d05cd5a0f0a1ab89)
remote:
remote:      commit a256b9076385a7a9623e64cd44b334e5e06e9d26
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Wed Feb 11 18:29:34 2015 -0800
remote:
remote:          PM: add exclusion API
remote:
remote:          SWLINUX-3535
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit d69a8bbf253b20b6640917c61510b386e357bb98)
remote:
remote:      commit 192e479df0e3f95162b47b8f164adca19be36b49
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Thu Feb 19 17:26:06 2015 -0800
remote:
remote:          config: Add brcmstb_hardened_defconfig
remote:
remote:          A fairly minimal defconfig that is will help to meet the NASC 3.0 requirements.
remote:
remote:          SWLINUX-3578
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 2e6dc0ba1c33033767a86ec68bd8fb7c61c40133)
remote:
remote:      commit 69a1d74d422364916fce11249be4dbfd640c859c
remote:      Author: Arnd Bergmann <arnd@arndb.de>
remote:      Date:   Fri Jul 5 17:38:35 2013 +0200
remote:
remote:          Always trap on BUG()
remote:
remote:          [Upstream submission (never merged): https://lkml.org/lkml/2013/7/5/222 ]
remote:
remote:          I've run some size analyis using the ARM 'multi_v7_defconfig'
remote:          and gcc-4.8, using various definitions for BUG() and BUG_ON(), to
remote:          see how big the size improvement actually gets
remote:
remote:          1. Baseline: normal bug plus CONFIG_BUG_VERBOSE
remote:             text    data     bss     dec     hex filename
remote:          3743196  224396  206812 4174404  3fb244 vmlinux-bugverbose
remote:
remote:          2. disabling CONFIG_BUG_VERBOSE, saving 0.6%
remote:          3716920  224380  206812 4148112  3f4b90 vmlinux-nobugverbose
remote:
remote:          3. #define BUG() panic(__func__), #define BUG_ON(c) if(c) BUG(), saving 1.0%
remote:          3701076  224384  206812 4132272  3f0db0 vmlinux-bug-panicfunc
remote:
remote:          3. #define BUG() panic(__func__), #define BUG_ON(c) if(c) BUG(), saving 1.5%
remote:          3678884  224400  206812 4110096  3eb710 vmlinux-bug-panic
remote:
remote:          4. #define BUG() unreachable(), saving 2.1%
remote:          3652636  224384  206812 4083832  3e5078 vmlinux-bug-unreachable
remote:
remote:          5. as 4, plus #define BUG_ON(c) if(c) unreachable(), saving 2.2%
remote:          3651108  224380  206812 4082300  3e4a7c vmlinux-bugon-unreachable
remote:
remote:          6. #define BUG() do{}while(0), saving 2.1%
remote:          3654264  224380  206812 4085456  3e56d0 vmlinux-nobug
remote:
remote:          7. as 6, plus #define BUG_ON if(0 && (c)) unreachable, saving 2.2%
remote:          3648392  223996  206748 4079136  3e3e20 vmlinux-no-bugon
remote:
remote:          8. my patch below, saving 1.8%
remote:          3666532  224380  206812 4097724  3e86bc obj-tmp/vmlinux
remote:
remote:          The gain of doing unreachable and letting the code run off whereever
remote:          is minimal compared to the current state of doing nothing, but it
remote:          avoids the warnings.
remote:
remote:          Same test using x86_defconfig:
remote:
remote:          1. CONFIG_BUG=y, CONFIG_BUGVERBOSE=n
remote:          10797859        1395648 1175552 13369059         cbfee3 vmlinux-x86-bug
remote:
remote:          2. CONFIG_BUG=n, saves 1.0%
remote:          10658553        1395584 1175552 13229689         c9de79 vmlinux-x86-nobug
remote:
remote:          3. with my patch, saves 0.8%
remote:          10684186        1395584 1175552 13255322         ca429a vmlinux-x86-archbug
remote:
remote:          Getting 1-2% savings in kernel size seems absolutely worth keeping the
remote:          option, but 0.2-0.4% left for getting reproducible behavior also seems
remote:          worthwhile. The result in the patch below.
remote:
remote:          This basically loses any of the BUG() reporting, but leaves the
remote:          logic to trap and kill the task in place when CONFIG_BUG is disabled.
remote:
remote:          SWLINUX-3578
remote:
remote:          Signed-off-by: Arnd Bergmann <arnd@arndb.de>
remote:          Cc: linux-arch@vger.kernel.org
remote:          Cc: Chen Gang <gang.chen@asianux.com>
remote:          Cc: "H. Peter Anvin" <hpa@zytor.com>
remote:          Cc: Ingo Molnar <mingo@kernel.org>
remote:          Cc: "Eric W. Biederman" <ebiederm@xmission.com>
remote:          Cc: Geert Uytterhoeven <geert@linux-m68k.org>
remote:          Cc: Russell King - ARM Linux <linux@arm.linux.org.uk>
remote:          [gregory: Without this change, disabling CONFIG_BUG causes warnings everywhere
remote:          because of various uninitialized variables, etc. that are handled by BUG and
remote:          BUG_ON.  This should eliminate unpredictable behavior (unexpected return
remote:          values, etc.) when CONFIG_BUG=n.]
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:          (cherry picked from commit bf9361eaa76eeee78b942484ed271602ace30117)
remote:
remote:      commit 4384853e3402984d89d2d39357c2ac42d50b771e
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Oct 1 12:23:58 2014 -0700
remote:
remote:          net: dsa: bcm_sf2: add hardware bridging support
remote:
remote:          Implement the bridge join, leave and set_stp callbacks by making that we
remote:          do the following:
remote:
remote:          - when a port joins the bridge, all existing ports in the bridge get
remote:            their VLAN control register updated with that joining port
remote:          - the joining port is including all existing bridge ports in its own
remote:            VLAN control register
remote:
remote:          The leave operation is fairly similar, special care must be taken to
remote:          make sure that port leaving the bridging is not removing itself from its
remote:          own VLAN control register.
remote:
remote:          Since the various BR_* states apply directly to our HW semantics, we just
remote:          need to translate these constants into their corresponding HW settings,
remote:          and voila!
remote:
remote:          We make sure to trigger a fast-ageing process for ports that are
remote:          joining/leaving the bridge and transition from incompatible states, this
remote:          is equivalent to triggering an ARL flush for that port.
remote:
remote:          SWLINUX-3356
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit d1adb695f919cc225216a136390b92da3b7edf74)
remote:
remote:      commit c15094b0142614e8c369352070939a35fd5c20eb
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Feb 19 11:11:56 2015 -0800
remote:
remote:          net: dsa: bcm_sf2: fix 64-bits register reads
remote:
remote:          Reading 64-bits register was not working because we inverted the steps
remote:          between reading the lower 32-bits of the register and reading the upper
remote:          32-bits. Swapping these operations is how the HW guarantees that 64-bits
remote:          reads are latched correctly. We only have a handful of 64-bits registers
remote:          for now, mostly MIB counters, so the impact is low.
remote:
remote:          SWLINUX-3356
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 0d4da83e5751687516b1b317e9ee0421e67c42b3)
remote:
remote:      commit 656eeaf2e3f248d9a56273075886363e9e3dd784
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue Sep 30 16:40:57 2014 -0700
remote:
remote:          net: dsa: allow switch drivers to implement bridge ndo operations
remote:
remote:          Allows switch drivers to implement ndo_br_join, ndo_br_leave and
remote:          ndo_br_set_state network device operations and have those be propagated
remote:          down to the switch driver.
remote:
remote:          DSA will resolve which switch ports are currently bridge port members as
remote:          some Switch hardware/drivers need to know about that to limit the
remote:          register programming to just the relevant registers (especially for slow
remote:          MDIO buses).
remote:
remote:          We also take care of setting the correct STP state when slave network
remote:          devices are brought up/down while being bridge members.
remote:
remote:          Finally, when a port is leaving the bridge, we make sure we set in
remote:          BR_STATE_FORWARDING state, otherwise the bridge layer would leave it
remote:          disabled as a result of having left the bridge.
remote:
remote:          SWLINUX-3356
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 23f5d55d0d68f58bed7a7f134c36be6f9921a1c8)
remote:
remote:      commit 9d41e04608dc862454a1d58e756de146b5c5e650
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue Sep 30 16:26:40 2014 -0700
remote:
remote:          net: bridge: add ndo operations to help with join, leave and stp state
remote:
remote:          In order for switch drivers to get information about their respective
remote:          switch ports when they get added/removed to/from a bridge, as well as
remote:          when a given brigde port STP state changes, add 3 network device
remote:          operations and invoke them from the bridge code.
remote:
remote:          SWLINUX-3356
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 89f8d6e37a9ef5f4120e758ba729871f5a79fb5d)
remote:
remote:      commit c6ba97b4ea9b06554d35faba67b07d1c25f90989
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue Sep 30 16:15:26 2014 -0700
remote:
remote:          net: bridge: add a br_set_state helper function
remote:
remote:          [Upstream commit 775dd692bd34f9201ed2aa775a0edcba4f973f3e]
remote:
remote:          In preparation for being able to propagate port states to e.g: notifiers
remote:          or other kernel parts, do not manipulate the port state directly, but
remote:          instead use a helper function which will allow us to do bit more than
remote:          setting the state.
remote:
remote:          SWLINUX-3356
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 7414b4fbe3954533a4f4c9d07cb4a4cf277221bc)
remote:
remote:      commit bc7af0862f0e99c013b9eb914c7b58d0135d578b
remote:      Author: Danesh Petigara <dpetigara@broadcom.com>
remote:      Date:   Mon Feb 23 16:06:47 2015 -0800
remote:
remote:          mm: cma: fix CMA aligned offset calculation
remote:
remote:           [Upstream submission https://lkml.org/lkml/2015/2/24/745]
remote:
remote:          The CMA aligned offset calculation is incorrect for
remote:          non-zero order_per_bit values.
remote:
remote:          For example, if cma->order_per_bit=1, cma->base_pfn=
remote:          0x2f800000 and align_order=12, the function returns
remote:          a value of 0x17c00 instead of 0x400.
remote:
remote:          This patch fixes the CMA aligned offset calculation.
remote:
remote:          Cc: stable@vger.kernel.org
remote:          Signed-off-by: Danesh Petigara <dpetigara@broadcom.com>
remote:          Reviewed-by: Gregory Fong <gregory.0xf0@gmail.com>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          (cherry picked from commit cc5bc1c06573b2240dd56344619d1737a22809b0)
remote:
remote:      commit c7233043b986749f0d1bfaba0dc2d2d6a3b468c5
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Wed Feb 4 15:33:59 2015 -0800
remote:
remote:          ARM: print cma-reserved pages from show_mem
remote:
remote:          [Upstream submission https://lkml.org/lkml/2015/2/4/760 ]
remote:
remote:          Add cma reserved information to the ARM-specific show_mem.  It was
remote:          added to the generic implementation by commit
remote:          49abd8c28046adf77c5ce1949549aa64d7221881 "lib/show_mem.c: add cma
remote:          reserved information".
remote:
remote:          SWLINUX-3547
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit f2b72d073d9f6b476b9b5467b33748a8ea7eb828)
remote:
remote:      commit f71a844075a66e3542516ded9bea44b7a847dde3
remote:      Author: Vishnu Pratap Singh <vishnu.ps@samsung.com>
remote:      Date:   Thu Dec 18 16:17:21 2014 -0800
remote:
remote:          lib/show_mem.c: add cma reserved information
remote:
remote:          [Upstream commit 49abd8c28046adf77c5ce1949549aa64d7221881]
remote:
remote:          Add cma reserved information which is currently shown as a part of total
remote:          reserved only.  This patch is continuation of our previous cma patches
remote:          related to this.
remote:
remote:            https://lkml.org/lkml/2014/10/20/64
remote:            https://lkml.org/lkml/2014/10/22/383
remote:
remote:          SWLINUX-3547
remote:
remote:          [akpm@linux-foundation.org: remove hopefully-unneeded ifdefs]
remote:          Signed-off-by: Vishnu Pratap Singh <vishnu.ps@samsung.com>
remote:          Cc: David Rientjes <rientjes@google.com>
remote:          Cc: KOSAKI Motohiro <kosaki.motohiro@jp.fujitsu.com>
remote:          Cc: Mel Gorman <mgorman@suse.de>
remote:          Cc: Xishi Qiu <qiuxishi@huawei.com>
remote:          Cc: Pintu Kumar <pintu.k@samsung.com>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:          (cherry picked from commit 13336988afab9326108b2679d05b32ceeae3d613)
remote:
remote:      commit 306114f8a8f7e09b0028826bedce7e68fd63b058
remote:      Author: Pintu Kumar <pintu.k@samsung.com>
remote:      Date:   Thu Dec 18 16:17:18 2014 -0800
remote:
remote:          fs/proc/meminfo.c: include cma info in proc/meminfo
remote:
remote:          [Upstream commit 47f8f9297d2247d65ee46d8403a73b30f8d0249b]
remote:
remote:          This patch include CMA info (CMATotal, CMAFree) in /proc/meminfo.
remote:          Currently, in a CMA enabled system, if somebody wants to know the total
remote:          CMA size declared, there is no way to tell, other than the dmesg or
remote:          /var/log/messages logs.
remote:
remote:          With this patch we are showing the CMA info as part of meminfo, so that it
remote:          can be determined at any point of time.  This will be populated only when
remote:          CMA is enabled.
remote:
remote:          Below is the sample output from a ARM based device with RAM:512MB and CMA:16MB.
remote:
remote:            MemTotal:         471172 kB
remote:            MemFree:          111712 kB
remote:            MemAvailable:     271172 kB
remote:            .
remote:            .
remote:            .
remote:            CmaTotal:          16384 kB
remote:            CmaFree:            6144 kB
remote:
remote:          This patch also fix below checkpatch errors that were found during these changes.
remote:
remote:            ERROR: space required after that ',' (ctx:ExV)
remote:            199: FILE: fs/proc/meminfo.c:199:
remote:            +       ,atomic_long_read(&num_poisoned_pages) << (PAGE_SHIFT - 10)
remote:                    ^
remote:
remote:            ERROR: space required after that ',' (ctx:ExV)
remote:            202: FILE: fs/proc/meminfo.c:202:
remote:            +       ,K(global_page_state(NR_ANON_TRANSPARENT_HUGEPAGES) *
remote:                    ^
remote:
remote:            ERROR: space required after that ',' (ctx:ExV)
remote:            206: FILE: fs/proc/meminfo.c:206:
remote:            +       ,K(totalcma_pages)
remote:                    ^
remote:
remote:            total: 3 errors, 0 warnings, 2 checks, 236 lines checked
remote:
remote:          SWLINUX-3547
remote:
remote:          Signed-off-by: Pintu Kumar <pintu.k@samsung.com>
remote:          Signed-off-by: Vishnu Pratap Singh <vishnu.ps@samsung.com>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Cc: Rafael Aquini <aquini@redhat.com>
remote:          Cc: Jerome Marchand <jmarchan@redhat.com>
remote:          Cc: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Cc: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit a6173d24176fbf53e9fda663896512239d0dbb60)
remote:
remote:      commit f2a2d732bd51e9c5794d0c0030ff8ac3c5a8f1ea
remote:      Author: Pintu Kumar <pintu.k@samsung.com>
remote:      Date:   Thu Dec 18 16:17:15 2014 -0800
remote:
remote:          mm: cma: split cma-reserved in dmesg log
remote:
remote:          [Upstream commit e48322abb061d75096fe52d71886b237e7ae7bfb]
remote:
remote:          When the system boots up, in the dmesg logs we can see the memory
remote:          statistics along with total reserved as below.  Memory: 458840k/458840k
remote:          available, 65448k reserved, 0K highmem
remote:
remote:          When CMA is enabled, still the total reserved memory remains the same.
remote:          However, the CMA memory is not considered as reserved.  But, when we see
remote:          /proc/meminfo, the CMA memory is part of free memory.  This creates
remote:          confusion.  This patch corrects the problem by properly subtracting the
remote:          CMA reserved memory from the total reserved memory in dmesg logs.
remote:
remote:          Below is the dmesg snapshot from an arm based device with 512MB RAM and
remote:          12MB single CMA region.
remote:
remote:          Before this change:
remote:            Memory: 458840k/458840k available, 65448k reserved, 0K highmem
remote:
remote:          After this change:
remote:            Memory: 458840k/458840k available, 53160k reserved, 12288k cma-reserved, 0K highmem
remote:
remote:          SWLINUX-3547
remote:
remote:          Signed-off-by: Pintu Kumar <pintu.k@samsung.com>
remote:          Signed-off-by: Vishnu Pratap Singh <vishnu.ps@samsung.com>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Cc: Rafael Aquini <aquini@redhat.com>
remote:          Cc: Jerome Marchand <jmarchan@redhat.com>
remote:          Cc: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Cc: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit a4d60f2af8562d873b05cbc4b276106a377f90fb)
remote:
remote:      commit d800d13e2b8e71100a2947d7f461a72a4a45607f
remote:      Author: Kamal Dasu <kdasu@broadcom.com>
remote:      Date:   Thu Feb 19 16:24:27 2015 -0500
remote:
remote:          bmoca: Pass contents of MOCA_L2_CPU_STATUS to mocad
remote:
remote:          Add a message going to mocad in moca_send_pm_trap, that
remote:          will let MoCA know if the WATCHDOG_CPU_x_INTR is set.
remote:          We'll need to clear the WATCHDOG_CPU_x_INTR bits.
remote:          Handle the WATCHDOG_CPU_x_INTR. An MMP message is sent
remote:          to mocad. Also add MOCA_RESUMING_ASSERT and
remote:          MOCA_RESUMING_WDOG states to the resume logic.
remote:
remote:          SWLINUX-3556
remote:
remote:          Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:          (cherry picked from commit 5d3fc45b6fe43e95067a467e7213a067a21b99fc)
remote:
remote:      commit 6857be2818033c9d576fe55475a9b64f74748a78
remote:      Author: Kamal Dasu <kdasu@broadcom.com>
remote:      Date:   Thu Feb 19 16:14:18 2015 -0500
remote:
remote:          bmoca: Make per CPU ASSERT pending logic more readable
remote:
remote:          Minor cleanup to make the pre CPU assert_pending for CPU0
remote:          and CPU1 code more readable.
remote:
remote:          SWLINUX-3556
remote:
remote:          Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:          (cherry picked from commit c7a80d07ca86e87cced875192fb074f79102bd8e)
remote:
remote:      commit c9118eb450d1df46c9a69e5e59677857743151cb
remote:      Author: Kamal Dasu <kdasu@broadcom.com>
remote:      Date:   Wed Feb 18 14:09:21 2015 -0500
remote:
remote:          bmoca: Enable moca as a wakeup source by default
remote:
remote:          Enable moca as a wakeup source regardless of the
remote:          WoL setting. This is part of the change needed to resolve
remote:          CRMOCA20-5951: MoCA Exception and Assert interrupt
remote:          Reset of the changes in following commits.
remote:
remote:          SWLINUX-3556
remote:
remote:          Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:          (cherry picked from commit c1c348895e56b8dcc626ec15dbd5630848542902)
remote:
remote:      commit 8f0967e2f2c255f7c790ebe50583aa30ac885485
remote:      Author: Gregory Fong <gregory.0xf0@gmail.com>
remote:      Date:   Fri Dec 12 16:54:48 2014 -0800
remote:
remote:          mm: cma: align to physical address, not CMA region position
remote:
remote:          [Upstream commit b5be83e308f70e16c63c4e520ea7bb03ef57c46f]
remote:
remote:          The alignment in cma_alloc() was done w.r.t. the bitmap.  This is a
remote:          problem when, for example:
remote:
remote:          - a device requires 16M (order 12) alignment
remote:          - the CMA region is not 16 M aligned
remote:
remote:          In such a case, can result with the CMA region starting at, say,
remote:          0x2f800000 but any allocation you make from there will be aligned from
remote:          there.  Requesting an allocation of 32 M with 16 M alignment will result
remote:          in an allocation from 0x2f800000 to 0x31800000, which doesn't work very
remote:          well if your strange device requires 16M alignment.
remote:
remote:          Change to use bitmap_find_next_zero_area_off() to account for the
remote:          difference in alignment at reserve-time and alloc-time.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Gregory Fong <gregory.0xf0@gmail.com>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Cc: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Cc: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Cc: Kukjin Kim <kgene.kim@samsung.com>
remote:          Cc: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
remote:          Cc: Laura Abbott <lauraa@codeaurora.org>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          [gregory: I accidentally dropped our local version of this change,
remote:          86ff4cb6f6d7d03b3d7a13aec9e0e40a9d24cfbb, in commit got lost in commit
remote:          20f856ba533003aa8eab7518c2a401706ef428cd "CMA: generalize CMA reserved area
remote:          management functionality".  We can just use the same as upstream now.]
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:          (cherry picked from commit e189cd3aa4ca5303d3d5e9d394a2e54e788cb6f3)
remote:
remote:      commit 88010fbf62e01a81afe7fd9ea053d6c21bbf41d7
remote:      Author: Michal Nazarewicz <mina86@mina86.com>
remote:      Date:   Thu Nov 13 15:19:27 2014 -0800
remote:
remote:          mm: alloc_contig_range: demote pages busy message from warn to info
remote:
remote:          [Upstream commit dae803e165a11bc88ca8dbc07a11077caf97bbcb]
remote:
remote:          Having test_pages_isolated failure message as a warning confuses users
remote:          into thinking that it is more serious than it really is.  In reality, if
remote:          called via CMA, allocation will be retried so a single
remote:          test_pages_isolated failure does not prevent allocation from succeeding.
remote:
remote:          Demote the warning message to an info message and reformat it such that
remote:          the text "failed" does not appear and instead a less worrying "PFNS
remote:          busy" is used.
remote:
remote:          This message is trivially reproducible on a 10GB x86 machine on 3.16.y
remote:          kernels configured with CONFIG_DMA_CMA.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Cc: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
remote:          Cc: Peter Hurley <peter@hurleysoftware.com>
remote:          Cc: Minchan Kim <minchan@kernel.org>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 7f2492c261d0d6b82b874ee1a08b0212df7d9cd5)
remote:
remote:      commit 520261d943db6b9c0cd3b8bbd400a1fb6a553031
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Wed Feb 4 21:32:37 2015 -0800
remote:
remote:          tmon: makefile: export instead of overriding
remote:
remote:          To avoid clobbering all 'Makefile' variables, let's just export these.
remote:          Then we don't have to specify as many things in the 'makefile'.
remote:
remote:          SWLINUX-3288
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit a843b01c92daa5d3c595dc99018dbc8114516b9e)
remote:
remote:      commit c88ef54a7a666a947bcc8922f1c0131ac516473f
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Wed Feb 4 21:32:04 2015 -0800
remote:
remote:          tmon: allow CFLAGS and CC to be specified externally
remote:
remote:          Especially useful for cross-compiling.
remote:
remote:          SWLINUX-3288
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit f30042c28a97b19765595bd619aedd2dd09ce804)
remote:
remote:      commit eaf1fbcb33884fce9f0a3ec29a9c8c97f3a05f35
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Wed Feb 11 19:25:51 2015 -0800
remote:
remote:          tmon: tui: fixup windowing calculations
remote:
remote:          The number of rows in the dialog vary according to the number of cooling
remote:          devices. However, some of the windowing computations were assuming a
remote:          fixed number of rows. This computation is OK when we have between 4 and
remote:          9 cooling devices (and they wrap to the next column), but with fewer
remote:          devices, we end up printing off the end of the window.
remote:
remote:          This unifies the row computation into a single function and uses that
remote:          throughout the TUI code. This also accounts for increasing the number of
remote:          rows when there are more than 9 total cooling devices.
remote:
remote:          SWLINUX-3288
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 0863801049efe5f28a5585686a5824ae8680d6a7)
remote:
remote:      commit 9b2412422fe0b3e8f1e8f1370a626b25f15b1acb
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Wed Feb 11 19:25:44 2015 -0800
remote:
remote:          tmon: tui: don't hard-code dialog window size assumptions
remote:
remote:          We can use the ncurses API to get the number of rows.
remote:
remote:          SWLINUX-3288
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit cd3693f11b64ec2d7a4345bbae4624507c6cd356)
remote:
remote:      commit 7a975daa079e9a67378ca9c34d1c93f9a45bc93e
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Wed Feb 11 19:25:32 2015 -0800
remote:
remote:          tmon: add min/max macros
remote:
remote:          SWLINUX-3288
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 660e5e3d8ed5eec465603042e41bbabf3c1db8e4)
remote:
remote:      commit 44f5323adce7ce41d4ec0664426a6ce95d18321d
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Feb 5 17:49:40 2015 -0800
remote:
remote:          tools/thermal: add a .gitignore file for tmon
remote:
remote:          SWLINUX-3288
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 53451abe031b137ee754abd0b207d7621f7b172c)
remote:
remote:      commit 9d7ed76a4c4730492872a4912745302275d94c29
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Wed Jan 28 17:26:29 2015 -0800
remote:
remote:          mm: page_alloc: add single retry to __choose_rmqueue_migratetype
remote:
remote:          Rather assuming that exhaustion of both movable and cma try counters means we
remote:          should just go ahead and try using movable migratetype, try again after
remote:          resetting the counters.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 2fa12151c4f5173025bc0ae55d0cf279dbe0b511)
remote:
remote:      commit ea1bc75b1da9786f364ee9721fa95c020c8d9eed
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Wed Jan 28 17:24:12 2015 -0800
remote:
remote:          mm: page_alloc: inline __choose_rmqueue_migratetype
remote:
remote:          __rmqueue needs to be as fast as possible.  Since there's only one call site,
remote:          better to have this inlined.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit e9299a23c5a728bd90f8cb35367e5d824f3c99d6)
remote:
remote:      commit 05cc0cc09754dc908cb33b8680917b544f03a3f8
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jan 5 19:47:50 2015 -0800
remote:
remote:          mm: page_alloc: Fix div by zero in adjust_managed_cma_page_count
remote:
remote:          The commit by Joonsoo Kim <iamjoonsoo.kim@lge.com> "CMA: aggressively allocate
remote:          the pages on cma reserved memory when not used" introduced a div by zero when
remote:          there are no movable pages left but there are CMA pages left.  This can happen
remote:          under memory pressure when there are more total pages in CMA regions than not.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 8f79660751a7cb4347196cfc400a27d300dc80d3)
remote:
remote:      commit 1530757e788249be7f40486f2fc9c6d91b8f13f4
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Wed Jan 28 19:32:12 2015 -0800
remote:
remote:          CMA: use total cma pages for adjust_managed_cma_page_count
remote:
remote:          In the previous commit ("CMA: aggressively allocate the pages on CMA reserved
remote:          memory when not used" by Joonsoo Kim), CMA allocation is changed to be based on
remote:          the total number of "normal" managed pages and the number of managed (aka not
remote:          CMA-allocated) CMA pages.  This was intended to be used in conjunction with a
remote:          commit "CMA: always treat free cma pages as non-free on watermark checking"[1].
remote:          However, including that change results in a severe limitation that cannot be
remote:          used on brcmstb with the current setup: it restricts the amount of CMA region
remote:          memory to be less than or equal to to one-half of the system memory.
remote:
remote:          Rather than applying that change, this alters the heuristic from the
remote:          previous commit: we change the definition of "normal" manages in a zone from
remote:
remote:            total pages - managed (unallocated) CMA pages - high_wmark_pages(zone)
remote:
remote:          to
remote:
remote:            total pages - total CMA pages
remote:
remote:          This eliminates the need to handle determining whether an allocation should
remote:          succeed or fail based on the watermark check, and allows for memory in CMA
remote:          regions to be used for movable allocations even if there isn't any extra room
remote:          to migrate them out of the CMA region.
remote:
remote:          The obvious and rather large caveat is that in the event of a CMA allocation
remote:          actually requiring that space, there might not be enough space available to
remote:          which to move the used pages in the CMA region, resulting in potentially
remote:          catastrophic CMA allocation failures.  Whereas Joonsoo's commit prevents that
remote:          by design but restricts CMA usage, this maintains flexibility for CMA region
remote:          use but leaves it to the system designer to handle CMA allocation failure.
remote:
remote:          [1] https://github.com/JoonsooKim/linux/commit/166b4186d101b190cf50195d841e2189f2743649
remote:              or an older version at https://lkml.org/lkml/2014/5/28/110
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit b5cbdb8b971a271cfa9f9679fc8713faf26079e9)
remote:
remote:      commit 81dc20c94e1d1a3533eda32a8495e5e6177f74ad
remote:      Author: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:      Date:   Wed Jun 18 14:10:59 2014 +0900
remote:
remote:          CMA: aggressively allocate the pages on CMA reserved memory when not used
remote:
remote:          [Retrieved from
remote:          https://github.com/JoonsooKim/linux/commit/33a0416b3ac1cd7c88e6b35ee61b4a81a7a14afc]
remote:
remote:          CMA is introduced to provide physically contiguous pages at runtime.
remote:          For this purpose, it reserves memory at boot time. Although it reserve
remote:          memory, this reserved memory can be used for movable memory allocation
remote:          request. This usecase is beneficial to the system that needs this CMA
remote:          reserved memory infrequently and it is one of main purpose of
remote:          introducing CMA.
remote:
remote:          But, there is a problem in current implementation. The problem is that
remote:          it works like as just reserved memory approach. The pages on CMA reserved
remote:          memory are hardly used for movable memory allocation. This is caused by
remote:          combination of allocation and reclaim policy.
remote:
remote:          The pages on CMA reserved memory are allocated if there is no movable
remote:          memory, that is, as fallback allocation. So the time this fallback
remote:          allocation is started is under heavy memory pressure. Although it is under
remote:          memory pressure, movable allocation easily succeed, since there would be
remote:          many pages on CMA reserved memory. But this is not the case for unmovable
remote:          and reclaimable allocation, because they can't use the pages on CMA
remote:          reserved memory. These allocations regard system's free memory as
remote:          (free pages - free CMA pages) on watermark checking, that is, free
remote:          unmovable pages + free reclaimable pages + free movable pages. Because
remote:          we already exhausted movable pages, only free pages we have are unmovable
remote:          and reclaimable types and this would be really small amount. So watermark
remote:          checking would be failed. It will wake up kswapd to make enough free
remote:          memory for unmovable and reclaimable allocation and kswapd will do.
remote:          So before we fully utilize pages on CMA reserved memory, kswapd start to
remote:          reclaim memory and try to make free memory over the high watermark. This
remote:          watermark checking by kswapd doesn't take care free CMA pages so many
remote:          movable pages would be reclaimed. After then, we have a lot of movable
remote:          pages again, so fallback allocation doesn't happen again. To conclude,
remote:          amount of free memory on meminfo which includes free CMA pages is moving
remote:          around 512 MB if I reserve 512 MB memory for CMA.
remote:
remote:          I found this problem on following experiment.
remote:
remote:          4 CPUs, 1024 MB, VIRTUAL MACHINE
remote:          make -j16
remote:
remote:          CMA reserve:            0 MB            512 MB
remote:          Elapsed-time:           225.2           472.5
remote:          Average-MemFree:        322490 KB       630839 KB
remote:
remote:          To solve this problem, I can think following 2 possible solutions.
remote:          1. allocate the pages on CMA reserved memory first, and if they are
remote:             exhausted, allocate movable pages.
remote:          2. interleaved allocation: try to allocate specific amounts of memory
remote:             from CMA reserved memory and then allocate from free movable memory.
remote:
remote:          I tested #1 approach and found the problem. Although free memory on
remote:          meminfo can move around low watermark, there is large fluctuation on free
remote:          memory, because too many pages are reclaimed when kswapd is invoked.
remote:          Reason for this behaviour is that successive allocated CMA pages are
remote:          on the LRU list in that order and kswapd reclaim them in same order.
remote:          These memory doesn't help watermark checking from kwapd, so too many
remote:          pages are reclaimed, I guess.
remote:
remote:          So, I implement #2 approach.
remote:          One thing I should note is that we should not change allocation target
remote:          (movable list or CMA) on each allocation attempt, since this prevent
remote:          allocated pages to be in physically succession, so some I/O devices can
remote:          be hurt their performance. To solve this, I keep allocation target
remote:          in at least pageblock_nr_pages attempts and make this number reflect
remote:          ratio, free pages without free CMA pages to free CMA pages. With this
remote:          approach, system works very smoothly and fully utilize the pages on
remote:          CMA reserved memory.
remote:
remote:          Following is the experimental result of this patch.
remote:
remote:          4 CPUs, 1024 MB, VIRTUAL MACHINE
remote:          make -j16
remote:
remote:          <Before>
remote:          CMA reserve:            0 MB            512 MB
remote:          Elapsed-time:           225.2           472.5
remote:          Average-MemFree:        322490 KB       630839 KB
remote:          nr_free_cma:            0               131068
remote:          pswpin:                 0               261666
remote:          pswpout:                75              1241363
remote:
remote:          <After>
remote:          CMA reserve:            0 MB            512 MB
remote:          Elapsed-time:           222.7           224
remote:          Average-MemFree:        325595 KB       393033 KB
remote:          nr_free_cma:            0               61001
remote:          pswpin:                 0               6
remote:          pswpout:                44              502
remote:
remote:          There is no difference if we don't have CMA reserved memory (0 MB case).
remote:          But, with CMA reserved memory (512 MB case), we fully utilize these
remote:          reserved memory through this patch and the system behaves like as
remote:          it doesn't reserve any memory.
remote:
remote:          With this patch, we aggressively allocate the pages on CMA reserved memory
remote:          so latency of CMA can arise. Below is the experimental result about
remote:          latency.
remote:
remote:          4 CPUs, 1024 MB, VIRTUAL MACHINE
remote:          CMA reserve: 512 MB
remote:          Backgound Workload: make -jN
remote:          Real Workload: 8 MB CMA allocation/free 20 times with 5 sec interval
remote:
remote:          N:                    1        4       8        16
remote:          Elapsed-time(Before): 4309.75  9511.09 12276.1  77103.5
remote:          Elapsed-time(After):  5391.69 16114.1  19380.3  34879.2
remote:
remote:          So generally we can see latency increase. Ratio of this increase
remote:          is rather big - up to 70%. But, under the heavy workload, it shows
remote:          latency decrease - up to 55%. This may be worst-case scenario, but
remote:          reducing it would be important for some system, so, I can say that
remote:          this patch have advantages and disadvantages in terms of latency.
remote:
remote:          Although I think that this patch is right direction for CMA, there is
remote:          side-effect in following case. If there is small memory zone and CMA
remote:          occupys most of them, LRU for this zone would have many CMA pages. When
remote:          reclaim is started, these CMA pages would be reclaimed, but not counted
remote:          for watermark checking, so too many CMA pages could be reclaimed
remote:          unnecessarily. Until now, this can't happen because free CMA pages aren't
remote:          used easily. But, with this patch, free CMA pages are used easily so
remote:          this problem can be possible. I will handle it on another patchset
remote:          after some investigating.
remote:
remote:          v2:
remote:            - In fastpath, just replenish counters. Calculation is done whenver
remote:              CMA area is varied
remote:
remote:          v3:
remote:            - Use unsigned type in adjust_managed_cma_page_count() (per Gioh)
remote:            - Fix +/- count when calling adjust_managed_cma_page_count() (per Gioh)
remote:            - Instead of implementing __rmqueue_cma() which has another
remote:              __rmqueue_smallest(), choose_rmqueue_migratetype() is implemented to
remote:              change original migratetype to MIGRATE_CMA according to criteria. It
remote:              helps not to violate layering. (per Minchan in offline discussion)
remote:
remote:          SWLINUX-2786
remote:
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit d972a5082211262ddea3cc87ceac9e5f18b9ea73)
remote:
remote:      commit 2864519e0bf008640efaa760ff17c5ce169d43ac
remote:      Author: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:      Date:   Wed May 28 16:04:30 2014 +0900
remote:
remote:          CMA: remove redundant retrying code in __alloc_contig_migrate_range
remote:
remote:          [Upstream submission (not yet accepted) https://lkml.org/lkml/2014/5/28/113]
remote:
remote:          We already have retry logic in migrate_pages(). It does retry 10 times.
remote:          So if we keep this retrying code in __alloc_contig_migrate_range(), we
remote:          would try to migrate some unmigratable page in 50 times. There is just one
remote:          small difference in -ENOMEM case. migrate_pages() don't do retry
remote:          in this case, however, current __alloc_contig_migrate_range() does. But,
remote:          I think that this isn't problem, because in this case, we may fail again
remote:          with same reason.
remote:
remote:          SWLINUX-2786
remote:
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          [gregory: resolve minor merge conflict]
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:          Conflicts:
remote:          	mm/page_alloc.c
remote:
remote:          (cherry picked from commit 077285a0beac00f46c5922a4554a88c96153f08b)
remote:
remote:      commit 2f641829f5d6e0eb0744152900313eedadb74dc5
remote:      Author: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:      Date:   Thu Nov 13 15:19:21 2014 -0800
remote:
remote:          mm/page_alloc: restrict max order of merging on isolated pageblock
remote:
remote:          [Upstream commit 3c605096d3158216ba9326a16266f6ba128c2c8d]
remote:
remote:          Current pageblock isolation logic could isolate each pageblock
remote:          individually.  This causes freepage accounting problem if freepage with
remote:          pageblock order on isolate pageblock is merged with other freepage on
remote:          normal pageblock.  We can prevent merging by restricting max order of
remote:          merging to pageblock order if freepage is on isolate pageblock.
remote:
remote:          A side-effect of this change is that there could be non-merged buddy
remote:          freepage even if finishing pageblock isolation, because undoing
remote:          pageblock isolation is just to move freepage from isolate buddy list to
remote:          normal buddy list rather than to consider merging.  So, the patch also
remote:          makes undoing pageblock isolation consider freepage merge.  When
remote:          un-isolation, freepage with more than pageblock order and it's buddy are
remote:          checked.  If they are on normal pageblock, instead of just moving, we
remote:          isolate the freepage and free it in order to get merged.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Acked-by: Vlastimil Babka <vbabka@suse.cz>
remote:          Cc: "Kirill A. Shutemov" <kirill@shutemov.name>
remote:          Cc: Mel Gorman <mgorman@suse.de>
remote:          Cc: Johannes Weiner <hannes@cmpxchg.org>
remote:          Cc: Minchan Kim <minchan@kernel.org>
remote:          Cc: Yasuaki Ishimatsu <isimatu.yasuaki@jp.fujitsu.com>
remote:          Cc: Zhang Yanfei <zhangyanfei@cn.fujitsu.com>
remote:          Cc: Tang Chen <tangchen@cn.fujitsu.com>
remote:          Cc: Naoya Horiguchi <n-horiguchi@ah.jp.nec.com>
remote:          Cc: Bartlomiej Zolnierkiewicz <b.zolnierkie@samsung.com>
remote:          Cc: Wen Congyang <wency@cn.fujitsu.com>
remote:          Cc: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Cc: Michal Nazarewicz <mina86@mina86.com>
remote:          Cc: Laura Abbott <lauraa@codeaurora.org>
remote:          Cc: Heesub Shin <heesub.shin@samsung.com>
remote:          Cc: "Aneesh Kumar K.V" <aneesh.kumar@linux.vnet.ibm.com>
remote:          Cc: Ritesh Harjani <ritesh.list@gmail.com>
remote:          Cc: Gioh Kim <gioh.kim@lge.com>
remote:          Cc: <stable@vger.kernel.org>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 9e2f563659c605adfb0db3810494c9565f4436c8)
remote:
remote:      commit b46a3b0017b2ac151b27d4b65a848a0c8c14b731
remote:      Author: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:      Date:   Thu Nov 13 15:19:18 2014 -0800
remote:
remote:          mm/page_alloc: move freepage counting logic to __free_one_page()
remote:
remote:          [Upstream commit 8f82b55dd558a74fc33d69a1f2c2605d0cd2c908]
remote:
remote:          All the caller of __free_one_page() has similar freepage counting logic,
remote:          so we can move it to __free_one_page().  This reduce line of code and
remote:          help future maintenance.
remote:
remote:          This is also preparation step for "mm/page_alloc: restrict max order of
remote:          merging on isolated pageblock" which fix the freepage counting problem
remote:          on freepage with more than pageblock order.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Acked-by: Vlastimil Babka <vbabka@suse.cz>
remote:          Cc: "Kirill A. Shutemov" <kirill@shutemov.name>
remote:          Cc: Mel Gorman <mgorman@suse.de>
remote:          Cc: Johannes Weiner <hannes@cmpxchg.org>
remote:          Cc: Minchan Kim <minchan@kernel.org>
remote:          Cc: Yasuaki Ishimatsu <isimatu.yasuaki@jp.fujitsu.com>
remote:          Cc: Zhang Yanfei <zhangyanfei@cn.fujitsu.com>
remote:          Cc: Tang Chen <tangchen@cn.fujitsu.com>
remote:          Cc: Naoya Horiguchi <n-horiguchi@ah.jp.nec.com>
remote:          Cc: Bartlomiej Zolnierkiewicz <b.zolnierkie@samsung.com>
remote:          Cc: Wen Congyang <wency@cn.fujitsu.com>
remote:          Cc: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Cc: Michal Nazarewicz <mina86@mina86.com>
remote:          Cc: Laura Abbott <lauraa@codeaurora.org>
remote:          Cc: Heesub Shin <heesub.shin@samsung.com>
remote:          Cc: "Aneesh Kumar K.V" <aneesh.kumar@linux.vnet.ibm.com>
remote:          Cc: Ritesh Harjani <ritesh.list@gmail.com>
remote:          Cc: Gioh Kim <gioh.kim@lge.com>
remote:          Cc: <stable@vger.kernel.org>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 8c0fed7c9bd77c0f0b45e78d83c49a66b338b4cd)
remote:
remote:      commit 690f4aa1d6f27202d7d610b110913bf73955d4f8
remote:      Author: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:      Date:   Thu Nov 13 15:19:14 2014 -0800
remote:
remote:          mm/page_alloc: add freepage on isolate pageblock to correct buddy list
remote:
remote:          [Upstream commit 51bb1a4093cc68bc16b282548d9cee6104be0ef1]
remote:
remote:          In free_pcppages_bulk(), we use cached migratetype of freepage to
remote:          determine type of buddy list where freepage will be added.  This
remote:          information is stored when freepage is added to pcp list, so if
remote:          isolation of pageblock of this freepage begins after storing, this
remote:          cached information could be stale.  In other words, it has original
remote:          migratetype rather than MIGRATE_ISOLATE.
remote:
remote:          There are two problems caused by this stale information.
remote:
remote:          One is that we can't keep these freepages from being allocated.
remote:          Although this pageblock is isolated, freepage will be added to normal
remote:          buddy list so that it could be allocated without any restriction.  And
remote:          the other problem is incorrect freepage accounting.  Freepages on
remote:          isolate pageblock should not be counted for number of freepage.
remote:
remote:          Following is the code snippet in free_pcppages_bulk().
remote:
remote:              /* MIGRATE_MOVABLE list may include MIGRATE_RESERVEs */
remote:              __free_one_page(page, page_to_pfn(page), zone, 0, mt);
remote:              trace_mm_page_pcpu_drain(page, 0, mt);
remote:              if (likely(!is_migrate_isolate_page(page))) {
remote:                  __mod_zone_page_state(zone, NR_FREE_PAGES, 1);
remote:                  if (is_migrate_cma(mt))
remote:                      __mod_zone_page_state(zone, NR_FREE_CMA_PAGES, 1);
remote:              }
remote:
remote:          As you can see above snippet, current code already handle second
remote:          problem, incorrect freepage accounting, by re-fetching pageblock
remote:          migratetype through is_migrate_isolate_page(page).
remote:
remote:          But, because this re-fetched information isn't used for
remote:          __free_one_page(), first problem would not be solved.  This patch try to
remote:          solve this situation to re-fetch pageblock migratetype before
remote:          __free_one_page() and to use it for __free_one_page().
remote:
remote:          In addition to move up position of this re-fetch, this patch use
remote:          optimization technique, re-fetching migratetype only if there is isolate
remote:          pageblock.  Pageblock isolation is rare event, so we can avoid
remote:          re-fetching in common case with this optimization.
remote:
remote:          This patch also correct migratetype of the tracepoint output.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Acked-by: Minchan Kim <minchan@kernel.org>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Acked-by: Vlastimil Babka <vbabka@suse.cz>
remote:          Cc: "Kirill A. Shutemov" <kirill@shutemov.name>
remote:          Cc: Mel Gorman <mgorman@suse.de>
remote:          Cc: Johannes Weiner <hannes@cmpxchg.org>
remote:          Cc: Yasuaki Ishimatsu <isimatu.yasuaki@jp.fujitsu.com>
remote:          Cc: Zhang Yanfei <zhangyanfei@cn.fujitsu.com>
remote:          Cc: Tang Chen <tangchen@cn.fujitsu.com>
remote:          Cc: Naoya Horiguchi <n-horiguchi@ah.jp.nec.com>
remote:          Cc: Bartlomiej Zolnierkiewicz <b.zolnierkie@samsung.com>
remote:          Cc: Wen Congyang <wency@cn.fujitsu.com>
remote:          Cc: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Cc: Laura Abbott <lauraa@codeaurora.org>
remote:          Cc: Heesub Shin <heesub.shin@samsung.com>
remote:          Cc: "Aneesh Kumar K.V" <aneesh.kumar@linux.vnet.ibm.com>
remote:          Cc: Ritesh Harjani <ritesh.list@gmail.com>
remote:          Cc: Gioh Kim <gioh.kim@lge.com>
remote:          Cc: <stable@vger.kernel.org>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 3e3fcb2934233728948179f01c345efcd36bd7ea)
remote:
remote:      commit 9755d7c23d76d5871d72819b6214de58fa459ae8
remote:      Author: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:      Date:   Thu Nov 13 15:19:11 2014 -0800
remote:
remote:          mm/page_alloc: fix incorrect isolation behavior by rechecking migratetype
remote:
remote:          [Upstream commit ad53f92eb416d81e469fa8ea57153e59455e7175]
remote:
remote:          Before describing bugs itself, I first explain definition of freepage.
remote:
remote:           1. pages on buddy list are counted as freepage.
remote:           2. pages on isolate migratetype buddy list are *not* counted as freepage.
remote:           3. pages on cma buddy list are counted as CMA freepage, too.
remote:
remote:          Now, I describe problems and related patch.
remote:
remote:          Patch 1: There is race conditions on getting pageblock migratetype that
remote:          it results in misplacement of freepages on buddy list, incorrect
remote:          freepage count and un-availability of freepage.
remote:
remote:          Patch 2: Freepages on pcp list could have stale cached information to
remote:          determine migratetype of buddy list to go.  This causes misplacement of
remote:          freepages on buddy list and incorrect freepage count.
remote:
remote:          Patch 4: Merging between freepages on different migratetype of
remote:          pageblocks will cause freepages accouting problem.  This patch fixes it.
remote:
remote:          Without patchset [3], above problem doesn't happens on my CMA allocation
remote:          test, because CMA reserved pages aren't used at all.  So there is no
remote:          chance for above race.
remote:
remote:          With patchset [3], I did simple CMA allocation test and get below
remote:          result:
remote:
remote:           - Virtual machine, 4 cpus, 1024 MB memory, 256 MB CMA reservation
remote:           - run kernel build (make -j16) on background
remote:           - 30 times CMA allocation(8MB * 30 = 240MB) attempts in 5 sec interval
remote:           - Result: more than 5000 freepage count are missed
remote:
remote:          With patchset [3] and this patchset, I found that no freepage count are
remote:          missed so that I conclude that problems are solved.
remote:
remote:          On my simple memory offlining test, these problems also occur on that
remote:          environment, too.
remote:
remote:          This patch (of 4):
remote:
remote:          There are two paths to reach core free function of buddy allocator,
remote:          __free_one_page(), one is free_one_page()->__free_one_page() and the
remote:          other is free_hot_cold_page()->free_pcppages_bulk()->__free_one_page().
remote:          Each paths has race condition causing serious problems.  At first, this
remote:          patch is focused on first type of freepath.  And then, following patch
remote:          will solve the problem in second type of freepath.
remote:
remote:          In the first type of freepath, we got migratetype of freeing page
remote:          without holding the zone lock, so it could be racy.  There are two cases
remote:          of this race.
remote:
remote:           1. pages are added to isolate buddy list after restoring orignal
remote:              migratetype
remote:
remote:              CPU1                                   CPU2
remote:
remote:              get migratetype => return MIGRATE_ISOLATE
remote:              call free_one_page() with MIGRATE_ISOLATE
remote:
remote:                                          grab the zone lock
remote:                                          unisolate pageblock
remote:                                          release the zone lock
remote:
remote:              grab the zone lock
remote:              call __free_one_page() with MIGRATE_ISOLATE
remote:              freepage go into isolate buddy list,
remote:              although pageblock is already unisolated
remote:
remote:          This may cause two problems.  One is that we can't use this page anymore
remote:          until next isolation attempt of this pageblock, because freepage is on
remote:          isolate buddy list.  The other is that freepage accouting could be wrong
remote:          due to merging between different buddy list.  Freepages on isolate buddy
remote:          list aren't counted as freepage, but ones on normal buddy list are
remote:          counted as freepage.  If merge happens, buddy freepage on normal buddy
remote:          list is inevitably moved to isolate buddy list without any consideration
remote:          of freepage accouting so it could be incorrect.
remote:
remote:           2. pages are added to normal buddy list while pageblock is isolated.
remote:              It is similar with above case.
remote:
remote:          This also may cause two problems.  One is that we can't keep these
remote:          freepages from being allocated.  Although this pageblock is isolated,
remote:          freepage would be added to normal buddy list so that it could be
remote:          allocated without any restriction.  And the other problem is same as
remote:          case 1, that it, incorrect freepage accouting.
remote:
remote:          This race condition would be prevented by checking migratetype again
remote:          with holding the zone lock.  Because it is somewhat heavy operation and
remote:          it isn't needed in common case, we want to avoid rechecking as much as
remote:          possible.  So this patch introduce new variable, nr_isolate_pageblock in
remote:          struct zone to check if there is isolated pageblock.  With this, we can
remote:          avoid to re-check migratetype in common case and do it only if there is
remote:          isolated pageblock or migratetype is MIGRATE_ISOLATE.  This solve above
remote:          mentioned problems.
remote:
remote:          Changes from v3:
remote:          Add one more check in free_one_page() that checks whether migratetype is
remote:          MIGRATE_ISOLATE or not. Without this, abovementioned case 1 could happens.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Acked-by: Minchan Kim <minchan@kernel.org>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Acked-by: Vlastimil Babka <vbabka@suse.cz>
remote:          Cc: "Kirill A. Shutemov" <kirill@shutemov.name>
remote:          Cc: Mel Gorman <mgorman@suse.de>
remote:          Cc: Johannes Weiner <hannes@cmpxchg.org>
remote:          Cc: Yasuaki Ishimatsu <isimatu.yasuaki@jp.fujitsu.com>
remote:          Cc: Zhang Yanfei <zhangyanfei@cn.fujitsu.com>
remote:          Cc: Tang Chen <tangchen@cn.fujitsu.com>
remote:          Cc: Naoya Horiguchi <n-horiguchi@ah.jp.nec.com>
remote:          Cc: Bartlomiej Zolnierkiewicz <b.zolnierkie@samsung.com>
remote:          Cc: Wen Congyang <wency@cn.fujitsu.com>
remote:          Cc: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Cc: Laura Abbott <lauraa@codeaurora.org>
remote:          Cc: Heesub Shin <heesub.shin@samsung.com>
remote:          Cc: "Aneesh Kumar K.V" <aneesh.kumar@linux.vnet.ibm.com>
remote:          Cc: Ritesh Harjani <ritesh.list@gmail.com>
remote:          Cc: Gioh Kim <gioh.kim@lge.com>
remote:          Cc: <stable@vger.kernel.org>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          [gregory: minor backport changes for stblinux-3.14 which does not have
remote:          CONFIG_MEMORY_HOTPLUG]
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:          Conflicts:
remote:          	include/linux/mmzone.h
remote:
remote:          (cherry picked from commit 73912deb8a18c2a374eb3b40ad90fb8e84d828fa)
remote:
remote:      commit 2666742c4813427aa43aed5adaafbec4ec31056d
remote:      Author: Mel Gorman <mgorman@suse.de>
remote:      Date:   Wed Jun 4 16:10:17 2014 -0700
remote:
remote:          mm: page_alloc: reduce number of times page_to_pfn is called
remote:
remote:          [Upstream commit dc4b0caff24d9b2918e9f27bc65499ee63187eba]
remote:
remote:          In the free path we calculate page_to_pfn multiple times. Reduce that.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Mel Gorman <mgorman@suse.de>
remote:          Acked-by: Rik van Riel <riel@redhat.com>
remote:          Cc: Johannes Weiner <hannes@cmpxchg.org>
remote:          Acked-by: Vlastimil Babka <vbabka@suse.cz>
remote:          Cc: Jan Kara <jack@suse.cz>
remote:          Cc: Michal Hocko <mhocko@suse.cz>
remote:          Cc: Hugh Dickins <hughd@google.com>
remote:          Cc: Dave Hansen <dave.hansen@intel.com>
remote:          Cc: Theodore Ts'o <tytso@mit.edu>
remote:          Cc: "Paul E. McKenney" <paulmck@linux.vnet.ibm.com>
remote:          Cc: Oleg Nesterov <oleg@redhat.com>
remote:          Cc: Peter Zijlstra <peterz@infradead.org>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit a35116c775d851b777ba9ba458ff5a3cd0ab98e5)
remote:
remote:      commit 24f7e920efe0983a714fc406ce023ff4b88d7fda
remote:      Author: Weijie Yang <weijie.yang@samsung.com>
remote:      Date:   Fri Oct 24 17:47:57 2014 +0800
remote:
remote:          mm, cma: make parameters order consistent in func declaration and definition
remote:
remote:          [Upstream commit dda02fd6278d9e995850b3c1dba484f17cbe4de4]
remote:
remote:          In the current code, the base and size parameters order is not consistent
remote:          in functions declaration and definition. If someone calls these functions
remote:          according to the declaration parameters order in cma.h, he will run into
remote:          some bug and it's hard to find the reason.
remote:
remote:          This patch makes the parameters order consistent in functions declaration
remote:          and definition.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Weijie Yang <weijie.yang@samsung.com>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 9cdadd68a5bd6799c15aa1a9f1b0475b102c3445)
remote:
remote:      commit 043c2ed2a5a11217015a6fce997d00372efc1a04
remote:      Author: Marek Szyprowski <m.szyprowski@samsung.com>
remote:      Date:   Mon Oct 13 15:51:09 2014 -0700
remote:
remote:          drivers: dma-contiguous: add initialization from device tree
remote:
remote:          [Upstream commit de9e14eebf33a60712a52a0bc6e08c043c0aba53]
remote:
remote:          Add a function to create CMA region from previously reserved memory and
remote:          add support for handling 'shared-dma-pool' reserved-memory device tree
remote:          nodes.
remote:
remote:          Based on previous code provided by Josh Cartwright <joshc@codeaurora.org>
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Cc: Arnd Bergmann <arnd@arndb.de>
remote:          Cc: Michal Nazarewicz <mina86@mina86.com>
remote:          Cc: Grant Likely <grant.likely@linaro.org>
remote:          Cc: Laura Abbott <lauraa@codeaurora.org>
remote:          Cc: Josh Cartwright <joshc@codeaurora.org>
remote:          Cc: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Cc: Kyungmin Park <kyungmin.park@samsung.com>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 4e5de077be29c2a5483342bcb5651d3f4c325c1b)
remote:
remote:      commit dc70ef66333eaf9781846c140c52ea6c03defd1e
remote:      Author: Rob Herring <robh@kernel.org>
remote:      Date:   Thu May 8 16:06:17 2014 -0500
remote:
remote:          of: align RESERVEDMEM_OF_DECLARE function callbacks to other callbacks
remote:
remote:          [Upstream commit 9dd3107576c4bbd40e1c2c8b24d560abf9a7b991]
remote:
remote:          All the parameters for RESERVEDMEM_OF_DECLARE function callbacks are
remote:          members of struct reserved_mem, so just pass the struct ptr to callback
remote:          functions so the function callback is more in line with other OF match
remote:          table callbacks.
remote:
remote:          SWLINUX-2786
remote:
remote:          Acked-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Acked-by: Grant Likely <grant.likely@linaro.org>
remote:          Signed-off-by: Rob Herring <robh@kernel.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit d0ea197730a9729756dfee4a41c83668f123b8b6)
remote:
remote:      commit 8c25002ccafe9b106f4063cfcb171943716d8085
remote:      Author: Marek Szyprowski <m.szyprowski@samsung.com>
remote:      Date:   Fri Feb 28 14:42:49 2014 +0100
remote:
remote:          drivers: of: add support for custom reserved memory drivers
remote:
remote:          [Upstream commit f618c4703a14672d27bc2ca5d132a844363d6f5f]
remote:
remote:          Add support for custom reserved memory drivers. Call their init() function
remote:          for each reserved region and prepare for using operations provided by them
remote:          with by the reserved_mem->ops array.
remote:
remote:          Based on previous code provided by Josh Cartwright <joshc@codeaurora.org>
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Signed-off-by: Grant Likely <grant.likely@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit d2e30989a258501e2d52f0e9b41242fbea4c35de)
remote:
remote:      commit 1e2113768e28692464981040fc40dceeca07e511
remote:      Author: Laurent Pinchart <laurent.pinchart+renesas@ideasonboard.com>
remote:      Date:   Fri Oct 24 13:18:42 2014 +0300
remote:
remote:          mm: cma: Use %pa to print physical addresses
remote:
remote:          [Upstream commit 56fa4f609badbe442093409c3d3a051811e54f72]
remote:
remote:          Casting physical addresses to unsigned long and using %lu truncates the
remote:          values on systems where physical addresses are larger than 32 bits. Use
remote:          %pa and get rid of the cast instead.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Laurent Pinchart <laurent.pinchart+renesas@ideasonboard.com>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Acked-by: Geert Uytterhoeven <geert+renesas@glider.be>
remote:          Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 858ba8fdfcbb299e178f070b6657b15ce792e3dd)
remote:
remote:      commit 1ed53a2bf25afc319568a428a4d56814299010ed
remote:      Author: Laurent Pinchart <laurent.pinchart+renesas@ideasonboard.com>
remote:      Date:   Fri Oct 24 13:18:41 2014 +0300
remote:
remote:          mm: cma: Ensure that reservations never cross the low/high mem boundary
remote:
remote:          [Upstream commit 16195ddd4ebcc10c30b2f232f8e400df8d464380]
remote:
remote:          Commit 95b0e655f914 ("ARM: mm: don't limit default CMA region only to
remote:          low memory") extended CMA memory reservation to allow usage of high
remote:          memory. It relied on commit f7426b983a6a ("mm: cma: adjust address limit
remote:          to avoid hitting low/high memory boundary") to ensure that the reserved
remote:          block never crossed the low/high memory boundary. While the
remote:          implementation correctly lowered the limit, it failed to consider the
remote:          case where the base..limit range crossed the low/high memory boundary
remote:          with enough space on each side to reserve the requested size on either
remote:          low or high memory.
remote:
remote:          Rework the base and limit adjustment to fix the problem. The function
remote:          now starts by rejecting the reservation altogether for fixed
remote:          reservations that cross the boundary, tries to reserve from high memory
remote:          first and then falls back to low memory.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Laurent Pinchart <laurent.pinchart+renesas@ideasonboard.com>
remote:          Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 20ed5aedc85a032c8d0e3fbacd4ca16e3309394c)
remote:
remote:      commit 4280b639e0fcf046809fd29b3262ac05cc7a6c21
remote:      Author: Laurent Pinchart <laurent.pinchart+renesas@ideasonboard.com>
remote:      Date:   Fri Oct 24 13:18:40 2014 +0300
remote:
remote:          mm: cma: Always consider a 0 base address reservation as dynamic
remote:
remote:          [Upstream commit 800a85d3d286604b8c539ca7ee90b992316fd2a7]
remote:
remote:          The fixed parameter to cma_declare_contiguous() tells the function
remote:          whether the given base address must be honoured or should be considered
remote:          as a hint only. The API considers a zero base address as meaning any
remote:          base address, which must never be considered as a fixed value.
remote:
remote:          Part of the implementation correctly checks both fixed and base != 0,
remote:          but two locations check the fixed value only. Set fixed to false when
remote:          base is 0 to fix that and simplify the code.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Laurent Pinchart <laurent.pinchart+renesas@ideasonboard.com>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit db6b5f24fdbc8d565010003ce70db9877d92ba27)
remote:
remote:      commit 1a486b3ec5880fa4a7fa6512ec6810ed7fba1927
remote:      Author: Laurent Pinchart <laurent.pinchart+renesas@ideasonboard.com>
remote:      Date:   Fri Oct 24 13:18:39 2014 +0300
remote:
remote:          mm: cma: Don't crash on allocation if CMA area can't be activated
remote:
remote:          [Upstream commit f022d8cb7ec70fe8edd56383d876001317ee76b1]
remote:
remote:          If activation of the CMA area fails its mutex won't be initialized,
remote:          leading to an oops at allocation time when trying to lock the mutex. Fix
remote:          this by setting the cma area count field to 0 when activation fails,
remote:          leading to allocation returning NULL immediately.
remote:
remote:          SWLINUX-2786
remote:
remote:          Cc: <stable@vger.kernel.org>  # v3.17
remote:          Signed-off-by: Laurent Pinchart <laurent.pinchart+renesas@ideasonboard.com>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit c5a36cb40607750a565c4223d9aaef1dfa6036b9)
remote:
remote:      commit ea4832f85e1ad0929c7583af738dbe2a49efa6f0
remote:      Author: Weijie Yang <weijie.yang@samsung.com>
remote:      Date:   Mon Oct 13 15:51:03 2014 -0700
remote:
remote:          mm/cma: fix cma bitmap aligned mask computing
remote:
remote:          [Upstream commit 68faed630fc151a7a1c4853df00fb3dcacf782b4]
remote:
remote:          The current cma bitmap aligned mask computation is incorrect.  It could
remote:          cause an unexpected alignment when using cma_alloc() if the wanted align
remote:          order is larger than cma->order_per_bit.
remote:
remote:          Take kvm for example (PAGE_SHIFT = 12), kvm_cma->order_per_bit is set to
remote:          6.  When kvm_alloc_rma() tries to alloc kvm_rma_pages, it will use 15 as
remote:          the expected align value.  After using the current implementation however,
remote:          we get 0 as cma bitmap aligned mask other than 511.
remote:
remote:          This patch fixes the cma bitmap aligned mask calculation.
remote:
remote:          SWLINUX-2786
remote:
remote:          [akpm@linux-foundation.org: coding-style fixes]
remote:          Signed-off-by: Weijie Yang <weijie.yang@samsung.com>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Cc: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Cc: "Aneesh Kumar K.V" <aneesh.kumar@linux.vnet.ibm.com>
remote:          Cc: <stable@vger.kernel.org>	[3.17]
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:          (cherry picked from commit 1f5fe3e4da6f752a16661f073ba29b828c534a2f)
remote:
remote:      commit f7353506ed034fa1a5e5fd20087d394b04d1d02f
remote:      Author: Jean Delvare <jdelvare@suse.de>
remote:      Date:   Thu Oct 9 15:29:41 2014 -0700
remote:
remote:          CMA: document cma=0
remote:
remote:          [Upstream commit f0d6d1f6ff6f8525cfa396ec1969b8f402391445]
remote:
remote:          It isn't obvious that CMA can be disabled on the kernel's command line, so
remote:          document it.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Jean Delvare <jdelvare@suse.de>
remote:          Cc: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Cc: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
remote:          Cc: Akinobu Mita <akinobu.mita@gmail.com>
remote:          Cc: Chuck Ebbert <cebbert.lkml@gmail.com>
remote:          Cc: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Cc: Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit bb032b1461faf2a87f653a0ca2d9658ceb9b8a37)
remote:
remote:      commit e800270cbef5f5375ac8fa6ba79b02f9ae924c08
remote:      Author: Marek Szyprowski <m.szyprowski@samsung.com>
remote:      Date:   Thu Oct 9 15:26:47 2014 -0700
remote:
remote:          mm: cma: adjust address limit to avoid hitting low/high memory boundary
remote:
remote:          [Upstream commit f7426b983a6a353cf21e5733e84458219c4a817e]
remote:
remote:          Russell King recently noticed that limiting default CMA region only to low
remote:          memory on ARM architecture causes serious memory management issues with
remote:          machines having a lot of memory (which is mainly available as high
remote:          memory).  More information can be found the following thread:
remote:          http://thread.gmane.org/gmane.linux.ports.arm.kernel/348441/
remote:
remote:          Those two patches removes this limit letting kernel to put default CMA
remote:          region into high memory when this is possible (there is enough high memory
remote:          available and architecture specific DMA limit fits).
remote:
remote:          This should solve strange OOM issues on systems with lots of RAM (i.e.
remote:          >1GiB) and large (>256M) CMA area.
remote:
remote:          This patch (of 2):
remote:
remote:          Automatically allocated regions should not cross low/high memory boundary,
remote:          because such regions cannot be later correctly initialized due to spanning
remote:          across two memory zones.  This patch adds a check for this case and a
remote:          simple code for moving region to low memory if automatically selected
remote:          address might not fit completely into high memory.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Cc: Daniel Drake <drake@endlessm.com>
remote:          Cc: Minchan Kim <minchan@kernel.org>
remote:          Cc: Russell King <rmk@arm.linux.org.uk>
remote:          Cc: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 001476fa34fe9be8961869dd1a3605c06c59a3c3)
remote:
remote:      commit 89b1f17de5033087bb8d76daf80b516bf86cc4bf
remote:      Author: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:      Date:   Wed Aug 6 16:05:34 2014 -0700
remote:
remote:          mm, CMA: clean-up log message
remote:
remote:          [Upstream commit 0de9d2ebe590f9203dac59d4b8e298c473764b92]
remote:
remote:          We don't need explicit 'CMA:' prefix, since we already define prefix
remote:          'cma:' in pr_fmt.  So remove it.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Reviewed-by: Zhang Yanfei <zhangyanfei@cn.fujitsu.com>
remote:          Cc: "Aneesh Kumar K.V" <aneesh.kumar@linux.vnet.ibm.com>
remote:          Cc: Alexander Graf <agraf@suse.de>
remote:          Cc: Aneesh Kumar K.V <aneesh.kumar@linux.vnet.ibm.com>
remote:          Cc: Gleb Natapov <gleb@kernel.org>
remote:          Acked-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Tested-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Cc: Minchan Kim <minchan@kernel.org>
remote:          Cc: Paolo Bonzini <pbonzini@redhat.com>
remote:          Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
remote:          Cc: Paul Mackerras <paulus@samba.org>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 2a43c6796e88f0fd5f6ca2007d8d72851a293be9)
remote:
remote:      commit 415968b4659bc73535083dffd4b36203677c67ee
remote:      Author: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:      Date:   Wed Aug 6 16:05:32 2014 -0700
remote:
remote:          mm, CMA: change cma_declare_contiguous() to obey coding convention
remote:
remote:          [Upstream commit c1f733aaaf30a0068a3126d5aa9d5b4c25ba4c0c]
remote:
remote:          Conventionally, we put output param to the end of param list and put the
remote:          'base' ahead of 'size', but cma_declare_contiguous() doesn't look like
remote:          that, so change it.
remote:
remote:          Additionally, move down cma_areas reference code to the position where
remote:          it is really needed.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Reviewed-by: Aneesh Kumar K.V <aneesh.kumar@linux.vnet.ibm.com>
remote:          Cc: Alexander Graf <agraf@suse.de>
remote:          Cc: Aneesh Kumar K.V <aneesh.kumar@linux.vnet.ibm.com>
remote:          Cc: Gleb Natapov <gleb@kernel.org>
remote:          Acked-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Tested-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Cc: Minchan Kim <minchan@kernel.org>
remote:          Cc: Paolo Bonzini <pbonzini@redhat.com>
remote:          Cc: Zhang Yanfei <zhangyanfei@cn.fujitsu.com>
remote:          Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
remote:          Cc: Paul Mackerras <paulus@samba.org>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          [gregory: I didn't check very carefully whether the change to
remote:          resolve the conflict in arch/powerpc/kvm/book3s_hv_builtin.c is okay because we
remote:          don't use it]
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:          Conflicts:
remote:          	arch/powerpc/kvm/book3s_hv_builtin.c
remote:
remote:          (cherry picked from commit df085ec0e7089a191ad7e1f58c4b880f53c6c30d)
remote:
remote:      commit 60dc2c500e3c476bdea6226ff296b75cd6a0ebab
remote:      Author: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:      Date:   Wed Aug 6 16:05:30 2014 -0700
remote:
remote:          mm, CMA: clean-up CMA allocation error path
remote:
remote:          [Upstream commit b7155e76a702d97553660828347b9f10858b4dd5]
remote:
remote:          We can remove one call sites for clear_cma_bitmap() if we first call it
remote:          before checking error number.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Acked-by: Minchan Kim <minchan@kernel.org>
remote:          Reviewed-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Reviewed-by: Zhang Yanfei <zhangyanfei@cn.fujitsu.com>
remote:          Reviewed-by: Aneesh Kumar K.V <aneesh.kumar@linux.vnet.ibm.com>
remote:          Cc: Alexander Graf <agraf@suse.de>
remote:          Cc: Aneesh Kumar K.V <aneesh.kumar@linux.vnet.ibm.com>
remote:          Cc: Gleb Natapov <gleb@kernel.org>
remote:          Acked-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Tested-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Cc: Paolo Bonzini <pbonzini@redhat.com>
remote:          Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
remote:          Cc: Paul Mackerras <paulus@samba.org>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit bbac9e42e8195976eac07690d2657cf4344d4174)
remote:
remote:      commit 224aa0cca1ac1d2cdabf9a3247e2d9c77d398fde
remote:      Author: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:      Date:   Wed Aug 6 16:05:25 2014 -0700
remote:
remote:          CMA: generalize CMA reserved area management functionality
remote:
remote:          [Upstream commit a254129e8686bff7a340b58f35241b04927e81c0]
remote:
remote:          Currently, there are two users on CMA functionality, one is the DMA
remote:          subsystem and the other is the KVM on powerpc.  They have their own code
remote:          to manage CMA reserved area even if they looks really similar.  From my
remote:          guess, it is caused by some needs on bitmap management.  KVM side wants
remote:          to maintain bitmap not for 1 page, but for more size.  Eventually it use
remote:          bitmap where one bit represents 64 pages.
remote:
remote:          When I implement CMA related patches, I should change those two places
remote:          to apply my change and it seem to be painful to me.  I want to change
remote:          this situation and reduce future code management overhead through this
remote:          patch.
remote:
remote:          This change could also help developer who want to use CMA in their new
remote:          feature development, since they can use CMA easily without copying &
remote:          pasting this reserved area management code.
remote:
remote:          In previous patches, we have prepared some features to generalize CMA
remote:          reserved area management and now it's time to do it.  This patch moves
remote:          core functions to mm/cma.c and change DMA APIs to use these functions.
remote:
remote:          There is no functional change in DMA APIs.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Acked-by: Zhang Yanfei <zhangyanfei@cn.fujitsu.com>
remote:          Acked-by: Minchan Kim <minchan@kernel.org>
remote:          Reviewed-by: Aneesh Kumar K.V <aneesh.kumar@linux.vnet.ibm.com>
remote:          Cc: Alexander Graf <agraf@suse.de>
remote:          Cc: Aneesh Kumar K.V <aneesh.kumar@linux.vnet.ibm.com>
remote:          Cc: Gleb Natapov <gleb@kernel.org>
remote:          Acked-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Tested-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Cc: Paolo Bonzini <pbonzini@redhat.com>
remote:          Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
remote:          Cc: Paul Mackerras <paulus@samba.org>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          [gregory: backport to stblinux-3.14, which exports struct cma from header]
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:          Conflicts:
remote:          	drivers/base/dma-contiguous.c
remote:          	include/linux/dma-contiguous.h
remote:          	mm/Makefile
remote:
remote:          (cherry picked from commit 20f856ba533003aa8eab7518c2a401706ef428cd)
remote:
remote:      commit 0d154ea25a34877b522fff9fe5d34811896afa73
remote:      Author: Akinobu Mita <akinobu.mita@gmail.com>
remote:      Date:   Wed Jun 4 16:06:54 2014 -0700
remote:
remote:          cma: add placement specifier for "cma=" kernel parameter
remote:
remote:          [Upstream commit 5ea3b1b2f8ad9162684431ce6188102ca4c64b7a]
remote:
remote:          Currently, "cma=" kernel parameter is used to specify the size of CMA,
remote:          but we can't specify where it is located.  We want to locate CMA below
remote:          4GB for devices only supporting 32-bit addressing on 64-bit systems
remote:          without iommu.
remote:
remote:          This enables to specify the placement of CMA by extending "cma=" kernel
remote:          parameter.
remote:
remote:          Examples:
remote:           1. locate 64MB CMA below 4GB by "cma=64M@0-4G"
remote:           2. locate 64MB CMA exact at 512MB by "cma=64M@512M"
remote:
remote:          Note that the DMA contiguous memory allocator on x86 assumes that
remote:          page_address() works for the pages to allocate.  So this change requires
remote:          to limit end address of contiguous memory area upto max_pfn_mapped to
remote:          prevent from locating it on highmem area by the argument of
remote:          dma_contiguous_reserve().
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Akinobu Mita <akinobu.mita@gmail.com>
remote:          Cc: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Cc: Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>
remote:          Cc: David Woodhouse <dwmw2@infradead.org>
remote:          Cc: Don Dutile <ddutile@redhat.com>
remote:          Cc: Thomas Gleixner <tglx@linutronix.de>
remote:          Cc: Ingo Molnar <mingo@redhat.com>
remote:          Cc: "H. Peter Anvin" <hpa@zytor.com>
remote:          Cc: Andi Kleen <andi@firstfloor.org>
remote:          Cc: Yinghai Lu <yinghai@kernel.org>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit aaf796cbee20054039e2171c1dd2972a45d78a4f)
remote:
remote:      commit 8620f7c3f79b6126b52a99d4f6bbc293e3a1ba8b
remote:      Author: Akinobu Mita <akinobu.mita@gmail.com>
remote:      Date:   Wed Jun 4 16:06:53 2014 -0700
remote:
remote:          memblock: introduce memblock_alloc_range()
remote:
remote:          [Upstream commit 2bfc2862c4fe38379a2fb2cfba33fad32ccb4ff4]
remote:
remote:          This introduces memblock_alloc_range() which allocates memblock from the
remote:          specified range of physical address.  I would like to use this function
remote:          to specify the location of CMA.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Akinobu Mita <akinobu.mita@gmail.com>
remote:          Cc: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Cc: Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>
remote:          Cc: David Woodhouse <dwmw2@infradead.org>
remote:          Cc: Don Dutile <ddutile@redhat.com>
remote:          Cc: Thomas Gleixner <tglx@linutronix.de>
remote:          Cc: Ingo Molnar <mingo@redhat.com>
remote:          Cc: "H. Peter Anvin" <hpa@zytor.com>
remote:          Cc: Andi Kleen <andi@firstfloor.org>
remote:          Cc: Yinghai Lu <yinghai@kernel.org>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          (cherry picked from commit 17615d567c0e8d8bfed76c00602c55a21aa284f9)
remote:
remote:      commit 956d08d30d47acb602d6dcfb77dab3782147a646
remote:      Author: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:      Date:   Thu May 29 15:29:18 2014 +0900
remote:
remote:          CMA: correct unlock target
remote:
remote:          [Upstream commit f70e3c4f8b6ab61f713e040822ec51f5de498146]
remote:
remote:          'cma: Remove potential deadlock situation' introduces per cma area mutex
remote:          for bitmap management. It is good, but there is one mistake. When we
remote:          can't find appropriate area in bitmap, we release cma_mutex global lock
remote:          rather than cma->lock and this is a bug. So fix it.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 8778038de5acbb9eae2fac0e08a6aedcdb697e78)
remote:
remote:      commit 9cc399a97e3d3573ff4c2e4d0984631735f5fdf9
remote:      Author: Gioh Kim <gioh.kim@lge.com>
remote:      Date:   Thu May 22 13:31:37 2014 +0900
remote:
remote:          drivers/base/dma-contiguous.c: erratum of dev_get_cma_area
remote:
remote:          [Upstream commit bb56d0dc23aa3428c0b1901414bfcf698eb693fb]
remote:
remote:          fix erratum get_dev_cma_area into dev_get_cma_area
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Gioh Kim <gioh.kim@lge.com>
remote:          Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 6cf2b5a3c4fa83edf1d3f5e132324a4ee26c9ff9)
remote:
remote:      commit 9df3c5b6902b324913490086d53c528f9cd46452
remote:      Author: Gioh Kim <gioh.kim@lge.com>
remote:      Date:   Thu May 22 13:38:23 2014 +0900
remote:
remote:          arm: dma-mapping: add checking cma area initialized
remote:
remote:          [Upstream commit e464ef16c4f080bb85ccf9085f92503b5b5b1e13]
remote:
remote:          If CMA is turned on and CMA size is set to zero, kernel should
remote:          behave as if CMA was not enabled at compile time.
remote:          Every dma allocation should check existence of cma area
remote:          before requesting memory.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Gioh Kim <gioh.kim@lge.com>
remote:          Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          [mszyprow: removed redundant empty line from the patch]
remote:          Signed-off-by: <m.szyprowski@samsung.com>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:          (cherry picked from commit 3812bdd1822616ad9cd2db39a616e82a2fe4b51c)
remote:
remote:      commit 4e7b27b84e2801d025e365c25eb64cd331af241b
remote:      Author: Laura Abbott <lauraa@codeaurora.org>
remote:      Date:   Tue Feb 25 11:01:19 2014 -0800
remote:
remote:          cma: Remove potential deadlock situation
remote:
remote:          [Upstream commit 7ee793a62fa8c544f8b844e6e87b2d8e8836b219]
remote:
remote:          CMA locking is currently very coarse. The cma_mutex protects both
remote:          the bitmap and avoids concurrency with alloc_contig_range. There
remote:          are several situations which may result in a deadlock on the CMA
remote:          mutex currently, mostly involving AB/BA situations with alloc and
remote:          free. Fix this issue by protecting the bitmap with a mutex per CMA
remote:          region and use the existing mutex for protecting against concurrency
remote:          with alloc_contig_range.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Laura Abbott <lauraa@codeaurora.org>
remote:          Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          [gregory: Since we export struct cma right now, had to update that in
remote:          dma-contiguous.h instead]
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:          Conflicts:
remote:          	drivers/base/dma-contiguous.c
remote:
remote:          (cherry picked from commit 248f48124788878b809819a5cecb3e43af104b9c)
remote:
remote:      commit 4e62040380be14e6c5c09a7abc45bcaf9e807b46
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Fri Jan 30 12:07:46 2015 -0800
remote:
remote:          brcmstb_defconfig: add Intel PowerClamp driver
remote:
remote:          We may be using this for thermally-contrained applications. Let's enable
remote:          it by default so it's easier for people to test.
remote:
remote:          SWLINUX-3288
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 8d6ff5f6ad1a3ed1242a3f2bd467d30f17446cc9)
remote:
remote:      commit 192a56eee156586b862f49c91e07192db1775bac
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Fri Jan 30 12:01:48 2015 -0800
remote:
remote:          Documentation: devicetree: add bindings doc for AVS TMON HW
remote:
remote:          Notably, the interrupt is not yet used, but let's document it, since
remote:          it's in BOLT, and I have test code using it.
remote:
remote:          SWLINUX-3288
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit ff43d89f747b9196da3adced6e45d386d97fcce4)
remote:
remote:      commit 1e8fa1ef0cd1460beda205b436a43c30e00f401b
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Thu Jan 29 16:14:47 2015 -0800
remote:
remote:          tools/thermal: add --target-temp parameter to 'tmon' tool
remote:
remote:          If we launch in daemon mode (--daemon), we don't have the ncurses UI,
remote:          but we might want to set the target temperature still. For example,
remote:          someone might stick the following in their boot script:
remote:
remote:            tmon --control intel_powerclamp --target-temp 90 --log --daemon
remote:
remote:          This would turn on CPU idle injection when we're around 90 degrees
remote:          celsius, and would log temperature and throttling info to
remote:          /var/tmp/tmon.log.
remote:
remote:          SWLINUX-3288
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 68f6c879b5e54477128b341d83a2d3a2d9e0795b)
remote:
remote:      commit c0d5bef4a31813a4ee427cdb76515b7788d8bc51
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jan 26 17:35:04 2015 -0800
remote:
remote:          tools/thermal: add build system 'makefile'
remote:
remote:          Hooks tmon into our uclinux-rootfs build system by supplying a 'makefile' which
remote:          runs before the original 'Makefile'.
remote:
remote:          SWLINUX-3288
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 5b3f511429b67cf7e460f7872bc5cb878013a893)
remote:
remote:      commit 9ee3a42016586ee487b58bbf3b1cbe861fae903e
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jan 26 17:34:20 2015 -0800
remote:
remote:          tools/thermal: allow switching between ncurses and ncursesw
remote:
remote:          Factor the libraries in TMON_LIBS and allow an external Makefile to specify
remote:          whether we would want to use ncursesw or ncurses.
remote:
remote:          SWLINUX-3288
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 0c843520856747b83a7ea7c97047639cb959d1c6)
remote:
remote:      commit 345540a0de3db14a9681b92155807a5865ff08a6
remote:      Author: Jonghwa Lee <jonghwa3.lee@samsung.com>
remote:      Date:   Mon Dec 22 17:49:09 2014 -0800
remote:
remote:          thermal: powerclamp: Add support for ARM machine to powerclamp driver.
remote:
remote:          This patch modifies intel_powerclamp driver can be used in not only x86
remote:          but also ARM. Any ARM system can use intel_powerclamp driver for managing
remote:          thermal problem through injecting intentional idle cycle. The required
remote:          modification is only that it replaces x86's instruction, mwait, with arm
remote:          specific one, wfi and changes the way of calculation of idle rate of last
remote:          window. Other algorithm and codes can be shared without any amendment.
remote:
remote:          Signed-off-by: Jonghwa Lee <jonghwa3.lee@samsung.com>
remote:          Signed-off-by: Myungjoo Ham <myungjoo.ham@samsung.com>
remote:
remote:          Notes from Brian:
remote:
remote:          Pulled from http://marc.info/?l=linux-pm&m=137474779032661
remote:
remote:          Applied with small warning fixes. Note that there is some upstream
remote:          discussion about revamping this driver significantly. Not sure if we
remote:          want to enable this by default.
remote:
remote:          SWLINUX-3288
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 4c1d2a761e5877a1809bc4cd94b15a04b1420a10)
remote:
remote:      commit dc903d467c7ab5b593a7316a0fab8161f01c0a12
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Dec 15 17:41:30 2014 -0800
remote:
remote:          thermal: add brcmstb AVS TMON driver
remote:
remote:          Working for basic temperature reads. Trip points and interrupt handling
remote:          will be added later, once we determine the best method for representing
remote:          them.
remote:
remote:          SWLINUX-3288
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 6a85fe8b6434b4876bbf901615a76c938b4e6526)
remote:
remote:      commit 4a52346c821ce1eb87c2ab8679e35ba680392e02
remote:      Author: Tim Ross <tross@broadcom.com>
remote:      Date:   Mon May 23 17:34:47 2016 -0400
remote:
remote:          SWRGROUTER-4730: PM: Linux powers itself off after boot on DCM boards
remote:
remote:          Override BMU power state on DCM & PHYDVT boards because BMU reports
remote:          incorrect state.
remote:
remote:          SWRGROUTER-4730
remote:
remote:      commit 7d70446dd2dc822376a45eb1d9842e84da3849cd
remote:      Author: Chris Zacker <czacker@cm-irv-1.irv.broadcom.com>
remote:      Date:   Fri May 20 11:10:46 2016 -0700
remote:
remote:          Throughput is only 80 Mbps on a 100 Mbps link
remote:
remote:          The pause registers were not getting setup for the IMP port so that if a cpe
remote:          was connected to a lan port at lower speed we would end up dropping packets
remote:          and getting lower throughput. Enabled the PAUSE register like it was in ecos
remote:          and the problem was fixed.
remote:
remote:          SWRGROUTER-3894
remote:
remote:      commit 6988eb285efca8094c4f0d4bdd9eb210937e68ae
remote:      Author: Chris Zacker <czacker@cm-irv-1.irv.broadcom.com>
remote:      Date:   Fri May 20 11:01:29 2016 -0700
remote:
remote:          CPE 192.168.0.x via ethernet can not ping each other
remote:
remote:          Make sure switch chip has defaults settings for lan ports being able to
remote:          communicate between other ports
remote:
remote:          SWRGROUTER-4654
remote:
remote:      commit 26213c5d897b429980f7512d60ac75db419bc159
remote:      Author: Tim Ross <tross@broadcom.com>
remote:      Date:   Fri May 20 09:42:50 2016 -0400
remote:
remote:          SWRGROUTER-4697: Battery: Linux fails to set battery_mode_rules after CM comes up
remote:
remote:          Only look at current battery state and not the state it was in when it started booting.
remote:
remote:          SWRGROUTER-4697
remote:
remote:      commit 8a72a5d5bc57ad334415254c0ea94e0c06c5b853
remote:      Author: Steven Kern <skern@broadcom.com>
remote:      Date:   Thu Apr 28 15:53:51 2016 -0400
remote:
remote:          SWRGROUTER-4679: Battery: Modem rebooted after a crash while in batteryi
remote:          mode with wrong power state and RG not shutdown
remote:
remote:          Add support for 3390B0 DDR phy to PM driver.
remote:          Enable access to all ARM CPU owned MBOX registers and L2 IRQ registers.
remote:
remote:          SWRGROUTER-4679
remote:
remote:          (cherry picked from commit b60c0ed5a85723f833ccaa3c8f4955dd862da23f)
remote:
remote:      commit 43519f8ed22ae2fde0bf8ba3ee8a456da718f4be
remote:      Author: Russell Enderby <enderby@lc-atl-221.atl.broadcom.com>
remote:      Date:   Tue May 17 10:39:12 2016 -0400
remote:
remote:          SWRGROUTER-4519:Add SPI driver for external Zigbee on 3390
remote:
remote:          Added SPI master driver for MSPI SPI block.
remote:
remote:          SWRGROUTER-4519
remote:
remote:      commit be9d4ac16034ded11a69ece02354db7c0c0bd08f
remote:      Merge: a4ab5f0 894a0c4
remote:      Author: Chris Zacker <czacker@cm-irv-1.irv.broadcom.com>
remote:      Date:   Tue May 17 07:27:38 2016 -0700
remote:
remote:          CPE 192.168.0.x via ethernet can not ping each other
remote:
remote:          SWRGROUTER-4654
remote:
remote:          Merge branch 'develop' of git-irv-08.irv.broadcom.com:gitRepo/erouter-linux-314 into develop
remote:
remote:      commit a4ab5f014b7a1ea2414cebdf85353d5624144a3e
remote:      Author: Chris Zacker <czacker@cm-irv-1.irv.broadcom.com>
remote:      Date:   Tue May 17 06:16:18 2016 -0700
remote:
remote:          CPE 192.168.0.x via ethernet can not ping each other
remote:
remote:          SWRGROUTER-4654
remote:
remote:      commit ad71071531fca56f5e96333c86670a12ddbed32a
remote:      Author: Chris Zacker <czacker@cm-irv-1.irv.broadcom.com>
remote:      Date:   Mon May 16 13:23:47 2016 -0700
remote:
remote:          CPE 192.168.0.x via ethernet can not ping each other
remote:
remote:          SWRGROUTER-4654
remote:
remote:      commit 894a0c44c1881443ee7372eeb801ebc055e24c8e
remote:      Author: Arti Katre <akatre@broadcom.com>
remote:      Date:   Thu May 12 14:23:52 2016 -0700
remote:
remote:          WiFi: "FPM Pool 0: pool full" errors while running concurrent traffic
remote:          through both wifi radios.
remote:
remote:          Updated console print message for FPM pool full interrupt.
remote:
remote:          SWRGROUTER-4337
remote:
remote:      commit fe75d04fe99aea99cc1848fa5f9150d4477c042c
remote:      Author: Peter Timariu <ptimariu@broadcom.com>
remote:      Date:   Thu May 12 09:55:50 2016 -0700
remote:
remote:          SWRGROUTER-4133: WiFi performance optimizations
remote:
remote:          Various TP optimizations for DHD/4366 3390 platforms:
remote:
remote:          - integrated interrupt coalescence for CPU utilization
remote:          - added PACKET_BUDGET batching of DQM reads in TX direction.
remote:          - tweaked structures for Cache line optimizations.
remote:          - added Branch prediction hints in DHD shim.
remote:          - additional inlining and BCM_FASTPATH additions.
remote:          - switched back to KTHREAD from tasklets in 3390
remote:          - introduced BUZZZ profiling framework in data path
remote:          - resolved WiFi: "FPM Pool 0: pool full" errors while running concurrent traffic
remote:          through both wifi radios.
remote:
remote:          Resolved Conflicts:
remote:          	arch/arm/boot/dts/rg.3390-base.dtsi
remote:
remote:          SWRGROUTER-4133
remote:
remote:      commit 8061ef106a5e5ef160a1d26450a9f0a4e6609e63
remote:      Author: Mark Newcomer <newcomer@broadcom.com>
remote:      Date:   Fri May 6 12:38:32 2016 -0700
remote:
remote:          SWRGROUTER-4162: MoCA fails to boot and has silent assertions
remote:
remote:          Since not all hardware and usage cases for 3384 platforms support usage
remote:          of a hardware interrupt, a polling mode has been added to poll for IRQ
remote:          status. This is timer based, and adjust polling frequency based on the
remote:          amount of speed needed for IRQ response. Polling mode is enabled by commenting
remote:          out the interrupt nodes in the bmoca device tree node.
remote:
remote:          SWRGROUTER-4162
remote:
remote:      commit 71ba95da7832a7bca0a76c12b963197830af42ef
remote:      Author: Mark Newcomer <newcomer@broadcom.com>
remote:      Date:   Wed May 4 13:45:47 2016 -0700
remote:
remote:          SWRGROUTER-4040: 3384/33843 performance with RGLinux is worse than eCos during long term traffic testing
remote:
remote:          Fixed build error introduced in previous commit.
remote:
remote:          SWRGROUTER-4040
remote:
remote:      commit 8848a6987df78aca07e03f6e33ac0d5bea12f71d
remote:      Author: Mark Newcomer <newcomer@broadcom.com>
remote:      Date:   Wed May 4 13:13:15 2016 -0700
remote:
remote:          SWRGROUTER-4040: 3384/33843 performance with RGLinux is worse than eCos during long term traffic testing
remote:
remote:          The UNIMAC MBDMA transmit channels were not being set up to optimally use
remote:          the UBUS multiple outstanding request feature. This feature allows the DMA
remote:          port to make multiple UBUS request at once. This was causing DMA transfers
remote:          to not be as fast as they could be and was affecting performance. This setting
remote:          has now been bumped to 4 outstanding requests.
remote:
remote:          SWRGROUTER-4040
remote:
remote:      commit 8adbc9ff6a393b62e35676040981985af19a9a2b
remote:      Author: Peter Sulc <petersu@broadcom.com>
remote:      Date:   Fri Apr 22 17:23:42 2016 -0400
remote:
remote:          SWRGROUTER-4215: Watchdog needs to have the option of setting nowayout at runtime.
remote:
remote:          SWRGROUTER-4215
remote:
remote:      commit 51243727b527e8dc1a39118b246b81d8d48ff139
remote:      Author: Jayesh Patel <jayeshp@broadcom.com>
remote:      Date:   Tue Apr 26 09:07:37 2016 -0400
remote:
remote:          SWRGROUTER-4485 3390: CLAB-GRE has endianness issue and is not working for 3390
remote:
remote:          Fixed endianness issue in removing vlan tag logic.
remote:
remote:          SWRGROUTER-4485
remote:
remote:      commit 201a6b35f78673a15b9f4481bbd2794739c1c2db
remote:      Author: Tyler White <twhite@cm-irv-1.irv.broadcom.com>
remote:      Date:   Thu Apr 21 12:39:24 2016 -0700
remote:
remote:          SWRGROUTER-3972: Community WiFi/L2oGRE
remote:
remote:          Added wlhhs to wlan Makefile, corrected call to wl assoclist,
remote:          fixed some errors in  netfilter ebt_dhcpsnoop module so that Agent Relay
remote:          DHCP option was inserted correctly into outgoing DHCP requests.
remote:
remote:          SWRGROUTER-3972
remote:
remote:      commit eabc1f7b77f33ad66a833c4708460a746c279c40
remote:      Author: Steve Muller <smuller@broadcom.com>
remote:      Date:   Mon Apr 18 14:10:56 2016 -0700
remote:
remote:          WiFi: Read WBID from WiFi daughter cards to load and insmod the correct WiFi driver
remote:
remote:          Now checking the WBID via I2c to determine the daughter card type and wifi cards associated with it.
remote:
remote:          SWRGROUTER-4152
remote:
remote:      commit da4995a6c10ec091b882c8153021254b0bbd3728
remote:      Author: Sandep Nanda <snanda@broadcom.com>
remote:      Date:   Mon Apr 18 11:30:37 2016 -0700
remote:
remote:          WiFi: use the correct assertlevel in the device tree for WPS pushbutton and LED
remote:
remote:          SWRGROUTER-4395
remote:
remote:      commit 1666b0ede1e5046f65b01f80240c4096ac356b6a
remote:      Author: Yanhai Han <yanhaih@broadcom.com>
remote:      Date:   Thu Apr 14 10:11:56 2016 +0800
remote:
remote:          SWRGROUTER-4389: Move kernel module nf_defrag_ipv6_notrack
remote:
remote:          Move nf_defrag_ipv6_notrack to drivers/bcm_media_gw/netfilter directory
remote:          and fix file header.Also when module is loaded/unloaded dump module
remote:          info (with name) to the console.
remote:
remote:          SWRGROUTER-4389
remote:
remote:      commit ebbc8a46a965ae9c693be52d92524db5efb79b5f
remote:      Author: Tim Ross <tross@broadcom.com>
remote:      Date:   Wed Apr 13 09:58:29 2016 -0400
remote:
remote:          SWRGROUTER-4384: DQM: Add interrupt coalescing support
remote:
remote:          Add back support for 4 column Q allocation table to fix problem with 3390A2.
remote:
remote:          SWRGROUTER-4384
remote:
remote:      commit a4a448333cbf7fb60df16d71dcec5ac33b6e24c8
remote:      Author: Tim Ross <tross@broadcom.com>
remote:      Date:   Thu Apr 7 16:31:34 2016 -0400
remote:
remote:          SWRGROUTER-4384: DQM: Add interrupt coalescing support
remote:
remote:          Update SW license comments.
remote:
remote:          SWRGROUTER-4384
remote:
remote:      commit 31a3936fc66115684b20a477360ed9020a5f19d0
remote:      Author: Tim Ross <tross@broadcom.com>
remote:      Date:   Thu Apr 7 15:40:26 2016 -0400
remote:
remote:          SWRGROUTER-4384: DQM: Add interrupt coalescing support
remote:
remote:          Add support for HWM and timer interrupts from DQM's that support them.
remote:          Add support to DT and driver to specifiy LWM, HWM, and timeouts for each DQM.
remote:
remote:          SWRGROUTER-4384
remote:
remote:      commit 5ff3e44c10799fca2e9a3962e6d980993f21373a
remote:      Author: Jayesh Patel <jayeshp@broadcom.com>
remote:      Date:   Mon Apr 4 17:50:57 2016 -0400
remote:
remote:          SWRGROUTER-4362 - Runner: Upgrade to release 1.4
remote:
remote:          Support for WiFi mulicast forwarding.
remote:
remote:          SWRGROUTER-4362
remote:
remote:      commit d82d603161c1ba91ef544d9320b975ddfcb0ac67
remote:      Author: Russell Enderby <enderby@lc-atl-221.atl.broadcom.com>
remote:      Date:   Mon Apr 4 09:19:31 2016 -0400
remote:
remote:          SWRGROUTER-4359:BCM933843WVG BCM93384WVG nightly builds failed in develop on 2016-04-01
remote:
remote:          Fix 3384 build issue generated by:
remote:          SWRGROUTER-4287:Creation of i2c WBID device/client and associated driver
remote:
remote:          SWRGROUTER-4359
remote:
remote:      commit 26f6d948e713fef79076d7bf1fefa91faefaec0f
remote:      Author: Russell Enderby <enderby@lc-atl-221.atl.broadcom.com>
remote:      Date:   Fri Apr 1 16:24:00 2016 -0400
remote:
remote:          SWRGROUTER-4287:Creation of i2c WBID device/client and associated driver
remote:
remote:          Added new WBID device/client driver for direct kernel access of the WBID value.
remote:
remote:          SWRGROUTER-4287
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi    |  10 +-
remote:   arch/arm/boot/dts/rg.3390-wifi.dtsi    |   6 +-
remote:   arch/arm/boot/dts/rg.3390b0-wvg.dts    |  55 +++-
remote:   arch/arm/boot/dts/rg.3390c0-dcm.dts    |  53 +++-
remote:   arch/arm/boot/dts/rg.3390c0-vms.dts    |  55 +++-
remote:   drivers/bcm_media_gw/Makefile          |   3 +-
remote:   .../test/gpio_irqt/gpio_irqt_core.c    |  19 ++
remote:   .../bcm_media_gw/wps/wps_gpio_core.c   |  49 +++-
remote:   drivers/gpio/gpio-brcmstb.c            | 167 +++----------
remote:   9 files changed, 252 insertions(+), 165 deletions(-)
remote:  ;skern@broadcom.com;2016-10-27 17:57:43 -0400;369009548266547d5962058df924c22987891bbe;SWRGROUTER-4514: Perform periodic develop to feat_PowerManagement merges;
remote:  Perform periodic develop to feat_PowerManagement merges
remote:
remote:  refs #SWRGROUTER-4514
remote:
remote:
remote:   arch/arm/include/asm/buzzz.h           |  18 +-
remote:   arch/arm/mach-bcm/Makefile             |   1 -
remote:   arch/arm/mach-bcm/buzzz.c              | 227 ++++++-------
remote:   kernel/sched/core.c                    |   2 +-
remote:   net/ipv6/netfilter/Kconfig             |   4 -
remote:   net/ipv6/netfilter/Makefile            |   6 -
remote:   .../nf_defrag_ipv6_hooks_notrack.c     |  96 ------
remote:   7 files changed, 123 insertions(+), 231 deletions(-)
remote:  ;skern@broadcom.com;2016-10-27 17:57:42 -0400;fa112d26dec1a1adea0f8b9a8fe87e7742202e0c;SWRGROUTER-4514: Perform periodic develop to feat_PowerManagement merges;
remote:  Perform periodic develop to feat_PowerManagement merges
remote:
remote:  refs #SWRGROUTER-4514
remote:
remote:  Conflicts:
remote:  	arch/arm/boot/dts/rg.3390-base.dtsi
remote:  	arch/arm/boot/dts/rg.3390-wifi.dtsi
remote:  	arch/arm/boot/dts/rg.3390b0-moca.dtsi
remote:  	arch/mips/boot/dts/bcm33843mwvg_mgw_zephyr.dtsi
remote:  	arch/mips/boot/dts/bcm3384_mgw_zephyr.dtsi
remote:  	drivers/bcm_media_gw/Kconfig
remote:  	drivers/bcm_media_gw/Makefile
remote:  	drivers/bcm_media_gw/fpm/fpm_core.c
remote:  	drivers/i2c/busses/i2c-brcmstb.c
remote:  	drivers/watchdog/bcm7038_wdt.c
remote:  	net/ipv6/netfilter/Kconfig
remote:
remote:
remote:   arch/arm/include/asm/buzzz.h           |  18 +-
remote:   arch/arm/mach-bcm/Makefile             |   1 +
remote:   arch/arm/mach-bcm/buzzz.c              | 227 +++++++------
remote:   .../bcm_media_gw/ethsw/ethsw_core.c    |  12 +
remote:   .../bcm_media_gw/ethsw/ethsw_core.h    |   2 +-
remote:   .../ethsw/ethsw_init_plat.c            |   2 +-
remote:   drivers/bcm_media_gw/fpm/fpm_core.c    |  10 +-
remote:   drivers/bcm_media_gw/fpm/fpm_priv.h    |   2 +-
remote:   drivers/gpio/Kconfig                   |   2 +-
remote:   drivers/i2c/busses/i2c-brcmstb.c       |   4 +-
remote:   drivers/net/phy/mdio-unimac.c          |   4 +-
remote:   drivers/watchdog/bcm7038_wdt.c         |   1 +
remote:   kernel/sched/core.c                    |   2 +-
remote:   net/ipv6/netfilter/Makefile            |   1 +
remote:   14 files changed, 150 insertions(+), 138 deletions(-)
remote:  ;tross@broadcom.com;2016-10-27 17:57:42 -0400;6416e26061e0e06d50aee2a0a5907d36fcab9b9c;SWRGROUTER-4730: PM: Linux powers itself off after boot on DCM boards;
remote:  Override BMU power state on DCM & PHYDVT boards because BMU reports
remote:  incorrect state.
remote:
remote:  refs #SWRGROUTER-4730
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390b0-dcm.dts   |  5 +++--
remote:   arch/arm/boot/dts/rg.3390b0-smwvg.dts |  1 +
remote:   arch/arm/boot/dts/rg.3390b0-sv.dts    |  1 +
remote:   arch/arm/boot/dts/rg.3390b0-vcm.dts   |  1 +
remote:   arch/arm/boot/dts/rg.3390b0-vms.dts   |  1 +
remote:   arch/arm/boot/dts/rg.3390b0.dts       | 11 ++++++-----
remote:   arch/arm/boot/dts/rg.3390c0-vcm.dts   | 14 +++++++++-----
remote:   arch/arm/boot/dts/rg.3390z0-smwvg.dts |  4 ++--
remote:   arch/arm/boot/dts/rg.3390z0-vms.dts   |  4 ++--
remote:   arch/arm/boot/dts/rg.3390z0.dts       | 11 ++++++-----
remote:   10 files changed, 32 insertions(+), 21 deletions(-)
remote:  ;tross@broadcom.com;2016-10-27 17:57:41 -0400;29a2c0d62362bd13987fc53aa525677f94c74267;SWRGROUTER-3901 MODULE: Implement support for CPU division to save power;
remote:  Reduce CM-->RG ITC DQM level to a reasonable level that still allows
remote:  the CM side rProgramStore to TFTP 32KB size socket buffers without properly
remote:  implementing backpressure on it's ITC HAL interface when the DQM fills up.
remote:
remote:  refs #SWRGROUTER-3901
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi | 4 ++--
remote:   1 file changed, 2 insertions(+), 2 deletions(-)
remote:  ;tross@broadcom.com;2016-10-27 17:57:41 -0400;adf4230e54b5dd1461ce48feafaefc15255acd50;SWRGROUTER-4697: Battery: Linux fails to set battery_mode_rules after CM comes up;
remote:  Only look at current battery state and not the state it was in when it started booting.
remote:
remote:  refs #SWRGROUTER-4697
remote:
remote:
remote:   drivers/bcm_media_gw/boot_assist/brcm_ba.c | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;tross@broadcom.com;2016-10-27 17:57:40 -0400;43b0a8f7cbfee6992b103e5fe2f66e879c5a1501;SWRGROUTER-4668: Enable dynamic clock scaling on FPM & UniMAC blocks;
remote:  Modify BPCM driver to enable dynamic clocks scaling on device tree BPCM
remote:  nodes that contain clock divider values for low and high gear.
remote:
remote:  refs #SWRGROUTER-4668
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi   | 10 ++-
remote:   drivers/bcm_media_gw/bpcm/bpcm_core.c | 67 ++++++++++++---
remote:   drivers/bcm_media_gw/bpcm/bpcm_priv.h | 26 ++++--
remote:   drivers/bcm_media_gw/bpcm/bpcm_proc.c | 35 +++++++-
remote:   4 files changed, 111 insertions(+), 27 deletions(-)
remote:  ;skern@broadcom.com;2016-10-27 17:57:40 -0400;f6e1f1b91b07e8d60dff76905e95f772a99546ec;SWRGROUTER-3769: Perform periodic develop to feat_PowerManagement merges;
remote:  Perform periodic develop to feat_PowerManagement merges
remote:
remote:  refs #SWRGROUTER-3769
remote:
remote:  Conflicts:
remote:  	arch/arm/boot/dts/rg.3390-base.dtsi
remote:  	arch/arm/boot/dts/rg.3390-wifi.dtsi
remote:  	arch/arm/boot/dts/rg.3390b0-moca.dtsi
remote:  	arch/mips/boot/dts/bcm33843mwvg_mgw_zephyr.dtsi
remote:  	arch/mips/boot/dts/bcm3384_mgw_zephyr.dtsi
remote:  	drivers/bcm_media_gw/Kconfig
remote:  	drivers/bcm_media_gw/Makefile
remote:  	net/ipv6/netfilter/Kconfig
remote:
remote:
remote:   drivers/watchdog/bcm7038_wdt.c | 1 -
remote:   net/ipv6/netfilter/Makefile    | 1 +
remote:   2 files changed, 1 insertion(+), 1 deletion(-)
remote:  ;skern@broadcom.com;2016-10-27 17:57:40 -0400;9c7c39e6d8a11607b05b1761d3708e88aa88e98e;SWRGROUTER-3901 MODULE: Implement support for CPU division to save power;
remote:  Implement support for CPU division to save power
remote:
remote:  refs #SWRGROUTER-3901
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi | 6 +++---
remote:   drivers/cpufreq/Kconfig             | 2 +-
remote:   2 files changed, 4 insertions(+), 4 deletions(-)
remote:  ;skern@broadcom.com;2016-10-27 17:57:39 -0400;1675363dededa43c5481a90cdbe5a5c87b952085;SWRGROUTER-4522 MODULE: 3390VCM: Modem is not able to complete any software downloads on feat_PowerManagement due to ItcNiTxCommon;
remote:  3390VCM: Modem is not able to complete any software downloads on feat_PowerManagement due to ItcNiTxCommon
remote:
remote:  refs #SWRGROUTER-4522
remote:
remote:
remote:   drivers/cpufreq/Kconfig | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;skern@broadcom.com;2016-10-27 17:57:39 -0400;0802721b207371334633afa7c864a3a9481f2f0a;SWRGROUTER-4514 MODULE: Perform periodic develop to feat_PowerManagement merges;
remote:  Perform periodic develop to feat_PowerManagement merges
remote:
remote:  refs #SWRGROUTER-4514
remote:
remote:  	arch/arm/boot/dts/rg.3390-wifi.dtsi
remote:  	arch/arm/boot/dts/rg.3390b0-moca.dtsi
remote:  	arch/mips/boot/dts/bcm33843mwvg_mgw_zephyr.dtsi
remote:  	arch/mips/boot/dts/bcm3384_mgw_zephyr.dtsi
remote:  	drivers/bcm_media_gw/Kconfig
remote:  	drivers/bcm_media_gw/Makefile
remote:  	drivers/bcm_media_gw/netfilter/xt_l2ogre_mt.c
remote:  	drivers/bcm_media_gw/netfilter/xt_l2ogre_tg.c
remote:  	net/ipv6/netfilter/Kconfig
remote:
remote:
remote:   drivers/bcm_media_gw/netfilter/xt_l2ogre_mt.c | 0
remote:   drivers/bcm_media_gw/netfilter/xt_l2ogre_tg.c | 0
remote:   net/ipv6/netfilter/Kconfig                    | 1 -
remote:   net/ipv6/netfilter/Makefile                   | 1 +
remote:   4 files changed, 1 insertion(+), 1 deletion(-)
remote:  ;ignatius@broadcom.com;2016-10-27 17:57:38 -0400;0bfcae83dd00ff3fd545a979a422a304d3070bf6;SWRGROUTER-2686 Support for MAP-E/T per eRouter Specification;
remote:  IS_ENABLED() macro is undefined in userspace.
remote:  Remove IS_ENABLED() macro in uapi headers that get used by userspace app.
remote:
remote:  refs #SWRGROUTER-2686
remote:
remote:
remote:   include/uapi/linux/if.h | 2 --
remote:   1 file changed, 2 deletions(-)
remote:  ;ignatius@broadcom.com;2016-10-27 17:57:38 -0400;e1bbcaf510309673195d469196e173a7854d7622;SWRGROUTER-2686 Support for MAP-E/T per eRouter Specification;
remote:  Integrated ASAMAP MAP device driver
remote:
remote:  refs #SWRGROUTER-2686
remote:
remote:
remote:   include/uapi/linux/if.h | 2 ++
remote:   net/ipv6/map_defrag6.c  | 9 ++-------
remote:   2 files changed, 4 insertions(+), 7 deletions(-)
remote:  ;skern@broadcom.com;2016-10-27 17:57:38 -0400;7009c767f716ca41d01a038c5820423876b4b6ab;SWRGROUTER-4514 MODULE: Perform periodic develop to feat_PowerManagement merges;
remote:  Perform periodic develop to feat_PowerManagement merges
remote:
remote:  refs #SWRGROUTER-4514
remote:
remote:  	arch/arm/boot/dts/rg.3390-wifi.dtsi
remote:  	arch/arm/boot/dts/rg.3390b0-moca.dtsi
remote:  	arch/mips/boot/dts/bcm33843mwvg_mgw_zephyr.dtsi
remote:  	arch/mips/boot/dts/bcm3384_mgw_zephyr.dtsi
remote:  	drivers/bcm_media_gw/Kconfig
remote:  	drivers/bcm_media_gw/Makefile
remote:  	drivers/bcm_media_gw/netfilter/xt_l2ogre_mt.c
remote:  	drivers/bcm_media_gw/netfilter/xt_l2ogre_tg.c
remote:  	net/ipv6/netfilter/Kconfig
remote:
remote:
remote:   .../netfilter/ebt_dhcpsnoop.c            | 12 ++++--------
remote:   .../netfilter/xt_l2ogre_mt.c             |  2 +-
remote:   .../netfilter/xt_l2ogre_tg.c             |  2 +-
remote:   net/ipv6/netfilter/Makefile              |  1 +
remote:   4 files changed, 7 insertions(+), 10 deletions(-)
remote:  ;venky@cm-irv-1.irv.broadcom.com;2016-10-27 17:57:37 -0400;08bb52606deb61dbcf88aa3d0f7c9c3377166495;Wi-Fi: Active power savings - Linux - Disable WiFi block if radios disabled Added Radio Power Management Driver;
remote:  refs #SWRGROUTER-4069
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-wifi.dtsi    |  5 +++++
remote:   .../dts/bcm33843mwvg_mgw_zephyr.dtsi   | 14 +++++++++++---
remote:   .../boot/dts/bcm3384_mgw_zephyr.dtsi   | 14 +++++++++++---
remote:   drivers/bcm_media_gw/Kconfig           |  5 +++++
remote:   drivers/bcm_media_gw/Makefile          |  1 +
remote:   5 files changed, 33 insertions(+), 6 deletions(-)
remote:  ;skern@broadcom.com;2016-10-27 17:57:37 -0400;7525b99ee480bcff840dac2f42758cad38064053;SWRGROUTER-4441 MODULE: Update feat_PowerManagement streams to latest - eRouter;
remote:  Update feat_PowerManagement streams to latest - eRouter
remote:
remote:  refs #SWRGROUTER-4441
remote:
remote:  Conflicts:
remote:  	arch/arm/boot/dts/rg.3390-base.dtsi
remote:  	arch/arm/boot/dts/rg.3390-wifi.dtsi
remote:  	arch/arm/boot/dts/rg.3390a2-dcm.dts
remote:  	arch/arm/boot/dts/rg.3390a2-smwvg.dts
remote:  	arch/arm/boot/dts/rg.3390a2-sv.dts
remote:  	arch/arm/boot/dts/rg.3390a2-vms.dts
remote:  	arch/arm/boot/dts/rg.3390a2.dts
remote:  	arch/arm/boot/dts/rg.3390b0-moca.dtsi
remote:  	arch/mips/boot/dts/bcm33843mwvg_mgw_zephyr.dtsi
remote:  	arch/mips/boot/dts/bcm3384_mgw_zephyr.dtsi
remote:  	drivers/bcm_media_gw/Makefile
remote:  	net/ipv6/netfilter/Kconfig
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi    |  95 ++++----
remote:   arch/arm/boot/dts/rg.3390a2.dts        |  44 ++++
remote:   arch/arm/boot/dts/rg.3390c0-vcm.dts    |  44 ++++
remote:   arch/arm/boot/dts/rg.3390z0-smwvg.dts  |  44 ++++
remote:   arch/arm/boot/dts/rg.3390z0-vms.dts    |  44 ++++
remote:   .../dts/bcm33843mwvg_mgw_zephyr.dtsi   |   6 +-
remote:   .../boot/dts/bcm3384_mgw_zephyr.dtsi   |   8 +-
remote:   drivers/bcm_media_gw/Makefile          |   1 +
remote:   drivers/bcm_media_gw/dqm/dqm_core.c    | 124 ++++++-----
remote:   drivers/bcm_media_gw/dqm/dqm_dbg.c     |  12 +-
remote:   drivers/bcm_media_gw/dqm/dqm_hw.h      |  12 +-
remote:   drivers/bcm_media_gw/flowmgr/flowmgr.h |   2 -
remote:   .../flowmgr/flowmgr_core.c             | 144 ++++---------
remote:   .../bcm_media_gw/flowmgr/flowmgr_fap.c |  94 ++++----
remote:   drivers/bcm_media_gw/netfilter/Kconfig |   3 -
remote:   .../bcm_media_gw/netfilter/Makefile    |   2 -
remote:   .../netfilter/xt_l2ogre_mt.c           |   2 +-
remote:   .../netfilter/xt_l2ogre_tg.c           |   2 +-
remote:   .../netfilter/nf_conntrack_offload.h   |   2 +-
remote:   19 files changed, 399 insertions(+), 286 deletions(-)
remote:  ;tross@broadcom.com;2016-10-27 17:57:36 -0400;cf59ea523ed4caae43ed171dce0de88f22172f2e;SWRGROUTER-4363: Add proc interface to show current status of BPCM zones controlled by RG.;
remote:  Added proc interface to bpcm driver to show status.
remote:
remote:  refs #SWRGROUTER-4363
remote:
remote:
remote:   drivers/bcm_media_gw/bpcm/bpcm_core.c | 33 --------------
remote:   drivers/bcm_media_gw/bpcm/bpcm_priv.h | 26 ++++-------
remote:   drivers/bcm_media_gw/bpcm/bpcm_proc.c | 35 ++-------------
remote:   3 files changed, 13 insertions(+), 81 deletions(-)
remote:  ;tross@broadcom.com;2016-10-27 17:57:36 -0400;1628b46e05807b8249a6a214ff0db23e053404da;SWRGROUTER-4070: Active power savings - Linux - Disable all MOCA items when MOCA not present;
remote:  Add MoCA clock tree to devixce tree. bcmstb-clk driver turns off all clocks
remote:  until a driver acquires them and turns them on. Thus power is off to MoCA
remote:  block unless bmoca exists in the device tree.
remote:
remote:  refs #SWRGROUTER-4070
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390b0-bolt.dtsi | 156 ++++++++++++++
remote:   arch/arm/boot/dts/rg.3390b0-moca.dtsi |   4 +-
remote:   2 files changed, 159 insertions(+), 1 deletion(-)
remote:  ;jayeshp@broadcom.com;2016-10-27 17:57:35 -0400;c854fda1d36bf19c7c80b3c06174b1fdc457fb48;SWRGROUTER-4224 3390B0: Acceleration Support for 3rd WiFi Radio;
remote:  Use of DQM 60 for accelerating 3rd Radio.
remote:
remote:  refs #SWRGROUTER-4224
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi | 78 +++++++++--------
remote:   1 file changed, 41 insertions(+), 37 deletions(-)
remote:  ;tross@broadcom.com;2016-10-27 17:57:35 -0400;fa040bc1dfc1397fb925b93c99dc5bab95fce0af;SWRGROUTER-4232: Rename 3390R0 to 3390Z0 to match HW organization.;
remote:  Rename 3390R0 to 3390Z0 to match HW organization references to the chip.
remote:
remote:  refs #SWRGROUTER-4232
remote:
remote:
remote:   arch/arm/boot/dts/Makefile            |   2 +-
remote:   arch/arm/boot/dts/rg.3390r0-bolt.dtsi | 694 ------------
remote:   arch/arm/boot/dts/rg.3390r0.dts       |  44 -
remote:   arch/arm/boot/dts/rg.3390z0-bolt.dtsi | 762 ++++++++++++--
remote:   arch/arm/boot/dts/rg.3390z0.dts       |  22 +-
remote:   5 files changed, 699 insertions(+), 825 deletions(-)
remote:  ;petersu@broadcom.com;2016-10-27 17:57:35 -0400;29484c6938a058c7bd47d94930b3f029a8f0e5c0;SWRGROUTER-4004: 3390R: Update device tree selection process to use MFG_ID as well. 		Forgot to add rg3390r0-bolt.dtsi to the commit after adding pcie1;
remote:  refs #SWRGROUTER-4004
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390r0-bolt.dtsi | 31 ++++++++-------
remote:   1 file changed, 16 insertions(+), 15 deletions(-)
remote:  ;petersu@broadcom.com;2016-10-27 17:57:34 -0400;8114b8ddd833d3b2dd411969d8a7fe5ca8d59730;SWRGROUTER-4004: 3390R: Update device tree selection process to use MFG_ID as well.;
remote:  refs #SWRGROUTER-4004
remote:
remote:
remote:   arch/arm/boot/dts/Makefile            |   1 +
remote:   arch/arm/boot/dts/rg.3390b0-dcm.dts   |  11 +-
remote:   arch/arm/boot/dts/rg.3390b0-smwvg.dts |   7 +-
remote:   arch/arm/boot/dts/rg.3390b0-sv.dts    |   7 +-
remote:   arch/arm/boot/dts/rg.3390b0-vcm.dts   |   7 +-
remote:   arch/arm/boot/dts/rg.3390b0-vms.dts   |   7 +-
remote:   arch/arm/boot/dts/rg.3390b0.dts       |   6 +-
remote:   arch/arm/boot/dts/rg.3390r0-bolt.dtsi | 693 ++++++++++++++
remote:   arch/arm/boot/dts/rg.3390r0.dts       |  44 +
remote:   9 files changed, 758 insertions(+), 25 deletions(-)
remote:  ;wubei@broadcom.com;2016-10-27 17:57:34 -0400;7a315c06c6536532cd7bfde7fc9baa8b95e79424;IPv6: Disable reassemble the ipv6 fragment when disabling ipv6 firewall.;
remote:  Don't reassemble the ipv6 fragment to
remote:  pass unh ipv6 ready logo Interoperability test 2.7 (B)
remote:
remote:  refs #SWRGROUTER-3991
remote:
remote:  (cherry picked from commit 467d11bfe7e4c641ea4166d65f7c1b93e4a5d025)
remote:
remote:
remote:   net/ipv6/netfilter/Kconfig             |  5 +
remote:   net/ipv6/netfilter/Makefile            |  2 +
remote:   .../nf_defrag_ipv6_hooks_notrack.c     | 96 ++++++++++++++
remote:   3 files changed, 103 insertions(+)
remote:  ;petersu@broadcom.com;2016-10-27 17:57:33 -0400;8b2adb8d7cf1c27e35426db77ddf7c96455b1340;SWRGROUTER-2970: Add optional 3390 RFAP acceleration to Intel e1000e driver;
remote:  refs #SWRGROUTER-2970
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-wifi.dtsi | 20 +++++++++++++++++
remote:   drivers/bcm_media_gw/Kconfig        |  7 ++++++
remote:   2 files changed, 27 insertions(+)
remote:  ;enderby@lc-atl-221.atl.broadcom.com;2016-10-27 17:57:33 -0400;f446025a9b929102ca6030b5cbe7c53f5aa21553;SWRGROUTER-3305:I2C driver for WBID;
remote:  Implemented I2C driver support for WBID access
remote:
remote:  refs #SWRGROUTER-3305
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi | 6 ++++++
remote:   drivers/i2c/busses/i2c-brcmstb.c    | 4 ++--
remote:   2 files changed, 8 insertions(+), 2 deletions(-)
remote:  ;snanda@broadcom.com;2016-10-27 17:57:33 -0400;7664a7ab3fc902abdacd4b70bbacdc09d63a1ed0;WiFi: WPS pushbutton and LED (this changes on each chip/board per GPIO);
remote:  refs #SWRGROUTER-1899
remote:
remote:
remote:   arch/mips/boot/dts/bcm3384_mgw_zephyr.dtsi | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;snanda@broadcom.com;2016-10-27 17:57:32 -0400;691e3c42fccde0027c7bd4f328390fd9b1f3bb35;WiFi: WPS pushbutton and LED (this changes on each chip/board per GPIO);
remote:  refs #SWRGROUTER-1899
remote:
remote:
remote:   arch/mips/boot/dts/bcm33843mwvg_mgw_zephyr.dtsi | 6 +++---
remote:   arch/mips/boot/dts/bcm3384_mgw_zephyr.dtsi      | 6 +++---
remote:   2 files changed, 6 insertions(+), 6 deletions(-)
remote:  ;tross@broadcom.com;2016-10-27 17:57:32 -0400;bb6e1efc3c2d98915a1b6969c6e738b04f4c7a5f;SWRGROUTER-4065: Update DQM device tree entries to reflect 3390B0 bug fixes.;
remote:  Update 3390 device tree files to reflect DQM bug fixes made by 3390B0.
remote:
remote:  refs #SWRGROUTER-4065
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi   |  6 +-
remote:   arch/arm/boot/dts/rg.3390a2.dts       | 44 ---------------
remote:   arch/arm/boot/dts/rg.3390c0-vcm.dts   |  5 ++
remote:   arch/arm/boot/dts/rg.3390z0-smwvg.dts |  6 +-
remote:   arch/arm/boot/dts/rg.3390z0-vms.dts   |  5 ++
remote:   5 files changed, 16 insertions(+), 50 deletions(-)
remote:  ;jcyr@broadcom.com;2016-10-27 17:57:31 -0400;7fdf48dfba8374213a3bad88b94ead609e38f538;add DTB suport for 3390B0 VCM board;
remote:  refs #SWRGROUTER-4079
remote:
remote:
remote:   arch/arm/boot/dts/Makefile | 17 -----------------
remote:   1 file changed, 17 deletions(-)
remote:  ;snanda@broadcom.com;2016-10-27 17:57:31 -0400;2b600ec29016226bdb0788c1e24599591b00d730;WiFi: WPS pushbutton and LED (this changes on each chip/board per GPIO);
remote:  refs #SWRGROUTER-1899
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-wifi.dtsi    | 30 --------------
remote:   drivers/bcm_media_gw/Kconfig           | 29 -------------
remote:   drivers/bcm_media_gw/Makefile          |  3 --
remote:   .../bcm_media_gw/wps/wps_gpio_core.c   | 29 +++++--------
remote:   4 files changed, 11 insertions(+), 80 deletions(-)
remote:  ;natarajs@broadcom.com;2016-10-27 17:57:31 -0400;149cc220fdefd1094350ae182b727f2de1237181;SWRGROUTER-3097 WIFI: DHD WL coexistence;
remote:  refs #SWRGROUTER-3097
remote:
remote:
remote:   .../bcm_media_gw/dqnet/dqnet_core.c    | 17 +++++++++-----
remote:   .../bcm_media_gw/dqnet/dqnet_wifi.c    |  1 +
remote:   2 files changed, 12 insertions(+), 6 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-10-27 17:57:30 -0400;4f2b7a471bb7ec0867084fd4a025c5facf28eeff;SWRGROUTER-3381 - Web Server:Loading web pages leaks memory;
remote:  flowmgr
remote:  Free up socket reference in code added for checking connection
remote:  going to host without socket (SWRGROUTER-2728)
remote:
remote:  dqm
remote:  Fix minor memory leak in dt parameter handling
remote:
remote:  refs #SWRGROUTER-3381
remote:
remote:
remote:   drivers/bcm_media_gw/flowmgr/flowmgr_core.c | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;tross@broadcom.com;2016-10-27 17:57:30 -0400;d68b4f8df89e249ac3a76733e8d66cbff4cca508;SWRGROUTER-3967: Add 3390B0 PHYDVT board device tree support.;
remote:  Add 3390B0 PHYDVT board BID to rg.3390b0.dts "catchall" file.
remote:
remote:  refs #SWRGROUTER-3967
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390b0.dts | 11 +++++------
remote:   1 file changed, 5 insertions(+), 6 deletions(-)
remote:  ;tross@broadcom.com;2016-10-27 17:57:29 -0400;cb754f538a0dd9124c51e480b3de5a97e020d993;SWRGROUTER-4255: Implement SW to turn on/off the UniMAC block;
remote:  Modify bpcm driver to allow device tree to specify initial power state
remote:  of each zone for each bpcm device.
remote:  Modify device tree to set initial power state of UniMAC based on board.
remote:
remote:  refs #SWRGROUTER-4255
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi   | 23 +---
remote:   arch/arm/boot/dts/rg.3390-ethwan.dtsi |  2 +-
remote:   drivers/bcm_media_gw/bpcm/bpcm_core.c | 85 ++++++++-------
remote:   3 files changed, 48 insertions(+), 62 deletions(-)
remote:  ;enderby@lc-atl-221.atl.broadcom.com;2016-10-27 17:57:29 -0400;9fd074590829e869fd6ce8c711468d552e3b9e5d;SWRGROUTER-3657:3390b0: Add switchable MoCA support for both 3390a0 and 3390b0 chips;
remote:  Now based on build target the proper MOCA driver will be compiled and setup.
remote:  Upgraded MOCA driver from 2.10.6.90 to 2.11.201.10.
remote:  Changed mocad version number to match 2.11.201.10.
remote:
remote:  refs #SWRGROUTER-3657
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390b0-moca.dtsi | 164 +-------------
remote:   arch/arm/boot/dts/rg.3390z0-smwvg.dts |   1 +
remote:   arch/arm/boot/dts/rg.3390z0-vms.dts   |   1 +
remote:   3 files changed, 3 insertions(+), 163 deletions(-)
remote:  ;tross@broadcom.com;2016-10-26 14:57:32 -0400;e1481b5b494bf8d8822af3737c9a69139e240a4e;SWRGROUTER-5762: Correct handling of FPM allocation failures;
remote:  Ensure dqnet RPC handler always returns valid token or 0 in RPC message.
remote:  Eliminate memory waste in FPM driver "alloc" and "free" commands.
remote:
remote:  refs #SWRGROUTER-5762
remote:
remote:
remote:   .../bcm_media_gw/dqnet/dqnet_core.c    | 18 ++--
remote:   drivers/bcm_media_gw/fpm/fpm_core.c    |  5 +-
remote:   drivers/bcm_media_gw/fpm/fpm_proc.c    | 70 +++++---------
remote:   3 files changed, 39 insertions(+), 54 deletions(-)
remote:  ;ddjurovic@broadcom.com;2016-10-26 09:27:15 -0700;9ce753a4e07f926599265e7213d021f9d42cdc77;SWRGROUTER-5561: WIFI - Push feat_bca_wlan to develop;
remote:  Merge remote-tracking branch 'origin/feat_bca_wlan' into develop
remote:
remote:  refs #SWRGROUTER-5561
remote:  NOSANITY#
remote:
remote:  ;czacker@broadcom.com;2016-10-26 07:04:54 -0700;47d7e2ac645a5379fe65c68441a2e4841974ad13;SWRGROUTER-5830: 3390 ethernet switch problem when doing a down on a port, the     port doesn't fully go down, same with up.;
remote:  Cherry-picked upstream commit be9dad1f9f26604fb
remote:
remote:  Commit be9dad1f9f26604fb suspend phydev when going to HALTED.
remote:  However not to resume phydev when going to RESUMING.
remote:  BMCR_PDOWN remains set "ifconfig eth0 down" -> "ifconfig eth0 up".
remote:  Unless phy_attach_direct is called in open function.
remote:
remote:  Fix the issue via phy_resume in PHY_RESUMING
remote:
remote:  refs #SWRGROUTER-5830
remote:
remote:
remote:   drivers/bcm_media_gw/ethsw/ethsw_api.c | 2 --
remote:   drivers/net/phy/bcm7xxx.c              | 8 ++++++--
remote:   drivers/net/phy/phy.c                  | 8 +++++++-
remote:   3 files changed, 13 insertions(+), 5 deletions(-)
remote:  ;venky@cm-irv-1.lvn.broadcom.net;2016-10-25 19:49:30 -0700;415deab9e1c2f1f1e95413e97fbf60ce3cfa801e;SWRGROUTER-5187: Add support for multiple WiFi RF power GPIO's Added support to compile with other that 3390;
remote:  refs #SWRGROUTER-5187
remote:
remote:
remote:   drivers/bcm_media_gw/wrfpwr/wrfpwr_core.c | 7 ++++++-
remote:   1 file changed, 6 insertions(+), 1 deletion(-)
remote:  ;venky@cm-irv-1.lvn.broadcom.net;2016-10-25 12:57:51 -0700;d1c8c4d4414efbf1f2006bacef15a4b8c879f641;SWRGROUTER-5187: Add support for multiple WiFi RF power GPIO's;
remote:  refs #SWRGROUTER-5187
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-wifi.dtsi    |  71 +++-
remote:   arch/arm/mach-bcm/pci-brcmstb.c        | 192 +++++++--
remote:   .../bcm_media_gw/wrfpwr/wrfpwr_core.c  | 280 ++++++++++---
remote:   .../bcm_media_gw/wrfpwr/wrfpwr_api.h   |  21 +-
remote:   4 files changed, 445 insertions(+), 119 deletions(-)
remote:  ;czacker@broadcom.com;2016-10-20 08:56:41 -0700;cee83f4400e443393bb88395634bb3df7fccc3cc;SWRGROUTER-5830: Ethernet Switch problem when doing a down on a port, port doesn't fully go down;
remote:    We need to do a suspend when we go down, and a resume when we re-enable port. This will fully
remote:    bring down the port and back up.
remote:
remote:  refs #SWRGROUTER-5830
remote:
remote:
remote:   drivers/bcm_media_gw/ethsw/ethsw_api.c | 2 ++
remote:   1 file changed, 2 insertions(+)
remote:  ;enderby@lc-atl-221.atl.broadcom.com;2016-10-19 16:21:44 -0400;d9d5ac6deeffe28e0eac130bd22ba56a957c889c;SWRGROUTER-5598:3384: DUT stuck after printing "ChipHalGlobalLock: Possibly stuck with lock value 0xa0";
remote:  PROBLEM
remote:  ========
remote:  Here are the thread details and how they are interlocked with each other with explanations under each:
remote:
remote:  a) spi1 thread : spi_pump_messages()->bcm63xx_hsspi_transfer_one()->wait_for_common()
remote:  - here we executed a SPI transaction and started interrupts and waiting for a completion() via a SPI interrupt telling us CMD_DONE
remote:  - our thread is in the RUN state, the CMD_DONE mask is cleared, and this thread appears to be read to run but the scheduler is not getting to us
remote:  - our task priority is 120
remote:
remote:  b) ip thread   : rtnetlink_rcv()->dev_get_stats()->dqnet_get_stats()->ethsw_spi()->__spi_sync()->wait_for_completion()
remote:  - #1 TAKE rtnl_lock() inside of rtnetlink_rcv()
remote:  - here we are stuck waiting on spi_pump_messages() to process our command and do the SPI transaction then tell us, however spi_pump is stuck (from a)
remote:  - this thread is causing many other threads to get stuck: dhcpd, wlmngr, and associated kworker threads
remote:  - this thread is called by a shell thread that was called by snmpd to collect counter stats
remote:
remote:  c) mocad thread: kerSysBcmSpiSlaveRead()->__spi_sync()->wait_for_completion()
remote:  - here we are stuck waiting on spi_pump_messages() to process our command and do the SPI transaction then tell us, however spi_pump is stuck (from a)
remote:
remote:  d) sh thread   : CMS->system call 'echo 0 >> /proc/sys/net/ipv6/conf/all/disable_ipv6'->addrconf_disable_ipv6()->rtnl_trylock()->restart_syscall()->LOOP FOREVER!!
remote:  - this is kicked off by ssk (CMS)
remote:  - #2 TRY TO TAKE rtnl_trylock() but it is taken (from b)
remote:  - our task priority is 94 which is higher than 120
remote:   #3 failure to take the mutex causes us to call restart_syscall() and re-run the system call, putting us in a continuous loop at super high priority
remote:
remote:  e) CM console  : stuck on atomic HW mutex that is held (from a)
remote:
remote:  f) RG console   : console is not working,
remote:  - we never get a login shell console because /etc/inittab executes /etc/init.d/rsS and in the end there calls us to ping 172.31.255.4
remote:  - this ping fails because ip thread is stuck
remote:  - shell would have started after this but we never made it that far
remote:
remote:  SOLUTION
remote:  ========
remote:  The problem is addrconf.c which is what we use to configure ipv6 addresses has bug.  I checked and the latest version is the same as ours.  The issue is this:
remote:
remote:  static int addrconf_disable_ipv6(struct ctl_table *table, int *p, int newf)
remote:  {
remote:          struct net *net;
remote:          int old;
remote:
remote:          if (!rtnl_trylock())
remote:                  return restart_syscall();
remote:  ...
remote:  }
remote:
remote:  Basically CMS calls a shell to execute a proc command to disable ipv6. It gets into this above function and tries the rtnl_trylock() which is essentially a mutex_trylock() which does NOT block.  It does not get the mutex because we have it already taken and then calls restart_syscall() which essentially re-executes the system call causing us to spin in a continuous loop.  The mutex_trylock() is only supposed to be by the same thread, but we cant.  We have snmp doing rtnlink calls to get counters and CMS doing proc shell calls both using this mutex.
remote:
remote:  FIX
remote:  ===
remote:  I fixed 4 things for this:
remote:
remote:  1) Moved shell/login to start before rcS scripts so we always have a shell
remote:
remote:  2) Fix issue where if we timeout in SPI driver we still finish the SPI transaction before we leave (this was my first fix, which is still valid just a fix for a problem we have not hit yet)
remote:
remote:  3) Change ssk thread to use regular priority as everyone else, 120 vs 94, verified shells spawn at 120 as well.  This allows us to swap out and let same priority tasks to run and clean up their mutex locks.
remote:
remote:  4) Modified linux/net/ipv6/addrconf.c to not use restart_syscall() and switched the rtnl_trylock() to rtnl_lock() so we wait and let the other threads unlock the mutex.
remote:
remote:  refs #SWRGROUTER-5598
remote:
remote:
remote:   drivers/spi/spi-bcm63xx-hsspi.c | 3 ++-
remote:   net/ipv6/addrconf.c             | 9 +++------
remote:   2 files changed, 5 insertions(+), 7 deletions(-)
remote:  ;ddjurovic@broadcom.com;2016-10-18 14:30:26 -0700;2fb741442b205a6e8a707b025172c4457b932337;SWRGROUTER-5693: Merge SpeedTest feature stream to develop;
remote:  Merge remote-tracking branch 'origin/develop' into feat_612_XB6speedtest
remote:
remote:  refs #SWRGROUTER-5693
remote:  NOSANITY#
remote:
remote:  ;natarajs@broadcom.com;2016-10-17 14:00:54 -0700;55de505548f363ee0b36bd1b97b450a96f75da56;SWRGROUTER-5794 Merge remote-tracking branch 'origin/develop' into feat_bca_wlan;
remote:  refs #SWRGROUTER-5794
remote:  NOSANITY#
remote:
remote:  ;akatre@broadcom.com;2016-10-13 15:50:52 -0700;39ccfa09ee01354e4428d19a8df4eec658f251c9;FPM_POOL_FULL error while WIFI throughput on 5G exceeds 1Gbps;
remote:  Reduced all six wifi DQM depth from 4000 to 2000.
remote:
remote:  refs #SWRGROUTER-5559
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi | 12 ++++++------
remote:   1 file changed, 6 insertions(+), 6 deletions(-)
remote:  ;tross@broadcom.com;2016-10-13 14:16:36 -0400;787fded8b18c9e98f7bcd5effbaf319271e5c08b;Revert "SWRGROUTER-5765: Make message indicating dqnet is backing off due to a full DQM default to on.";
remote:  This reverts commit a358b44233c360a8da0c1b351bb953a6101761ca.
remote:
remote:  refs #SWRGROUTER-5765
remote:
remote:
remote:   drivers/bcm_media_gw/dqnet/dqnet_dbg.c | 3 +--
remote:   1 file changed, 1 insertion(+), 2 deletions(-)
remote:  ;tross@broadcom.com;2016-10-13 10:38:50 -0400;e043f4fd629ca6adb1b8ce16966dc8ad60988fc9;DQNET is double freeing tokens when DQM backs up;
remote:  Ensure token value return in RPC messages is either valid or 0.
remote:
remote:  refs #SWRGROUTER-5764
remote:
remote:
remote:   drivers/bcm_media_gw/dqnet/dqnet_core.c | 3 +--
remote:   1 file changed, 1 insertion(+), 2 deletions(-)
remote:  ;tross@broadcom.com;2016-10-12 18:19:20 -0400;a358b44233c360a8da0c1b351bb953a6101761ca;SWRGROUTER-5765: Make message indicating dqnet is backing off due to a full DQM default to on.;
remote:  refs #SWRGROUTER-5765
remote:
remote:
remote:   drivers/bcm_media_gw/dqnet/dqnet_dbg.c | 3 ++-
remote:   1 file changed, 2 insertions(+), 1 deletion(-)
remote:  ;tross@broadcom.com;2016-10-12 18:19:19 -0400;f1bd57100f98c335493e8619a6fbc4c8290733d6;DQNET is double freeing tokens when DQM backs up;
remote:  Eliminate double free of FPM buffer when TX DQM is full.
remote:
remote:  refs #SWRGROUTER-5764
remote:
remote:
remote:   drivers/bcm_media_gw/dqnet/dqnet_core.c | 9 +++++----
remote:   1 file changed, 5 insertions(+), 4 deletions(-)
remote:  ;rp888308@broadcom.com;2016-10-12 16:53:24 -0400;9daf7c74d33a1009d7a494d68253f6cd8df86e48;SWRGROUTER-5740 flowmgr db prints MAC Addresses in lag mode;
remote:  flowmgr db logs MAC Address and interface number and prints message if next time MAC Address is seen on different i/f #
remote:  In lag mode, a packet with a MAC address from i/f # 8 is also seen from i/f # 9.
remote:  So flowmgr db keeps printing it.
remote:  So in lag mode the logging of MAC address should be disabled.
remote:
remote:  refs #SWRGROUTER-5740
remote:
remote:
remote:   drivers/bcm_media_gw/flowmgr/flowmgr.h |  1 +
remote:   .../flowmgr/flowmgr_core.c             |  2 +-
remote:   .../bcm_media_gw/flowmgr/flowmgr_db.c  |  7 ++++++
remote:   .../flowmgr/flowmgr_procfs.c           | 18 ++++++++++++++
remote:   4 files changed, 27 insertions(+), 1 deletion(-)
remote:  ;tross@broadcom.com;2016-10-11 15:32:27 -0400;2549a7242c30a96cf217830528f4ee239f785b4a;SWRGROUTER-5762: Correct handling of FPM allocation failures;
remote:  Add error checking for FPM allocation failures.
remote:  Add checking for bad tokens/buffers when received from another entity.
remote:  Add proc commands to FPM driver to support alloc/free of FPM tokens
remote:
remote:  refs #SWRGROUTER-5762
remote:
remote:
remote:   .../bcm_media_gw/dqnet/dqnet_core.c    |  16 ++
remote:   .../bcm_media_gw/dqnet/dqnet_qmsg.c    |  12 ++
remote:   drivers/bcm_media_gw/fpm/fpm_core.c    |  16 +-
remote:   drivers/bcm_media_gw/fpm/fpm_proc.c    | 102 +++++++++++++
remote:   .../rpc_services/linux_services.c      |  12 +-
remote:   .../rpc_services/misc_services.c       |  47 +++++-
remote:   6 files changed, 194 insertions(+), 11 deletions(-)
remote:  ;ddjurovic@broadcom.com;2016-10-06 11:46:36 -0700;0003985147e99e93cbdbdc113432d42faa6fd6b9;SWRGROUTER-5660: WIFI - Port develop to feat_bca_wlan - 10/05/16;
remote:  Perform periodic develop to feat_bca_wlan merges
remote:
remote:  refs #SWRGROUTER-5660
remote:  NOSANITY#
remote:
remote:  Merge tag 'NB_develop_16-10-05_SUCCESS' into feat_bca_wlan
remote:
remote:  Nightly Build Tag 2016-10-05
remote:
remote:  ;ddjurovic@broadcom.com;2016-10-06 11:28:01 -0700;c68abefed2d20d1910cece1ce5ef3a79e84d6b00;SWRGROUTER-5693: Tip-up SpeedTest feature stream to latest develop;
remote:  Perform periodic develop to feat_612_XB6Speedtest merges
remote:
remote:  refs #SWRGROUTER-5693
remote:  NOSANITY#
remote:
remote:  Merge tag 'NB_develop_16-10-05_SUCCESS' into feat_612_XB6speedtest
remote:
remote:  Nightly Build Tag 2016-10-05
remote:
remote:  ;jayeshp@broadcom.com;2016-10-06 14:11:26 -0400;bff38baf0d0b7f3546b36ebc9df9bf50923e3e91;SWRGROUTER-5736: Minor Optimization in packet data path processing in CPU;
remote:  Remove pr_debug statements in critical data path packet processing.
remote:  Optimize dqm_receive and dqm_reg_read functions.
remote:  Disable compiling in DQSKB module as it is not used.
remote:
remote:  refs #SWRGROUTER-5736
remote:
remote:
remote:   drivers/bcm_media_gw/Kconfig           |   2 +-
remote:   drivers/bcm_media_gw/dqm/dqm_core.c    | 221 ++++++-------
remote:   drivers/bcm_media_gw/dqm/dqm_dbg.c     |  32 +-
remote:   drivers/bcm_media_gw/dqm/dqm_dev.h     |  10 +
remote:   drivers/bcm_media_gw/dqm/dqm_hw.h      |  84 +++--
remote:   .../bcm_media_gw/dqnet/dqnet_brcmtag.c |  12 -
remote:   .../bcm_media_gw/dqnet/dqnet_qmsg.c    |   6 -
remote:   7 files changed, 167 insertions(+), 200 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-10-05 18:49:28 -0400;64326f0db27dc5618d845eb92d367363fa5eee72;SWRGROUTER-5637 WiFi : 3390smwvg : Wireless clients associated to the 5GHz radio (wl1) are unable to DHCP and get an IP address.;
remote:  Reintroduce spinlock for dqm reg write since multiple dqm shares same registers for interrupt status and mask.
remote:
remote:  refs #SWRGROUTER-5637
remote:
remote:
remote:   drivers/bcm_media_gw/dqm/dqm_hw.h | 3 +++
remote:   1 file changed, 3 insertions(+)
remote:  ;ddjurovic@broadcom.com;2016-10-03 15:58:18 -0700;b3d38aa9b8cb2c71040383bfa532076b81a57b99;SWRGROUTER-5693: Tip-up SpeedTest feature stream to latest develop;
remote:  Perform periodic develop to feat_612_XB6Speedtest merges
remote:
remote:  refs #SWRGROUTER-5693
remote:  NOSANITY#
remote:
remote:  Merge remote-tracking branch 'origin/develop' into feat_612_XB6speedtest
remote:
remote:  ;dw888152@broadcom.com;2016-10-03 10:50:20 -0400;eeb4127b1c4d05ba1964acb9fdc0c5231c1af40b;SWRGROUTER-5621 MEMCSTATS: Need a tool created to measure and collate Memory Controller statistics on 3390B0 and later chips;
remote:  - Create a proprietary LKM that can periodically poll the MemC
remote:    Statistics registers of the 3390B0 and pull all of the stats into a
remote:  somewhat small array for short-term collection.  The driver always
remote:  collects the stats for the entire controller and can be put in a mode to
remote:  collect either the VIPER bus stats or the ARM/SCB bus stats.
remote:
remote:  - Create a userspace apps that loads the LKM and is able to configure it
remote:    and poll it for longer-term data collection and collation.  The app
remote:  grabs the LKM's data and stores it into a long-term buffer after
remote:  calculating numerous memc statistics (provided by Herman Liu) on the
remote:  data. It is able to fully unload the LKM given a specific option as
remote:  well.
remote:
remote:  - Portions of the LKM came from some BRCM DSL code that was created on a
remote:    similar Memory Controller.  I heavily modified it to do what Dave P
remote:  asked for for the 3390B0.
remote:
remote:  - Both the LKM and the app are DISABLED by default in the build.  They
remote:    can be enabled by flipping CONFIG_BCM_MEMCSTATS to 'm' in
remote:  linux/drivers/bcm_media_gw/Kconfig.  This will automagically flip the
remote:  userspace BUILD_MEMCSTATS flag to y and build both.
remote:
remote:  - Added the userspace app to the two skiplists I'm aware of.  The LKM
remote:    should already be handled by one of the lines in those two files.
remote:
remote:  - the _proc file was left in place but is not compiled in case it's
remote:    needed for future debugging.  Early on I used it for basic debugging
remote:  of the LKM.  But later removed it when it was no longer essential.
remote:
remote:  refs #SWRGROUTER-5621
remote:
remote:
remote:   drivers/bcm_media_gw/Kconfig | 7 +++++++
remote:   1 file changed, 7 insertions(+)
remote:  ;rp888308@broadcom.com;2016-09-28 18:13:23 -0400;71bd2bab85b848d98cc5539552f5f2afdf5f5bcd;SWRGROUTER-5698 kthread implementation for mdqm device driver;
remote:  kthread implementation for mdqm device driver
remote:  Implement mdqm device type options in mdqm device driver to use it as a,
remote:  1. TX device or
remote:  2. RX device using kthread
remote:  3. RX device using napi
remote:  4. Implemented round robin dequeue method
remote:
remote:  refs #SWRGROUTER-5698
remote:
remote:
remote:   drivers/bcm_media_gw/mdqm/mdqm_core.c | 122 ++++++++++++--
remote:   drivers/bcm_media_gw/mdqm/mdqm_dev.h  |  12 ++
remote:   drivers/bcm_media_gw/mdqm/mdqm_dt.c   |   7 +-
remote:   3 files changed, 121 insertions(+), 20 deletions(-)
remote:  ;ddjurovic@broadcom.com;2016-09-27 15:54:49 -0700;ee0f94c55728bb6b440261350d32da66873876a1;SWRGROUTER-5693: Tip-up SpeedTest feature stream to latest develop;
remote:  Perform periodic develop to feat_612_XB6Speedtest merges
remote:
remote:  refs #SWRGROUTER-5693
remote:  NOSANITY#
remote:
remote:  Merge remote-tracking branch 'origin/develop' into feat_612_XB6speedtest
remote:
remote:  ;skern@broadcom.com;2016-09-23 17:17:26 -0700;45a1534a8eae425005f543fccd05ccdcfc416878;SWRGROUTER-5664: Option 82 for hotspot is not working - Crashes when set to 0x1;
remote:  Option 82 for hotspot is not working - Crashes when set to 0x1
remote:
remote:  refs #SWRGROUTER-5664
remote:
remote:  (cherry picked from commit fafb8cbd268ad1bc693ffdb832c13c3062bf59d5)
remote:
remote:  Conflicts:
remote:  	drivers/bcm_media_gw/netfilter/ebt_dhcpsnoop.c
remote:
remote:
remote:   .../netfilter/ebt_dhcpsnoop.c            | 12 ++++++++----
remote:   1 file changed, 8 insertions(+), 4 deletions(-)
remote:  ;ddjurovic@broadcom.com;2016-09-23 14:33:02 -0700;ae3d312c7e38681b8969ec810e8db4329b8249fd;Merge remote-tracking branch 'origin/feat_MAP' into develop;
remote:  NOSANITY#
remote:
remote:  ;natarajs@broadcom.com;2016-09-23 12:15:23 -0700;eabf63617fb7f9ed7d966c5f43cb0b3c32d811b7;SWRGROUTER-5580: Merge remote-tracking branch 'origin/develop' into feat_bca_wlan;
remote:  refs #SWRGROUTER-5580
remote:  NOSANITY#
remote:
remote:  ;tnobes@broadcom.com;2016-09-23 09:04:49 -0400;f9a49dab2369d65b241a70bebed88bc200c3e51f;SWRGROUTER-1886 Runner GRE termination & FlowMgr GRE v4;
remote:  Fixes flow promotion to Runner for L2oGRE encapuslated flows. Tunnel object creation.
remote:  This still needs new Runner FW to work successfully.
remote:
remote:  refs #SWRGROUTER-1886
remote:
remote:
remote:   .../flowmgr/flowmgr_core.c             | 35 ++++++---
remote:   .../bcm_media_gw/flowmgr/flowmgr_fap.c | 51 +++++++++-----
remote:   2 files changed, 60 insertions(+), 26 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-09-22 17:53:09 -0400;25a25591e2e93e9783640dd0944095ec7e036d46;SWRGROUTER-5630 RDK-B:XB6 NetXL crash when trying to add more than (3) WIFI interfaces: Exceeds Max User;
remote:  Increase max user to 8.
remote:
remote:  refs #SWRGROUTER-5630
remote:
remote:
remote:   drivers/bcm_media_gw/mdqm/mdqm_dev.h | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;enderby@lc-atl-221.atl.broadcom.com;2016-09-22 15:31:30 -0400;c7e605326192495c82b02a9a35867158ed54b88c;SWRGROUTER-5466:Phase 1 iperf performance of 1Gbps;
remote:  * Gave more memory to kernel by removing HIGHMEM zone
remote:  * Increased dqnet budget from 16->256
remote:
remote:  refs #SWRGROUTER-5466
remote:
remote:
remote:   arch/arm/Kconfig                        | 2 +-
remote:   arch/arm/configs/brcmstb_defconfig      | 2 +-
remote:   drivers/bcm_media_gw/dqnet/dqnet_core.c | 2 +-
remote:   3 files changed, 3 insertions(+), 3 deletions(-)
remote:  ;twhite@cm-irv-1.irv.broadcom.com;2016-09-21 11:04:47 -0700;9b49d66c38307211e8bf9e2e73b56e599ae4e041;SWRGROUTER-5359: GFAP Primary VLAN Bridged mode (ETHWAN);
remote:  Fixed transitory bug in header file that broke the compile of the gfap binary h file.
remote:
remote:  refs #SWRGROUTER-5359
remote:
remote:
remote:   .../3384b0/gfap_binary_3384_ethwan.h   | 574 ++++++-------
remote:   1 file changed, 287 insertions(+), 287 deletions(-)
remote:  ;tross@broadcom.com;2016-09-21 09:25:41 -0400;3adac610cd38bc6ce94b6f52212827c390af067e;SWRGROUTER-5625: Remove PCIe2 from DT for Z0 parts.;
remote:  Remove PCIe2 from DT to match the new OTP config for Z0 parts.
remote:
remote:  refs #SWRGROUTER-5625
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390z0-bolt.dtsi | 4 ++++
remote:   1 file changed, 4 insertions(+)
remote:  ;yanhaih@broadcom.com;2016-09-21 09:36:41 +0800;95786a1310e482938d947e8c76d1d169cf01c080;SWRGROUTER-5445:CVE-2016-5696 - Security Vulnerability : Linux Flaw allows attackers to hijack web connections.;
remote:  net/ipv4/tcp_input.c in the Linux kernel before 4.7 does not properly
remote:  determine the rate of challenge ACK segments, which makes it easier for
remote:  man-in-the-middle attackers to hijack TCP sessions via a blind in-window
remote:  attack.
remote:  Merge the following patch to RGLinux.
remote:  https://git.kernel.org/cgit/linux/kernel/git/stable/stable-queue.git/commit/?id=e09bea58ec0552dbbf71fb22bf7a46da9a288fc8
remote:
remote:  refs #SWRGROUTER-5445
remote:
remote:
remote:   net/ipv4/tcp_input.c | 15 +++++++++++----
remote:   1 file changed, 11 insertions(+), 4 deletions(-)
remote:  ;twhite@cm-irv-1.irv.broadcom.com;2016-09-20 14:36:41 -0700;d1110b8222329f39584d02e06ae19f0c44918af8;SWRGROUTER-5359: GFAP Primary VLAN Bridged mode (ETHWAN);
remote:  Revisited. Fixed a logic bug in the FFE code where the mb_bridged check erroneously
remote:  matches all odd-numbered mac IDs for the local subnet check.
remote:
remote:  refs #SWRGROUTER-5359
remote:
remote:
remote:   .../3384b0/gfap_binary_3384_ethwan.h   | 570 ++++++-------
remote:   1 file changed, 285 insertions(+), 285 deletions(-)
remote:  ;skern@broadcom.com;2016-09-19 16:06:26 -0700;cce1a8d8b9fb0a745cfbfc9a9db58a7ca7bc1ba4;SWRGROUTER-4769: Update feat_MAP stream to latest develop;
remote:  Update feat_MAP stream to latest develop
remote:
remote:  refs #SWRGROUTER-4769
remote:  NOSANITY#
remote:
remote:  Merge tag 'NB_develop_16-09-16_SUCCESS' into feat_MAP
remote:
remote:  Nightly Build Tag 2016-09-16
remote:
remote:  Conflicts:
remote:  	arch/arm/boot/dts/rg.3390a2.dts
remote:
remote:  ;tross@broadcom.com;2016-09-16 16:38:46 -0400;13b57babad6457483b399ad08957ba545a8868dc;SWRGROUTER-5607: Add ethtool support for EEE;
remote:  Add support to dqnet for ethtool EEE commands.
remote:  Add support to ethsw to get/set EEE parameters on each port.
remote:
remote:  refs #SWRGROUTER-5607
remote:
remote:
remote:   .../bcm_media_gw/dqnet/dqnet_core.c    |  9 +-
remote:   .../bcm_media_gw/dqnet/dqnet_ethsw.c   | 87 +++++++++++++-
remote:   .../bcm_media_gw/dqnet/dqnet_ethtool.c | 80 +++++++++++-
remote:   .../bcm_media_gw/dqnet/dqnet_switch.c  | 13 +-
remote:   .../bcm_media_gw/dqnet/dqnet_switch.h  | 20 ++-
remote:   drivers/bcm_media_gw/ethsw/ethsw.h     | 36 ++++--
remote:   drivers/bcm_media_gw/ethsw/ethsw_api.c | 26 ++--
remote:   .../bcm_media_gw/ethsw/ethsw_core.c    |  4 +-
remote:   .../bcm_media_gw/ethsw/ethsw_proc.c    |  6 +-
remote:   9 files changed, 246 insertions(+), 35 deletions(-)
remote:  ;ignatius@broadcom.com;2016-09-14 12:04:28 -0700;295a849b2c28223e7517ef28c267cd9c863515ae;SWRGROUTER-5586: MAP driver crash with fragmented IPv6 packet;
remote:  - fix porting issue related hlist_for each_entryXXXX() MACROs
remote:
remote:  refs #SWRGROUTER-5586
remote:
remote:
remote:   net/ipv6/map_defrag6.c | 9 +++++++--
remote:   1 file changed, 7 insertions(+), 2 deletions(-)
remote:  ;czacker@broadcom.com;2016-09-14 09:52:18 -0700;9a20f6e6bd7adf338fed43588e07c47f88a75ee7;SWRGROUTER-5465: RG Console error "ethsw_core: Invalid parameters". Cannot access webUI.;
remote:      We were calling the STP calls (for the 3390) for the 3384 but getting SPI atomic
remote:      errors because it was getting called within interupt context.  We have moved this
remote:      call to be platform specific and if needed can make the 3384 have it as a work
remote:      queue call so the sets are done outside of the interupt level.
remote:
remote:  refs #SWRGROUTER-5465
remote:
remote:
remote:   .../bcm_media_gw/ethsw/ethsw_3384.c    | 11 +++
remote:   .../bcm_media_gw/ethsw/ethsw_3390.c    | 55 ++++++++++++++
remote:   .../bcm_media_gw/ethsw/ethsw_core.c    | 55 ++------------
remote:   .../ethsw/ethsw_init_spi.c             | 15 ----
remote:   .../bcm_media_gw/ethsw/ethsw_priv.h    |  5 ++
remote:   5 files changed, 79 insertions(+), 62 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-08-31 17:04:14 -0400;ed1ceb84e96b37023898bf8e26d885ad12463c56;SWRGROUTER-5488 WiFi: Allow WLEROUTER (for DHD) and NetXL coexistence at runtime;
remote:  Added device tree node 'wler_rfap' node to control enable/disable of wlerouter interface per radio.
remote:  Made mdqm driver module as a built in module.
remote:
remote:  refs #SWRGROUTER-5488
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-wifi.dtsi    |  5 +
remote:   drivers/bcm_media_gw/Kconfig           |  2 +-
remote:   .../bcm_media_gw/dqnet/dqnet_core.c    |  2 +-
remote:   drivers/bcm_media_gw/mdqm/mdqm_core.c  | 98 +++++++-------
remote:   4 files changed, 57 insertions(+), 50 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-08-23 19:22:24 -0400;63a27c799e2bd49fd52c25899e1be534115cd444;SWRGROUTER-5288: With LAG enabled raw data TCP throughput is 50% lesser than UDP traffic;
remote:  When LAG is enabled, transmit and receive port for a flow can be different.
remote:  Modify flowmgr to allow asymmetric port in bi-directional TCP flow.
remote:
remote:  refs #SWRGROUTER-5288
remote:
remote:
remote:   .../flowmgr/flowmgr_core.c             | 36 +++++---------
remote:   .../bcm_media_gw/flowmgr/flowmgr_fap.c | 14 ++++--
remote:   .../bcm_media_gw/flowmgr/flowmgr_fap.h |  4 +-
remote:   3 files changed, 22 insertions(+), 32 deletions(-)
remote:  ;twhite@cm-irv-1.irv.broadcom.com;2016-08-22 15:41:57 -0700;55b82dc412301acbc34896fb0b8ba63131475cf5;SWRGROUTER-5359: GFAP Primary VLAN Bridged mode (ETHWAN);
remote:  Added ETH1 as a WAN destination for the local subnet check on a bridged
remote:  flow match so web access is allowed when ETHWAN configuration is used in
remote:  primary VLAN bridged mode.  Also corrected call to setup lan entwork in fap_config
remote:  to use the wan device if the call for br0 fails because br0 is not assigned an
remote:  IP address in primary VLAN bridged mode.
remote:
remote:  refs #SWRGROUTER-5359
remote:
remote:
remote:   .../flowmgr/flowmgr_gfap_ops.c         |    6 +
remote:   .../3384b0/gfap_binary_3384_ethwan.h   | 2329 ++++++++++++
remote:   drivers/bcm_media_gw/gfap/bcmgfap.c    |   33 +-
remote:   drivers/bcm_media_gw/gfap/bcmgfap.h    |   19 +-
remote:   drivers/bcm_media_gw/gfap/bcmgfap_dt.c |   83 +-
remote:   5 files changed, 2424 insertions(+), 46 deletions(-)
remote:  ;tross@broadcom.com;2016-08-22 11:44:38 -0400;0580f6c4ebdec022236709e92fa0c65050ef3c2f;SWRGROUTER-5431: Remove 3390A device tree files to fit in flash partition;
remote:  refs #SWRGROUTER-5431
remote:
remote:
remote:   arch/arm/boot/dts/Makefile            |   7 -
remote:   arch/arm/boot/dts/rg.3390a0-bolt.dtsi | 814 --------------
remote:   arch/arm/boot/dts/rg.3390a0.dts       | 118 --
remote:   arch/arm/boot/dts/rg.3390a2-dcm.dts   |  88 --
remote:   arch/arm/boot/dts/rg.3390a2-moca.dtsi |  25 -
remote:   arch/arm/boot/dts/rg.3390a2-smwvg.dts |  82 --
remote:   arch/arm/boot/dts/rg.3390a2-sv.dts    | 126 ---
remote:   arch/arm/boot/dts/rg.3390a2-vms.dts   | 132 ---
remote:   arch/arm/boot/dts/rg.3390a2.dts       | 118 --
remote:   9 files changed, 1510 deletions(-)
remote:  ;czacker@broadcom.com;2016-08-22 07:08:52 -0700;f002359b7f84d42e72246bfcb61bf2f54cfe9d46;SWRGROUTER-5320: Bad BRCM tag opcode reported when traffic test fails.    We found that SWRGROUTER-5256 that added PAUSE frames was causing    issues on several different tests. We have now backed out the    changes and will have to reopen that issue and see if we can find    another appropriate fix.;
remote:  refs #SWRGROUTER-5320
remote:
remote:
remote:   drivers/bcm_media_gw/ethsw/ethsw_core.c | 1 -
remote:   1 file changed, 1 deletion(-)
remote:  ;czacker@broadcom.com;2016-08-22 06:56:03 -0700;56332b59bd8418e31c876d540334a20a522ff9b2;SWRGROUTER-5320: Bad BRCM tag opcode reported when traffic test fails.    We found that SWRGROUTER-5256 that added PAUSE frames was causing    issues on several different tests. We have now backed out the    changes and will have to reopen that issue and see if we can find    another appropriate fix.;
remote:  refs #SWRGROUTER-5320
remote:
remote:
remote:   drivers/bcm_media_gw/ethsw/ethsw_core.c | 9 ---------
remote:   1 file changed, 9 deletions(-)
remote:  ;tross@broadcom.com;2016-08-19 13:52:01 -0400;91c1d8f97689fe39bdc1f0d413ee2dcd784c1fa8;SWRGROUTER-5428: Kernel complains about MoCA clocks on 3390Z0;
remote:  Moved MoCA clock definitions to the rg.3390-moca.dtsi include file
remote:  so that they are not included on 3390Z0 boards.
remote:
remote:  refs #SWRGROUTER-5428
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390b0-bolt.dtsi | 156 -------------
remote:   arch/arm/boot/dts/rg.3390b0-moca.dtsi | 160 ++++++++++++++
remote:   arch/arm/boot/dts/rg.3390z0-bolt.dtsi |  26 +--
remote:   3 files changed, 173 insertions(+), 169 deletions(-)
remote:  ;tross@broadcom.com;2016-08-18 13:38:42 -0400;8118bb22a59a7cf4aab415138c8bed3af780a836;SWRGROUTER-5416: Prevent Linux self power down when BMU reports power state of "unknown";
remote:  Change BA daemon and driver to interpret BMU's AC and unknown power states
remote:  as the same.
remote:
remote:  refs #SWRGROUTER-5416
remote:
remote:
remote:   .../bcm_media_gw/boot_assist/brcm_ba.c    | 11 ++++++-----
remote:   1 file changed, 6 insertions(+), 5 deletions(-)
remote:  ;apang@broadcom.com;2016-08-17 13:15:52 -0700;d0ac6851b0d100d3e2c10ee01cae537a41915b9b;Merge remote branch 'origin/feat_612_MDMadv' into develop;
remote:
remote:  ;czacker@broadcom.com;2016-08-16 15:40:03 -0700;ba5dfa6daccb293ad587392c65adb7365132833e;SWRGROUTER-3474: Create a phylib based driver for the SF2 and 531xx switches;
remote:  refs #SWRGROUTER-3474
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi    |   25 +
remote:   .../dts/bcm33843mwvg_mgw_zephyr.dtsi   |    8 +-
remote:   .../boot/dts/bcm33843pon_zephyr.dtsi   |    2 -
remote:   .../boot/dts/bcm3384_mgw_zephyr.dtsi   |   39 +-
remote:   .../boot/dts/bcm3384pon_zephyr.dtsi    |    2 -
remote:   drivers/bcm_media_gw/dqnet/dqnet_dt.c  |    2 +
remote:   .../bcm_media_gw/dqnet/dqnet_ethsw.c   |    2 +-
remote:   drivers/bcm_media_gw/ethsw/ethsw.h     |    1 +
remote:   .../bcm_media_gw/ethsw/ethsw_3384.c    |   91 +-
remote:   .../bcm_media_gw/ethsw/ethsw_3390.c    |   29 +-
remote:   drivers/bcm_media_gw/ethsw/ethsw_api.c |  280 +--
remote:   .../ethsw/ethsw_init_plat.c            |   52 +-
remote:   drivers/bcm_media_gw/ethsw/ethsw_phy.c | 1103 +-----------
remote:   .../bcm_media_gw/ethsw/ethsw_priv.h    |    5 +
remote:   .../bcm_media_gw/ethsw/ethsw_proc.c    |  544 ------
remote:   drivers/net/phy/Kconfig                |    8 +-
remote:   drivers/net/phy/bcm7xxx.c              |    8 +
remote:   drivers/net/phy/mdio-unimac.c          |   62 +-
remote:   include/linux/brcmphy.h                |    1 +
remote:   19 files changed, 340 insertions(+), 1924 deletions(-)
remote:  ;skern@broadcom.com;2016-08-15 13:33:33 -0700;6138b8237beeb4b5866b435c0c06594f348a9ca8;SWRGROUTER-4514: Perform periodic develop to feat_PowerManagement merges;
remote:  Perform periodic develop to feat_PowerManagement merges
remote:
remote:  refs #SWRGROUTER-4514
remote:  NOSANITY#
remote:
remote:  Merge remote-tracking branch 'origin/feat_PowerManagement' into develop
remote:
remote:  ;jayeshp@broadcom.com;2016-08-12 10:37:30 -0400;21e9b295e87540ddeb0e052d21ca253e136660b2;SWRGROUTER-5310: SFAP support broken after NetXL update for 3390;
remote:  Restructured DQNET RX/TX processing code to make SFAP work in FPM mode
remote:  for 3390.
remote:
remote:  refs #SWRGROUTER-5310
remote:
remote:
remote:   drivers/bcm_media_gw/Kconfig           |  2 +-
remote:   .../bcm_media_gw/dqnet/dqnet_brcmtag.c | 37 +++++-----
remote:   .../bcm_media_gw/dqnet/dqnet_core.c    | 51 ++++++++------
remote:   .../bcm_media_gw/include/bcmnethooks.h |  1 +
remote:   4 files changed, 51 insertions(+), 40 deletions(-)
remote:  ;venky@cm-irv-1.irv.broadcom.com;2016-08-10 10:55:03 -0700;51760852ac481356366b6752ce6088fd141da1cd;SWRGROUTER-4069: Active power savings - Linux - Disable WiFi block if radios disabled;
remote:  refs #SWRGROUTER-4069
remote:
remote:
remote:   drivers/bcm_media_gw/Kconfig  | 5 +++++
remote:   drivers/bcm_media_gw/Makefile | 1 +
remote:   2 files changed, 6 insertions(+)
remote:  ;jayeshp@broadcom.com;2016-08-10 12:37:03 -0400;d64ee41b3a6ac7d4d54423da031b53a3e253ffbc;SWRGROUTER-5221: With LAG enabled , CPEs connected across LACP link are not able to communicate with each other;
remote:  Added proc control for enabling/disabling packet forwarding between switch ports.
remote:  By default, packet forwarding between switch ports is disabled.
remote:  But when LAG is enabled, packet forwarding between lag switch ports and non-lag switch ports are enabled.
remote:
remote:
remote:  Following eg. show lag ports are 0 and 1 and non-lag ports are 2 and 3.
remote:
remote:  echo swport_forward > /proc/driver/dqnet/cmd
remote:
remote:  DQNET: proc cmd - swport_forward
remote:  DQNET Switch port forwarding table (Row: From and Col: To):
remote:      0 1 2 3
remote:  ________
remote:  0 | 0 1 1 1
remote:  1 | 1 0 1 1
remote:  2 | 1 1 0 0
remote:  3 | 1 1 0 0
remote:
remote:  refs #SWRGROUTER-5221
remote:
remote:
remote:   .../bcm_media_gw/dqnet/dqnet_core.c    |  13 +-
remote:   .../dqnet/dqnet_nethooks.c             |  50 +++---
remote:   .../dqnet/dqnet_nethooks.h             |   6 +-
remote:   .../bcm_media_gw/dqnet/dqnet_priv.h    |   2 +
remote:   .../bcm_media_gw/dqnet/dqnet_procfs.c  | 105 ++++++++++---
remote:   .../bcm_media_gw/include/bcmnethooks.h |   2 +-
remote:   6 files changed, 124 insertions(+), 54 deletions(-)
remote:  ;avagin@openvz.org;2016-08-10 12:07:13 -0400;4f81af53a582103715616280ff34838a25c10d16;SWRGROUTER-4846 RG reboots due to the watchdog firing when running traffic test (kernel.org commit id ee214d54bf3d51259adf8917e26dc84df1cab05a);
remote:  netfilter: nf_conntrack: initialize net.ct.generation
remote:
remote:  [  251.920788] INFO: trying to register non-static key.
remote:  [  251.921386] the code is fine but needs lockdep annotation.
remote:  [  251.921386] turning off the locking correctness validator.
remote:  [  251.921386] CPU: 2 PID: 15715 Comm: socket_listen Not tainted 3.14.0+ #294
remote:  [  251.921386] Hardware name: Bochs Bochs, BIOS Bochs 01/01/2011
remote:  [  251.921386]  0000000000000000 000000009d18c210 ffff880075f039b8 ffffffff816b7ecd
remote:  [  251.921386]  ffffffff822c3b10 ffff880075f039c8 ffffffff816b36f4 ffff880075f03aa0
remote:  [  251.921386]  ffffffff810c65ff ffffffff810c4a85 00000000fffffe01 ffffffffa0075172
remote:  [  251.921386] Call Trace:
remote:  [  251.921386]  [<ffffffff816b7ecd>] dump_stack+0x45/0x56
remote:  [  251.921386]  [<ffffffff816b36f4>] register_lock_class.part.24+0x38/0x3c
remote:  [  251.921386]  [<ffffffff810c65ff>] __lock_acquire+0x168f/0x1b40
remote:  [  251.921386]  [<ffffffff810c4a85>] ? trace_hardirqs_on_caller+0x105/0x1d0
remote:  [  251.921386]  [<ffffffffa0075172>] ? nf_nat_setup_info+0x252/0x3a0 [nf_nat]
remote:  [  251.921386]  [<ffffffff816c1215>] ? _raw_spin_unlock_bh+0x35/0x40
remote:  [  251.921386]  [<ffffffffa0075172>] ? nf_nat_setup_info+0x252/0x3a0 [nf_nat]
remote:  [  251.921386]  [<ffffffff810c7272>] lock_acquire+0xa2/0x120
remote:  [  251.921386]  [<ffffffffa008ab90>] ? ipv4_confirm+0x90/0xf0 [nf_conntrack_ipv4]
remote:  [  251.921386]  [<ffffffffa0055989>] __nf_conntrack_confirm+0x129/0x410 [nf_conntrack]
remote:  [  251.921386]  [<ffffffffa008ab90>] ? ipv4_confirm+0x90/0xf0 [nf_conntrack_ipv4]
remote:  [  251.921386]  [<ffffffffa008ab90>] ipv4_confirm+0x90/0xf0 [nf_conntrack_ipv4]
remote:  [  251.921386]  [<ffffffff815e7b00>] ? ip_fragment+0x9f0/0x9f0
remote:  [  251.921386]  [<ffffffff815d8c5a>] nf_iterate+0xaa/0xc0
remote:  [  251.921386]  [<ffffffff815e7b00>] ? ip_fragment+0x9f0/0x9f0
remote:  [  251.921386]  [<ffffffff815d8d14>] nf_hook_slow+0xa4/0x190
remote:  [  251.921386]  [<ffffffff815e7b00>] ? ip_fragment+0x9f0/0x9f0
remote:  [  251.921386]  [<ffffffff815e98f2>] ip_output+0x92/0x100
remote:  [  251.921386]  [<ffffffff815e8df9>] ip_local_out+0x29/0x90
remote:  [  251.921386]  [<ffffffff815e9240>] ip_queue_xmit+0x170/0x4c0
remote:  [  251.921386]  [<ffffffff815e90d5>] ? ip_queue_xmit+0x5/0x4c0
remote:  [  251.921386]  [<ffffffff81601208>] tcp_transmit_skb+0x498/0x960
remote:  [  251.921386]  [<ffffffff81602d82>] tcp_connect+0x812/0x960
remote:  [  251.921386]  [<ffffffff810e3dc5>] ? ktime_get_real+0x25/0x70
remote:  [  251.921386]  [<ffffffff8159ea2a>] ? secure_tcp_sequence_number+0x6a/0xc0
remote:  [  251.921386]  [<ffffffff81606f57>] tcp_v4_connect+0x317/0x470
remote:  [  251.921386]  [<ffffffff8161f645>] __inet_stream_connect+0xb5/0x330
remote:  [  251.921386]  [<ffffffff8158dfc3>] ? lock_sock_nested+0x33/0xa0
remote:  [  251.921386]  [<ffffffff810c4b5d>] ? trace_hardirqs_on+0xd/0x10
remote:  [  251.921386]  [<ffffffff81078885>] ? __local_bh_enable_ip+0x75/0xe0
remote:  [  251.921386]  [<ffffffff8161f8f8>] inet_stream_connect+0x38/0x50
remote:  [  251.921386]  [<ffffffff8158b157>] SYSC_connect+0xe7/0x120
remote:  [  251.921386]  [<ffffffff810e3789>] ? current_kernel_time+0x69/0xd0
remote:  [  251.921386]  [<ffffffff810c4a85>] ? trace_hardirqs_on_caller+0x105/0x1d0
remote:  [  251.921386]  [<ffffffff810c4b5d>] ? trace_hardirqs_on+0xd/0x10
remote:  [  251.921386]  [<ffffffff8158c36e>] SyS_connect+0xe/0x10
remote:  [  251.921386]  [<ffffffff816caf69>] system_call_fastpath+0x16/0x1b
remote:  [  312.014104] INFO: rcu_sched detected stalls on CPUs/tasks: {} (detected by 0, t=60003 jiffies, g=42359, c=42358, q=333)
remote:  [  312.015097] INFO: Stall ended before state dump start
remote:
remote:  Fixes: 93bb0ceb75be ("netfilter: conntrack: remove central spinlock nf_conntrack_lock")
remote:  Cc: Jesper Dangaard Brouer <brouer@redhat.com>
remote:  Cc: Pablo Neira Ayuso <pablo@netfilter.org>
remote:  Cc: Patrick McHardy <kaber@trash.net>
remote:  Cc: Jozsef Kadlecsik <kadlec@blackhole.kfki.hu>
remote:  Cc: "David S. Miller" <davem@davemloft.net>
remote:  Signed-off-by: Andrey Vagin <avagin@openvz.org>
remote:  Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
remote:
remote:  refs #SWRGROUTER-4846
remote:
remote:
remote:   net/netfilter/nf_conntrack_core.c | 1 +
remote:   1 file changed, 1 insertion(+)
remote:  ;edumazet@google.com;2016-08-10 12:07:13 -0400;1d3fad81b932184584281e2c2e01ca2805a0f974;SWRGROUTER-4846 RG reboots due to the watchdog firing when running traffic test (kernel.org commit id d5d20912d33f13766902a27087323f5c94e831c8);
remote:  netfilter: conntrack: Fix UP builds
remote:
remote:  ARRAY_SIZE(nf_conntrack_locks) is undefined if spinlock_t is an
remote:  empty structure. Replace it by CONNTRACK_LOCKS
remote:
remote:  Fixes: 93bb0ceb75be ("netfilter: conntrack: remove central spinlock nf_conntrack_lock")
remote:  Reported-by: kbuild test robot <fengguang.wu@intel.com>
remote:  Signed-off-by: Eric Dumazet <edumazet@google.com>
remote:  Cc: Jesper Dangaard Brouer <brouer@redhat.com>
remote:  Cc: Pablo Neira Ayuso <pablo@netfilter.org>
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:
remote:  refs #SWRGROUTER-4846
remote:
remote:
remote:   net/netfilter/nf_conntrack_core.c | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;brouer@redhat.com;2016-08-10 12:07:12 -0400;5f0befd9492bfa8c4aaa81e64820aeacb56a2d44;SWRGROUTER-4846 RG reboots due to the watchdog firing when running traffic test (kernel.org commit id 93bb0ceb75be2fdfa9fc0dd1fb522d9ada515d9c);
remote:  netfilter: conntrack: remove central spinlock nf_conntrack_lock
remote:
remote:  nf_conntrack_lock is a monolithic lock and suffers from huge contention
remote:  on current generation servers (8 or more core/threads).
remote:
remote:  Perf locking congestion is clear on base kernel:
remote:
remote:  -  72.56%  ksoftirqd/6  [kernel.kallsyms]    [k] _raw_spin_lock_bh
remote:     - _raw_spin_lock_bh
remote:        + 25.33% init_conntrack
remote:        + 24.86% nf_ct_delete_from_lists
remote:        + 24.62% __nf_conntrack_confirm
remote:        + 24.38% destroy_conntrack
remote:        + 0.70% tcp_packet
remote:  +   2.21%  ksoftirqd/6  [kernel.kallsyms]    [k] fib_table_lookup
remote:  +   1.15%  ksoftirqd/6  [kernel.kallsyms]    [k] __slab_free
remote:  +   0.77%  ksoftirqd/6  [kernel.kallsyms]    [k] inet_getpeer
remote:  +   0.70%  ksoftirqd/6  [nf_conntrack]       [k] nf_ct_delete
remote:  +   0.55%  ksoftirqd/6  [ip_tables]          [k] ipt_do_table
remote:
remote:  This patch change conntrack locking and provides a huge performance
remote:  improvement.  SYN-flood attack tested on a 24-core E5-2695v2(ES) with
remote:  10Gbit/s ixgbe (with tool trafgen):
remote:
remote:   Base kernel:   810.405 new conntrack/sec
remote:   After patch: 2.233.876 new conntrack/sec
remote:
remote:  Notice other floods attack (SYN+ACK or ACK) can easily be deflected using:
remote:   # iptables -A INPUT -m state --state INVALID -j DROP
remote:   # sysctl -w net/netfilter/nf_conntrack_tcp_loose=0
remote:
remote:  Use an array of hashed spinlocks to protect insertions/deletions of
remote:  conntracks into the hash table. 1024 spinlocks seem to give good
remote:  results, at minimal cost (4KB memory). Due to lockdep max depth,
remote:  1024 becomes 8 if CONFIG_LOCKDEP=y
remote:
remote:  The hash resize is a bit tricky, because we need to take all locks in
remote:  the array. A seqcount_t is used to synchronize the hash table users
remote:  with the resizing process.
remote:
remote:  Signed-off-by: Eric Dumazet <edumazet@google.com>
remote:  Signed-off-by: Jesper Dangaard Brouer <brouer@redhat.com>
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Reviewed-by: Florian Westphal <fw@strlen.de>
remote:  Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
remote:
remote:  refs #SWRGROUTER-4846
remote:
remote:
remote:   .../net/netfilter/nf_conntrack_core.h  |   7 +-
remote:   include/net/netns/conntrack.h          |   2 +
remote:   net/netfilter/nf_conntrack_core.c      | 219 +++++++++----
remote:   net/netfilter/nf_conntrack_helper.c    |  12 +-
remote:   net/netfilter/nf_conntrack_netlink.c   |  15 +-
remote:   5 files changed, 188 insertions(+), 67 deletions(-)
remote:  ;rp888308@broadcom.com;2016-08-10 12:07:12 -0400;ded217a6485b2b753eceba6b5e7d41f5a89541d3;SWRGROUTER-4846 RG reboots due to the watchdog firing when running traffic test (kernel.org commit id ca7433df3a672efc88e08222cfa4b3aa965ca324);
remote:  netfilter: conntrack: seperate expect locking from nf_conntrack_lock
remote:
remote:  Netfilter expectations are protected with the same lock as conntrack
remote:  entries (nf_conntrack_lock).  This patch split out expectations locking
remote:  to use it's own lock (nf_conntrack_expect_lock).
remote:
remote:  Signed-off-by: Jesper Dangaard Brouer <brouer@redhat.com>
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Reviewed-by: Florian Westphal <fw@strlen.de>
remote:  Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
remote:
remote:  refs #SWRGROUTER-4846
remote:
remote:
remote:   .../netfilter/nf_nat_rtsp.c            |  8 +-
remote:   .../net/netfilter/nf_conntrack_core.h  |  2 +
remote:   net/netfilter/nf_conntrack_core.c      | 60 ++++++++------
remote:   net/netfilter/nf_conntrack_expect.c    | 20 +++--
remote:   net/netfilter/nf_conntrack_h323_main.c |  4 +-
remote:   net/netfilter/nf_conntrack_helper.c    | 22 ++---
remote:   net/netfilter/nf_conntrack_netlink.c   | 32 +++----
remote:   net/netfilter/nf_conntrack_sip.c       |  8 +-
remote:   8 files changed, 83 insertions(+), 73 deletions(-)
remote:  ;brouer@redhat.com;2016-08-10 11:39:26 -0400;be16f1dadef07927077e0a094d1db87051c6b27b;SWRGROUTER-4846 RG reboots due to the watchdog firing when running traffic test (kernel.org commit id e1b207dac13ddb2f8ddebc7dc9729a97421909bd);
remote:  netfilter: avoid race with exp->master ct
remote:
remote:  Preparation for disconnecting the nf_conntrack_lock from the
remote:  expectations code.  Once the nf_conntrack_lock is lifted, a race
remote:  condition is exposed.
remote:
remote:  The expectations master conntrack exp->master, can race with
remote:  delete operations, as the refcnt increment happens too late in
remote:  init_conntrack().  Race is against other CPUs invoking
remote:  ->destroy() (destroy_conntrack()), or nf_ct_delete() (via timeout
remote:  or early_drop()).
remote:
remote:  Avoid this race in nf_ct_find_expectation() by using atomic_inc_not_zero(),
remote:  and checking if nf_ct_is_dying() (path via nf_ct_delete()).
remote:
remote:  Signed-off-by: Jesper Dangaard Brouer <brouer@redhat.com>
remote:  Signed-off-by: Florian Westphal <fw@strlen.de>
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
remote:
remote:  refs #SWRGROUTER-4846
remote:
remote:
remote:   net/netfilter/nf_conntrack_core.c   |  2 +-
remote:   net/netfilter/nf_conntrack_expect.c | 14 ++++++++++++++
remote:   2 files changed, 15 insertions(+), 1 deletion(-)
remote:  ;brouer@redhat.com;2016-08-10 11:37:06 -0400;7d63c41ed9061e1be0708453aaff97bcde9d9a0d;SWRGROUTER-4846 RG reboots due to the watchdog firing when running traffic test (kernel.org commit id b7779d06f9950e14a008a2de970b44233fe49c86);
remote:  netfilter: conntrack: spinlock per cpu to protect special lists.
remote:
remote:  One spinlock per cpu to protect dying/unconfirmed/template special lists.
remote:  (These lists are now per cpu, a bit like the untracked ct)
remote:  Add a @cpu field to nf_conn, to make sure we hold the appropriate
remote:  spinlock at removal time.
remote:
remote:  Signed-off-by: Eric Dumazet <edumazet@google.com>
remote:  Signed-off-by: Jesper Dangaard Brouer <brouer@redhat.com>
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Reviewed-by: Florian Westphal <fw@strlen.de>
remote:  Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
remote:
remote:  refs #SWRGROUTER-4846
remote:
remote:
remote:   include/net/netfilter/nf_conntrack.h |   3 +-
remote:   include/net/netns/conntrack.h        |  11 +-
remote:   net/netfilter/nf_conntrack_core.c    | 141 +++++++++++----
remote:   net/netfilter/nf_conntrack_helper.c  |  11 +-
remote:   net/netfilter/nf_conntrack_netlink.c |  81 +++++----
remote:   5 files changed, 168 insertions(+), 79 deletions(-)
remote:  ;brouer@redhat.com;2016-08-10 11:33:51 -0400;cb5e962ef6e95da0fe3f40778392b66eb5a02b78;SWRGROUTER-4846 RG reboots due to the watchdog firing when running traffic test (kernel.org commit id b476b72a0f8514a5a4c561bab731ddd506a284e7);
remote:  netfilter: trivial code cleanup and doc changes
remote:
remote:  Changes while reading through the netfilter code.
remote:
remote:  Added hint about how conntrack nf_conn refcnt is accessed.
remote:  And renamed repl_hash to reply_hash for readability
remote:
remote:  Signed-off-by: Jesper Dangaard Brouer <brouer@redhat.com>
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Reviewed-by: Florian Westphal <fw@strlen.de>
remote:  Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
remote:
remote:  refs #SWRGROUTER-4846
remote:
remote:
remote:   include/net/netfilter/nf_conntrack.h |  8 ++++++-
remote:   net/netfilter/nf_conntrack_core.c    | 20 ++++++++--------
remote:   net/netfilter/nf_conntrack_expect.c  |  2 +-
remote:   3 files changed, 18 insertions(+), 12 deletions(-)
remote:  ;rp888308@broadcom.com;2016-08-10 10:57:53 -0400;51f01c29206abc10871f597bd693f8c466176253;SWRGROUTER-4846 RG reboots due to the watchdog firing when running traffic test;
remote:  1. Get status only for the promoted flow and TCP flows with established state
remote:  2. Add 2way or 3way handshake run-time option for nf_conntrack (default 2way handshake)
remote:  3. Disable keep master alive logic for slave connections
remote:
remote:  refs #SWRGROUTER-4846
remote:
remote:
remote:   drivers/bcm_media_gw/flowmgr/flowmgr.h |  2 +
remote:   .../flowmgr/flowmgr_core.c             | 64 +++++++++++++-
remote:   .../bcm_media_gw/flowmgr/flowmgr_fap.c | 10 +--
remote:   .../netfilter/nf_conntrack_offload.h   |  2 +-
remote:   4 files changed, 69 insertions(+), 9 deletions(-)
remote:  ;enderby@lc-atl-221.atl.broadcom.com;2016-08-09 17:03:32 -0400;d61f6cfee6030469f1a30b507018d08f66eba3c9;SWRGROUTER-4896:Add DT bindings documentation for GFAP driver.;
remote:  Added in GFAP DT bindings documentation.
remote:
remote:  refs #SWRGROUTER-4896
remote:
remote:
remote:   .../bindings/bcm_media_gw/gfap.txt     | 33 ++++++++++++++
remote:   1 file changed, 33 insertions(+)
remote:  ;czacker@broadcom.com;2016-08-09 12:48:41 -0700;6eb030188d5196ba13fe25f536d0154acb97278e;SWRGROUTER-5362: Need to make sure pause frames are NOT enabled on IMP ports but are enabled on LAN facing Ethernet ports;
remote:  refs #SWRGROUTER-5362
remote:
remote:
remote:   drivers/bcm_media_gw/ethsw/ethsw_core.c | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;czacker@broadcom.com;2016-08-09 11:28:24 -0700;c35ed7d129787eb231ed298126d6191f086d12d3;SWRGROUTER-5362: Need to make sure pause frames are NOT enabled on IMP ports but are enabled on LAN facing Ethernet ports;
remote:  refs #SWRGROUTER-5362
remote:
remote:
remote:   .../bcm_media_gw/ethsw/ethsw_core.c    | 17 +++++++-------
remote:   .../bcm_media_gw/ethsw/ethsw_core.h    |  2 +-
remote:   2 files changed, 9 insertions(+), 10 deletions(-)
remote:  ;apang@broadcom.com;2016-08-08 13:52:50 -0700;01a086993585d1905720d2765ac2ff9dad708eec;SWRGROUTER-5225: Update feat_612_MDMadv branch to latest;
remote:  re-sync feat_612_MDMadv to develop
remote:
remote:  refs #SWRGROUTER-5225
remote:  NOSANITY#
remote:
remote:  Merge remote branch 'origin/develop' into feat_612_MDMadv
remote:
remote:  ;robey@broadcom.com;2016-08-08 16:45:08 -0400;62a991dd6ec270913273ad384096bbff957de38d;SWRGROUTER-5253 Temporarily disable netxl in the build;
remote:  Reenable netxl now tha thte nightly builds have been fixed by setting the default in Kconfig to m.
remote:
remote:  refs #SWRGROUTER-5253
remote:
remote:
remote:   drivers/bcm_media_gw/Kconfig | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;tross@broadcom.com;2016-08-08 15:24:44 -0400;02820c6b9e23b04d6b7b4b2446a5eddd0d56d9b1;SWRGROUTER-5357: DQNET: Add support to set Ethernet port parameters via ethtool;
remote:  Added ethtool_ops.set_settings support to dqnet.
remote:
remote:  refs #SWRGROUTER-5357
remote:
remote:
remote:   .../bcm_media_gw/dqnet/dqnet_ethsw.c   | 71 +++++++---
remote:   .../bcm_media_gw/dqnet/dqnet_ethtool.c | 96 +++++++-------
remote:   .../bcm_media_gw/dqnet/dqnet_priv.h    |  1 +
remote:   .../bcm_media_gw/dqnet/dqnet_switch.c  | 12 +-
remote:   .../bcm_media_gw/dqnet/dqnet_switch.h  |  4 +-
remote:   drivers/bcm_media_gw/ethsw/ethsw_api.c |  2 +
remote:   6 files changed, 111 insertions(+), 75 deletions(-)
remote:  ;ddjurovic@broadcom.com;2016-08-05 15:01:13 -0700;41dfe0519f26e79119a917d7660f83d84c95e063;SWRGROUTER-4514: Perform periodic develop to feat_PowerManagement merges;
remote:  Perform periodic develop to feat_PowerManagement merges
remote:
remote:  refs #SWRGROUTER-4514
remote:
remote:  NOSANITY#
remote:
remote:  Merge tag 'NB_develop_16-08-04_FAILED' into feat_PowerManagement
remote:
remote:  Nightly Build Tag 2016-08-04
remote:
remote:  ;jayeshp@broadcom.com;2016-08-04 14:24:27 -0400;d8fd7228adaa6e06c0f7717646cea726e3510ee9;SWRGROUTER-4512: Add support for passing SKB's to/from HW;
remote:  Updates after code review.
remote:
remote:  refs #SWRGROUTER-4512
remote:
remote:
remote:   .../bcm_media_gw/dqnet/dqnet_qmsg.c    | 74 +++++++-------
remote:   .../bcm_media_gw/dqskb/dqskb_core.c    | 23 +----
remote:   .../bcm_media_gw/include/bcmcache.h    | 56 ++++++++++
remote:   .../bcm_media_gw/include/bcmnethooks.h | 26 +----
remote:   drivers/bcm_media_gw/mdqm/mdqm_core.c  |  2 +-
remote:   .../uapi/linux/bcm_media_gw/msgfifo.h  | 37 ++++---
remote:   6 files changed, 118 insertions(+), 100 deletions(-)
remote:  ;tross@broadcom.com;2016-08-04 14:06:35 -0400;8d10e435d9df5075fd2de3bbe2d5eed7547e1361;SWRGROUTER-5329: Disable pause packet generation;
remote:  Temporarily disable switch pause packet generation until a proper
remote:  solution can be determined.
remote:
remote:  refs #SWRGROUTER-5329
remote:
remote:
remote:   drivers/bcm_media_gw/ethsw/ethsw_core.c | 12 ++++++------
remote:   1 file changed, 6 insertions(+), 6 deletions(-)
remote:  ;tross@broadcom.com;2016-08-04 13:58:49 -0400;bfcbcd957a7f89da70e6c8cf5c722c9370deefdd;SWRGROUTER-5328: DQNET: Failure to remove BRCM tag results in SKB leak;
remote:  Free SKB if call to dqnet_rm_brcm_tag fails.
remote:
remote:  refs #SWRGROUTER-5328
remote:
remote:
remote:   drivers/bcm_media_gw/dqnet/dqnet_core.c | 10 ++++++++--
remote:   1 file changed, 8 insertions(+), 2 deletions(-)
remote:  ;petersu@broadcom.com;2016-08-03 18:42:33 -0400;a70b65f30d749941f19e04f19e5783200670eef3;SWRGROUTER-4885: wait if chip ready bit is not on - bug in silicon;
remote:  refs #SWRGROUTER-4885
remote:
remote:
remote:   drivers/mtd/nand/brcmstb_nand.c | 21 +++++++++++++++++----
remote:   1 file changed, 17 insertions(+), 4 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-08-03 13:14:00 -0400;e5f95aea26080513dbde1dfa43214c603b16c1d5;SWRGROUTER-5310: SFAP support broken after NetXL update for 3390;
remote:  Use SKB based SFAP for 3390.
remote:  Enable bulding SFAP as lodable module.
remote:
remote:  refs #SWRGROUTER-5310
remote:
remote:
remote:   drivers/bcm_media_gw/Kconfig                    | 4 ++--
remote:   drivers/bcm_media_gw/flowmgr/Makefile           | 4 ++--
remote:   drivers/bcm_media_gw/flowmgr/flowmgr_sfap_ops.c | 1 +
remote:   3 files changed, 5 insertions(+), 4 deletions(-)
remote:  ;ptimariu@broadcom.com;2016-08-02 17:25:23 -0700;941edfbe909bf0118c42e54022beb809e14831c1;SWRGROUTER-5265: 3390B0 - Wifi: Data path not working;
remote:  Fix 3390 base device tree; revert HWM value change to queue 56
remote:
remote:  refs #SWRGROUTER-5265
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;jayeshp@broadcom.com;2016-07-31 22:14:18 -0400;3c74d48a24e2e6706205254374fe87fff627b252;SWRGROUTER-1886: Runner GRE termination & FlowMgr GRE v4;
remote:  Fix bug in adding IP flows through flowmgr proc interface for Runner.
remote:
remote:  refs #SWRGROUTER-1886
remote:
remote:
remote:   .../flowmgr/flowmgr_core.c             | 26 ++----
remote:   .../flowmgr/flowmgr_procfs.c           | 60 ++++++++++++--
remote:   .../flowmgr/flowmgr_tunnel.c           | 10 +++
remote:   3 files changed, 70 insertions(+), 26 deletions(-)
remote:  ;robey@broadcom.com;2016-07-29 11:23:51 -0700;27b7a34d3668adca3319d4cbc3a1de307121b7ca;SWRGROUTER-5253 Temporarily disable netxl in the build;
remote:  Temporarily disable nextxl so that the nightly build succeeds by setting the default in Kconfig to n.
remote:
remote:  refs #SWRGROUTER-5253
remote:
remote:
remote:   drivers/bcm_media_gw/Kconfig | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;czacker@broadcom.com;2016-07-28 14:57:17 -0700;cfd34cd2586f8c660000a841617cf2eece9dd844;SWRGROUTER-5256: Ethernet drops packets while running LAN->WAN    traffic from 2 ethernet ports;
remote:  refs #SWRGROUTER-5256
remote:
remote:
remote:   drivers/bcm_media_gw/ethsw/ethsw_core.h | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;czacker@broadcom.com;2016-07-28 13:14:06 -0700;e0cbf1e457f632dd980e1d1400bd96603d0b0bea;SWRGROUTER-5258: Ethsw MIB command has problems with invalid inputs;
remote:  refs #SWRGROUTER-5258
remote:
remote:
remote:   drivers/bcm_media_gw/ethsw/ethsw_core.c | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;skern@broadcom.com;2016-07-28 08:10:53 -0700;fdafa516a1b81850203fac39d076407b7f7efde7;SWRGROUTER-4514: Perform periodic develop to feat_PowerManagement merges;
remote:  Perform periodic develop to feat_PowerManagement merges
remote:
remote:  refs #SWRGROUTER-4514
remote:  NOSANITY#
remote:
remote:  Merge tag 'NB_develop_16-07-27_FAILED' into feat_PowerManagement
remote:
remote:  Nightly Build Tag 2016-07-27
remote:
remote:  ;robey@broadcom.com;2016-07-27 19:04:48 -0400;d62176eb2aa16b80ff12facc8974bb636d17c4d4;SWRGROUTER-5253 Temporarily disable netxl in the build;
remote:  Temporarily disable nextxl so that the nightly build succeeds by setting the default in Kconfig to n.
remote:
remote:  refs #SWRGROUTER-5253
remote:
remote:
remote:   drivers/bcm_media_gw/Kconfig | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;tross@broadcom.com;2016-07-27 16:53:50 -0400;78fd28e985c209a2ae6db158232ecdee5f3c2ad7;SWRGROUTER-4667: FPM buffer pool depletion when RG connected to external switch;
remote:  Add dqnet support for STP and enable STP in br0.
remote:
remote:  refs #SWRGROUTER-4667
remote:
remote:
remote:   .../bcm_media_gw/dqnet/dqnet_core.c    | 21 +++++
remote:   .../bcm_media_gw/dqnet/dqnet_ethsw.c   | 17 +++-
remote:   .../bcm_media_gw/dqnet/dqnet_switch.c  | 11 ++-
remote:   .../bcm_media_gw/dqnet/dqnet_switch.h  |  2 +
remote:   drivers/bcm_media_gw/ethsw/ethsw.h     |  2 +
remote:   drivers/bcm_media_gw/ethsw/ethsw_api.c | 21 +++++
remote:   .../bcm_media_gw/ethsw/ethsw_core.c    | 58 ++++++++++++++
remote:   .../bcm_media_gw/ethsw/ethsw_core.h    |  7 ++
remote:   .../bcm_media_gw/ethsw/ethsw_priv.h    |  3 +
remote:   9 files changed, 140 insertions(+), 2 deletions(-)
remote:  ;akatre@broadcom.com;2016-07-25 14:52:39 -0700;727582aeebf883a4c24ec2a8359a35e79f488cc7;WiFi: "FPM Pool 0: pool full" errors while running concurrent traffic through both wifi radios.;
remote:  Minor coding style changes as per review.
remote:
remote:  refs #SWRGROUTER-4337
remote:
remote:
remote:   drivers/bcm_media_gw/fpm/fpm_core.c | 3 ++-
remote:   drivers/bcm_media_gw/fpm/fpm_priv.h | 2 +-
remote:   2 files changed, 3 insertions(+), 2 deletions(-)
remote:  ;tross@broadcom.com;2016-07-25 15:39:22 -0400;e80a498475d6f7d24f5fef5d1b6de902113f5a24;SWRGROUTER-4821: Add support for BCM93390WVG design;
remote:  Added 3390B0-WVG, 3390Z0-WVG, and 3390C0-WVG DT files.
remote:
remote:  refs #SWRGROUTER-4821
remote:
remote:
remote:   arch/arm/boot/dts/Makefile          |  3 ++
remote:   arch/arm/boot/dts/rg.3390b0-wvg.dts | 38 ++++++++++++++++
remote:   arch/arm/boot/dts/rg.3390c0-wvg.dts | 39 +++++++++++++++++
remote:   arch/arm/boot/dts/rg.3390z0-wvg.dts | 34 ++++++++++++++
remote:   4 files changed, 114 insertions(+)
remote:  ;rp888308@broadcom.com;2016-07-22 16:26:16 -0400;ef2fbd870fc286fbf930ce5543601b8c96d484e4;SWRGROUTER-4008 Periodic traffic dropouts during bidirectional FTP test;
remote:  Fixing fast_death_timeout unit from second to jiffies
remote:
remote:  refs #SWRGROUTER-4008
remote:
remote:  (cherry picked from commit  1ee8aaec69a21826120e2699ebed4ae1ed69e4f0)
remote:
remote:
remote:   drivers/bcm_media_gw/flowmgr/flowmgr_core.c | 4 ++--
remote:   1 file changed, 2 insertions(+), 2 deletions(-)
remote:  ;skern@broadcom.com;2016-07-22 10:34:19 -0700;698f5e18cfed8a97f786185abb777a1a580bab25;SWRGROUTER-4514: Perform periodic develop to feat_PowerManagement merges;
remote:  Perform periodic develop to feat_PowerManagement merges
remote:
remote:  refs #SWRGROUTER-4514
remote:  NOSANITY#
remote:
remote:  Merge remote-tracking branch 'origin/develop' into feat_PowerManagement
remote:
remote:  Conflicts:
remote:  	arch/arm/boot/dts/rg.3390-base.dtsi
remote:
remote:  ;jayeshp@broadcom.com;2016-07-21 15:13:51 -0400;4ad845bed3e54b81fa8a2702669822ce1b937d4e;SWRGROUTER-5206: Merge branch feat_611_NETXL into develop;
remote:  Fix 3384 device tree files with new value for q-msg-fmt.
remote:
remote:  refs #SWRGROUTER-5206
remote:
remote:
remote:   arch/mips/boot/dts/bcm33843mwvg_mgw_zephyr.dtsi | 4 ++--
remote:   arch/mips/boot/dts/bcm33843pon_zephyr.dtsi      | 4 ++--
remote:   arch/mips/boot/dts/bcm3384_mgw_viper.dtsi       | 4 ++--
remote:   arch/mips/boot/dts/bcm3384_mgw_zephyr.dtsi      | 4 ++--
remote:   arch/mips/boot/dts/bcm3384pon_zephyr.dtsi       | 4 ++--
remote:   5 files changed, 10 insertions(+), 10 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-07-20 17:07:33 -0400;cbd4e4ac161d7327b1edf49918a8a8d5cea3c139;SWRGROUTER-4977: Merge branch 'develop' into feat_611_NETXL;
remote:  Merge remote-tracking branch 'origin/develop' into feat_611_NETXL
remote:
remote:  refs #SWRGROUTER-4977
remote:  NOSANITY#
remote:
remote:  ;czacker@broadcom.com;2016-07-15 10:16:31 -0700;0a797baafcef2c925660bce1bfe300942a80d33d;SWRGROUTER-5108: BCM3384 needs to detect new chipids of the 53134 ethernet switch chip;
remote:  refs #SWRGROUTER-5108
remote:
remote:
remote:   .../bcm_media_gw/ethsw/ethsw_3384.c    | 18 +++++++++++---
remote:   .../bcm_media_gw/ethsw/ethsw_priv.h    |  3 +++
remote:   2 files changed, 18 insertions(+), 3 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-07-14 15:53:20 -0400;acc921a4725616c57dad2ee5a122c596c713d317;SWRGROUTER-5160 FLOWMGR: Mismatch in create/delete counters;
remote:  Made all counters atomic.
remote:  Fix bug in deleting flow with index=0.
remote:
remote:  refs #SWRGROUTER-5160
remote:
remote:
remote:   drivers/bcm_media_gw/flowmgr/flowmgr.h | 26 ++++-----
remote:   .../flowmgr/flowmgr_core.c             | 28 +++++-----
remote:   .../bcm_media_gw/flowmgr/flowmgr_fap.c | 39 +++++++-------
remote:   3 files changed, 47 insertions(+), 46 deletions(-)
remote:  ;skern@broadcom.com;2016-07-13 17:24:04 -0700;71d6b10b642ab215c4ec35fbd3a2e6e2ccfdce41;SWRGROUTER-4514: Perform periodic develop to feat_PowerManagement merges;
remote:  Perform periodic develop to feat_PowerManagement merges
remote:
remote:  refs #SWRGROUTER-4514
remote:  NOSANITY#
remote:
remote:  Merge tag 'NB_develop_16-07-12_FAILED' into feat_PowerManagement
remote:
remote:  Nightly Build Tag 2016-07-12
remote:
remote:  ;jayeshp@broadcom.com;2016-07-13 16:22:26 -0400;6efe2cb5ce74f6c7238f407b5ee3cb869c4dab4d;SWRGROUTER-4512: Add support for passing SKB's to/from HW;
remote:  Update based on code review comment.
remote:  Display stats for nethooks.
remote:
remote:  refs #SWRGROUTER-4512
remote:
remote:
remote:   drivers/bcm_media_gw/Kconfig           | 10 +++----
remote:   drivers/bcm_media_gw/dqm/dqm_core.c    | 19 --------------
remote:   drivers/bcm_media_gw/dqm/dqm_hw.h      | 14 ----------
remote:   .../bcm_media_gw/dqnet/dqnet_brcmtag.c |  1 -
remote:   .../bcm_media_gw/dqnet/dqnet_core.c    |  8 ++++++
remote:   .../bcm_media_gw/dqnet/dqnet_priv.h    |  2 +-
remote:   .../bcm_media_gw/dqnet/dqnet_procfs.c  |  8 ++++--
remote:   .../bcm_media_gw/include/bcmnethooks.h |  6 ++++-
remote:   .../uapi/linux/bcm_media_gw/msgfifo.h  |  4 ---
remote:   9 files changed, 25 insertions(+), 47 deletions(-)
remote:  ;czacker@broadcom.com;2016-07-13 06:48:12 -0700;a11be40e117804603c90427d57a8b45751f89725;SWRGROUTER-4465: Need to loop over ALL of the devices for ethernet instead of just 0 thru 3, we need to make sure we include the max to cover the 52124 switch case;
remote:  refs #SWRGROUTER-4465
remote:
remote:
remote:   drivers/bcm_media_gw/ethsw/ethsw_phy.c | 4 +++-
remote:   1 file changed, 3 insertions(+), 1 deletion(-)
remote:  ;jayeshp@broadcom.com;2016-07-12 11:44:12 -0400;b02b2d0ea211358cea2e412896e4452145049baa;SWRGROUTER-4512: Add support for passing SKB's to/from HW;
remote:  MDQM driver: If rx handler consumes PD then don't call other handlers in the chain.
remote:
remote:  refs #SWRGROUTER-4512
remote:
remote:
remote:   drivers/bcm_media_gw/mdqm/mdqm_core.c | 2 ++
remote:   1 file changed, 2 insertions(+)
remote:  ;jayeshp@broadcom.com;2016-07-12 09:39:41 -0400;6085f1e75583017f96b8a523fc490601a5557bbf;SWRGROUTER-4512: Add support for passing SKB's to/from HW;
remote:  For wifi interfaces, use dqm exception channel from other interface
remote:  since there is no dt node for wifi interface.
remote:
remote:  refs #SWRGROUTER-4512
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi    | 50 --------------
remote:   .../bcm_media_gw/dqnet/dqnet_core.c    | 17 ++++-
remote:   2 files changed, 15 insertions(+), 52 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-07-11 14:31:57 -0400;47d39ce5e8f2ad757fc284db94ebcb02907de53d;SWRGROUTER-4512: Add support for passing SKB's to/from HW;
remote:  Increase size for skb recycle and prealloc queues.
remote:
remote:  refs #SWRGROUTER-4512
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi | 4 ++--
remote:   1 file changed, 2 insertions(+), 2 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-07-11 14:30:08 -0400;38354ead5403b98a305483e57c947ecd70ef159e;SWRGROUTER-4512: Add support for passing SKB's to/from HW;
remote:  Make exception path FPM based by default.
remote:
remote:  refs #SWRGROUTER-4512
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;jayeshp@broadcom.com;2016-07-11 11:04:55 -0400;16ab96d98cee46d7beea3841129cab21f8397487;SWRGROUTER-4977: Merge branch 'develop' into feat_611_NETXL;
remote:  Merge remote-tracking branch 'origin/develop' into feat_611_NETXL
remote:
remote:  refs #SWRGROUTER-4977
remote:  NOSANITY#
remote:
remote:  ;jayeshp@broadcom.com;2016-07-07 09:58:28 -0400;424920f51f144724b8b6eff56b999245e3423ee9;SWRGROUTER-4977: Merge branch 'develop' into feat_611_NETXL;
remote:  refs #SWRGROUTER-4977
remote:  NOSANITY#
remote:
remote:  Merge branch 'develop' into feat_611_NETXL
remote:
remote:  # Conflicts:
remote:  #	drivers/bcm_media_gw/dqnet/dqnet_core.c
remote:  #	drivers/bcm_media_gw/dqnet/dqnet_priv.h
remote:
remote:  ;csoto@broadcom.com;2016-07-06 17:49:41 -0400;d8ad3e7e0fc10a17ba25972eeb19cde23f3f4e96;SWRGROUTER-4974: USB throughput on 3390B0 is low;
remote:  Due to invalid register area lengths in device tree nodes for USB,
remote:  the high speed and super speed USB drivers were failing to initialize.
remote:  This left USB2.0 and USB3.0 devices operating at USB1.0 speeds and
remote:  thereby being limited to ~1MB/s write speed.
remote:
remote:  Modified the register area lengths for multiple device tree nodes that
remote:  were too big by 4 bytes.  This includes not only USB nodes, but also
remote:  other register lenths for PCIe, GPIO, SDHCI, SPI, etc.
remote:
remote:  refs #SWRGROUTER-4974
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390b0-bolt.dtsi | 96 +++++++--------
remote:   1 file changed, 48 insertions(+), 48 deletions(-)
remote:  ;twhite@cm-irv-1.irv.broadcom.com;2016-07-06 10:51:35 -0700;ccfdddabf57470a8bc09688ab3e636d28faaffc7;SWRGROUTER-4470: GFAP Multicast;
remote:  Corrected GFAP Multicast API calls for configuring multicast flows on WiFi guest networks.
remote:
remote:  refs #SWRGROUTER-4470
remote:
remote:
remote:   .../bcm_media_gw/flowmgr/flowmgr_fap.c |  5 +-
remote:   .../flowmgr/flowmgr_gfap_ops.c         | 22 ++--
remote:   .../gfap/3384b0/BcmGfapApi_3384.c      | 93 +++++++++++++-
remote:   3 files changed, 104 insertions(+), 16 deletions(-)
remote:  ;twhite@cm-irv-1.irv.broadcom.com;2016-07-05 16:33:32 -0700;d1598bd08fa9edd373816e6d54cdb622b912440a;SWRGROUTER-4533: GFAP Multicast;
remote:  When allocating an FPM token, the GFAP 4KE code was not accounting for
remote:  the extra space needed for WiFi context info used by wler
remote:
remote:  refs #SWRGROUTER-4533
remote:
remote:
remote:   .../gfap/3384b0/gfap_binary_3384.h     | 2619 ++++++------
remote:   1 file changed, 1311 insertions(+), 1308 deletions(-)
remote:  ;twhite@cm-irv-1.irv.broadcom.com;2016-07-05 15:12:45 -0700;e8bee955af7e1a9da10fd12eb41eed5d735d89f7;SWRGROUTER-5091: GFAP;
remote:  Fixed a possible GFAP 4KE exception during NatCache initialization.
remote:
remote:  refs #SWRGROUTER-5091
remote:
remote:
remote:   .../gfap/3384b0/gfap_binary_3384.h     | 3030 ++++++------
remote:   1 file changed, 1515 insertions(+), 1515 deletions(-)
remote:  ;enderby@lc-atl-221.atl.broadcom.com;2016-07-01 12:22:15 -0400;f2a7873518efb0bc84aef14e4b305582e95e122e;SWRGROUTER-2747:3384 Use regulators for GPIO power control for MOCA;
remote:  Added regulator node for moca and removed gpio power from bbsi node
remote:
remote:  refs #SWRGROUTER-2747
remote:
remote:
remote:   arch/mips/boot/dts/bcm93384mwvg.dts | 16 ++++++++++------
remote:   1 file changed, 10 insertions(+), 6 deletions(-)
remote:  ;enderby@lc-atl-221.atl.broadcom.com;2016-06-27 17:52:40 -0400;94d4ae1c0ee6bae34c4965bddbe7eb7268e3fb93;SWRGROUTER-2947:RG is Receiving Unregisted RPC Messages (4:3);
remote:  Changed print to not a warning and indicate queued for later.
remote:
remote:  refs #SWRGROUTER-2947
remote:
remote:
remote:   drivers/bcm_media_gw/itc_rpc/itc_rpc_core.c | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;jayeshp@broadcom.com;2016-06-24 14:42:45 -0400;a6a306252b0612cd7fa8e2439d613e4c63d9e3fc;SWRGROUTER-4512: Add support for passing SKB's to/from HW;
remote:  Clean up and file header update.
remote:
remote:  refs #SWRGROUTER-4512
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi    | 75 +++++++-------
remote:   drivers/bcm_media_gw/mdqm/mdqm.h       |  4 +-
remote:   drivers/bcm_media_gw/mdqm/mdqm_core.c  |  4 +-
remote:   drivers/bcm_media_gw/mdqm/mdqm_dev.h   |  4 +-
remote:   .../bcm_media_gw/mdqm/mdqm_procfs.c    |  8 +-
remote:   5 files changed, 52 insertions(+), 43 deletions(-)
remote:  ;skern@broadcom.com;2016-06-23 17:57:33 -0700;24fe5be650ced5ce73749a7d0f09e08d93e0d6b4;SWRGROUTER-4825: Perform periodic develop to feat_MAP merges;
remote:  Perform periodic develop to feat_MAP merges
remote:
remote:  refs #SWRGROUTER-4825
remote:  NOSANITY#
remote:
remote:  ;jayeshp@broadcom.com;2016-06-23 15:08:43 -0400;d6a04504a3cb31e1956f4911ccdb466644dd96c8;SWRGROUTER-4512: Add support for passing SKB's to/from HW;
remote:  MDQM driver: Fix bug in dequeue pd from multiple queues.
remote:
remote:  refs #SWRGROUTER-4512
remote:
remote:
remote:   drivers/bcm_media_gw/mdqm/mdqm_core.c | 39 ++++++++++-----
remote:   1 file changed, 26 insertions(+), 13 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-06-23 00:00:34 -0400;f595a32e3d210337da48af384c1a6988da34384f;SWRGROUTER-4512: Add support for passing SKB's to/from HW;
remote:  DQSKB: SKB allocated using dev_alloc_skb are not freed properly by wifi driver for TX path.
remote:  Use alloc_skb instead.
remote:
remote:  refs #SWRGROUTER-4512
remote:
remote:
remote:   drivers/bcm_media_gw/dqskb/dqskb_core.c | 3 ++-
remote:   1 file changed, 2 insertions(+), 1 deletion(-)
remote:  ;jaydenku@broadcom.com;2016-06-23 09:27:16 +0800;bcad11fe5181437003648daf2dcacae4d85fd2d5;SWRGROUTER-4841: Implement WDS for WLEROUTER+WLEROUTER_GFAP with 3384/33843+4360;
remote:  refs #SWRGROUTER-4841
remote:
remote:
remote:   drivers/bcm_media_gw/dqnet/dqnet_core.c | 6 ++++--
remote:   1 file changed, 4 insertions(+), 2 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-06-22 16:30:06 -0400;3ff6da116cbb12741d4260cddead6edfd5f73c22;SWRGROUTER-4977: Merge branch 'develop' into feat_611_NETXL;
remote:  Merge from commit a623d84fef31b7e801ac15561ae14bc43a745770
remote:
remote:  refs #SWRGROUTER-4977
remote:
remote:
remote:   .../bindings/bcm_media_gw/bpcm.txt     | 77 ++++++++++++
remote:   .../bindings/bcm_media_gw/fpm.txt      | 86 ++++++++++++++
remote:   .../bindings/bcm_media_gw/pmb.txt      | 86 ++++++++++++++
remote:   .../bcm_media_gw/dqnet/dqnet_core.c    | 28 +++--
remote:   .../dqnet/dqnet_ethstats.c             |  6 +-
remote:   .../bcm_media_gw/dqnet/dqnet_priv.h    | 11 +-
remote:   .../bcm_media_gw/dqnet/dqnet_procfs.c  |  6 +-
remote:   .../bcm_media_gw/ethsw/ethsw_3390.c    | 25 +++-
remote:   .../bcm_media_gw/ethsw/ethsw_core.c    |  2 -
remote:   drivers/bcm_media_gw/gfap/gFapConfig.h |  6 +-
remote:   .../bcm_media_gw/include/bcmnethooks.h | 19 +--
remote:   11 files changed, 317 insertions(+), 35 deletions(-)
remote:  ;tross@broadcom.com;2016-06-22 15:36:44 -0400;a623d84fef31b7e801ac15561ae14bc43a745770;SWRGROUTER-4941: Battery: Lots of Oops during Power Transition test;
remote:  When dqnet attempted to send a packet to a full Q it would incorrectly
remote:  add the device to the tx_busy list which would corrupt the ndevs
remote:  list.
remote:
remote:  Added missing rcu_read_lock/unlock calls in dqnet_ethstats_start
remote:
remote:  Corrected use of ndev->name to ndev->dev->name.
remote:
remote:  Replace spinlock around rcu list search in bcm_nethook_enable_hook with
remote:  proper rcu_read_lock.
remote:
remote:  refs #SWRGROUTER-4941
remote:
remote:
remote:   .../bcm_media_gw/dqnet/dqnet_core.c    | 27 ++++++++------
remote:   .../dqnet/dqnet_ethstats.c             | 10 +++--
remote:   .../bcm_media_gw/dqnet/dqnet_priv.h    | 13 ++++---
remote:   .../bcm_media_gw/dqnet/dqnet_procfs.c  |  8 ++--
remote:   .../bcm_media_gw/include/bcmnethooks.h | 19 +++++-----
remote:   5 files changed, 44 insertions(+), 33 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-06-22 10:08:26 -0400;84ad2660d35e952269d34f15825d1b9cd0b45a10;SWRGROUTER-4512: Add support for passing SKB's to/from HW;
remote:  Add API to return dqm queue id.
remote:
remote:  refs #SWRGROUTER-4512
remote:
remote:
remote:   drivers/bcm_media_gw/mdqm/mdqm.h      |  1 +
remote:   drivers/bcm_media_gw/mdqm/mdqm_core.c | 31 ++++++++++++++-
remote:   drivers/bcm_media_gw/mdqm/mdqm_dev.h  |  2 +-
remote:   3 files changed, 32 insertions(+), 2 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-06-21 18:07:36 -0400;aa8f03b50b62f91601bf68f4053b997619525085;SWRGROUTER-4512: Add support for passing SKB's to/from HW;
remote:  Increaase max user.
remote:
remote:  refs #SWRGROUTER-4512
remote:
remote:
remote:   drivers/bcm_media_gw/mdqm/mdqm_dev.h | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;jayeshp@broadcom.com;2016-06-21 16:26:20 -0400;913926f068ebae6c808c83aa6147dd5573af33d4;SWRGROUTER-4512: Add support for passing SKB's to/from HW;
remote:  Fix bug in mdqm_register function.
remote:
remote:  refs #SWRGROUTER-4512
remote:
remote:
remote:   drivers/bcm_media_gw/mdqm/mdqm_core.c | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;jayeshp@broadcom.com;2016-06-21 13:51:30 -0400;0f84a31ebdf30dd50bb77b698769a691cb9f49b6;SWRGROUTER-4512: Add support for passing SKB's to/from HW;
remote:  Remove code for reserving headroom in sk_buff.
remote:
remote:  refs #SWRGROUTER-4512
remote:
remote:
remote:   .../bcm_media_gw/dqnet/dqnet_brcmtag.c |  2 +-
remote:   .../bcm_media_gw/dqskb/dqskb_core.c    | 51 +++++++-------
remote:   net/core/skbuff.c                      |  8 +--
remote:   3 files changed, 30 insertions(+), 31 deletions(-)
remote:  ;czacker@broadcom.com;2016-06-21 06:33:33 -0700;57181bdf3efac91de4f031b117e250606c8f50ff;SWRGROUTER-4739: Need to fuly reset ethernet switch chip upon application start;
remote:  refs #SWRGROUTER-4739
remote:
remote:
remote:   .../bcm_media_gw/ethsw/ethsw_3390.c    | 25 +++++++++++++-
remote:   .../bcm_media_gw/ethsw/ethsw_core.c    |  2 --
remote:   2 files changed, 24 insertions(+), 3 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-06-17 10:51:26 -0400;696d8ead060aa7d6838a1e62f19042b74c587410;SWRGROUTER-4512: Add support for passing SKB's to/from HW;
remote:  DQSKB driver as builtin driver.
remote:  DQSKB driver clean up.
remote:  Remove spinlock/unlock from dqm_reg_read/write.
remote:  DQNET brcm tag add/remove memmove optimization.
remote:  Remove from DQSKB recycle queue when packet is send to Runner.
remote:  Add to DQSKB pre-alloc queue when packet is received from Runner.
remote:
remote:  refs #SWRGROUTER-4512
remote:
remote:
remote:   .../bcm_media_gw/dqnet/dqnet_core.c    |  5 ++-
remote:   drivers/bcm_media_gw/dqskb/dqskb.h     |  2 +
remote:   .../bcm_media_gw/dqskb/dqskb_core.c    | 32 +++++++++++++-
remote:   3 files changed, 36 insertions(+), 3 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-06-16 18:12:15 -0400;08e807f9cb65becfe7bce77ec06812383119aab5;SWRGROUTER-4512: Add support for passing SKB's to/from HW;
remote:  DQSKB driver as builtin driver.
remote:  DQSKB driver clean up.
remote:  Remove spinlock/unlock from dqm_reg_read/write.
remote:  DQNET brcm tag add/remove memmove optimization.
remote:  Remove from DQSKB recycle queue when packet is send to Runner.
remote:  Add to DQSKB pre-alloc queue when packet is received from Runner.
remote:
remote:  refs #SWRGROUTER-4512
remote:
remote:
remote:   drivers/bcm_media_gw/Kconfig           |   2 +-
remote:   drivers/bcm_media_gw/dqm/dqm_hw.h      |  24 +-
remote:   drivers/bcm_media_gw/dqnet/Makefile    |   1 +
remote:   .../bcm_media_gw/dqnet/dqnet_brcmtag.c |  24 +-
remote:   .../bcm_media_gw/dqnet/dqnet_core.c    |  58 +---
remote:   drivers/bcm_media_gw/dqskb/dqskb.h     |  40 +--
remote:   .../bcm_media_gw/dqskb/dqskb_core.c    | 176 ++-----------
remote:   drivers/bcm_media_gw/dqskb/dqskb_dt.c  |   2 +-
remote:   .../bcm_media_gw/dqskb/dqskb_priv.h    |  68 +++++
remote:   .../bcm_media_gw/include/bcmnethooks.h |  23 ++
remote:   10 files changed, 161 insertions(+), 257 deletions(-)
remote:  ;tross@broadcom.com;2016-06-16 13:39:19 -0400;e5ed5204e93fe377f738e21bbb16dc0e88210c30;SWRGROUTER-4932: SV board won't boot using images from feat_PowerManagement branch.;
remote:  UniMAC was not being powered on boards with EthWAN support.
remote:
remote:  refs #SWRGROUTER-4932
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-ethwan.dtsi | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;tross@broadcom.com;2016-06-14 17:23:01 -0400;685a0b3cecdf694a6f8ea0fff4b83ea341c28c83;SWRGROUTER-4901: Add DT bindings documentation for BPCM driver.;
remote:  Initial documentation.
remote:
remote:  refs #SWRGROUTER-4901
remote:
remote:
remote:   .../bindings/bcm_media_gw/bpcm.txt     | 77 ++++++++++++++
remote:   1 file changed, 77 insertions(+)
remote:  ;tross@broadcom.com;2016-06-14 17:22:12 -0400;ecd818810b9a31fadeac6c9d7b5c8aab8917dfc6;SWRGROUTER-4908: Add DT bindings documentation for PMB driver.;
remote:  Initial documentation.
remote:
remote:  refs #SWRGROUTER-4908
remote:
remote:
remote:   .../bindings/bcm_media_gw/pmb.txt      | 86 ++++++++++++++
remote:   1 file changed, 86 insertions(+)
remote:  ;tross@broadcom.com;2016-06-14 15:54:04 -0400;35091d36515fd552dd484371738932f6ffe8a54b;SWRGROUTER-4895: Add DT bindings documentation for FPM driver.;
remote:  Initial documentation.
remote:
remote:  refs #SWRGROUTER-4895
remote:
remote:
remote:   .../bindings/bcm_media_gw/fpm.txt      | 86 ++++++++++++++
remote:   1 file changed, 86 insertions(+)
remote:  ;jaydenku@broadcom.com;2016-06-14 11:16:24 +0800;5a57e46fc28a207c2d9e987990dba2e9d2edae89;SWRGROUTER-4841: Implement WDS for WLEROUTER+WLEROUTER_GFAP with 3384/33843+4360;
remote:  refs #SWRGROUTER-4841
remote:
remote:
remote:   drivers/bcm_media_gw/dqnet/dqnet_core.c | 5 ++++-
remote:   drivers/bcm_media_gw/gfap/gFapConfig.h  | 6 ++++--
remote:   2 files changed, 8 insertions(+), 3 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-06-09 15:37:11 -0400;3cabb5689767b279423d297ac16571d08f2e96a3;SWRGROUTER-4512: Add support for passing SKB's to/from HW;
remote:  Fix develop merge issues.
remote:
remote:  refs #SWRGROUTER-4512
remote:
remote:
remote:   .../bcm_media_gw/dqnet/dqnet_brcmtag.c    |  4 ++--
remote:   drivers/bcm_media_gw/dqnet/dqnet_core.c   | 11 +----------
remote:   drivers/bcm_media_gw/dqnet/dqnet_priv.h   |  2 +-
remote:   3 files changed, 4 insertions(+), 13 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-06-09 15:37:10 -0400;ae72c5fee955561cab80473901bf655e685336ee;SWRGROUTER-4512: Add support for passing SKB's to/from HW;
remote:  Increase headroom in sk_buff to 128.
remote:  Reserve headroom in sk_buff realloc.
remote:  DQSKB: Dequeue from recylce SKB DQM in blocks of budget.
remote:
remote:
remote:  refs #SWRGROUTER-4512
remote:
remote:
remote:   .../bcm_media_gw/dqnet/dqnet_brcmtag.c | 15 +++-
remote:   .../bcm_media_gw/dqnet/dqnet_core.c    | 55 +++++++++++---
remote:   .../bcm_media_gw/dqnet/dqnet_priv.h    |  3 +-
remote:   .../bcm_media_gw/dqskb/dqskb_core.c    | 22 +++++-
remote:   include/linux/skbuff.h                 |  2 +-
remote:   net/core/skbuff.c                      |  6 +-
remote:   6 files changed, 80 insertions(+), 23 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-06-09 15:37:10 -0400;2b0c32606fb884bca793ff25354f3343fc43aa8b;SWRGROUTER-4206: 6.1.1: Network Driver Acceleration Interface - Implement the driver;
remote:  Save/Restore wifi device netdev ops.
remote:
remote:  refs #SWRGROUTER-4206
remote:
remote:
remote:   .../bcm_media_gw/dqnet/dqnet_core.c    | 14 ++++++++------
remote:   .../bcm_media_gw/dqnet/dqnet_priv.h    |  8 ++++----
remote:   .../bcm_media_gw/dqnet/dqnet_wifi.c    |  2 +-
remote:   3 files changed, 13 insertions(+), 11 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-06-09 15:37:10 -0400;2de0c45087f8d69b7d20961c400deea22ae3868e;SWRGROUTER-4206: 6.1.1: Network Driver Acceleration Interface - Implement the driver;
remote:  Save/Restore wifi device netdev ops.
remote:
remote:  refs #SWRGROUTER-4206
remote:
remote:
remote:   .../bcm_media_gw/dqnet/dqnet_core.c    | 19 ++++++--------
remote:   .../bcm_media_gw/dqnet/dqnet_priv.h    |  2 ++
remote:   .../bcm_media_gw/dqnet/dqnet_wifi.c    |  1 -
remote:   3 files changed, 10 insertions(+), 12 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-06-09 15:37:10 -0400;b3c641a5bcf18775bd8628d158b9bb74bf54340e;SWRGROUTER-4512: Add support for passing SKB's to/from HW;
remote:  dma map/unmap on TX path from RG.
remote:
remote:  refs #SWRGROUTER-4512
remote:
remote:
remote:   .../bcm_media_gw/dqnet/dqnet_core.c    | 21 ++++----------
remote:   .../bcm_media_gw/dqskb/dqskb_core.c    | 20 ++++++++-----
remote:   2 files changed, 19 insertions(+), 22 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-06-09 15:37:10 -0400;0b54d774b08f76e35f92017161d88a31463eae1c;SWRGROUTER-4512: Add support for passing SKB's to/from HW;
remote:  TX path for CM0 is SKB based.
remote:  There is still some issue with Packet size greater than 520.
remote:
remote:  refs #SWRGROUTER-4512
remote:
remote:
remote:   drivers/bcm_media_gw/dqnet/dqnet_core.c    | 4 ++++
remote:   drivers/bcm_media_gw/include/bcmnethooks.h | 7 ++++---
remote:   drivers/bcm_media_gw/mdqm/mdqm_core.c      | 4 ++--
remote:   3 files changed, 10 insertions(+), 5 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-06-09 15:37:10 -0400;05dc5040424b10278b71d37cf69dc62091b0eab2;SWRGROUTER-4723: BCM93384WVG nightly builds failed in feat_611_NETXL-RGLinux on 2016-05-20;
remote:  Fix 3384 build issues.
remote:
remote:  refs #SWRGROUTER-4723
remote:
remote:
remote:   drivers/bcm_media_gw/Kconfig                | 2 +-
remote:   drivers/bcm_media_gw/dqnet/dqnet_core.c     | 4 +++-
remote:   drivers/bcm_media_gw/dqnet/dqnet_gfap_ops.c | 2 +-
remote:   drivers/bcm_media_gw/dqskb/dqskb_core.c     | 8 +++++---
remote:   4 files changed, 10 insertions(+), 6 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-06-09 15:37:09 -0400;a2eb1d0a9a0e7f3cd7dd88116730e2bb63a065f4;SWRGROUTER-4206: 6.1.1: Network Driver Acceleration Interface - Implement the driver;
remote:  Initial implementation of mdqm  (common part of netxl) driver.
remote:
remote:  refs #SWRGROUTER-4206
remote:
remote:
remote:   drivers/bcm_media_gw/Kconfig           |  10 +
remote:   drivers/bcm_media_gw/Makefile          |   1 +
remote:   drivers/bcm_media_gw/mdqm/Makefile     |   6 +
remote:   drivers/bcm_media_gw/mdqm/mdqm.h       |  48 ++
remote:   drivers/bcm_media_gw/mdqm/mdqm_core.c  | 434 +++++++++++++
remote:   drivers/bcm_media_gw/mdqm/mdqm_dev.h   |  76 +++
remote:   drivers/bcm_media_gw/mdqm/mdqm_dt.c    | 158 +++++
remote:   .../bcm_media_gw/mdqm/mdqm_procfs.c    | 116 ++++
remote:   8 files changed, 849 insertions(+)
remote:  ;jayeshp@broadcom.com;2016-06-09 15:37:09 -0400;1a9de3d16e2cd4b287c5f726a05e14241fc46c8c;SWRGROUTER-4512: Add support for passing SKB's to/from HW;
remote:  DQM SKB Interface for Runner <-> RG Exception Path.
remote:  TX path for CM0 is still FPM based until Runner supports it.
remote:
remote:
remote:  refs #SWRGROUTER-4512
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi    |  65 ++-
remote:   drivers/bcm_media_gw/dqm/dqm_dbg.c     |  20 +-
remote:   .../bcm_media_gw/dqnet/dqnet_brcmtag.c |  22 +-
remote:   .../bcm_media_gw/dqnet/dqnet_core.c    | 207 +++++++++-
remote:   .../bcm_media_gw/dqnet/dqnet_priv.h    |  18 +-
remote:   .../bcm_media_gw/dqnet/dqnet_procfs.c  |   5 +
remote:   drivers/bcm_media_gw/dqskb/dqskb.h     |   6 +
remote:   .../bcm_media_gw/dqskb/dqskb_core.c    | 263 +++++++++----
remote:   include/linux/skbuff.h                 |  15 +
remote:   net/core/skbuff.c                      |  34 +-
remote:   10 files changed, 560 insertions(+), 95 deletions(-)
remote:  ;tross@broadcom.com;2016-06-09 15:37:09 -0400;f4e0c81a6bd46066b0e990419298ebdb88ca40ed;SWRGROUTER-4512: Add support for passing SKB's to/from HW;
remote:  Initial prototype using DFAP.
remote:
remote:  refs #SWRGROUTER-4512
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi    |   75 +-
remote:   drivers/bcm_media_gw/Kconfig           |    5 +
remote:   drivers/bcm_media_gw/Makefile          |    1 +
remote:   drivers/bcm_media_gw/dqm/dqm.h         |    2 +
remote:   drivers/bcm_media_gw/dqm/dqm_core.c    |   82 +-
remote:   drivers/bcm_media_gw/dqnet/dqnet.h     |    4 +-
remote:   .../bcm_media_gw/dqnet/dqnet_brcmtag.c |   88 +-
remote:   .../bcm_media_gw/dqnet/dqnet_brcmtag.h |   10 +-
remote:   .../bcm_media_gw/dqnet/dqnet_core.c    |  513 ++-
remote:   drivers/bcm_media_gw/dqnet/dqnet_dbg.c |    4 +-
remote:   drivers/bcm_media_gw/dqnet/dqnet_dbg.h |   38 +-
remote:   drivers/bcm_media_gw/dqnet/dqnet_dt.c  |   35 +-
remote:   drivers/bcm_media_gw/dqnet/dqnet_dt.h  |   19 +-
remote:   .../dqnet/dqnet_ethstats.c             |    4 +-
remote:   .../dqnet/dqnet_ethstats.h             |    4 +-
remote:   .../bcm_media_gw/dqnet/dqnet_ethsw.c   |   21 +-
remote:   .../bcm_media_gw/dqnet/dqnet_ethtool.c |    4 +-
remote:   .../bcm_media_gw/dqnet/dqnet_ethtool.h |    4 +-
remote:   drivers/bcm_media_gw/dqnet/dqnet_fap.h |    8 +-
remote:   .../dqnet/dqnet_fap_common.c           |    7 +-
remote:   .../dqnet/dqnet_gfap_ops.c             |    5 +-
remote:   .../dqnet/dqnet_nethooks.c             |    4 +-
remote:   .../dqnet/dqnet_nethooks.h             |    4 +-
remote:   .../bcm_media_gw/dqnet/dqnet_priv.h    |   26 +-
remote:   .../bcm_media_gw/dqnet/dqnet_procfs.c  |    2 +-
remote:   .../bcm_media_gw/dqnet/dqnet_procfs.h  |    4 +-
remote:   .../bcm_media_gw/dqnet/dqnet_qmsg.c    |  190 +-
remote:   .../bcm_media_gw/dqnet/dqnet_qmsg.h    |   13 +-
remote:   .../bcm_media_gw/dqnet/dqnet_rfap.c    |  577 ---
remote:   .../bcm_media_gw/dqnet/dqnet_switch.c  |    4 +-
remote:   .../bcm_media_gw/dqnet/dqnet_switch.h  |    4 +-
remote:   .../bcm_media_gw/dqnet/dqnet_wifi.c    |    8 +-
remote:   .../bcm_media_gw/dqnet/dqnet_wifi.h    |    4 +-
remote:   .../bcm_media_gw/dqnet/plat_netinfo.h  |   71 -
remote:   drivers/bcm_media_gw/dqskb/Makefile    |    7 +
remote:   drivers/bcm_media_gw/dqskb/dqskb.h     |   63 +
remote:   drivers/bcm_media_gw/dqskb/dqskb.txt   | 2500 ++++++++++++
remote:   .../bcm_media_gw/dqskb/dqskb_core.c    |  579 +++
remote:   drivers/bcm_media_gw/dqskb/dqskb_dt.c  |  107 +
remote:   .../bcm_media_gw/include/bcmnethooks.h |   20 +-
remote:   .../bcm_media_gw/include/proc_cmd.h    |    4 +
remote:   .../uapi/linux/bcm_media_gw/msgfifo.h  |   36 +-
remote:   42 files changed, 4115 insertions(+), 1045 deletions(-)
remote:  ;tross@broadcom.com;2016-06-09 15:25:09 -0400;1b8e3b634cfe8021dccbf1a36cb9d1abfcf0245c;SWRGROUTER-4858 DT: Add bindings documentation for DQM driver.;
remote:  Correct inaccuracies.
remote:
remote:  refs #SWRGROUTER-4858
remote:
remote:
remote:   .../bindings/bcm_media_gw/dqm.txt      | 230 ++++++-------
remote:   1 file changed, 115 insertions(+), 115 deletions(-)
remote:  ;tross@broadcom.com;2016-06-09 15:25:09 -0400;dc4904d69957bd80918586b32611802e22ed7010;SWRGROUTER-4872: Add device tre binding documentation for bcm3384-pinctrl-gpio driver.;
remote:  Initial binding documentation.
remote:
remote:  refs #SWRGROUTER-4872
remote:
remote:
remote:   .../brcm,bcm3384-pinctrl-gpio.txt      | 163 +++++++++++++
remote:   1 file changed, 163 insertions(+)
remote:  ;tross@broadcom.com;2016-06-09 15:25:09 -0400;90219d5fd7023193411c5fdf201cb07592d959eb;SWRGROUTER-4871: Add device tre binding documentation for DQNET driver.;
remote:  Initial binding documentation.
remote:
remote:  refs #SWRGROUTER-4871
remote:
remote:
remote:   .../bindings/bcm_media_gw/dqnet.txt    | 242 +++++++++++++
remote:   1 file changed, 242 insertions(+)
remote:  ;petersu@broadcom.com;2016-06-09 10:16:33 -0400;f352a982a5464248ff88c4a5fca1f4d7bdc7a2d9;Actual Author: David Woodhouse <David.Woodhouse@intel.com> git push hook is broken so we have to hack the author;
remote:  jffs2: Fix page lock / f->sem deadlock
remote:
remote:  [Upstream commit 49e91e7079febe59a20ca885a87dd1c54240d0f1]
remote:
remote:  With this fix, all code paths should now be obtaining the page lock before
remote:  f->sem.
remote:
remote:  refs #SWRGROUTER-4678
remote:
remote:  Reported-by: Szab Tams <sztomi89@gmail.com>
remote:  Tested-by: Thomas Betker <thomas.betker@rohde-schwarz.com>
remote:  Signed-off-by: David Woodhouse <David.Woodhouse@intel.com>
remote:  Cc: stable@vger.kernel.org
remote:  Signed-off-by: Peter Sulc <peter.sulc@broadcom.com>
remote:
remote:
remote:   fs/jffs2/README.Locking |  5 +----
remote:   fs/jffs2/gc.c           | 17 ++++++++++-------
remote:   2 files changed, 11 insertions(+), 11 deletions(-)
remote:  ;czacker@cm-irv-1.irv.broadcom.com;2016-06-08 11:08:23 -0700;9d8a18dad1567ab5e8b5ca89b63a4cc2e80d5bf8;NBN-CM8200B drops frame with VLAN=0 in upstream and strip VLAN=0 tag in downstream;
remote:  refs #SWRGROUTER-4710
remote:
remote:  Merge branch 'develop' of git-irv-08.irv.broadcom.com:gitRepo/erouter-linux-314 into develop
remote:
remote:  ;czacker@cm-irv-1.irv.broadcom.com;2016-06-08 10:33:39 -0700;7b7c6f968717589a51e498dd41b7abb799aeda87;NBN-CM8200B drops frame with VLAN=0 in upstream and strip VLAN=0 tag in downstream;
remote:  refs #SWRGROUTER-4710
remote:
remote:
remote:   drivers/bcm_media_gw/ethsw/ethsw.h     |  2 +
remote:   .../bcm_media_gw/ethsw/ethsw_core.c    | 36 +++++++++++++-
remote:   .../bcm_media_gw/ethsw/ethsw_proc.c    | 30 ++++++++++-
remote:   3 files changed, 65 insertions(+), 3 deletions(-)
remote:  ;tross@broadcom.com;2016-06-08 13:16:09 -0400;e60759126f0e1b1987c2790d51f207f0b27910b7;SWRGROUTER-4858 DT: Add bindings documentation for DQM driver.;
remote:  Initial DT bindings documentation for DQM driver.
remote:
remote:  refs #SWRGROUTER-4858
remote:
remote:
remote:   .../bindings/bcm_media_gw/dqm.txt      | 268 +++++++++++++
remote:   1 file changed, 268 insertions(+)
remote:  ;tross@broadcom.com;2016-06-08 12:14:05 -0400;cd4d68c1acfd31135621a0a29836e08cb29b37dd;SWRGROUTER-4856: Backport fix for SWLINUX-4071
remote:  As of the merge into RGLinux of 3.14-1.14 from STBLinux the
remote:  gpio-brcmstb.c driver does not properly support calls to
remote:  platform_get_irq(). This is because of the following commit
remote:  to STBLinux that was merged in with 3.14-1.4:
remote:
remote:  fe446931a14190ae615eb642bfaaeee4be4901cb
remote:  gpio: brcmstb: switch to using gpiolib irqchip helpers
remote:
remote:  This commit reverts the changes to the wps and gpio-irqt drivers that were
remote:  done as a part of
remote:  commit 61885f434af839372f49072e04568fb7e547b0e8
remote:  SWRGROUTER-4755: Update gpio-brcmstb.c to latest version from STBLinux 3.14-1.14.
remote:  to work around this bug. The fix to SWLINUX-4071 are in the previous
remote:  2 commits:
remote:  Revert "gpio: brcmstb: switch to using gpiolib irqchip helpers"
remote:  commit c50ca69f7dc45e598b9f8db9750d03f6efeaec58
remote:  gpio: brcmstb: remove bank bgpio when an error occurs
remote:  commit 9fcaaebbe507710e4f99bd664b98b98d7d72d116
remote:
remote:  refs #SWRGROUTER-4856
remote:
remote:
remote:   .../test/gpio_irqt/gpio_irqt_core.c    | 19 ----------
remote:   .../bcm_media_gw/wps/wps_gpio_core.c   | 26 +++-----------
remote:   2 files changed, 4 insertions(+), 41 deletions(-)
remote:  ;doug.berger@broadcom.com;2016-06-08 12:13:57 -0400;b2ba7cc78e8c0da62c85b0caa1d9f6c7d7d5943a;Revert "gpio: brcmstb: switch to using gpiolib irqchip helpers";
remote:  [STB Linux commit 54158f410272e9b8d02df6cdd02949706b142cb5]
remote:
remote:  This reverts commit bd08857fde1fc4c2bd2b05aced340f85a721059e ("gpio: brcmstb:
remote:  switch to using gpiolib irqchip helpers"). The conversion to using GPIOLIB IRQ
remote:  chip helpers was very appealing, but badly broke the 1:1 mapping between a GPIO
remote:  controller's device_node and its interrupt domain.
remote:
remote:  Revert back to a version where we have one larger interrupt domain per GPIO
remote:  controller instance spanning multiple GPIO.
remote:
remote:  refs #SWLINUX-4071
remote:
remote:  [ based on commit 948521f339268b79a77022add7d3f393b121ef6b by
remote:    Florian Fainelli <florian.fainelli@broadcom.com> ]
remote:  Signed-off-by: Doug Berger <doug.berger@broadcom.com>
remote:
remote:  refs #SWRGROUTER-4856
remote:  NOSANITY#
remote:
remote:
remote:   drivers/gpio/Kconfig        |   2 +-
remote:   drivers/gpio/gpio-brcmstb.c | 162 +++++++++++++++++++-----
remote:   2 files changed, 129 insertions(+), 35 deletions(-)
remote:  ;doug.berger@broadcom.com;2016-06-08 12:12:37 -0400;7a151291920b0e4e8c73dd341ac33d381714b446;gpio: brcmstb: remove bank bgpio when an error occurs;
remote:  [STB Linux commit 173ad8713acd27ed8ff50661fbe29eb2ddd2163d]
remote:
remote:  When an error occurs during the initialization of a bank's basic mmio
remote:  gpio device the resources associated with that device must be released.
remote:
remote:  The basic mmio gpio API defines the bgpio_remove() method for this purpose.
remote:  However, since the bgpio_init() method does not add the associated gpiochip
remote:  device directly, an API hazard exists between the bgpio and gpiochip APIs.
remote:
remote:  In principal, if bgpio_init() succeeds then bgpio_remove() should be called
remote:  to release any resources allocated by bgpio_init().  However, since
remote:  bgpio_remove() calls gpiochip_remove() it will currently crash if called
remote:  before gpiochip_add() has succeeded.  This creates a non-explicit dependency
remote:  that leads to brittle code which may break if the underlying implementations
remote:  of these APIs change.
remote:
remote:  I was strongly tempted to just call gpiochip_remove() for the exceptional
remote:  circumstance handled by this commit, but ultimately believe this change
remote:  better reflects the intention of the APIs.
remote:
remote:  refs #SWLINUX-4058
remote:
remote:  Signed-off-by: Doug Berger <doug.berger@broadcom.com>
remote:
remote:  refs #SWRGROUTER-4856
remote:  NOSANITY#
remote:
remote:
remote:   drivers/gpio/gpio-brcmstb.c | 15 ++++++++++++---
remote:   1 file changed, 12 insertions(+), 3 deletions(-)
remote:  ;skern@broadcom.com;2016-06-06 14:35:18 -0700;09c574a47159ab3d1fc4b35eb4b72e6690456698;SWRGROUTER-4514: Perform periodic develop to feat_PowerManagement merges;
remote:  Perform periodic develop to feat_PowerManagement merges
remote:
remote:  refs #SWRGROUTER-4514
remote:  NOSANITY#
remote:
remote:  ;petersu@broadcom.com;2016-06-06 17:05:13 -0400;1f8e12410796db4bb45cb777cb28643d9b5aae4e;SWRGROUTER-4716: increase timeouts for nand dma and check intfc prior to new command;
remote:  refs #SWRGROUTER-4716
remote:
remote:
remote:   drivers/mtd/nand/brcmstb_nand.c | 10 ++++++++--
remote:   1 file changed, 8 insertions(+), 2 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-06-06 16:29:10 -0400;dbb2d14ebd7c02d238acd18e8696913119974c6d;SWRGROUTER-4801 6.1.1: LAG to external router - Allow IMP port selection on CPU Tx Downstream Egress towards SF2;
remote:  Fix 3384 build error.
remote:
remote:  refs #SWRGROUTER-4801
remote:
remote:
remote:   drivers/bcm_media_gw/dqnet/dqnet_gfap_ops.c | 4 ++--
remote:   1 file changed, 2 insertions(+), 2 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-06-06 13:47:23 -0400;13857a1df5543d6393132dfb2d5c489d985e6b45;SWRGROUTER-4812 6.1.1: LAG to external router - SF2 configuration for port isolation;
remote:  Add proc command to enable/disable sw and hw learning.
remote:
remote:  refs #SWRGROUTER-4812
remote:
remote:
remote:   drivers/bcm_media_gw/ethsw/ethsw.h     |   6 +-
remote:   .../bcm_media_gw/ethsw/ethsw_core.c    |  60 +++++++-
remote:   .../bcm_media_gw/ethsw/ethsw_proc.c    | 100 +++++++++++--
remote:   3 files changed, 155 insertions(+), 11 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-06-06 13:08:46 -0400;3b93f76c52456005f239bff354971c91a2f82776;SWRGROUTER-4726 6.1.1: LAG - Flowmgr Changes
remote:  Support for flow promotion with VLAN removal/insertion on SF2 ports.
remote:  This is used by LAG as well as Interface grouping.
remote:
remote:  refs #SWRGROUTER-4726
remote:
remote:
remote:   .../flowmgr/flowmgr_core.c             | 48 ++++++++++++--
remote:   .../bcm_media_gw/flowmgr/flowmgr_fap.c | 40 +++++++++--
remote:   .../flowmgr/flowmgr_gfap_ops.c         | 18 +++--
remote:   .../flowmgr/flowmgr_procfs.c           |  9 +--
remote:   drivers/bcm_media_gw/include/bcmflow.h |  6 ++
remote:   .../netfilter/nf_conntrack_offload.h   |  1 +
remote:   6 files changed, 97 insertions(+), 25 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-06-06 13:08:46 -0400;f26f3557e80dc32b0e49b24b16cfe822c63e8b19;SWRGROUTER-4801 6.1.1: LAG to external router - Allow IMP port selection on CPU Tx Downstream Egress towards SF2;
remote:  Move imp lag port selection algorithm from flowmr to dqnet.
remote:
remote:  refs #SWRGROUTER-4801
remote:
remote:
remote:   .../bcm_media_gw/dqnet/dqnet_brcmtag.c |  8 ++--
remote:   .../bcm_media_gw/dqnet/dqnet_core.c    | 11 +++--
remote:   drivers/bcm_media_gw/dqnet/dqnet_fap.h |  8 +++-
remote:   .../dqnet/dqnet_fap_common.c           |  8 ++--
remote:   .../dqnet/dqnet_gfap_ops.c             | 18 ++++++-
remote:   .../bcm_media_gw/dqnet/dqnet_priv.h    | 13 +++--
remote:   .../bcm_media_gw/dqnet/dqnet_procfs.c  | 34 ++++++++++----
remote:   7 files changed, 74 insertions(+), 26 deletions(-)
remote:  ;skern@broadcom.com;2016-06-03 14:43:35 -0700;cfc41550bfb81f183e3a2c654cb95d8088480fee;SWRGROUTER-4825: Perform periodic develop to feat_MAP merges;
remote:  Perform periodic develop to feat_MAP merges
remote:
remote:  refs #SWRGROUTER-4825
remote:  NOSANITY#
remote:
remote:  Merge remote-tracking branch 'origin/develop' into feat_MAP
remote:
remote:  Conflicts:
remote:  	arch/arm/boot/dts/rg.3390-base.dtsi
remote:  	arch/arm/boot/dts/rg.3390b0-dcm.dts
remote:  	arch/arm/boot/dts/rg.3390b0-smwvg.dts
remote:  	arch/arm/boot/dts/rg.3390b0-sv.dts
remote:  	arch/arm/boot/dts/rg.3390b0-vcm.dts
remote:  	arch/arm/boot/dts/rg.3390b0-vms.dts
remote:  	arch/arm/boot/dts/rg.3390b0.dts
remote:  	arch/arm/boot/dts/rg.3390z0.dts
remote:
remote:  ;yanhaih@broadcom.com;2016-06-03 14:11:02 +0800;b026342b4683e6301ec7f28f38ea942a2c6c2ae0;SWRGROUTER-1200:Enable Dropping Fragments option is not working;
remote:  Add kernel modules nf_ipv4_frag_drop_for_wan for
remote:  "Dropping Fragments" feature.
remote:  Drop all fragment packets which are received from wanif.
remote:
remote:  refs #SWRGROUTER-1200
remote:
remote:
remote:   drivers/bcm_media_gw/netfilter/Kconfig |   3 +
remote:   .../bcm_media_gw/netfilter/Makefile    |   2 +
remote:   .../nf_ipv4_frag_drop_for_wan_hooks.c  | 121 +++++++++++++
remote:   3 files changed, 126 insertions(+)
remote:  ;skern@broadcom.com;2016-06-02 17:05:48 -0700;b78174960ad16b7268c7b144061304bc64889799;SWRGROUTER-4514: Perform periodic develop to feat_PowerManagement merges;
remote:  Perform periodic develop to feat_PowerManagement merges
remote:
remote:  refs #SWRGROUTER-4514
remote:  NOSANITY#
remote:
remote:  Merge remote-tracking branch 'origin/develop' into feat_PowerManagement
remote:
remote:  Conflicts:
remote:  	arch/arm/boot/dts/rg.3390-base.dtsi
remote:  	arch/arm/boot/dts/rg.3390-wifi.dtsi
remote:  	arch/arm/boot/dts/rg.3390b0-dcm.dts
remote:  	arch/arm/boot/dts/rg.3390b0-moca.dtsi
remote:  	arch/arm/boot/dts/rg.3390b0-smwvg.dts
remote:  	arch/arm/boot/dts/rg.3390b0-sv.dts
remote:  	arch/arm/boot/dts/rg.3390b0-vcm.dts
remote:  	arch/arm/boot/dts/rg.3390b0-vms.dts
remote:  	arch/arm/boot/dts/rg.3390b0.dts
remote:  	arch/arm/boot/dts/rg.3390z0-bolt.dtsi
remote:  	arch/arm/boot/dts/rg.3390z0.dts
remote:  	arch/mips/boot/dts/bcm33843mwvg_mgw_zephyr.dtsi
remote:  	arch/mips/boot/dts/bcm3384_mgw_zephyr.dtsi
remote:  	drivers/bcm_media_gw/Kconfig
remote:  	drivers/bcm_media_gw/Makefile
remote:  	drivers/bcm_media_gw/flowmgr/flowmgr_core.c
remote:  	drivers/bcm_media_gw/wps/wps_gpio_core.c
remote:
remote:  ;tross@broadcom.com;2016-06-02 17:52:05 -0400;8faa026097f16dfcdb84c36bc213b86d2960a010;SWRGROUTER-4659: Average ping response to the eRouter interface is 10x slower;
remote:  Decrease the exception Q timeout for low-rate traffic to 1ms from 60ms.
remote:
remote:  refs #SWRGROUTER-4659
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;yanhaih@broadcom.com;2016-06-01 17:14:52 +0800;b1975a524a9093e713115643addf75cd618e7d4f;SWRGROUTER-4788: 2.3.11f will fail during over-night test;
remote:  Add proc file for clear ipv6 fragment list
remote:
remote:  refs #SWRGROUTER-4788
remote:
remote:
remote:   net/ipv6/reassembly.c | 40 +++++++++++++++++++++++++++++++
remote:   1 file changed, 40 insertions(+)
remote:  ;tross@broadcom.com;2016-05-31 16:12:33 -0400;42d4dfd91af993534006911065a3331958fc4878;SWRGROUTER-4791: DT: Add support for 3390Z0 & 3390C0;
remote:  Added/modified device tree files to support 3390Z0 & 3390C0.
remote:
remote:  refs #SWRGROUTER-4791
remote:
remote:
remote:   arch/arm/boot/dts/Makefile            |  16 +-
remote:   arch/arm/boot/dts/rg.3390a2.dts       |   2 +-
remote:   arch/arm/boot/dts/rg.3390b0-dcm.dts   |   6 +-
remote:   arch/arm/boot/dts/rg.3390b0-smwvg.dts |   6 +-
remote:   arch/arm/boot/dts/rg.3390b0-sv.dts    |   6 +-
remote:   arch/arm/boot/dts/rg.3390b0-vcm.dts   |   6 +-
remote:   arch/arm/boot/dts/rg.3390b0-vms.dts   |   8 +-
remote:   arch/arm/boot/dts/rg.3390b0.dts       |   2 +-
remote:   arch/arm/boot/dts/rg.3390c0-bolt.dtsi |  24 +
remote:   arch/arm/boot/dts/rg.3390c0-dcm.dts   |  40 +
remote:   arch/arm/boot/dts/rg.3390c0-smwvg.dts |  40 +
remote:   arch/arm/boot/dts/rg.3390c0-sv.dts    |  56 ++
remote:   arch/arm/boot/dts/rg.3390c0-vcm.dts   |  36 +
remote:   arch/arm/boot/dts/rg.3390c0-vms.dts   |  90 ++
remote:   arch/arm/boot/dts/rg.3390c0.dts       |  60 ++
remote:   arch/arm/boot/dts/rg.3390z0-bolt.dtsi | 718 +-------------
remote:   arch/arm/boot/dts/rg.3390z0-dcm.dts   |  40 +
remote:   arch/arm/boot/dts/rg.3390z0-smwvg.dts |  34 +
remote:   arch/arm/boot/dts/rg.3390z0-sv.dts    |  49 +
remote:   arch/arm/boot/dts/rg.3390z0-vcm.dts   |  36 +
remote:   arch/arm/boot/dts/rg.3390z0-vms.dts   |  83 ++
remote:   arch/arm/boot/dts/rg.3390z0.dts       |  13 +-
remote:   22 files changed, 678 insertions(+), 693 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-05-27 14:37:36 -0400;814b8906a7a4315251b83a7179245180e79e4763;SWRGROUTER-4203 LAG: Flowmanager modifications - Merge LAG branch to develop;
remote:  Flowmgr requires information on input physical network device from where
remote:  packet was received. When packet flows through Linux networking stack
remote:  this information is lost especially when packet flows through multiple
remote:  bridges or virtual network devices. So far we have avoided changing skbuff.
remote:  But with addition of LAG devices and more future requirements on creating
remote:  complicated network layout require us to add dev_in field in the skbuff
remote:  structure. This dev_in filed is only updated by dqnet driver on packet
remote:  reception.
remote:
remote:  refs #SWRGROUTER-4203
remote:  refs #NOSANITY
remote:
remote:
remote:   .../bcm_media_gw/dqnet/dqnet_core.c    |  1 +
remote:   drivers/bcm_media_gw/ethsw/ethsw.h     |  0
remote:   .../bcm_media_gw/ethsw/ethsw_core.c    |  0
remote:   .../bcm_media_gw/ethsw/ethsw_core.h    |  0
remote:   .../ethsw/ethsw_init_plat.c            |  0
remote:   .../flowmgr/flowmgr_core.c             | 66 ++++++++------
remote:   include/linux/skbuff.h                 |  4 +-
remote:   net/core/skbuff.c                      |  3 +
remote:   8 files changed, 47 insertions(+), 27 deletions(-)
remote:  ;skern@broadcom.com;2016-05-27 10:36:12 -0700;7a6f54883107e8ac471be60bb44930a94543d095;SWRGROUTER-4769: Update feat_MAP stream to latest develop;
remote:  Update feat_MAP stream to latest develop
remote:
remote:  refs #SWRGROUTER-4769
remote:
remote:      Squashed commit of the following:
remote:
remote:      commit e11a2479a3590f957328bad7f8e182f39113670f
remote:      Author: Peter Timariu <ptimariu@broadcom.com>
remote:      Date:   Wed May 25 17:00:09 2016 -0700
remote:
remote:          SWRGROUTER-4754: WiFi: buzz merge checkpatch fixes
remote:
remote:          - run checkpatch.pl with --fix-inplace and review
remote:          - fixed ws/tab, indentation, line length
remote:          - auto-fix linux kernel style issues
remote:          - add updated BCM copyright header in Makefile
remote:
remote:          SWRGROUTER-4754
remote:
remote:      commit 61885f434af839372f49072e04568fb7e547b0e8
remote:      Author: Tim Ross <tross@broadcom.com>
remote:      Date:   Wed May 25 17:19:28 2016 -0400
remote:
remote:          SWRGROUTER-4755: Update gpio-brcmstb.c to latest version from STBLinux 3.14-1.14.
remote:
remote:          Update gpio-brcmstb.c to STBLinux version 3.14-1.14.
remote:          Update wps and gpio-irqt drivers to workaround SWLINUX-4071.
remote:          Fix compiler warnings in wps driver.
remote:
remote:          SWRGROUTER-4755
remote:
remote:      commit 4d3a88409f12f66d26945ffae7dd1234e9819f14
remote:      Author: Peter Timariu <ptimariu@broadcom.com>
remote:      Date:   Wed May 25 10:33:57 2016 -0700
remote:
remote:          SWRGROUTER-4752: WiFi: remove BUZZZ dependency on userspace headers
remote:
remote:          - change <typedefs.h> into <linux/types.h>
remote:          - remove dependency on typedefs.h from wl path in Makefile
remote:          - change TRUE/FALSE to standard bool types;
remote:          - switch to uint32_t where uint32 was being used.
remote:
remote:          SWRGROUTER-4752
remote:
remote:      commit 7aaa02c4c7209844c757f3c0d871482d1d773aca
remote:      Merge: 4a52346 dff89ce
remote:      Author: Carlos Soto <csoto@broadcom.com>
remote:      Date:   Wed May 25 09:26:06 2016 -0400
remote:
remote:          Merge tag 'stblinux-3.14-1.14' into develop
remote:
remote:          Merge STB Linux branch stb-3.14 at tag stblinux-3.14-1.14
remote:
remote:          Merge consists of rebased commits so hash IDs are not compatible with
remote:          STB Linux repository
remote:
remote:          Corresponding commit ID on STB Linux repository: 5cd2b551970f2a0
remote:
remote:          SWRGROUTER-4677
remote:
remote:      commit dff89cedfde86a0dd0aff1cd0914e41c33ce07ef
remote:      Author: Alex Chu <alexchu@broadcom.com>
remote:      Date:   Wed May 4 17:15:16 2016 -0700
remote:
remote:          Bump version to stblinux-3.14-1.14
remote:
remote:          Signed-off-by: Alex Chu <alexchu@broadcom.com>
remote:          (cherry picked from commit 5cd2b551970f2a0d3b1d1a9f9f7b36c637e8ad66)
remote:
remote:      commit 8e2a80171f590d0fe29d94f3099f7e845ca4e36c
remote:      Author: Doug Berger <doug.berger@broadcom.com>
remote:      Date:   Fri Apr 29 20:06:13 2016 -0700
remote:
remote:          gpio: brcmstb: assume all instances are wakup sources
remote:
remote:          This commit uses the existance of a second interrupt in any gpio device
remote:          tree node as an indication that the second interrupt should be used by
remote:          all driver instances as the wakeup interrupt.
remote:
remote:          SWLINUX-4046
remote:
remote:          Signed-off-by: Doug Berger <doug.berger@broadcom.com>
remote:          (cherry picked from commit d141f6cb0152562a209006417d995ac3fe2d1ef3)
remote:
remote:      commit bf429cebbe1c0ca902ec0875e7a2d48218691437
remote:      Author: Florian Fainelli <florian.fainelli@broadcom.com>
remote:      Date:   Tue Apr 26 10:37:45 2016 -0700
remote:
remote:          brcmstb_defconfig: Compress kernel with XZ instead of GZIP
remote:
remote:          GZIP is the default kernel compression method, while it is a good tradeoff
remote:          between compression ratio and speed, recent additions to the default kernel
remote:          have made us get too close from the 4MB size, which is the typical "kernel"
remote:          partition provided by BOLT. Until we can afford not caring about size, switch
remote:          to the strongest compression algorithm that is supported: XZ, putting us back
remote:          into the safe zone for a while.
remote:
remote:          SWLINUX-4051
remote:
remote:          Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:          (cherry picked from commit 4c3dd042a8fc83e3157ee0448e7d3c9888772d8f)
remote:
remote:      commit 035d24c4efe7112391c4860a9d1e9202c5ae1990
remote:      Author: Florian Fainelli <florian.fainelli@broadcom.com>
remote:      Date:   Mon Apr 25 16:48:11 2016 -0700
remote:
remote:          Bump version to 3.14-1.14pre
remote:
remote:          Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:          (cherry picked from commit e12b228d40df0c85ecc1b8bf46f95fef1f29b8ed)
remote:
remote:      commit 6f39dde6c4e9286f6fb2163544256acc7aa4fba3
remote:      Author: Florian Fainelli <florian.fainelli@broadcom.com>
remote:      Date:   Thu Apr 21 15:32:35 2016 -0700
remote:
remote:          gpio: brcmstb: Save and restore registers for non wake-up banks
remote:
remote:          GPIO banks which are not capable of acting as wake-up source for the system
remote:          will lose their register contents upon S3 (deep sleep) suspend/resume
remote:          sequences. Make sure that we save a copy of their register contents during
remote:          suspend to restore them during resume.
remote:
remote:          SWLINUX-4046
remote:
remote:          Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:          (cherry picked from commit cfddd0ad3f3595634cb0d2f928d61aab62d78575)
remote:
remote:      Commit b2393948e253235a20014d02cb408b21199717de
remote:      Author: Florian Fainelli <florian.fainelli@broadcom.com>
remote:      Date:   Thu Apr 21 14:58:35 2016 -0700
remote:
remote:          gpio: brcmstb: Fix wake-up on GPIO interrupts
remote:
remote:          The current driver was missing a few key things to allow GPIO interrupts to be
remote:          properly used as wake-up sources as intended:
remote:
remote:          - the IRQCHIP_MASK_ON_SUSPEND should only apply to the non wake-up capable
remote:            controllers
remote:          - we need to know which GPIO interrupt line is requested to be a
remote:            wake-up source, and program its interrupt mask accordingly to make it able to
remote:            wake-up the system
remote:
remote:          In order to accomplish that, we introduce a per-GPIO bank bitmask of active
remote:          sources (wake_active) and program it into GIO_MASK when we are about to
remote:          suspend.
remote:
remote:          SWLINUX-4046
remote:
remote:          Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:          (cherry picked from commit 1e5d87cb14500501e2370584c42c4c0118d52034)
remote:
remote:      commit 5946d41e2e38dd182a63e85f86eddc5bfb9c8034
remote:      Author: Dave Chinner <dchinner@redhat.com>
remote:      Date:   Tue May 6 07:37:31 2014 +1000
remote:
remote:          xfs: remote attribute overwrite causes transaction overrun
remote:
remote:          [Upstream commit 8275cdd0e7ac550dcce2b3ef6d2fb3b808c1ae59]
remote:
remote:          Commit e461fcb ("xfs: remote attribute lookups require the value
remote:          length") passes the remote attribute length in the xfs_da_args
remote:          structure on lookup so that CRC calculations and validity checking
remote:          can be performed correctly by related code. This, unfortunately has
remote:          the side effect of changing the args->valuelen parameter in cases
remote:          where it shouldn't.
remote:
remote:          That is, when we replace a remote attribute, the incoming
remote:          replacement stores the value and length in args->value and
remote:          args->valuelen, but then the lookup which finds the existing remote
remote:          attribute overwrites args->valuelen with the length of the remote
remote:          attribute being replaced. Hence when we go to create the new
remote:          attribute, we create it of the size of the existing remote
remote:          attribute, not the size it is supposed to be. When the new attribute
remote:          is much smaller than the old attribute, this results in a
remote:          transaction overrun and an ASSERT() failure on a debug kernel:
remote:
remote:          XFS: Assertion failed: tp->t_blk_res_used <= tp->t_blk_res, file: fs/xfs/xfs_trans.c, line: 331
remote:
remote:          Fix this by keeping the remote attribute value length separate to
remote:          the attribute value length in the xfs_da_args structure. The enables
remote:          us to pass the length of the remote attribute to be removed without
remote:          overwriting the new attribute's length.
remote:
remote:          Also, ensure that when we save remote block contexts for a later
remote:          rename we zero the original state variables so that we don't confuse
remote:          the state of the attribute to be removes with the state of the new
remote:          attribute that we just added. [Spotted by Brain Foster.]
remote:
remote:          SWLINUX-3896
remote:
remote:          Signed-off-by: Dave Chinner <dchinner@redhat.com>
remote:          Reviewed-by: Brian Foster <bfoster@redhat.com>
remote:          Signed-off-by: Dave Chinner <david@fromorbit.com>
remote:          Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:          (cherry picked from commit 2b7073db4e7c87c7188c9a2296852cdb2c94d32e)
remote:
remote:      commit b99ca3e74a4e309bd0a44ad6fcf327d305f17a25
remote:      Author: Kamal Dasu <kdasu@broadcom.com>
remote:      Date:   Thu Mar 24 17:25:49 2016 -0400
remote:
remote:          spi: brcmstb: Reading status register inconsistency
remote:
remote:          Remove checks for case OPCODE_RDSR and calls to
remote:          bcmspi_emulate_flash_rdsr().
remote:
remote:          SWLINUX-4016
remote:
remote:          Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:          (cherry picked from commit 1617a463beafa16cb98d433d32fea3f26fce256c)
remote:
remote:      commit feca8e2988af108fc0c11838d13d4212296e7049
remote:      Author: Florian Fainelli <florian.fainelli@broadcom.com>
remote:      Date:   Tue Apr 12 10:10:34 2016 -0700
remote:
remote:          soc: brcmstb: nexus: Update IRQ API with additional BSC channels (F, G)
remote:
remote:          While we are at it bump the API version to indicate these additions, and
remote:          re-arrange the enum so all iic channels are ordered.
remote:
remote:          SWLINUX-4030
remote:
remote:          Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:          (cherry picked from commit 0b5bb03055cf992d7d2e1a77148a3aa68f17282d)
remote:
remote:      commit d52343722816e8ae28f6b66ff752e5e9d4ce3f71
remote:      Author: Edwin Chan <edwin.chan@broadcom.com>
remote:      Date:   Fri Mar 4 22:43:44 2016 -0800
remote:
remote:          bcmgenet: add begin/complete ethtool ops
remote:
remote:          Make sure clock is enabled for ethtool ops.
remote:
remote:          SWLINUX-4000
remote:
remote:          Signed-off-by: Edwin Chan <edwin.chan@broadcom.com>
remote:          (cherry picked from commit 1e844268df6cc71885f43550b350e464d8764c34)
remote:
remote:      commit 85ec5782216eb7fe8da5ce2a854d7d3b85435e0d
remote:      Author: Florian Fainelli <florian.fainelli@broadcom.com>
remote:      Date:   Fri Apr 1 15:27:56 2016 -0700
remote:
remote:          Bump version to 3.14-1.13
remote:
remote:          Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:          (cherry picked from commit 594cc49e5069ca97bf7ab2cf54f91ea6860605d4)
remote:
remote:      commit 5fc45747d45be7e8d3dbd51dd4fe9ad020dbf488
remote:      Author: Florian Fainelli <florian.fainelli@broadcom.com>
remote:      Date:   Tue Mar 22 19:31:44 2016 -0700
remote:
remote:          bsp: Select CONFIG_BCM7120_L2_IRQ
remote:
remote:          Now that the Nexus APIs are enabled, we can use the irq-bcm7120-l2 interrupt
remote:          controller which provides L2 interrupts for a different number of peripherals
remote:          and replaces the irq0-stub driver.
remote:
remote:          SWLINUX-3979
remote:
remote:          Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:          (cherry picked from commit 9e60a07595cb4e47578e2f76211e227770ca5f26)
remote:
remote:      commit d6fbffa994ee12a1ae4125ab61a2471b363e1088
remote:      Author: Doug Berger <doug.berger@broadcom.com>
remote:      Date:   Tue Mar 22 10:04:56 2016 -0700
remote:
remote:          BCMGENET: Power up the internal PHY before probing the MII
remote:
remote:          When using the internal PHY it must be powered up when the MII is probed
remote:          or the PHY will not be detected.  Since the PHY is powered up at reset
remote:          this has not been a problem.  However, when the kernel is restarted with
remote:          kexec the PHY will likely be powered down when the kernel starts so it
remote:          will not be detected and the Ethernet link will not be established.
remote:
remote:          This commit explicitly powers up the internal PHY when the GENET driver
remote:          is probed to correct this behavior.
remote:
remote:          SWLINUX-3829
remote:
remote:          Signed-off-by: Doug Berger <doug.berger@broadcom.com>
remote:          (cherry picked from commit bc40c11305e23ebf37b344f35c751b5d8eeb82ea)
remote:
remote:      commit 569397d467e55a7962ebd5c8c449097e363281f4
remote:      Author: Florian Fainelli <florian.fainelli@broadcom.com>
remote:      Date:   Thu Mar 10 12:00:42 2016 -0800
remote:
remote:          defconfig: Turn on CONFIG_GPIO_SYSFS
remote:
remote:          Makes it easier for people testing GPIOs to access them from user space.
remote:
remote:          SWLINUX-3979
remote:
remote:          Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:          (cherry picked from commit 74f5ab05041a09bbd306af614a8d05a30972f9a3)
remote:
remote:      commit 6e322f4ae283d2e95bc50532c3678eaae9b1ac39
remote:      Author: Bo (Andover) Zhang <zhang@broadcom.com>
remote:      Date:   Tue Jan 5 08:43:35 2016 -0500
remote:
remote:          irq: ipi: added support to set/clear IPI handlers.
remote:
remote:          Add support for definining custom IPI handlers, which is needed for supporting
remote:          a Trusted OS scheme.
remote:
remote:          SWLINUX-3917
remote:
remote:          Signed-off-by: Bo (Andover) Zhang <zhang@broadcom.com>
remote:          Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:          (cherry picked from commit a9a32943976fa92ba5958c0de5bbfe0dd4856e4a)
remote:
remote:      commit ddbbffe729fcd1dc6c7e0bd216ad5ac4131575c5
remote:      Author: Al Cooper <al.cooper@broadcom.com>
remote:      Date:   Fri Mar 4 11:29:34 2016 -0500
remote:
remote:          usb: Prevent USB DMA hardware from reading into BMEM
remote:
remote:          A USB hardware bug where the USB DMA engine will prefetch
remote:          beyond the end of the buffer can cause a Memory Range Checker
remote:          error by reading into BMEM. This is being fixed by reserving
remote:          the 4K preceding the start of each BMEM region. NOTE: The
remote:          USB DMA bug may be fixed in the latest chips, the 7271 and
remote:          7268, but this has not been verified.
remote:
remote:          SWLINUX-3996
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit 47772fa1469bd6e3a16024ee8a2f57fbf71abaab)
remote:
remote:      commit 875c9c53ae6d045e727c50b160667e018e9518b1
remote:      Author: Florian Fainelli <florian.fainelli@broadcom.com>
remote:      Date:   Mon Feb 29 15:24:52 2016 -0800
remote:
remote:          drivers: soc: memory: Switch get_pages() to vmalloc()
remote:
remote:          There is no need to be requesting contiguous kernel memory, nor direct mapped
remote:          memory for get_pages(), so switch it to vmalloc() which should lower the
remote:          pressure on high-order allocations.
remote:
remote:          SWLINUX-3991
remote:
remote:          Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:          (cherry picked from commit e8ea32ceeab02515e658f827cd4d06295ddb11e1)
remote:
remote:      commit 265791e11a836fcef5afaeb87fb379c9e2a2caa0
remote:      Author: Yevgeny Pats <yevgeny@perception-point.io>
remote:      Date:   Tue Jan 19 22:09:04 2016 +0000
remote:
remote:          KEYS: Fix keyring ref leak in join_session_keyring()
remote:
remote:          [Upstream commit 23567fd052a9abb6d67fe8e7a9ccdd9800a540f2]
remote:
remote:          This fixes CVE-2016-0728.
remote:
remote:          If a thread is asked to join as a session keyring the keyring that's already
remote:          set as its session, we leak a keyring reference.
remote:
remote:          This can be tested with the following program:
remote:
remote:          	#include <stddef.h>
remote:          	#include <stdio.h>
remote:          	#include <sys/types.h>
remote:          	#include <keyutils.h>
remote:
remote:          	int main(int argc, const char *argv[])
remote:          	{
remote:          		int i = 0;
remote:          		key_serial_t serial;
remote:
remote:          		serial = keyctl(KEYCTL_JOIN_SESSION_KEYRING,
remote:          				"leaked-keyring");
remote:          		if (serial < 0) {
remote:          			perror("keyctl");
remote:          			return -1;
remote:          		}
remote:
remote:          		if (keyctl(KEYCTL_SETPERM, serial,
remote:          			   KEY_POS_ALL | KEY_USR_ALL) < 0) {
remote:          			perror("keyctl");
remote:          			return -1;
remote:          		}
remote:
remote:          		for (i = 0; i < 100; i++) {
remote:          			serial = keyctl(KEYCTL_JOIN_SESSION_KEYRING,
remote:          					"leaked-keyring");
remote:          			if (serial < 0) {
remote:          				perror("keyctl");
remote:          				return -1;
remote:          			}
remote:          		}
remote:
remote:          		return 0;
remote:          	}
remote:
remote:          If, after the program has run, there something like the following line in
remote:          /proc/keys:
remote:
remote:          3f3d898f I--Q---   100 perm 3f3f0000     0     0 keyring   leaked-keyring: empty
remote:
remote:          with a usage count of 100 * the number of times the program has been run,
remote:          then the kernel is malfunctioning.  If leaked-keyring has zero usages or
remote:          has been garbage collected, then the problem is fixed.
remote:
remote:          SWLINUX-3989
remote:
remote:          Reported-by: Yevgeny Pats <yevgeny@perception-point.io>
remote:          Signed-off-by: David Howells <dhowells@redhat.com>
remote:          Acked-by: Don Zickus <dzickus@redhat.com>
remote:          Acked-by: Prarit Bhargava <prarit@redhat.com>
remote:          Acked-by: Jarod Wilson <jarod@redhat.com>
remote:          Signed-off-by: James Morris <james.l.morris@oracle.com>
remote:          Signed-off-by: Danesh Petigara <danesh.petigara@broadcom.com>
remote:          (cherry picked from commit 263bc053a5c03269e1bb36792b2ac4d721af6ef8)
remote:
remote:      commit 1765076cba2d422f93f8aee6a037eb2e742fe865
remote:      Author: Wolfram Sang <wsa@the-dreams.de>
remote:      Date:   Sun Feb 21 15:16:48 2016 +0100
remote:
remote:          i2c: brcmstb: allocate correct amount of memory for regmap
remote:
remote:          We want the size of the struct, not of a pointer to it. To be future
remote:          proof, just dereference the pointer to get the desired type.
remote:
remote:          [patch: https://patchwork.ozlabs.org/patch/585828/]
remote:
remote:          SWLINUX-3986
remote:
remote:          Signed-off-by: Wolfram Sang <wsa@the-dreams.de>
remote:          Acked-by: Gregory Fong <gregory.0xf0@gmail.com>
remote:          Acked-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Reviewed-by: Kamal Dasu <kdasu.kdev@gmail.com>
remote:          (cherry picked from commit 625491a972f08d2e31b03d6de6a5156ab92ddf93)
remote:
remote:      commit 8c17c3070c78c842b816efb3090634052aa407e2
remote:      Author: Florian Fainelli <florian.fainelli@broadcom.com>
remote:      Date:   Fri Feb 26 16:12:45 2016 -0800
remote:
remote:          brcmstb: bmem: correct bmem behavior in brcmstb_get_page()
remote:
remote:          When generating an address for bmem_find_region() from a pfn value we
remote:          must promote the unsigned long pfn value to the phy_addr_t type expected
remote:          by the bmem_find_region() function before performing the left shift.
remote:
remote:          Otherwise, there is a risk that the PAGE_SHIFT to the left will cause
remote:          meaningful bits of the pfn value to overflow the unsigned long data
remote:          type causing the address to unintentionally wrap.  This in turn can
remote:          cause a highmem address above 4GB to wrap back into the 4GB range and
remote:          be mistaken for being within a BMEM/BRCMSTB_CMA region.
remote:
remote:          SWLINUX-3980
remote:
remote:          Signed-off-by: Doug Berger <doug.berger@broadcom.com>
remote:          Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:          (cherry picked from commit 41daa14b328fdc490847918663545c11fa43b8bc)
remote:
remote:      commit bc5db38900e92e046db38c547e6046d715516e3a
remote:      Author: Florian Fainelli <florian.fainelli@broadcom.com>
remote:      Date:   Fri Feb 26 16:02:49 2016 -0800
remote:
remote:          defconfig: Turn on CONFIG_BRCMSTB_NEXUS_API
remote:
remote:          Turn on CONFIG_BRCMSTB_NEXUS_API=y by default, allowing Nexus to use the
remote:          different GPIO, virtual L1 and other APIs defined by the Linux kernel.
remote:
remote:          SWLINUX-3979
remote:
remote:          Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:          (cherry picked from commit f16217635322a8ca071d0d67c1c3c604badadfe6)
remote:
remote:      commit c44f72ddbe4c82da5f4192eca3aef56a1526d9ca
remote:      Author: Justin Chen <justin.chen@broadcom.com>
remote:      Date:   Fri Feb 12 11:13:19 2016 -0800
remote:
remote:          bsp: add SoC device with family id, product id and revision.
remote:
remote:          Added SoC driver at drivers/soc/brcmstb/common.c. Added two
remote:          helper functions for getting family/product ID located at
remote:          include/linux/soc/brcmstb/brcmstb.h.
remote:
remote:          Assigned the values of soc_dev_attribute accordingly:
remote:          family = chip family id
remote:          soc_id = product id
remote:          revision = product revision
remote:
remote:          SWLINUX-3946
remote:
remote:          Signed-off-by: Justin Chen <justin.chen@broadcom.com>
remote:          (cherry picked from commit 4fdfcd2a0a5c1c7b6f5d64e179c9705ec814e816)
remote:
remote:      commit cde6f9b12aa48d9e49e660613d4d22954f0f623b
remote:      Author: Jim Quinlan <james.quinlan@broadcom.com>
remote:      Date:   Tue Feb 9 11:02:45 2016 -0500
remote:
remote:          pci: confirm that SSC is on if it is indeed on
remote:
remote:          Before this commit, nothing would be printed if we successfully
remote:          entered SSC (spread spectrum clocking) mode.  Now, when we
remote:          successfully enter SSC, the link status line will have '(SSC)'
remote:          appended to it.
remote:
remote:          SWLINUX-3954
remote:
remote:          Signed-off-by: Jim Quinlan <james.quinlan@broadcom.com>
remote:          (cherry picked from commit d3f8ce55a6d7339ba5586d51a39303ce7891918e)
remote:
remote:      commit a27efa98933167a672efde7f759146d99ef7a691
remote:      Author: Jim Quinlan <james.quinlan@broadcom.com>
remote:      Date:   Tue Feb 9 10:49:23 2016 -0500
remote:
remote:          pci: enable PCIe advanced error reporting
remote:
remote:          SWLINUX-3953
remote:
remote:          Signed-off-by: Jim Quinlan <james.quinlan@broadcom.com>
remote:          (cherry picked from commit f684909500fe307d953974eac5fee999e2ec6f82)
remote:
remote:      commit 8dd49b84a5d737cda08604dcffb52f04d1bc4037
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Fri Jan 15 16:11:27 2016 -0500
remote:
remote:          pci: add MSI functionality
remote:
remote:          This commit adds MSI functionality to the BrcmSTB PCIe hardware.  The
remote:          code is influenced by the MSI implementation as seen in pcie-rcar.c.
remote:
remote:          This MSI implementation is complicated by two factors:
remote:
remote:          1. we have multiple root controllers (RC), each with their own MSI
remote:
remote:          2. we have some chips implemented where the PCIe interrupt is shared
remote:          with the MSI interrupt.  In addition, the MSI interrupt bits do
remote:          not have their own register; there are 8 bits starting at position
remote:          24 in the L2 interrupt register.
remote:
remote:          SWLINUX-3571
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit db87c836e1db2082783fd3f2d6ac00a747c040bb)
remote:
remote:      commit 26ea36f3da53f63ea642ac45ba027e701242b1cc
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Fri Jan 15 16:08:12 2016 -0500
remote:
remote:          pci: fix L2 interrupt initialization
remote:
remote:          The interrupt initialization code has been funky since day 0.
remote:          It doesn't really matter because the current code doesn't
remote:          handle interrupts.  Change the code to be more sensible.
remote:
remote:          SWLINUX-3571
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit e2cd4a303deb656b7808e64ccec7b0b741dcd986)
remote:
remote:      commit b3771a905d5593993e79716dcc72f2bbf0306efe
remote:      Author: Florian Fainelli <florian.fainelli@broadcom.com>
remote:      Date:   Mon Feb 8 12:57:58 2016 -0800
remote:
remote:          of: fdt: Export initial_boot_params
remote:
remote:          Some proprietary modules might be willing to get access to the flattened Device
remote:          Tree blob and extract information they care about, make that possible, but
remote:          surround the change with a CONFIG_BRCMSTB ifdef to make it obvious this is
remote:          specific to our kernel.
remote:
remote:          SWLINUX-3951
remote:
remote:          Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:          (cherry picked from commit 7987e11d9bb34cdb230c5f132a543541a2b25f10)
remote:
remote:      commit 134d98387ae969942f93d09a94cbc00e22168ab2
remote:      Author: Doug Berger <douglasb@broadcom.com>
remote:      Date:   Tue Feb 2 15:23:38 2016 -0800
remote:
remote:          soc: brcmstb: nexus: add brcmstb_gpio_remove() to API
remote:
remote:          The function brcmstb_gpio_remove() was added to the internal Nexus API to
remote:          allow the GPIO reservations to be released by Nexus.  This allows a Nexus
remote:          module to be removed without continuing to hold GPIO resources.
remote:
remote:          SWLINUX-3922
remote:
remote:          Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:          (cherry picked from commit da9cb2747c30f61ce59e30d13b9469586cb823d0)
remote:
remote:      commit 4ad474550a92a2f6869d92d96acfeec6956c8180
remote:      Author: Doug Berger <douglasb@broadcom.com>
remote:      Date:   Wed Jan 20 16:21:13 2016 -0800
remote:
remote:          soc: brcmstb: nexus: brcmstb_update32() access is properly synchronized
remote:
remote:          The implementation of the brcmstb_update32() function of the Nexus API has
remote:          been revised to use the same basic memory-mapped GPIO controllers as the
remote:          gpio-brcmstb driver.
remote:
remote:          The function is now merely a shell to preserve the API that calls a new
remote:          function (brcmstb_gpio_update32) located in the implementation of the Nexus
remote:          GPIO API that can use the same locks and accessors used by the gpio-brcmstb
remote:          driver.
remote:
remote:          SWLINUX-3922
remote:
remote:          Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:          (cherry picked from commit db7c2b0f2fc778ccf00053f3bf7a1c6cc7fd117a)
remote:
remote:      commit 6484a6a041487ed8b31809682f78c3e007395e9c
remote:      Author: Doug Berger <douglasb@broadcom.com>
remote:      Date:   Wed Jan 20 14:27:46 2016 -0800
remote:
remote:          soc: brcmstb: nexus: introduce GPIO_PER_BANK define
remote:
remote:          The symbol GIO_BANK_SIZE defines the byte-aligned address space occupied by
remote:          the registers of one bank within a GIO block.
remote:
remote:          The new symbol GPIO_PER_BANK defines the number of GPIO pins controlled by
remote:          a bank of GIO registers.
remote:
remote:          They both happen to equal 32 at the moment, but that should not be relied
remote:          upon, so they should not be used interchangeably like they were prior to
remote:          this commit.
remote:
remote:          SWLINUX-3922
remote:
remote:          Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:          (cherry picked from commit b9769d8b40a9ff8a8dd026de003b9bace64b54cc)
remote:
remote:      commit d0a7a70219020c06d964e3d836e0c6b0d1fb7955
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Dec 18 14:33:37 2015 -0800
remote:
remote:          soc: brcmstb: Report DDR controller frequency through sysfs
remote:
remote:          Expose a "frequency" sysfs atrribute which returns the DDR controller frequency
remote:          it is operating at. If the attribute is not found, 0 is reported, which should
remote:          be treated as an invalid frequency anyway.
remote:
remote:          SWLINUX-3637
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 1129a940601c23739d2f4dfbe6966b06e944b361)
remote:
remote:      commit 7bfa3ca649a9c14cfe6eb3d5b6c9769509e48dc8
remote:      Author: Doug Berger <douglasb@broadcom.com>
remote:      Date:   Tue Jan 26 15:50:08 2016 -0800
remote:
remote:          gpio: brcmstb: enable masking of interrupts when changing type
remote:
remote:          Mask the GPIO interrupt while its type is being changed, just in case
remote:          it can prevent a spurious interrupt.
remote:
remote:          SWLINUX-3931
remote:
remote:          Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:          (cherry picked from commit b97e54657d93b4329f089774c618e2a0c3f9ed7f)
remote:
remote:      commit b66bedd51d0883c0c6f078e380a1018557ddb268
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jan 25 14:38:22 2016 -0800
remote:
remote:          bsp: Remove 7145B0 BCHP headers
remote:
remote:          SWLINUX-3935
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 82adf567a749f811db5bc4f25d4b9e179ce05e7c)
remote:
remote:      commit 29e2ce40e86fb6447d9094802c4c16b85a802809
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jan 25 14:37:15 2016 -0800
remote:
remote:          bsp: Remove support for 7145B0
remote:
remote:          SWLINUX-3935
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 17c5a0d8e0c02686bfa05bca8badb95dc7f5f5b5)
remote:
remote:      commit f1f233784ca27af29ed0774a169e719b313c1519
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jan 25 14:36:50 2016 -0800
remote:
remote:          drivers: Remove support for 7145B0
remote:
remote:          SWLINUX-3935
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 761d5bb4e05d4afa0e897b5e587bec01813864ba)
remote:
remote:      commit 0798c502f23d9d08400eb17fe284d07ccbb0b93b
remote:      Author: Doug Berger <douglasb@broadcom.com>
remote:      Date:   Thu Jan 21 11:02:13 2016 -0800
remote:
remote:          gpio: brcmstb: release the bgc lock when invoking irq handlers
remote:
remote:          The basic memory-mapped GPIO controller lock must be released before calling
remote:          the registered GPIO interrupt handlers to allow the interrupt handlers to
remote:          access the hardware.  Otherwise, the hardware accesses will deadlock when
remote:          they attempt to grab the lock.
remote:
remote:          SWLINUX-3931
remote:
remote:          Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:          (cherry picked from commit db8b1c7b15b5bcf6b1be2421bdf561474d0c9887)
remote:
remote:      commit 16b70de17ef162fdacb244dd72e9c30d615d5a79
remote:      Author: Doug Berger <douglasb@broadcom.com>
remote:      Date:   Tue Jan 19 09:46:26 2016 -0800
remote:
remote:          gpio: brcmstb: correct the configuration of level interrupts
remote:
remote:          This commit corrects a bug when configuring the GPIO hardware for
remote:          IRQ_TYPE_LEVEL_LOW and IRQ_TYPE_LEVEL_HIGH interrupt types. The
remote:          hardware is now correctly configured to support those types.
remote:
remote:          SWLINUX-3934
remote:
remote:          Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:          (cherry picked from commit d56e81de691f7fd92b74a86fe38cc15ed0bba8ec)
remote:
remote:      commit 8b6a4c579f6f9036b4ff64951014498201972774
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Jan 15 17:24:31 2016 -0800
remote:
remote:          Bump version to 3.14-1.12pre
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 939a408dd39497fa79f52066b9576071bd6485cf)
remote:
remote:      commit 49fae7f88389c2f5c246fb259ccb991d4557a0fc
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Wed Jan 6 11:39:34 2016 -0500
remote:
remote:          usb: USB 3.0 device as rootfs fails to recover after S2 or S3
remote:
remote:          On systems using IPP (Invert Port Power), mounted USB 3.0
remote:          devices will get re-enumerated on S3 resume and the mounted
remote:          filesystem will no longer be accessible. This is happening
remote:          because a system using IPP will power up with USB power
remote:          enabled to the USB devices until the IPP can be set by software.
remote:          This is enough time for 3.0 devices to timeout on the 3.0
remote:          connect attempt (because the 3.0 PHY has not yet been enabled)
remote:          and fall back to a 2.0 device. This shouldn't be a problem
remote:          because the 3.0 devices in 2.0 mode would normally be power
remote:          cycled after the software sets IPP correctly, but the USB driver
remote:          turns on device power so quickly after we set IPP that the device
remote:          doesn't see the power cycle (on a 7445SV board it takes about
remote:          8ms for power to drop to zero). This change adds a 50ms delay
remote:          when IPP is being set. The delay is only added if IPP was not
remote:          already set to avoid delays if BOLT already set IPP.
remote:
remote:          SWLINUX-3919
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit b08af4b665e38bdcbd2f9511eaa5a107bf619030)
remote:
remote:      commit 351905d498f13ff7abd63833c3aae5b57426f797
remote:      Author: Doug Berger <douglasb@broadcom.com>
remote:      Date:   Wed Jan 13 12:47:32 2016 -0800
remote:
remote:          gpio: brcmstb: define irq_disable service
remote:
remote:          The gpiolib irqchip helpers will use irq_unmask if irq_enable is not
remote:          defined.  However, when using the handle_simple_irq() generic handler
remote:          the irq_disable service will not use irq_mask to disable the interrupt.
remote:
remote:          When using the handle_simple_irq() generic handler it should be enough
remote:          to define irq_enable and irq_disable, but since we are using the flag
remote:          IRQCHIP_MASK_ON_SUSPEND we need to define the irq_mask as well.
remote:
remote:          This commit just defines irq_disabled the same as irq_mask so that
remote:          calls to disable_irq for gpio interrupts will mask the interrupt.
remote:
remote:          SWLINUX-3931
remote:
remote:          Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:          (cherry picked from commit 56ce13556279cdbb64a7ad8760a60871551bf01e)
remote:
remote:      commit 9ac9421d274e1aab21e2583d4ff52cc8774acbd4
remote:      Author: Doug Berger <douglasb@broadcom.com>
remote:      Date:   Wed Jan 13 12:24:41 2016 -0800
remote:
remote:          gpio: brcmstb: only clear the status bits of serviced gpio
remote:
remote:          Reading and writing the gpio bank status register each time a pending
remote:          interrupt bit is serviced could cause new pending bits to be cleared
remote:          without servicing the associated interrupts.
remote:
remote:          SWLINUX-3931
remote:
remote:          Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:          (cherry picked from commit 5fa8656f3e0673c97052d6be82ee27b618017e07)
remote:
remote:      commit 6e13699b1557723b62dbe36ede599671c3b6b174
remote:      Author: Kamal Dasu <kdasu.kdev@gmail.com>
remote:      Date:   Wed Dec 16 15:49:09 2015 -0500
remote:
remote:          i2c: brcmstb: Adding support for CM and DSL SoCs
remote:
remote:          [upstream commit e2e5a2c618373b55bbb2eca2a6e535dddd04412c]
remote:
remote:          Broadcoms DSL, CM (cable modem)and STB I2C core implementation have
remote:          8 data in/out registers that can transfer 8 bytes or 32 bytes max.
remote:          Cable and DSL "Peripheral" i2c cores use single byte per data
remote:          register and the STB can use 4 byte per data register transfer.
remote:          Adding support to take care of this difference. Accordingly added
remote:          the compatible string for SoCs using the "Peripheral" I2C block.
remote:
remote:          Signed-off-by: Kamal Dasu <kdasu.kdev@gmail.com>
remote:          Reviewed-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Signed-off-by: Wolfram Sang <wsa@the-dreams.de>
remote:          (cherry picked from commit b32cfef3df73449725a4406c3fb84c81bbcc4889)
remote:
remote:      commit cae0660dc6938a01b7bd42b4db515cb82ebad53c
remote:      Author: Kamal Dasu <kdasu@broadcom.com>
remote:      Date:   Mon Dec 7 16:01:25 2015 -0500
remote:
remote:          i2c: brcmstb: Merge code with upstream commit
remote:
remote:          Merging upstream code changes to the current driver.
remote:          [upstream commit: b96bcbdd i2c: brcmstb: Add Broadcom settop SoC i2c
remote:          controller driver]
remote:
remote:          SWLINUX-3897
remote:
remote:          Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:          (cherry picked from commit 5c9733b6fe579b0df515b50dd63dd3d888ad2c63)
remote:
remote:      commit c64a9ad3551c23a706313c7ef9cd52c2fc15a25d
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Dec 28 11:15:07 2015 -0800
remote:
remote:          defconfig: Turn on CONFIG_IP_MROUTE
remote:
remote:          Turn on Linux's multicast IP router feature and support for PIM v1 and
remote:          v2, useful for building wireless routers.
remote:
remote:          SWLINUX-3885
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 009ed9fa7ecb22e65b66d1721e3d9f664987dd1c)
remote:
remote:      commit 949081c4592c813ba6e0d3dde467ded1711aef75
remote:      Author: Danesh Petigara <dpetigara@broadcom.com>
remote:      Date:   Tue Dec 15 10:11:14 2015 -0800
remote:
remote:          soc: brcmstb: preserve pstore buffer on panic
remote:
remote:          Writes a magic value to an AON sram register on panic
remote:          to preserve the pstore/ramoops buffer on reboot.
remote:
remote:          SWLINUX-3908
remote:
remote:          Signed-off-by: Danesh Petigara <dpetigara@broadcom.com>
remote:          (cherry picked from commit ee0841dc812a7cc7385792398f2c48849293d367)
remote:
remote:      commit 194911d971d40666a32d02b3dc7970ff4855b15e
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Mon Dec 7 17:45:47 2015 -0500
remote:
remote:          pci: fix how the DT property "interrupt-map" is handled
remote:
remote:          Currently, Bolt's DT has a PCIe property called "interrupt-map"
remote:          which is malformed.  Coming with SWBOLT-1718, the node will
remote:          be properly formatted.  This commit handles both cases; the
remote:          old "legacy" format and the new proper format.
remote:
remote:          The 4.1 branch PCI host driver will only handle the new format.
remote:
remote:          SWLINUX-3836
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit d653c3f04485480b21581fd9be59ea04b9c5d6d4)
remote:
remote:      commit 96a21ba74fbf82847d5a4aa31ec9ad267817c1a6
remote:      Author: Ben Zhang <benzh@chromium.org>
remote:      Date:   Thu Oct 30 17:14:21 2014 -0700
remote:
remote:          pstore/ram: Strip ramoops header for correct decompression
remote:
remote:          [Upstream commit a28726b4fb624f81d637a8afb9ea12fc16500f61]
remote:
remote:          pstore compression/decompression was added during 3.12.
remote:          The ramoops driver prepends a "====timestamp.timestamp-C|D\n"
remote:          header to the compressed record before handing it over to pstore
remote:          driver which doesn't know about the header. In pstore_decompress(),
remote:          the pstore driver reads the first "==" as a zlib header, so the
remote:          decompression always fails. For example, this causes the driver
remote:          to write /dev/pstore/dmesg-ramoops-0.enc.z instead of
remote:          /dev/pstore/dmesg-ramoops-0.
remote:
remote:          This patch makes the ramoops driver remove the header before
remote:          pstore decompression.
remote:
remote:          SWLINUX-3904
remote:
remote:          Signed-off-by: Ben Zhang <benzh@chromium.org>
remote:          Acked-by: Kees Cook <keescook@chromium.org>
remote:          Signed-off-by: Tony Luck <tony.luck@intel.com>
remote:          (cherry picked from commit e5ae22ff6886b50a2879085c6b7db18a92b8fed2)
remote:
remote:      commit 0a187f448ee0dbe208a06481cbd5fcd2b35b6f4d
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Fri Dec 11 20:00:39 2015 -0500
remote:
remote:          bsp: remove unneeded bchp files
remote:
remote:          Changes made by the script:
remote:
remote:          	/projects/stbgit/scripts/bin/linux_unneed_bchp.pl
remote:
remote:          SWLINUX-3862
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit 0c639823ca7a0f749bb35189dd9a434c575ef181)
remote:
remote:      commit ee629986feb56d674f259a611b33b1ea7799d2fa
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Dec 11 17:15:39 2015 -0800
remote:
remote:          Bump version to 3.14-1.11pre
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit f1e24d8d11a4e0d36478ef9b7bf818250d02a14b)
remote:
remote:      commit 1980669c65d2ee265eb5c1ec0265b29a22cd8f6c
remote:      Author: Doug Berger <douglasb@broadcom.com>
remote:      Date:   Thu Dec 10 18:22:56 2015 -0800
remote:
remote:          thermal: brcmstb_thermal: restrict negative temperatures
remote:
remote:          The thermal API in v3.14 of the kernel uses unsigned long values to
remote:          represent temperatures so negative values can not be used.
remote:
remote:          This commit restricts the temperature values reported by the get_temp()
remote:          function of the brcmstb_thermal driver so that negative values are
remote:          reported as 0.
remote:
remote:          SWLINUX-3890
remote:
remote:          Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:          (cherry picked from commit c913fa3535e20921143cc36f42dcf43561377512)
remote:
remote:      commit af7e67df454a9433808026d01be067728596be37
remote:      Author: Doug Berger <douglasb@broadcom.com>
remote:      Date:   Thu Dec 10 17:17:32 2015 -0800
remote:
remote:          thermal: brcmstb_thermal: represent temperatures with int data type
remote:
remote:          The brcmstb_thermal driver was not properly handling computations of
remote:          negative temperatures.  This was partly attributable to inconsistency
remote:          in the v3.14 kernel thermal API which largely defines temperatures to
remote:          be unsigned.
remote:
remote:          Later versions of the kernel have cleaned up the thermal API to always
remote:          represent temperatures with type int.  This commit changes the internal
remote:          representations of temperatures within the driver to use type int and
remote:          corrects the bounds checking and computations accordingly.
remote:
remote:          SWLINUX-3890
remote:
remote:          Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:          (cherry picked from commit 5cedf72ebced61a4be279b916a50565db831192d)
remote:
remote:      commit 6d64a0ddca4601446c3008f04912a6d0d6052ebc
remote:      Author: Markus Mayer <mmayer@broadcom.com>
remote:      Date:   Mon Nov 23 15:23:04 2015 -0800
remote:
remote:          soc: brcmstb: wktmr: Turn on CONFIG_RTC_CLASS
remote:
remote:          Now that we have RTC support in the wakeup-timer, we need to enable the
remote:          corresponding driver in the defconfig.
remote:
remote:          SWLINUX-3802
remote:
remote:          Signed-off-by: Markus Mayer <mmayer@broadcom.com>
remote:          (cherry picked from commit 6e93aa27fc6628db17ae67c077045e7bfaae6570)
remote:
remote:      commit d806683e51223a2d7d8df663b7e793c834a1944d
remote:      Author: Markus Mayer <mmayer@broadcom.com>
remote:      Date:   Mon Nov 23 10:22:39 2015 -0800
remote:
remote:          soc: brcmstb: wktmr: add RTC support
remote:
remote:          We add basic RTC support to the wake-timer driver.
remote:
remote:          SWLINUX-3802
remote:
remote:          Signed-off-by: Markus Mayer <mmayer@broadcom.com>
remote:          (cherry picked from commit 266befd9a4cfb0946996028d296a4c723bdcfd7c)
remote:
remote:      commit 83665c998e86947feeec96b6613090e5161104f4
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Wed Dec 2 18:23:09 2015 -0500
remote:
remote:          usb: Add connected retry on resume for non SS devices
remote:
remote:          Currently usb_port_resume waits for up to 2 seconds for CONNECT
remote:          status for SS devices only. This change will do the same thing for
remote:          non-SS devices even though the reason is a little different. This
remote:          will fix an issue where VBUS is turned off during system wide
remote:          "suspend to ram" and some 2.0 devices take greater than the current
remote:          max of 100ms to show connected after VBUS is enabled. This is most
remote:          commonly seen on hard drive based devices and USB3.0 devices plugged
remote:          into a 2.0 only port. This patch has been accepted upstream.
remote:
remote:          SWLINUX-3888
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit 51bc1a1637c1d9850cf4240e09d707e901c8deea)
remote:
remote:      commit 82cbe3516a2ff1ad2f38fdfc5e593bf4154a7e62
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue Dec 1 14:04:07 2015 -0800
remote:
remote:          sata_brcmstb: Add a module license to sata_brcmstb_phy.c
remote:
remote:          Fixes missing license issues seen while loading the module:
remote:
remote:          [    3.420411] sata_brcmstb_phy: module license 'unspecified' taints kernel.
remote:
remote:          SWLINUX-3870
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit c6651008bee5dfe3d5a6781eb0f29af802ff2149)
remote:
remote:      commit fc7fea67b1e83b09e65a7879f38fa96760940781
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue Dec 1 14:02:15 2015 -0800
remote:
remote:          sata_brcmstb: Remove speed limiting code.
remote:
remote:          This code is just parsing Device Tree properties, and locally storing a value,
remote:          we never use, nor program properly.
remote:
remote:          The proper way to limit the SATA speed is to use libata.force=<speed>G as
remote:          documented in Documentation/kernel-parameters.txt.
remote:
remote:          SWLINUX-3870
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit d19d2e9391f54f9668e86c557416a747bf301b43)
remote:
remote:      commit e07b585a4bfe62cd3c49a82817fc5a10807f6697
remote:      Author: Steve Rae <srae@broadcom.com>
remote:      Date:   Mon Nov 16 12:12:57 2015 -0800
remote:
remote:          packaging: add spec file
remote:
remote:          Add spec file for use with RPM based distributions.
remote:
remote:          SWSTB-322
remote:
remote:          Signed-off-by: Steve Rae <srae@broadcom.com>
remote:          (cherry picked from commit 29fba957060d322f213c8ef0737ef5f27a6dbd15)
remote:
remote:      commit dbd948dbc379e4894caf1fa245e406a13308cac0
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue Dec 1 11:37:36 2015 -0800
remote:
remote:          mmc: Fix sdhci_fix_caps() return code for 7445D0
remote:
remote:          The function returns void, not an integer, fix that.
remote:
remote:          SWLINUX-3834
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit bff68ce291b71b95ef6cbb27e4907e970d9cc390)
remote:
remote:      commit bbc0ebee08537f1aade2e2deb4fa8da3581a6063
remote:      Author: Kamal Dasu <kdasu@broadcom.com>
remote:      Date:   Thu Nov 19 15:51:31 2015 -0500
remote:
remote:          mtd: brcmstb_nand:: Detect sticky ucorrectable ECC errors on DMA reads
remote:
remote:          This change provides a workaround for [CRNAND-32] where nand controller
remote:          could have a possible sticky error after a PIO and a following DMA read. As
remote:          part of [CRNAND-57] we could do a PIO to verify erased page uncorr ecc
remote:          erorr to eliminate false positives.  But this has a side effect of running into
remote:          CRNAND-32. The fix retries a DMA if we see a uncorr_ecc after a DMA read
remote:          transactiion to overcome CRNAND-32 first and then deal with CRNAND-57 as usual.
remote:
remote:          SWLINUX-3675
remote:
remote:          Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:          (cherry picked from commit de6cdddaa3bdc24cbd47734e02f31e76953d8184)
remote:
remote:      commit a2aa3a147cc89e9e7b4d70afea3adc3e665da4ee
remote:      Author: Danesh Petigara <dpetigara@broadcom.com>
remote:      Date:   Fri Oct 23 23:54:53 2015 -0700
remote:
remote:          ARM: mmu: fix default vmalloc size for < 1GiB
remote:
remote:          The current default vmalloc size has been bumped up to
remote:          744MiB for platforms with >= 1 GiB (and if more than one
remote:          meminfo bank exists). As the memory banks > 760MiB (the
remote:          maximum lowmem size for a 3:1 kernel split) are split at
remote:          the lowmem/highmem boundary, the automatic bmem reservation
remote:          scheme breaks when 760MiB < memory size < 1GiB.
remote:
remote:          For example, if the bank size is 768MiB, it's split into
remote:          a 760MiB lowmem and 8MiB highmem bank. The bmem reservation
remote:          algorithm keeps all of the 760MiB for the system and only
remote:          ends up reserving 8MiB for bmem.
remote:
remote:          This patch sets the default vmalloc size for memory banks
remote:          > 760MiB to 744MiB. The change ensures the bmem automatic
remote:          reservation algorithm works correctly for 760MiB < memory
remote:          size < 1GiB.
remote:
remote:          SWLINUX-3853
remote:
remote:          Signed-off-by: Danesh Petigara <dpetigara@broadcom.com>
remote:          (cherry picked from commit 174cc928d2fa4c99b6a822cd5d5d9486f2dae892)
remote:
remote:      commit df01bd0a897d0f31dec77cc79af92fd67cd1f06e
remote:      Author: Danesh Petigara <dpetigara@broadcom.com>
remote:      Date:   Fri Oct 23 15:54:24 2015 -0700
remote:
remote:          brcmstb: memory: fix default bmem reservation
remote:
remote:          On single memory bank platforms, 20% of the available
remote:          memory is set aside for the system and the rest is reserved
remote:          as bmem. This scheme doesn't work well for very low memory
remote:          profiles (e.g. 256MiB), resulting in OOM conditions.
remote:
remote:          This patches adds the following changes to single memory
remote:          bank configurations:
remote:
remote:          - For bank sizes less than or equal to 128MiB, all memory
remote:          is allocated to the system and bmem reservation is skipped.
remote:
remote:          - For bank sizes larger than 128MiB,
remote:          reserved_bmem = 80% x (bank_size - 128MiB).
remote:
remote:          SWLINUX-3853
remote:
remote:          Signed-off-by: Danesh Petigara <dpetigara@broadcom.com>
remote:          (cherry picked from commit 13f37812e8ae00e0c07e5675ad7c1cf3598752ad)
remote:
remote:      commit cc208b2b21d00c650b3ae2dcd14641597e897cb0
remote:      Author: Kamal Dasu <kdasu@broadcom.com>
remote:      Date:   Mon Oct 19 16:58:19 2015 -0400
remote:
remote:          spi: brcmstb: Fix S3 boot for both read and write
remote:
remote:          S3 warm boot was broken for all 4-byte addressing parts
remote:          for reads as well as write access. Added proper mspi
remote:          reconfiguration on S3. Fix has been tested to work in both
remote:          Flex mode access and override access for reads. Also tested
remote:          writes to upper addresses using rw filesystem.
remote:
remote:          SWLINUX-3755
remote:
remote:          Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:          (cherry picked from commit 16e3b5c136fdf2908b6dfcc9ad380d70c1bebbf8)
remote:
remote:      commit 67fec65cfc39ada84676b0eac2ab70efecf94f16
remote:      Author: Kamal Dasu <kdasu@broadcom.com>
remote:      Date:   Mon Oct 19 16:53:00 2015 -0400
remote:
remote:          spi: brcmstb: spin_lock msg list when writing to hw
remote:
remote:          Add Program Page opcode dynamic debugging and also fixed
remote:          locking of list manipulatoin during the write operation.
remote:
remote:          SWLINUX-3755
remote:
remote:          Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:          (cherry picked from commit 58e4ad71b7271c1807d51ada2fdd76b7a6d17afa)
remote:
remote:      commit 468a10a0fa5461c70119d9065355bd215ec997e0
remote:      Author: Kamal Dasu <kdasu@broadcom.com>
remote:      Date:   Mon Oct 19 16:40:28 2015 -0400
remote:
remote:          spi: brcmstb: Add support for 4-byte address writes
remote:
remote:          Kernel needs support to enable/disable 4-byte addressing
remote:          by sending opcode EN4B/EX4B to mspi. Currently the
remote:          writes work for 4-byte address parts only when boot loader
remote:          sets it. However on S3 boot we need to resend the mspi
remote:          commands.
remote:
remote:          SWLINUX-3755
remote:
remote:          Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:          (cherry picked from commit 5811d1abab9735f82c03e08852d298b1b571ddbe)
remote:
remote:      commit 56e444fada0f8bbfefbb31b9d20e0275ffb0859b
remote:      Author: Kamal Dasu <kdasu@broadcom.com>
remote:      Date:   Mon Oct 19 17:34:33 2015 -0400
remote:
remote:          spi: brcmstb: Fix 4-byte reads in non flex mode
remote:
remote:          When flex mode is disabled driver should still be able to read
remote:          with 4-byte addressing. Fix sets the upper address byte to be
remote:          sent to the mspi in this mode via the tx buffer.
remote:
remote:          SWLINUX-3755
remote:
remote:          Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:          (cherry picked from commit 15c41ad6dc5dbaa6495481998fe761d511f290ef)
remote:
remote:      commit 6dc0837bf5817045be7b0979178898b01a7702af
remote:      Author: Kamal Dasu <kdasu@broadcom.com>
remote:      Date:   Mon Oct 19 16:27:29 2015 -0400
remote:
remote:          spi: brcmstb: Fix override control mode read access
remote:
remote:          Added support for reads in override control mode. We
remote:          set this mode only is the override register is set.
remote:          The use of override registers shall be driven by
remote:          boot loader configuration of the override control
remote:          register. Flex mode read is disabled in this mode.
remote:
remote:          SWLINUX-3755
remote:
remote:          Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:          (cherry picked from commit 7c26092d5591051b133bf9d93b9c0cd5b2ee63cb)
remote:
remote:      commit b2b0938124951ea73809ac9b0247242285c306c8
remote:      Author: Kamal Dasu <kdasu@broadcom.com>
remote:      Date:   Mon Oct 19 15:39:22 2015 -0400
remote:
remote:          spi: brcmstb: Fix flex mode 4byte addressing read commands
remote:
remote:          Use appropriate 4-byte address read commands. These commands
remote:          should work for all spi-nor vendors. Removed spansion specific
remote:          checks. Fixed for all 1-bit, 2-bit, 4-bit data lane access when
remote:          used with spi-nor parts that need 4-byte addressing.
remote:
remote:          SWLINUX-3755
remote:
remote:          Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:          (cherry picked from commit 84508d32249dff34fb337e84378ba5e3e5437900)
remote:
remote:      commit 6876b61c4461328d35f4b140d9e281a9733e27cd
remote:      Author: Kamal Dasu <kdasu@broadcom.com>
remote:      Date:   Mon Oct 19 15:25:03 2015 -0400
remote:
remote:          spi: brcmstb: Use dynamic debugging in the driver
remote:
remote:          Change the DBG macro to use pr_debug to enable dynamic
remote:          debugging for better runtime debugging.
remote:
remote:          SWLINUX-3755
remote:
remote:          Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:          (cherry picked from commit e7012e7c4edfa79638dde79bc764297525f80c70)
remote:
remote:      commit 7bdb2148e9aafb4fd7c75a490c5d3628992f4f9e
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Mon Oct 19 14:53:47 2015 -0400
remote:
remote:          usb: Change the way usb-brcm driver is disable for new USB style DT
remote:
remote:          The new style USB Device Tree uses a usb-phy instead of a
remote:          wrapper (the usb-brcm driver) and this changes the way the
remote:          usb-brcm driver is disabled when the new style is detected. The
remote:          driver now returns ENODEV instead of zero which stop any further
remote:          calls to the driver. This makes the previous commit 01f3e893197a,
remote:          which checked for a NULL priv in suspend and resume, un-necessary.
remote:
remote:          SWLINUX-3803
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit 9b3aa47bd210117b07c175e6868ca5b760503d51)
remote:
remote:      commit 0cbecb1559c08f61eb571487e7628b6eaf525039
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Oct 16 19:10:03 2015 -0700
remote:
remote:          Bump version to 3.14-1.10pre
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit d1177c0efe761e86d9cd7a395349977ca866a7d1)
remote:
remote:      commit 89a922cd7d4fc48b37458bac6bbf4f8936ed902a
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Oct 15 16:20:49 2015 -0700
remote:
remote:          include: brcmstb: Bump BRCMSTB_H_VERSION to 5
remote:
remote:          SWLINUX-3701, SWLINUX-3754, SWLINUX-3776, SWLINUX-3775
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 16fd6c641279cf6ca614b5c61a0e8a86338bd9fd)
remote:
remote:      commit af3b05289ad600425dc9d99b975319e442511471
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Oct 15 16:18:22 2015 -0700
remote:
remote:          soc: brcmstb: nexus: Add atomic register update API
remote:
remote:          Add a brcmstb_update32() function which updates, for now, the GPIO register
remote:          range after getting a successful virtual address to that register, and
remote:          verifying that Linux is not already owning one of the bits inside the mask it
remote:          attempts to modify.
remote:
remote:          If it succeeds, we update the internal GPIO bookeeping bitmap for Nexus to flag
remote:          that this GPIO is requested for Nexus use.
remote:
remote:          SWLINUX-3775
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 2418bdb55be74ed45f3a60cd8d245e5dcf05af9b)
remote:
remote:      commit baa470ec2462d8ddd902a5affbc9c95ab7f17b79
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Sep 30 17:08:15 2015 -0700
remote:
remote:          soc: brcmstb: nexus: Add GPIO interrupt resolution API
remote:
remote:          Add a Nexus API which allows Nexus to specify a GPIO offset and shift, and
remote:          obtain the corresponding virtual interrupt number corresponding to that GPIO
remote:          offset and shift.
remote:
remote:          Linux will do an implicit gpio_request() to guaranteed Nexus with exclusivity
remote:          on that specific GPIO.
remote:
remote:          Since we are adding another function, bump the API version accordingly in
remote:          brcmstb.h.
remote:
remote:          SWLINUX-3776
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 635d50300c6ca2f3235eda287ef036eb10d8445d)
remote:
remote:      commit 62cefe0072e9bb1df2caf99c9c64882f2771e37d
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Sep 11 16:43:55 2015 -0700
remote:
remote:          soc: brcmstb: nexus: Add brcmstb_get_l2_irq_id() API
remote:
remote:          Add a Nexus API under drivers/soc/brcmstb/nexus/irq.c which resolves a given
remote:          IRQ0 or IRQ0_AON L2 interrupt number into its corresponding Linux virtual IRQ
remote:          number that can be passed to request_irq().
remote:
remote:          Also add a selftest/example in tools/testing/brcmstb/irq-api/ which can be used
remote:          to test and verify that this behaves properly.
remote:
remote:          SWLINUX-3754
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 98782ec2f742a11ee48a9efed580f29371ca5caa)
remote:
remote:      commit 7048224738bf02eace4cfedddf7302fdac6fbce3
remote:      Author: Doug Berger <douglasb@broadcom.com>
remote:      Date:   Wed Oct 14 11:07:10 2015 -0700
remote:
remote:          soc: add nexus_version_check.h
remote:
remote:          This header file is not intended to be included by any files within the Linux
remote:          distribution.  It is provided with the distribution to be included by Nexus
remote:          software to provide a compile-time mechanism for communicating that changes
remote:          have been made to the Linux distribution that are known to be incompatible
remote:          with older versions of the Nexus software.
remote:
remote:          When such a change is made to the Linux distribution this file must be updated
remote:          to identify the version of the previous Nexus release that is no longer
remote:          compatible and a brief summary of the incompatibility should be included in
remote:          the error message.
remote:
remote:          SWLINUX-3701
remote:
remote:          Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:          (cherry picked from commit a8fd6b95a68cd6a486428440b582ba9663470edb)
remote:
remote:      commit 18892af60444f546e1c2306eb549be6ef163b91b
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Oct 16 15:12:43 2015 -0700
remote:
remote:          usb: Do not de-reference private context during suspend/resume
remote:
remote:          With BOLT v1.07, Device Tree contains a proper USB PHY Device Tree node
remote:          brcm_usb_instance_probe() bails out early because there is such a PHY, and so
remote:          we do not have a valid dev->drvdata pointer by the time we run
remote:          brcm_usb_suspend(), we fetch that private pointer using dev_get_drvadata() and
remote:          de-reference a NULL pointer.
remote:
remote:          Fixes: 2598787ab8c9 ("usb: Change Broadcom USB drivers structure to remove USB
remote:          wrapper driver")
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:
remote:          (cherry picked from commit 01f3e893197a3bfdf860cf3b9f71684cc3a4a8eb)
remote:
remote:      commit defa9767784bdc4ca610992fe8f301715eac6dc1
remote:      Author: David S. Miller <davem@davemloft.net>
remote:      Date:   Fri May 1 22:02:47 2015 -0400
remote:
remote:          ipv4: Missing sk_nulls_node_init() in ping_unhash().
remote:
remote:          [Upstream commit a134f083e79fb4c3d0a925691e732c56911b4326]
remote:
remote:          If we don't do that, then the poison value is left in the ->pprev
remote:          backlink.
remote:
remote:          This can cause crashes if we do a disconnect, followed by a connect().
remote:
remote:          SWLINUX-3845
remote:
remote:          Tested-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Reported-by: Wen Xu <hotdog3645@gmail.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          (cherry picked from commit 7e5cc14185569c00cde88ed59aad836794faf7ee)
remote:
remote:      commit 724c284dd8a2fecf9f0d1a36d6b79eae89633f75
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Tue Sep 15 10:15:22 2015 -0400
remote:
remote:          usb: Change Broadcom USB drivers structure to remove USB wrapper driver
remote:
remote:          The current Broadcom USB drivers (ohci, ehci, xhci and bdc) are setup
remote:          as child drivers to a USB wrapper driver. The wrapper driver handles
remote:          any global USB controller setup and then starts the child drivers. This
remote:          change will replace the wrapper driver with a usb-phy driver that will
remote:          do the global USB controller setup and the child drivers will become
remote:          normal drivers started by the device tree parser. The new functionality
remote:          requires a new style of USB Device Tree node descriptions and will
remote:          only work with a matching version of BOLT. The kernel will also support
remote:          the old style DT entries so it will work correctly with either version
remote:          of BOLT.
remote:
remote:          SWLINUX-3803
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit 2598787ab8c983ed983a97962c2493a55d05da69)
remote:
remote:      commit d10ef318333825a409023232cc82ff8eb59b9715
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Mon Sep 28 18:32:15 2015 -0400
remote:
remote:          mmc: Add ability to change driver strength from a Device Tree prop
remote:
remote:          Customers are requesting the ability to change the Host and Card
remote:          Driver Type (drive strength) because they are seeing interference
remote:          with WiFi and having Certification issues. This change allows new
remote:          Device Tree properties to change the default Driver Type for both
remote:          Host and Card. Not all cards support all Driver Types and if the
remote:          requested type is not supported the default will continue to be used.
remote:          The SD spec states that only UHS modes use selectable driver strength,
remote:          but our host controller allows it for HS mode as well. A customer
remote:          has requested support for the HS setting so an additional device
remote:          tree property was added for this.
remote:
remote:          The Device Tree properties that control the drive strength are:
remote:          "host-driver-strength", "host-hs-driver-strength" and
remote:          "card-driver-strength". These properties can have the value
remote:          "A", "B", "C", or "D". Where A is x1.5, B is x1.0 (default),
remote:          C is x0.75 and D is x0.5
remote:
remote:          NOTES
remote:           o Reducing Drive Strength may result in read/write errors
remote:             depending on the board design.
remote:           o The Host side settings are not supported on the 74371, which
remote:             uses the older version of the SDIO core.
remote:
remote:          SWLINUX-3828
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit d278d4756dec21638667b0198bf3bda7a7924477)
remote:
remote:      commit ee6cf7f5c7c6ff53b77b1ec467f060798237b5cc
remote:      Author: Adrian Hunter <adrian.hunter@intel.com>
remote:      Date:   Fri Feb 6 14:12:59 2015 +0200
remote:
remote:          mmc: sdhci: Add a callback to select drive strength
remote:
remote:          [Upstream commit cb8496482e8886bbd6bd79462d8062db572b0473]
remote:
remote:          Add a callbak to let host drivers select drive
remote:          strength.
remote:
remote:          SWLINUX-3828
remote:
remote:          Signed-off-by: Adrian Hunter <adrian.hunter@intel.com>
remote:          Signed-off-by: Ulf Hansson <ulf.hansson@linaro.org>
remote:          (cherry picked from commit 0a76b2bf55f39c1915a4c71be170313bf8bbe2af)
remote:
remote:      commit 262767ce998eb52eb6cd58968b31371a4edbd8df
remote:      Author: Petri Gynther <pgynther@google.com>
remote:      Date:   Wed May 20 14:35:00 2015 -0700
remote:
remote:          mmc: sdhci: fix driver type B and D handling in sdhci_do_set_ios()
remote:
remote:          [Upstream commit 43e943a04049d8f4ee96a940517a5fcb0f558ad2]
remote:
remote:          sdhci_do_set_ios() doesn't currently program SDHCI_HOST_CONTROL2
remote:          register correctly when host->preset_enabled == false.
remote:
remote:          Add code to handle the missing cases MMC_SET_DRIVER_TYPE_B and
remote:          MMC_SET_DRIVER_TYPE_D.
remote:
remote:          SWLINUX-3828
remote:
remote:          Signed-off-by: Petri Gynther <pgynther@google.com>
remote:          Signed-off-by: Ulf Hansson <ulf.hansson@linaro.org>
remote:          (cherry picked from commit 2375f98f63d9119ef9ee854dc94492e10b7140c8)
remote:
remote:      commit 0982e487890f167e4ef4eb02399fc96ed335abf2
remote:      Author: Adrian Hunter <adrian.hunter@intel.com>
remote:      Date:   Fri Feb 6 14:12:54 2015 +0200
remote:
remote:          mmc: core: Add 'card' to drive strength selection callback
remote:
remote:          [Upstream commit f168359efbb99d6f8591bb666d6510bb78df2d07]
remote:
remote:          In preparation for supporting also eMMC drive strength,
remote:          add the 'card' as a parameter so that the callback can
remote:          distinguish different types of cards if necessary.
remote:
remote:          SWLINUX-3828
remote:
remote:          Signed-off-by: Adrian Hunter <adrian.hunter@intel.com>
remote:          Signed-off-by: Ulf Hansson <ulf.hansson@linaro.org>
remote:          (cherry picked from commit b69ba9ab3834dc5e3cfda05c9d5927b2f294aa42)
remote:
remote:      commit 60885dc7e97741eb17fcdfcc52c7d10c2c1a609f
remote:      Author: Adrian Hunter <adrian.hunter@intel.com>
remote:      Date:   Fri Feb 6 14:12:52 2015 +0200
remote:
remote:          mmc: core: Allow card drive strength to be different to host
remote:
remote:          [Upstream commit b4f30a174e1fda8118eda038b5d8d5260db36ad5]
remote:
remote:          Initialization of UHS-I modes for SD and SDIO cards
remote:          employs a callback to allow the host driver to
remote:          choose a drive strength value. Currently that
remote:          assumes the card drive strength and host driver
remote:          type must be the same value. Change to let the
remote:          callback make that decision and return both the
remote:          card drive strength and host driver type.
remote:
remote:          SWLINUX-3828
remote:
remote:          Signed-off-by: Adrian Hunter <adrian.hunter@intel.com>
remote:          Signed-off-by: Ulf Hansson <ulf.hansson@linaro.org>
remote:          (cherry picked from commit c4c8afde60acd7581d5c8148926b1c377a79919c)
remote:
remote:      commit 9041a96077990a5b71934221bbd512046f8f883b
remote:      Author: Justin Chen <Justinc1@broadcom.com>
remote:      Date:   Thu Oct 8 18:38:46 2015 -0700
remote:
remote:          spi: brcmstb-mspi: Fix 16 bits_per_word transfers
remote:
remote:          The driver was incrementing by bytes when writing 16 bits into the buffer.
remote:          This cause the driver to send twice as much data for 16 bits_per_word
remote:          transfers. Changed driver to increment by 2 bytes if 16 bits_per_word is
remote:          set.
remote:
remote:          SWLINUX-3121
remote:
remote:          Signed-off-by: Justin Chen <Justinc1@broadcom.com>
remote:          (cherry picked from commit 76ca11bbc34dd06a15db4665e38ea33b1870060a)
remote:
remote:      commit 1976fed6c9e8183f1176a6b8714bfa78bdf153ed
remote:      Author: Tim Ross <tross@broadcom.com>
remote:      Date:   Mon Jul 20 17:51:10 2015 -0400
remote:
remote:          pci: turn off/on/on voltage regulator on suspend/resume/boot
remote:
remote:          Allow the PCIe RC driver to use fixed-voltage regulator(s)
remote:          to control the power of endpoint device(s).
remote:
remote:          SWLINUX-3735
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit f3c9e7b1cfd81fc7089729517824ca765dc92edf)
remote:
remote:      commit 542a9e5956044a909b9685b3b20e83e51085b99b
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Mon Sep 28 14:58:40 2015 -0400
remote:
remote:          gpio: brcmstb: have driver register during subsys_initcall()
remote:
remote:          Because regulators are started with subsys_initcall(), and gpio
remote:          references may be contained in the regulators, it makes sense
remote:          to start the brcmstb-gpio's with a subsys_initcall().  The
remote:          order within the drivers/Makefile ensures that the gpio
remote:          initialization happens prior to the regulator's initialization.
remote:
remote:          SWLINUX-3735
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit 9b7fb7601818c773fb2c6e3b037f2b07227a604f)
remote:
remote:      commit 4e6c165e7b85bc7b7c498b8c6edc1d50f8e1daa9
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Mon Sep 28 09:57:11 2015 -0400
remote:
remote:          pci: change from arch_initcall() to fs_initcall()
remote:
remote:          For unknown historical reasons, the PCIe host driver uses
remote:          arch_initcall().  This commit supplants this with fs_initcal().
remote:
remote:          SWLINUX-3735
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit b3a2e402f94cf9c606f6bb5c791c14a6244e1ccb)
remote:
remote:      commit fa2cc3486d489bcf9462b3064f8f04e77d7fccf2
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Thu Oct 1 10:35:18 2015 -0400
remote:
remote:          clk: Remove ordering restrictions for software clocks
remote:
remote:          After using "kexec" to load and run a new kernel, the new kernel
remote:          doesn't work normally.
remote:          1. It can't detect the plug/unplug of usb disk/ethernet cable.
remote:          2. If run with a usb disk plugged, there will be kernel panic.
remote:
remote:          This is the result of Software Clocks not setting up their parents
remote:          correctly when booting via kexec. The prevents the parent
remote:          clocks of the sw clock from being enabled. This is happening because
remote:          kexec uses /proc/device-tree to reconstruct the FDT that is used
remote:          to boot the new kernel and this changes the original node order to be
remote:          alphabetical and the clock software depends on the parent clock nodes
remote:          being defined before the software clock. This change removes the
remote:          ordering restriction and allows sw clocks and parents to be
remote:          defined in any order.
remote:
remote:          SWLINUX-3829
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit 350c3e2ff1ee679ff0afc311c28d6d94d33cdad2)
remote:
remote:      commit 3f5ee7fd224b53dc513766444fb9ef1db3782381
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Fri Oct 2 11:05:26 2015 -0400
remote:
remote:          mmc: Allow SDR50 mode for 7439b0 and 7445e0
remote:
remote:          SDR50 mode has been fixed for the 7439b0 and 7445e0 so don't
remote:          disable it.
remote:
remote:          SWLINUX-3834
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit 2fda787f008a08bb35b424d90437ad7022d74171)
remote:
remote:      commit 24ff46f94dee1c1f2700310a0d49fb074b1d8ea2
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue Aug 4 17:29:45 2015 -0700
remote:
remote:          pwm: Add Broadcom BCM7038 PWM controller support
remote:
remote:          Add support for the BCM7038-style PWM controller found in all BCM7xxx STB SoCs.
remote:          This controller has a hardcoded 2 channels per controller, and cascades a
remote:          variable frequency generator on top of a fixed frequency generator which offers
remote:          a range of a 148ns period all the way to ~622ms periods.
remote:
remote:          SWLINUX-3716
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit fa8c0ed0aaaa5de855d99acfdc57abd42aed78b9)
remote:
remote:      commit de1342d7c69b2f332ace6354749099151714fd97
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue Aug 4 17:29:24 2015 -0700
remote:
remote:          Documentation: dt: add Broadcom BCM7038 PWM controller binding
remote:
remote:          Add a binding documentation for the Broadcom BCM7038 PWM controller found in
remote:          BCM7xxx chips.
remote:
remote:          SWLINUX-3716
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit a6737e339875b5955cb72cd772f850c5620a0549)
remote:
remote:      commit 577907c4a5cd63ccb06f1dc8eccfcee508d1675c
remote:      Author: Florian Fainelli <f.fainelli@gmail.com>
remote:      Date:   Sat Sep 5 12:55:37 2015 -0700
remote:
remote:          net: dsa: bcm_sf2: Fix ageing conditions and operation
remote:
remote:          The comparison check between cur_hw_state and hw_state is currently
remote:          invalid because cur_hw_state is right shifted by G_MISTP_SHIFT, while
remote:          hw_state is not, so we end-up comparing bits 2:0 with bits 7:5, which is
remote:          going to cause an additional aging to occur. Fix this by not shifting
remote:          cur_hw_state while reading it, but instead, mask the value with the
remote:          appropriately shitfted bitmask.
remote:
remote:          The other problem with the fast-ageing process is that we did not set
remote:          the EN_AGE_DYNAMIC bit to request the ageing to occur for dynamically
remote:          learned MAC addresses. Finally, write back 0 to the FAST_AGE_CTRL
remote:          register to avoid leaving spurious bits sets from one operation to the
remote:          other.
remote:
remote:          SWLINUX-3728
remote:
remote:          Fixes: d1adb695f919 ("net: dsa: bcm_sf2: add HW bridging support")
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit ff121a18f798f3bcb64b8cf7f8bb1b8d4086dcf8)
remote:
remote:      commit 982417ca5a75aab7fe6487383a69ccc8d6de3191
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Apr 3 17:27:05 2014 -0700
remote:
remote:          BCMGENET: Implement RX coalescing control knobs
remote:
remote:          Add support for the ethtool rx-frames coalescing parameter which allows
remote:          defining the number of RX interrupts per frames received. The RDMA
remote:          engine supports a configurable timeout with a resolution of
remote:          approximately 8.192 us.
remote:
remote:          We can no longer enable the BDONE/PDONE interrupts as those would
remote:          fire for each packet/buffer received, which would defeat the MBDONE
remote:          interrupt purpose. The MBDONE interrupt is guaranteed to correspond to a
remote:          PDONE/BDONE interrupt when the threshold is set to 1.
remote:
remote:          SWLINUX-2569
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 5ab371e13f551aa8915e1d030311a7a2007a69d1)
remote:
remote:      commit a2733d1dfc10cba1deba585e11061424faf29b77
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Apr 3 17:23:58 2014 -0700
remote:
remote:          BCMGENET: Implement TX coalescing control knobs
remote:
remote:          Configuring the ethtool tx-frames property, which translates into N
remote:          packets before a TX interrupt is the simplest configuration scheme
remote:          because it requires no locking neither at the softare nor hardware
remote:          level, and is completely indepedent from the link speed. Since ethtool
remote:          does not allow per-tx queue coalescing parameters, we apply the same
remote:          setting to any transmit queue.
remote:
remote:          We can no longer enable the BDONE/PDONE interrupts as those would fire
remote:          for each packet/buffer received, which would defeat the MBDONE interrupt
remote:          purpose. The MBDONE interrupt is guaranteed to correspond to a
remote:          PDONE/BDONE interrupt when the threshold is set to 1, but offers
remote:          interrupt coalescing when the value is > 1.
remote:
remote:          Since the HW is configured to generate an interrupt when the ring
remote:          becomes emtpy, we have to deny any timeout/timer settings coming from
remote:          user-space to indicate we can only generate an interrupt very <N>
remote:          packets.
remote:
remote:          While we are at it, fix the DMA_INTR_THRESHOLD_MASK value which was off
remote:          by one bit (0xff vs. 0x1ff).
remote:
remote:          SWLINUX-2569
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 2056ab3bcd954270737ddc6934bb1ea7aedbc71f)
remote:
remote:      commit 3bafecebbcf402026d04d455ff6f49bb0ed8e28c
remote:      Author: Romain Izard <romain.izard.pro@gmail.com>
remote:      Date:   Fri Jun 27 10:51:07 2014 +0200
remote:
remote:          mmc: Allow forward compatibility for eMMC
remote:
remote:          [Upstream commit 03a59437ef6b6ad7fb0165cb9b96c08d6bf057fc]
remote:
remote:          As stated by the eMMC 5.0 specification, a chip should not be rejected
remote:          only because of the revision stated in the EXT_CSD_REV field of the
remote:          EXT_CSD register.
remote:
remote:          Remove the control on this value, the control of the CSD_STRUCTURE field
remote:          should be sufficient to reject future incompatible changes.
remote:
remote:          SWLINUX-3815
remote:
remote:          Signed-off-by: Romain Izard <romain.izard.pro@gmail.com>
remote:          Signed-off-by: Ulf Hansson <ulf.hansson@linaro.org>
remote:          Signed-off-by: Danesh Petigara <dpetigara@broadcom.com>
remote:          (cherry picked from commit ecdb8cd3a6628830bfc04dbba2816a0489fadb1d)
remote:
remote:      commit 520a1ae86d6964d351f89c823a96bf2282d20db6
remote:      Author: Dmitry Torokhov <dmitry.torokhov@gmail.com>
remote:      Date:   Thu Aug 6 19:15:30 2015 -0700
remote:
remote:          Input: do not emit unneeded EV_SYN when suspending
remote:
remote:          [Upstream commit 00159f19a5057cb779146afce1cceede692af346]
remote:
remote:          Do not emit EV_SYN/SYN_REPORT on suspend if there were no keys that are
remote:          still pressed as we are suspending the device (and in all other cases when
remote:          input core is forcibly releasing keys via input_dev_release_keys() call).
remote:
remote:          SWLINUX-3810
remote:
remote:          Reviewed-by: Benson Leung <bleung@chromium.org>
remote:          Signed-off-by: Dmitry Torokhov <dmitry.torokhov@gmail.com>
remote:          Signed-off-by: Danesh Petigara <dpetigara@broadcom.com>
remote:          (cherry picked from commit 38575d26e1bfdfe4e6244d199c440134733ddacb)
remote:
remote:      commit 5c34b786645623317fe7bfc9b8b70534e1ce9061
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Aug 24 18:43:40 2015 -0700
remote:
remote:          spi: brcmstb-mspi: refactor to use MMIO accessors
remote:
remote:          The driver was doing direct manipulation of a pointer to the iomapped region as
remote:          volatile data, which is not considered the "proper" way to do I/O (see
remote:          Documentation/volatile-considered-harmful.txt).  Change to use the MMIO
remote:          accessors, and insert the required memory barriers.
remote:
remote:          SWLINUX-3121
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 868c5b3b47a480421e17cfd6536e4ef83538100e)
remote:
remote:      commit 748d4efdf1bdc1fe9c8e459d5b909f57dccd5fbd
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Aug 24 14:22:57 2015 -0700
remote:
remote:          spi: brcmstb-mspi: get base freq and max speed dynamically if possible
remote:
remote:          The hardcoded SPI base frequency should only be used if we don't actually have
remote:          a clk provider.
remote:
remote:          SWLINUX-3121
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 4573187ba1207fe7cd93ad201370bf1885c439db)
remote:
remote:      commit 4d8287cb8975c9e3ff3385fee563bb6a009885af
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Tue Jul 21 19:30:21 2015 -0700
remote:
remote:          spi: brcmstb-mspi: remove unnecessary check for new params in spi_transfer
remote:
remote:          The speed, mode, and bits per word should never change in the middle of a
remote:          spi_transfer.  Checking for that in the loop within write_to_hw() was a
remote:          holdover from this function was called from transfer() in the dual bspi/mspi
remote:          driver, where it was necessary because that would handle multiple spi_transfers
remote:          at a time and it was important to know when to break.  Now that we're using
remote:          transfer_one(), remove the unnecessary test.
remote:
remote:          Also, it was misleading to have a function named ..._update_parms when calling
remote:          it one way was actually just a test that wouldn't actually update any
remote:          parameters.  Now it becomes a single-purpose function that fits its name.
remote:
remote:          SWLINUX-3121
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit ef6f4ecc7665f6a49c9857ef7a6080e90a01a19c)
remote:
remote:      commit e2cf2b190c6ce9562fd262c251e3f0fe7904ed60
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jul 20 19:45:29 2015 -0700
remote:
remote:          spi: brcmstb-mspi: various cleanup
remote:
remote:          - add debug output for >8-bit txfr, more comments
remote:          - don't BUG() on no data in write_to_hw (This really shouldn't be that
remote:            fatal of a case, if we hit this, just report it and don't actually
remote:            submit any data.)
remote:          - move fnb (find_next_byte output) check after write_to_hw loop to make
remote:            it clearer that it only is run at the loop end
remote:          - kill bcmspi_parms member chip_select (this was for bspi)
remote:          - document bcmspi_parms
remote:          - make legacy mspi ifdef naming consistent
remote:
remote:          SWLINUX-3121
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit f5ab7799c83fd6f54c46fe4f923ec17262d64bd7)
remote:
remote:      commit e85c983b10fde75824cf6ce20521a4a77d7b0abb
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jul 20 19:39:47 2015 -0700
remote:
remote:          spi: brcmstb-mspi: actually use chip select
remote:
remote:          Use the chip select value from the spidev so we can use something other than
remote:          CS0 and avoid talking to CS0 when we mean to talk to somebody else.
remote:
remote:          SWLINUX-3121
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit caeb7d718778a2dbaabb42a18bf6fa2e52bc1f87)
remote:
remote:      commit 91df4a4b7e058f40f948074b900c35a2ccc18b7a
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jul 20 17:37:14 2015 -0700
remote:
remote:          spi: brcmstb-mspi: use defines for cdram
remote:
remote:          Add some defines to make manipulating the CDRAM registers a bit less magic.
remote:
remote:          SWLINUX-3121
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 92cb09dff3095d673574d68abba6f7acf0d69974)
remote:
remote:      commit 6bd48682c86d048ac6f6730a3866c788421dd187
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jul 20 17:15:02 2015 -0700
remote:
remote:          spi: brcmstb-mspi: document find_next_byte, kill defunct loop
remote:
remote:          The 'while' loop could never actually loop, since it breaks out or returns
remote:          beforehand.
remote:
remote:          SWLINUX-3121
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit c442d533d7b473b1a9d4ff078173c2faf686f605)
remote:
remote:      commit ec98255ffda17a805d51a71e29f6d5409cf26f9b
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jul 20 12:55:01 2015 -0700
remote:
remote:          spi: brcmstb-mspi: don't reset waitqueue in bcmspi_transfer_one
remote:
remote:          In bcmspi_transfer_one(), we were calling init_completion on the same
remote:          completion object, which according to Documentation/scheduler/completion.txt is
remote:          "most likely a bug as it re-initializes the queue to an empty queue and
remote:          enqueued tasks could get "lost"".  The way we're currently doing things, we
remote:          never have more than one item in the waitqueue, but it's possible a future
remote:          optimization might do that, so let's change this now to avoid a potential
remote:          future problem.
remote:
remote:          SWLINUX-3121
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 99c49eba182e34eae2af3d80499760fe6ed5389e)
remote:
remote:      commit 38a17a804102fefe87bead45743afe0fdbabfdb4
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jul 20 12:44:09 2015 -0700
remote:
remote:          spi: brcmstb-mspi: fix completion timeout
remote:
remote:          We had the timeout set as msecs_to_jiffies(10), and were seeing bad timeout
remote:          values.  Now, with CONFIG_HZ=100, a jiffy is ~10 ms, so msecs_to_jiffies(10)
remote:          ends up returning 1 jiffy.  Unfortunately, if I understand correctly, waiting
remote:          for a single jiffy isn't that effective, because it means you could be waiting
remote:          for basically no time at all, depending on when your operation is scheduled to
remote:          occur.  This matches up with what we were seeing, which is that when several
remote:          SPI writes were scheduled in sequence, it would consistently fail after several
remote:          ms, which suggests the following:
remote:
remote:          time
remote:           |
remote:           v                                       tick occurs
remote:           |
remote:           v        other things happen
remote:           |
remote:           v        SPI write starts
remote:           |
remote:           v        SPI write finishes
remote:           |
remote:           v        next SPI write starts
remote:           |                                       tick occurs
remote:           v        SPI write is considered to have timed out
remote:
remote:          Increase the timeout to 11 (which will be rounded up to 2 jiffies) seems to
remote:          make this problem go away entirely, which further supports this idea.  But
remote:          looking at a sampling of SPI bus drivers in drivers/spi/ suggests that it's
remote:          probably just best to set a larger timeout value, so let's set it to HZ (will
remote:          result in 1s timeout).
remote:
remote:          SWLINUX-3121
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 17d3cc2abfab6fffb2bef6640060b22ae242859e)
remote:
remote:      commit a5ee4859853e8a1a4529c0ec653a6f7b40ac69fa
remote:      Author: Brian Norris <computersforpeace@gmail.com>
remote:      Date:   Tue Feb 10 19:28:15 2015 -0800
remote:
remote:          spi: Add Broadcom MSPI controller driver
remote:
remote:          Some comments that are NOT FOR UPSTREAM, explaining what was changed from
remote:          original spi-brcmstb driver:
remote:
remote:          - removes BSPI support (this should be made into a proper spi-nor framework
remote:            driver), which means we don't poke EBI CS anymore
remote:          - removes EBI CS switching, which is only needed for memory mapping
remote:          - add write lock field for use with BSPI
remote:          - use the BCM7120 L2 driver instead of twiddling L2 directly from here
remote:          - get rid of useless debug prints and unused fields
remote:          - use newer transfer_one spi core API
remote:          - use spi_transfer_is_last() instead of directly checking transfer_list
remote:          - remove unnecessary state and locking
remote:          - add timeout to wait_for_completion
remote:          - request mspi_done IRQ
remote:
remote:          Changes added by Gregory and Florian:
remote:
remote:          Until the spi-nor framework is used to allow using BSPI with this
remote:          driver, the spi-brcmstb driver, if enabled, should be used for HIF SPI
remote:          (MSPI+BSPI) instead.  This will then only be used when the compatible
remote:          string is "brcm,spi-brcmstb-mspi".
remote:
remote:          SWLINUX-3121
remote:
remote:          [gregory: This update was originally made by Brian Norris
remote:          <computersforpeace@gmail.com>.  I have left the authorship intact, and added
remote:          the commit message above describing the changes]
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:          (cherry picked from commit b4718d43bde1165dea2657e4565924804e1729b4)
remote:
remote:      commit 3a35adac4d1b33f8ab450be9f5b183039e519d55
remote:      Author: Beniamino Galvani <b.galvani@gmail.com>
remote:      Date:   Sat Nov 22 16:21:39 2014 +0100
remote:
remote:          spi: core: Add spi_transfer_is_last() helper
remote:
remote:          This adds the function spi_transfer_is_last() which can be used by
remote:          drivers to know whether a given transfer is the last one in the
remote:          current message.
remote:
remote:          Signed-off-by: Beniamino Galvani <b.galvani@gmail.com>
remote:          Signed-off-by: Mark Brown <broonie@kernel.org>
remote:          (cherry picked from commit 34215f5e8b977d5833a9c187729df95369c20576)
remote:
remote:      commit c3f901625bcd27ecea236697b9bfa66f4a6dcc68
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Wed Aug 26 14:46:32 2015 -0700
remote:
remote:          dt-bindings: spi: Add Broadcom MSPI binding
remote:
remote:          Add the binding for the Broadcom MSPI SPI master controller, used on various
remote:          Broadcom chips including BRCMSTB (BCM7XXX), Broadcom Cygnus, and more.
remote:
remote:          SWLINUX-3121
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 9140ff6c5d60a19db31252b7da71b910950298ec)
remote:
remote:      commit 714d185291fbd389bb4fd8b2c545983166d62b0b
remote:      Author: Danesh Petigara <dpetigara@broadcom.com>
remote:      Date:   Wed Sep 9 09:21:13 2015 -0400
remote:
remote:          usb: bdc: driver fails after resuming from S3 suspend
remote:
remote:          The BDC driver will fail after resuming from S3 suspend and this
remote:          will cause any upper layer gadget driver to fail.
remote:
remote:          SWLINUX-3799
remote:
remote:          Signed-off-by: Danesh Petigara <dpetigara@broadcom.com>
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit e887b38b61bbc7ace5ecbd46d1784d1bd772541e)
remote:
remote:      commit be4fd7fd46df1de18bd3472b609313b8f9491fec
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Sep 3 11:34:39 2015 -0700
remote:
remote:          BCMGENET: Fix error path in bcmgenet_mii_new_dt_init()
remote:
remote:          In case we parse the 'phy-mode' property, that is, of_get_phy_mode() returned
remote:          an error, we will take the "out" label, call mdiobus_unregister(), and then
remote:          return an error code. bcmgenet_mii_init() will take the "out" label as well and
remote:          call bcmgenet_mii_exit() calling bcmgenet_mii_free() which calls
remote:          mdiobus_unregister() a second time.
remote:
remote:          We would hit the BUG() condition on the mii_bus structure 'state' member and
remote:          crash the kernel.
remote:
remote:          Fix this by removing the mdiobus_unregister() call in
remote:          bcmgenet_mii_new_dt_init() since it duplicates the existing error path.
remote:
remote:          SWLINUX-3792
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 604e06a82739c435d8fe2c3ff9cbe2636eae41b5)
remote:
remote:      commit c98a2488d204efceb891ee8f385be2437ea6306f
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Sun Aug 16 20:06:23 2015 -0700
remote:
remote:          soc: brcmstb: Move Bus Interface Unit code to shared location
remote:
remote:          The code enabling or disabling Write Pairing is shared between all SoCs,
remote:          move this to a common location, and add a function declaration for this
remote:          code to run early: before SMP is initialized.
remote:
remote:          SWLINUX-3579
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 445a3e9f9fd869a3df4e7e76f812ee6f2213918a)
remote:
remote:      commit 6ca86c4e15a0e4e7da423e5d883d5a24b87c89af
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Sep 9 11:05:50 2015 -0700
remote:
remote:          Revert "mm: some brcmstb_get_page() cleanup"
remote:
remote:          This reverts commit e5308bd82743c1621ce4641a701cb2c07ec46235 since this causes
remote:          regressions O_DIRECT when using Nexus' playback application:
remote:
remote:          *** 00:00:00.603 playback: spdif audio: decoder 0 -> stereo
remote:          *** 00:00:01.604 playback: HDMI not connected
remote:          *** 00:00:01.604 playback: hdmi audio: decoder 0 -> stereo
remote:          *** 00:00:01.782 nexus_video_output: No HDMI Rx connected.. settings will not be applied
remote:          playback>
remote:          [   63.936454] Unable to handle kernel paging request at virtual address 72546f62
remote:          [   63.944243] pgd = da4e7a00
remote:          [   63.946960] [72546f62] *pgd=00000000
remote:          [   63.950561] Internal error: Oops: 205 [#1] SMP ARM
remote:          [   63.955356] Modules linked in: wakeup_drv(O) nexus(PO)
remote:          [   63.960540] CPU: 1 PID: 1460 Comm: nx_io_worker0 Tainted: P           O 3.14.28-1.9 #1
remote:          [   63.968465] task: db11a4c0 ti: d9830000 task.ti: d9830000
remote:          [   63.973879] PC is at nfs_create_request+0x88/0x128
remote:          [   63.978676] LR is at nfs_get_lock_context+0x50/0x110
remote:          [   63.983647] pc : [<c0195b44>]    lr : [<c018fe28>]    psr: 40030013
remote:          [   63.983647] sp : d9831de8  ip : 00000592  fp : db3265c0
remote:          [   63.995135] r10: dad21790  r9 : c0b9d094  r8 : 00000000
remote:          [   64.000365] r7 : da5a9100  r6 : da5a9100  r5 : 72546f62  r4 : db326600
remote:          [   64.006899] r3 : da5a911c  r2 : 00000002  r1 : 00000000  r0 : da5a9100
remote:          [   64.013434] Flags: nZcv  IRQs on  FIQs on  Mode SVC_32  ISA ARM  Segment user
remote:          [   64.020576] Control: 30c5387d  Table: 1a4e7a00  DAC: 55555555
remote:          [   64.026328] Process nx_io_worker0 (pid: 1460, stack limit = 0xd9830238)
remote:          [   64.032949] Stack: (0xd9831de8 to 0xd9832000)
remote:          [   64.037311] 1de0:                   00000000 00001000 0002e000 00000002 00000000 00001000
remote:          [   64.045497] 1e00: 00000000 c0194698 00001000 d99a3600 00000000 00000000 0002e000 ac92c000
remote:          [   64.053683] 1e20: 00001000 0000002f d99a3600 0000002f 00100000 00000001 d9830000 dad21790
remote:          [   64.061869] 1e40: d9831f00 00000001 00000000 00000000 00000000 dace6e48 00000000 dad217a4
remote:          [   64.070056] 1e60: d9831f08 dace6eb8 db3265c0 db3265c0 00000000 00001000 00100000 00000000
remote:          [   64.078242] 1e80: 00000038 dace6e48 c0565774 00000000 00000000 db11a4c0 c0565768 00000000
remote:          [   64.086428] 1ea0: dad21790 00000000 00000000 00000000 00000000 d9831f80 db11a4c0 0002f000
remote:          [   64.094614] 1ec0: ac92b000 00000000 00040088 c018cc04 00000000 00000000 00000001 da4e7980
remote:          [   64.102800] 1ee0: 00000001 00000000 00000000 d9831f80 db11a4c0 c00ce8c4 00000000 00000000
remote:          [   64.110987] 1f00: ac92b000 0002f000 db325840 00000000 00000000 00000000 db11a4c0 00000000
remote:          [   64.119173] 1f20: 00000000 00000000 00000000 00000000 0002f000 00000000 00000000 00000000
remote:          [   64.127359] 1f40: ac92b000 db325840 ac92b000 d9831f80 db325840 c00cef58 5a095f40 0037abb5
remote:          [   64.135544] 1f60: ffffffff 00000000 00000000 db325843 db325840 0002f000 ac92b000 c00cf600
remote:          [   64.143730] 1f80: 00000000 00000000 da478c81 0004104c 0002f000 ac92b000 00000003 c000eea4
remote:          [   64.151917] 1fa0: d9830000 c000ed20 0004104c 0002f000 00000006 ac92b000 0002f000 b6eac50c
remote:          [   64.160104] 1fc0: 0004104c 0002f000 ac92b000 00000003 00000000 b6ead524 b6ead524 00040088
remote:          [   64.168289] 1fe0: 00000000 87f6edc0 b6eedbf9 b6eedc00 80030030 00000006 00000000 00010074
remote:          [   64.176486] [<c0195b44>] (nfs_create_request) from [<c0194698>] (nfs_file_direct_read+0x460/0x834)
remote:          [   64.185457] [<c0194698>] (nfs_file_direct_read) from [<c018cc04>] (nfs_file_read+0x58/0xb4)
remote:          [   64.193823] [<c018cc04>] (nfs_file_read) from [<c00ce8c4>] (do_sync_read+0x80/0xa8)
remote:          [   64.201492] [<c00ce8c4>] (do_sync_read) from [<c00cef58>] (vfs_read+0x90/0x138)
remote:          [   64.208813] [<c00cef58>] (vfs_read) from [<c00cf600>] (SyS_read+0x40/0x94)
remote:          [   64.215701] [<c00cf600>] (SyS_read) from [<c000ed20>] (ret_fast_syscall+0x0/0x30)
remote:          [   64.223193] Code: e1831f92 e3310000 1afffffa e5845008 (e5953000)
remote:          [   64.229336] ---[ end trace 4a585ec805596471 ]---
remote:
remote:          SWLINUX-3769
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 370e9b1d7ea33c50cf49e11fad0d99071e4289a5)
remote:
remote:      commit a51d183e9c8d434bb5b4f0f2d19d05a204d539a6
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Aug 28 17:24:09 2015 -0700
remote:
remote:          Bump version to 3.14-1.9pre
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 996846184fe334a7bbe3a58c3d56b67ff04152e7)
remote:
remote:      commit 123501c62645b6a0dba7cde894c8b92f85bc9a06
remote:      Author: Justin Chen <Justinc1@broadcom.com>
remote:      Date:   Thu Aug 27 16:50:45 2015 -0700
remote:
remote:          watchdog_dev: Change watchdog naming to be consistent with alias
remote:
remote:          There isn't a way to differentiate multiple watchdogs because
remote:          the naming scheme is done through watchdog_dev. This change uses
remote:          the alias ID for the watchdog name. This makes it easy to cross
remote:          reference the watchdog with the device tree alias so we can know
remote:          which watchdog we are using.
remote:
remote:          If no alias is defined, the watchdog will use the default naming
remote:          scheme.
remote:
remote:          SWLINUX-3621
remote:
remote:          Signed-off-by: Justin Chen <Justinc1@broadcom.com>
remote:          (cherry picked from commit c218f81d0e8c136d22bbc36f184f42d5f2fa6dc5)
remote:
remote:      commit 2976a8097c0839eb3076b499545a0f4b14eeaf4d
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Jul 30 11:34:11 2015 -0700
remote:
remote:          net: dsa: Add netconsole support
remote:
remote:          Add support for netconsole using DSA slave network devices. We need to do
remote:          something very similar to what the 802.1q driver does: manage our own setup and
remote:          cleanup and hook into the transmit path of the slave devices to transmit
remote:          netpoll packets.
remote:
remote:          SWLINUX-3725
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 41a1515fe34be09a48966d0b0a1eb0a83db5007f)
remote:
remote:      commit d15dc0afbe57b876a15c0b224cbafff199056193
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Jul 30 11:12:45 2015 -0700
remote:
remote:          BCMSYSPORT: Add netconsole support
remote:
remote:          Implement a ndo_poll_controller() callback to allow netconsole to be used with
remote:          the SYSTEMPORT driver.
remote:
remote:          SWLINUX-3725
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 0e5be1bcf88b42da2553049aade4a4a6288e2911)
remote:
remote:      commit 9299ecc4365d4800fc34f405faa1eb3ca424d640
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Jul 30 10:43:34 2015 -0700
remote:
remote:          BCMGENET: Add netconsole support
remote:
remote:          Add netconsole support to the GENET driver by implementing a
remote:          ndo_poll_controller() callback which invokes the RX interrupt handler and
remote:          reclaims transmitted buffers.
remote:
remote:          SWLINUX-3725
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 2e4b3c665765fba1c659c6b8cc0880b9a41a42e6)
remote:
remote:      commit 0b750a7f98f9fa10c1c0ffe234d47899f9b50027
remote:      Author: Russell King <rmk+kernel@arm.linux.org.uk>
remote:      Date:   Tue May 19 17:06:44 2015 +0100
remote:
remote:          ARM: v7 setup function should invalidate L1 cache
remote:
remote:          All ARMv5 and older CPUs invalidate their caches in the early assembly
remote:          setup function, prior to enabling the MMU.  This is because the L1
remote:          cache should not contain any data relevant to the execution of the
remote:          kernel at this point; all data should have been flushed out to memory.
remote:
remote:          This requirement should also be true for ARMv6 and ARMv7 CPUs - indeed,
remote:          these typically do not search their caches when caching is disabled (as
remote:          it needs to be when the MMU is disabled) so this change should be safe.
remote:
remote:          ARMv7 allows there to be CPUs which search their caches while caching is
remote:          disabled, and it's permitted that the cache is uninitialised at boot;
remote:          for these, the architecture reference manual requires that an
remote:          implementation specific code sequence is used immediately after reset
remote:          to ensure that the cache is placed into a sane state.  Such
remote:          functionality is definitely outside the remit of the Linux kernel, and
remote:          must be done by the SoC's firmware before _any_ CPU gets to the Linux
remote:          kernel.
remote:
remote:          Changing the data cache clean+invalidate to a mere invalidate allows us
remote:          to get rid of a lot of platform specific hacks around this issue for
remote:          their secondary CPU bringup paths - some of which were buggy.
remote:
remote:          SWLINUX-3778
remote:
remote:          Reviewed-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Tested-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Tested-by: Heiko Stuebner <heiko@sntech.de>
remote:          Tested-by: Dinh Nguyen <dinguyen@opensource.altera.com>
remote:          Acked-by: Sebastian Hesselbarth <sebastian.hesselbarth@gmail.com>
remote:          Tested-by: Sebastian Hesselbarth <sebastian.hesselbarth@gmail.com>
remote:          Acked-by: Shawn Guo <shawn.guo@linaro.org>
remote:          Tested-by: Thierry Reding <treding@nvidia.com>
remote:          Acked-by: Thierry Reding <treding@nvidia.com>
remote:          Tested-by: Geert Uytterhoeven <geert+renesas@glider.be>
remote:          Tested-by: Michal Simek <michal.simek@xilinx.com>
remote:          Tested-by: Wei Xu <xuwei5@hisilicon.com>
remote:          Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
remote:          [gregory: dropped a bunch of changes for archs that aren't in 3.14, and didn't
remote:          check too carefully that this will work for anything but brcmstb]
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:          Conflicts:
remote:          	arch/arm/mach-bcm/Makefile
remote:          	arch/arm/mach-bcm/headsmp-brcmstb.S
remote:          	arch/arm/mach-bcm/platsmp-brcmstb.c
remote:          	arch/arm/mach-berlin/headsmp.S
remote:          	arch/arm/mach-berlin/platsmp.c
remote:          	arch/arm/mach-hisi/Makefile
remote:          	arch/arm/mach-hisi/core.h
remote:          	arch/arm/mach-hisi/platsmp.c
remote:          	arch/arm/mach-mvebu/headsmp-a9.S
remote:          	arch/arm/mach-rockchip/core.h
remote:          	arch/arm/mach-rockchip/headsmp.S
remote:          	arch/arm/mach-rockchip/platsmp.c
remote:          	arch/arm/mach-shmobile/common.h
remote:          	arch/arm/mach-shmobile/headsmp.S
remote:          	arch/arm/mach-socfpga/core.h
remote:          	arch/arm/mach-socfpga/platsmp.c
remote:
remote:          (cherry picked from commit f89d9c7ec86c2205b159e3d5dd8132084039bbff)
remote:
remote:      commit 713e7071ca3454818e528eb7f20389ac32fb0111
remote:      Author: Arnd Bergmann <arnd@arndb.de>
remote:      Date:   Sun Mar 16 18:04:54 2014 +0100
remote:
remote:          ARM: sunxi: fix build for THUMB2_KERNEL
remote:
remote:          Building an SMP kernel for the sunxi platform with THUMB2 instructions
remote:          fails with this error at the moment:
remote:
remote:          headsmp.S:7: Error: Thumb encoding does not support an immediate here -- `msr cpsr_fsxc,#0xd3'
remote:
remote:          Since the generic secondary_startup function already does
remote:          the same thing in a safe way, we can just drop the private
remote:          sunxi implementation and jump straight to secondary_startup.
remote:
remote:          SWLINUX-3778
remote:
remote:          Signed-off-by: Arnd Bergmann <arnd@arndb.de>
remote:          Cc: Maxime Ripard <maxime.ripard@free-electrons.com>
remote:          [gregory: we need this for secondary_startup]
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:          (cherry picked from commit 4f0ea929d10a429b37ae8707e1d9b55177f64a60)
remote:
remote:      commit a36639635a1c15ae7bf84bd76f7412202fd06c6a
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Aug 17 11:47:49 2015 -0700
remote:
remote:          ARM: brcmstb: backport upstream platsmp cleanups
remote:
remote:          The following were changes made by Brian during the upstream submission of the
remote:          SMP code:
remote:          - Add some more comments explaining what we have to do to bring down secondary
remote:            CPUs
remote:          - Get rid of some unnecessary tests
remote:          - Correct per_cpu_sw_state_wr() by moving the dmb() to before setting the
remote:            state and eliminating the dmb_sev(),
remote:          - Check in brcmstb_boot_secondary that we actually had the required DT nodes
remote:
remote:          (Yes, there's a typo in one of the comments, I'm keeping it to be consistent
remote:          with upstream for now)
remote:
remote:          SWLINUX-3778
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 850979dd90baaaf6491eb9dc2cf0ec5707f5933b)
remote:
remote:      commit 8a2943d5af7bc80fac91a9178467cd0e853cd334
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Aug 14 15:13:14 2015 -0700
remote:
remote:          soc: brcmstb: wktmr: Resolve section mismatch
remote:
remote:          register_persistent_clock() is annotated with __init and called from
remote:          brcmstb_wktmr_probe() which is not, causing a section mismatch.
remote:
remote:          Unwind module_platform_driver() to introduce separate module_init()/exit()
remote:          entry points and allowing using to call platform_driver_probe() with a specific
remote:          function annotated with __init.
remote:
remote:          SWLINUX-3721
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit affa5c913eb69fd9221a1970fc28199e2bb8c976)
remote:
remote:      commit 4cf80c5e57f7fa81f5f3426c0037cdde9d9e8bdf
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Aug 17 18:59:21 2015 -0700
remote:
remote:          ARM: brcmstb: add earlyprintk UART address for 74371a0
remote:
remote:          We were missing an explicit setting for DEBUG_UART_PHYS and
remote:          DEBUG_UART_VIRT for 74371a0, and was instead relying on the default
remote:          value being the right one.  Since this might not be the case, and we
remote:          know what it ought to be, just add the correct values.
remote:
remote:          SWLINUX-3780
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 7664fd8a8e6ac403a5d81525e1fa16302376948f)
remote:
remote:      commit 54528351505e6b2a0b39fc511ca0e701cdf00e11
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Wed Aug 12 20:19:56 2015 -0700
remote:
remote:          mm: some brcmstb_get_page() cleanup
remote:
remote:          brcmstb_get_page() does not actually use its vma argument, so get rid of that.
remote:          We still need to check that we actually have a vma beforehand though.  Also,
remote:          the next_page label in __get_user_pages() (GUP) already handles accounting so we'd
remote:          like to just jump there and not duplicate the logic.  While looking at that, I
remote:          realized that we were unnecessarily re-finding the current vma every iteration,
remote:          which should only be necessary when first calling GUP or when crossing a vma
remote:          bound, so by changing to jump to next_page and instead also calling
remote:          brcmstb_get_page() in the inner loop, that should help to optimize GUP for BMEM
remote:          and CMA.
remote:
remote:          SWLINUX-3769
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit e5308bd82743c1621ce4641a701cb2c07ec46235)
remote:
remote:      commit 29e8384551f2d0caf337ab70d6ef6685963abc17
remote:      Author: Justin Chen <Justinc1@broadcom.com>
remote:      Date:   Fri Aug 14 12:17:56 2015 -0700
remote:
remote:          watchdog: add support for brcmstb
remote:
remote:          Added documentation for device tree binding.
remote:
remote:          SWLINUX-3621
remote:
remote:          Signed-off-by: Justin Chen <Justinc1@broadcom.com>
remote:          (cherry picked from commit 8f71e0e602d57377069c15db0150827548d6b10c)
remote:
remote:      commit 7b6f69d7669535d88b6d56efaf124c41255823c6
remote:      Author: Ben Hutchings <ben.hutchings@codethink.co.uk>
remote:      Date:   Tue Jan 27 00:58:15 2015 +0000
remote:
remote:          net: phy: Invalidate LP advertising flags when restarting or disabling AN
remote:
remote:          [Upstream commit 9b3320ef702d1c7daf165d5c72c945f0be6b2bed]
remote:
remote:          It is possible to see the old value of the LP advertising flags
remote:          through ethtool after reconfiguring the PHY and before autonegotiation
remote:          completes.  If autonegotiation is turned off then the last value seen
remote:          will persist indefinitely.
remote:
remote:          SWLINUX-3766
remote:
remote:          Signed-off-by: Ben Hutchings <ben.hutchings@codethink.co.uk>
remote:          Acked-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 250be9fa7511092e2c38e6d60b7de2f9ce03534b)
remote:
remote:      commit 552528490df40c5bff8a3370e153cf1c9bc74e43
remote:      Author: Brian Hill <brian@houston-radar.com>
remote:      Date:   Tue Nov 11 13:39:39 2014 -0700
remote:
remote:          net: phy: Correctly handle MII ioctl which changes autonegotiation.
remote:
remote:          [Upstream commit 79ce0477ffe82e7e49e55179cd176a1c33382744]
remote:
remote:          When advertised capabilities are changed with mii-tool, such as:
remote:          mii-tool -A 10baseT
remote:          the existing handler has two errors.
remote:
remote:          - An actual PHY register value is provided by mii-tool, and this
remote:            must be mapped to internal state with mii_adv_to_ethtool_adv_t().
remote:          - The PHY state machine needs to be told that autonegotiation has
remote:            again been performed.  If not, the MAC will not be notified of
remote:            the new link speed and duplex, resulting in a possible config
remote:            mismatch.
remote:
remote:          SWLINUX-3766
remote:
remote:          Signed-off-by: Brian Hill <Brian@houston-radar.com>
remote:          Acked-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 9e4788657f319b030b04e8fe42b8c15791b478fb)
remote:
remote:      commit f86024647c7c79e02e1dc4287054c2cc6875176f
remote:      Author: Doug Berger <douglasb@broadcom.com>
remote:      Date:   Fri Aug 7 14:20:48 2015 -0700
remote:
remote:          thermal: brcmstb_thermal: maintain consistency of the private data
remote:
remote:          Set the regtype member of the private data structure before setting the
remote:          thermal member of the structure so that it will always be valid when
remote:          thermal is non-zero. This ensures consistency of the private data structure.
remote:
remote:          SWLINUX-3756
remote:
remote:          Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:          (cherry picked from commit 595f818a922fa0c41ca183c7e0502a5d43adc49a)
remote:
remote:      commit 8ee6f43ff88811f0ec0d7d26f8560a04a6635ddc
remote:      Author: Doug Berger <douglasb@broadcom.com>
remote:      Date:   Fri Aug 7 12:02:35 2015 -0700
remote:
remote:          thermal: brcmstb_thermal: fix unregister call
remote:
remote:          Thermal drivers registered thermal_zone_of_sensor_register() should be
remote:          deregistered with thermal_zone_of_sensor_unregister() instead of
remote:          thermal_zone_device_unregister().
remote:
remote:          SWLINUX-3756
remote:
remote:          Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:          (cherry picked from commit e39fdf8743dbc6d6e12ae946d47d22a1cb5a163a)
remote:
remote:      commit a0080894b07afb1a8810e7526270a2bb5e66e5dc
remote:      Author: Doug Berger <douglasb@broadcom.com>
remote:      Date:   Thu Aug 6 16:47:37 2015 -0700
remote:
remote:          thermal: brcmstb_thermal: add device pointer to private data
remote:
remote:          The Broadcom Set-Top Box Thermal driver now retains a pointer to its device
remote:          structure in its private data structure so that it is available for use with
remote:          device logging methods.  The previous version used a pointer to the
remote:          thermal_zone_device to locate its device structure, but the attempt to log an
remote:          error on the first attempt to read the thermal monitor before the pointer to
remote:          the thermal_zone_device had been established caused a NULL pointer dereference
remote:          and a kernel panic.
remote:
remote:          SWLINUX-3756
remote:
remote:          Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:          (cherry picked from commit ba8c19749253c3a55cb0faf81b138befa8de1e35)
remote:
remote:      commit 8d96ae09c9ba94b7b7b70d66113e62d026ce6ce5
remote:      Author: Kamal Dasu <kdasu@broadcom.com>
remote:      Date:   Tue Aug 4 15:17:59 2015 -0400
remote:
remote:          spi: brcmstb: Add QOR cmd support for quad io
remote:
remote:          brcmstb spi driver can use bspi hardware to read
remote:          Added QOR command support for reads to succeed.
remote:
remote:          SWLINUX-3618
remote:
remote:          Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:          (cherry picked from commit 4fe6465d2fd00c7f47b24c4e41617a3cc8b10e77)
remote:
remote:      commit 6e9198d55f90741302d93113a584b84fa520327b
remote:      Author: Danesh Petigara <dpetigara@broadcom.com>
remote:      Date:   Thu Jul 16 13:55:00 2015 -0700
remote:
remote:          libata: skip debounce delay on link resume
remote:
remote:          The link resume logic uses a 200msec delay while debouncing
remote:          the SControl register. The rationale behind that delay is
remote:          to accomodate some PHYs that behave badly if their SStatus/
remote:          SControl registers are pounded immediately on resume.
remote:          The Broadcom STB SATA PHY does not seem to have this issue.
remote:          This patch introduces a new link flag that allows platforms
remote:          to skip the debounce delay if it isn't needed.
remote:
remote:          SWLINUX-3745
remote:
remote:          Signed-off-by: Danesh Petigara <dpetigara@broadcom.com>
remote:          (cherry picked from commit a4c2d1939fdf58839db899f4d708b9f4394ef302)
remote:
remote:      commit 489c054dda54c16024c0537a3bd06200a422aecb
remote:      Author: Petri Gynther <pgynther@google.com>
remote:      Date:   Wed Apr 1 00:40:00 2015 -0700
remote:
remote:          BCMGENET: enable MoCA link state change detection
remote:
remote:          [Upstream commit 8d88c6ebb34c3e54debe81e9b0d81b60411f8179]
remote:
remote:          Currently, MoCA fixed PHYs are always in link-up state, regardless of
remote:          whether the link is actually up or not.
remote:
remote:          Add code to properly detect MoCA link state changes and to reflect the
remote:          new state in MoCA fixed PHY. Only GENET V3 and V4 MACs are capable of
remote:          detecting MoCA link state changes.
remote:
remote:          The code works as follows:
remote:          1. GENET MAC detects MoCA link state change and issues UMAC_IRQ_LINK_UP
remote:             or UMAC_IRQ_LINK_DOWN interrupt.
remote:          2. Link up/down interrupt is processed in bcmgenet_irq_task(), which
remote:             calls phy_mac_interrupt().
remote:          3. phy_mac_interrupt() updates the fixed PHY phydev->link and kicks
remote:             the PHY state machine.
remote:          4. PHY state machine proceeds to read the fixed PHY link status
remote:             register.
remote:          5. When the fixed PHY link status register is being read, the new
remote:             function bcmgenet_fixed_phy_link_update() gets called. It copies
remote:             the fixed PHY phydev->link value to the fixed PHY status->link.
remote:          6. PHY state machine receives the new link state of the fixed PHY.
remote:          7. MoCA fixed PHY link state now correctly reflects the real MoCA
remote:             hardware link state.
remote:
remote:          SWLINUX-3744
remote:
remote:          Signed-off-by: Petri Gynther <pgynther@google.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 415d214ad82b7e86a1fe38aa84f7876fb2b856ed)
remote:
remote:      commit 154469a0fd30d57448389ebef9cf8da6a864cabb
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jul 20 16:12:25 2015 -0700
remote:
remote:          BCMGENET: Fold bcmgenet_mii_config() in bcmgenet_mii_probe()
remote:
remote:          This is required for bcmgenet_mii_config() to know about the kind of PHY device
remote:          we are bound to (internal, MoCA, external etc...) and do either the appropriate
remote:          PHY and hardware setup in case we need.
remote:
remote:          Doing this during the driver probe time forced us to call this again during
remote:          bcmgenet_open() in case we never brought up the interface.
remote:
remote:          In order for bcmgenet_mii_config() to have full knowledge about the PHY device,
remote:          make sure we do assign priv->phydev with a correct PHY device pointer before
remote:          calling bcmgenet_mii_config().
remote:
remote:          SWLINUX-3744
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 5e0f094a403062ffcb09b2e032f5ee3325448f00)
remote:
remote:      commit bf2dd34e7eeb00cc36a60437de1298321706e879
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jul 20 16:25:31 2015 -0700
remote:
remote:          BCMGENET: Move check for MoCA PHY later
remote:
remote:          of_get_phy_mode() understands "moca" as a valid PHY mode, such that we will
remote:          never enter the < 0 condition and we will fail to assign priv->phy_type
remote:          correctly.
remote:
remote:          SWLINUX-3744
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 8b4e790c6462c6a0955f8c92330498c91731f8b5)
remote:
remote:      commit 51266fc3959c2283d25549295b7c89f72be4ddfb
remote:      Author: Petri Gynther <pgynther@google.com>
remote:      Date:   Mon Mar 30 00:29:35 2015 -0700
remote:
remote:          BCMGENET: fix the call to phy_mac_interrupt()
remote:
remote:          [Upstream commit 451e1ca2ab68b9184379fde7867f278c4b3efc61]
remote:
remote:          On phy_mac_interrupt() call, the new_link parameter should be 0 or 1.
remote:
remote:          SWLINUX-3744
remote:
remote:          Signed-off-by: Petri Gynther <pgynther@google.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit f7f14969611a2426754f63750ab71f6d9d256067)
remote:
remote:      commit 31c036155105fd0d0412a24accae7f67ffadc350
remote:      Author: Petri Gynther <pgynther@google.com>
remote:      Date:   Mon Mar 30 00:29:24 2015 -0700
remote:
remote:          BCMGENET: add UMAC_IRQ_LINK_EVENT
remote:
remote:          [Upstream commit e122966dd9aedb666df93f5ee6007e1688194611]
remote:
remote:          Add #define UMAC_IRQ_LINK_EVENT to simplify link event handling code.
remote:
remote:          SWLINUX-3744
remote:
remote:          Signed-off-by: Petri Gynther <pgynther@google.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 23e76393abd93803ad24a8a1d7e0043404e33577)
remote:
remote:      commit 227ac3c7abaaa7aea3773266b9b0272bd7f3059f
remote:      Author: Danesh Petigara <dpetigara@broadcom.com>
remote:      Date:   Mon Jul 13 11:30:38 2015 -0700
remote:
remote:          drivers: ata: wake port before DMA stop for ALPM
remote:
remote:          The AHCI driver code stops and starts port DMA engines at will
remote:          without considering the power state of the particular port. The
remote:          AHCI specification isn't very clear on how to handle this scenario,
remote:          leaving implementation open to interpretation.
remote:
remote:          Broadcom's STB SATA host controller is unable to handle port DMA
remote:          controller restarts when the port in question is in low power mode.
remote:          When a port enters partial or slumber mode, it's PHY is powered down.
remote:          When a controller restart is requested, the controller's internal
remote:          state machine expects the PHY to be brought back up by software which
remote:          never happens in this case, resulting in failures.
remote:
remote:          To avoid this situation, logic is added to manually wake up the port
remote:          just before it's DMA engine is stopped, if the port happens to be in
remote:          a low power state. HBA initiated power management ensures that the port
remote:          eventually returns to it's configured low power state, when the link is
remote:          idle (as per the conditions listed in the spec). A new host flag is also
remote:          added to ensure this logic is only exercised for hosts with the above
remote:          limitation.
remote:
remote:          SWLINUX-3620
remote:
remote:          Signed-off-by: Danesh Petigara <dpetigara@broadcom.com>
remote:          (cherry picked from commit bf8508c4eea6dad6ade28c7d6ddb79109608b68f)
remote:
remote:      commit efb51ce4f3b53346fd7c194127e1cc8a8cc6328d
remote:      Author: Danesh Petigara <dpetigara@broadcom.com>
remote:      Date:   Fri Jul 3 10:58:45 2015 -0700
remote:
remote:          ahci: disable DIPM on brcmstb SATA controller
remote:
remote:          The Broadcom STB SATA host controller does not support device
remote:          initiated power management. Disable support for this feature
remote:          so the driver never sends SETFEATURES commands to the device
remote:          to enable/disable DIPM.
remote:
remote:          SWLINUX-3620
remote:
remote:          Signed-off-by: Danesh Petigara <dpetigara@broadcom.com>
remote:          (cherry picked from commit f553564eff4da88a7fb70c449c27abf9d770fa1d)
remote:
remote:      commit 7fd3ddacd797ce345710bf0224b36cc8c8faede8
remote:      Author: Danesh Petigara <dpetigara@broadcom.com>
remote:      Date:   Mon Jul 13 11:25:38 2015 -0700
remote:
remote:          sata_brcmstb: enable support for ALPM
remote:
remote:          Enable support for ALPM in the host controller's capabilities
remote:          register. Also adjust the PLL  timeout to give it enough time
remote:          to lock when the port exits slumber mode.
remote:
remote:          SWLINUX-3620
remote:
remote:          Signed-off-by: Danesh Petigara <dpetigara@broadcom.com>
remote:          (cherry picked from commit f5b9f3772cf060bd8327474ca114a9d69e20b1e8)
remote:
remote:      commit bf5a1e73e066b6571a56c3f987276d7e9cc631e4
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Jul 17 18:15:56 2015 -0700
remote:
remote:          soc: brcmstb: wktmr: Implement persistent clock for sleep
remote:
remote:          In order to have the core kernel timekeeping code to work and be able to
remote:          account for time spent during sleep states, implement a persistent clock device
remote:          which utilizes the WKTMR.
remote:
remote:          ARM offers the ability to dynamically register such a device using
remote:          register_persistent_clock(), so we utilize this to provide a working
remote:          implementation.
remote:
remote:          While at it, fix the typo on the prescaler register define.
remote:
remote:          Note that the wktmr is now a singleton, and we will return -EBUSY if we find an
remote:          existing wake-timer instance while probing.
remote:
remote:          SWLINUX-3721
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 2e72031aad74bd0f050e4034c91fa7413a187897)
remote:
remote:      commit 9e6474d2823ac845dbe04d9bca75566bdc814e55
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Jul 22 10:36:10 2015 -0700
remote:
remote:          irqchip: bcm7120-l2: Fix interrupt status reads for multiple L1
remote:
remote:          Our irq-bcm7120-l2 interrupt controller driver utilizes the same handler
remote:          function for the different parent interrupts it services: UPG_MAIN, UPG_BSC for
remote:          instance.
remote:
remote:          The problem is that function reads the IRQSTAT register which can combine
remote:          interrupt causes for different parent interrupts, such that we can end-up in the
remote:          following situation:
remote:
remote:          - CPU takes an interrupt
remote:          - bcm7120_l2_intc_irq_handle() reads IRQSTAT
remote:          - generic_handle_irq() is invoked
remote:          - there are still pending interrupts flagged in IRQSTAT from a different parent
remote:          - handle_bad_irq() is invoked
remote:
remote:          In order to fix this, make sure that we always mask IRQSTAT with the
remote:          appropriate bits that correspond go the parent interrupt source this is coming
remote:          from. To simplify things, associate an unique structure per parent interrupt
remote:          handler to avoid multiplying the number of lookups.
remote:
remote:          While at it, remove the unused 'gc' argument from bcm7120_l2_intc_irq_handle().
remote:
remote:          SWLINUX-3747
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 96144b62fac9aeff32f35a8e8260d9833cebf06c)
remote:
remote:      commit 996eb6579b80135397fcb4b2e235db885877753d
remote:      Author: Kevin Cernekee <cernekee@gmail.com>
remote:      Date:   Thu Nov 6 22:44:24 2014 -0800
remote:
remote:          irqchip: bcm7120-l2: Fix missing nibble in gc->unused mask
remote:
remote:          [Upstream commit 0b5cb32ca5aea14bfcfda380e5da67b0abf35b4b]
remote:
remote:          This mask should have been 0xffff_ffff, not 0x0fff_ffff.
remote:
remote:          The change should not have an effect on current users (STB) because bits
remote:          31:27 are unused.
remote:
remote:          SWLINUX-3747
remote:
remote:          Signed-off-by: Kevin Cernekee <cernekee@gmail.com>
remote:          Acked-by: Arnd Bergmann <arnd@arndb.de>
remote:          Acked-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Link: https://lkml.kernel.org/r/1415342669-30640-10-git-send-email-cernekee@gmail.com
remote:          Signed-off-by: Jason Cooper <jason@lakedaemon.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit ffae1a1724b00e15db51db27d97d6b2f1f0215f8)
remote:
remote:      commit c52a979dc7a33d409b8ddb9386d1c6603cc27dcc
remote:      Author: Kevin Cernekee <cernekee@gmail.com>
remote:      Date:   Thu Nov 6 22:44:21 2014 -0800
remote:
remote:          irqchip: bcm7120-l2: Eliminate bad IRQ check
remote:
remote:          [Upstream commit f668f074ff58dea540d83bbed1b2c1171b0dd764]
remote:
remote:          This check may be prone to race conditions, e.g.
remote:
remote:          1) Some external event (e.g. GPIO level) causes an IRQ to become pending
remote:          2) Peripheral asserts the L2 IRQ
remote:          3) CPU takes an interrupt
remote:          4) The event from #1 goes away
remote:          5) bcm7120_l2_intc_irq_handle() reads back a 0 status
remote:
remote:          Unlike the hardware supported by brcmstb-l2, the bcm7120-l2 controller
remote:          does not latch the IRQ status.  Bits can change if the inputs to the
remote:          controller change.  Also, do_bad_IRQ() is an ARM-specific macro.
remote:
remote:          So let's just nuke it.
remote:
remote:          SWLINUX-3747
remote:
remote:          Signed-off-by: Kevin Cernekee <cernekee@gmail.com>
remote:          Acked-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Acked-by: Arnd Bergmann <arnd@arndb.de>
remote:          Link: https://lkml.kernel.org/r/1415342669-30640-7-git-send-email-cernekee@gmail.com
remote:          Signed-off-by: Jason Cooper <jason@lakedaemon.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 66d853d61ee613ad7825d71bfa6ef1e757cbd0bf)
remote:
remote:      commit fb5ba779f2fc6bee4630d37974571fa9f65470ff
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jul 27 16:39:08 2015 -0700
remote:
remote:          brcmstb: memory: add special vmap() for BMEM
remote:
remote:          vmap(), by default, checks to see that the number of pages is not larger than
remote:          the total number of pages managed by Linux.  Usually, this is a nice sanity
remote:          check, and we want to keep that for any of the kernel's vmap() invocations.
remote:          However, this is a problem for our use case because we actually want to vmap()
remote:          pages that are _not_ managed by Linux.  This essentially copies vmap() but
remote:          removes the check against totalram_pages.
remote:
remote:          SWLINUX-3730
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 7b55ad0cce0e19d6e05c0a503b7e14d5e6b193c1)
remote:
remote:      commit 2fb3622542183ea37adc2f802afb7a1c78612ed6
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Fri Jul 24 15:43:53 2015 -0700
remote:
remote:          brcmstb: memory: add function to kva map based on phys addr
remote:
remote:          Add function brcmstb_memory_kva_map_phys() to take in a physical address
remote:          instead of a page.  This API will be used by refsw, which was just converting
remote:          to a struct page * to call our function.
remote:
remote:          Bump BRCMSTB_H_VERSION to 4.
remote:
remote:          SWLINUX-3730
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 27015fd335fbae37a08b1e73cbf4e68e9337ec64)
remote:
remote:      commit ccec1782e60cc8a7f8f772af7edcaf059a57f289
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Thu Jul 23 15:42:50 2015 -0700
remote:
remote:          soc: brcmstb: move kva_(un)map functions to memory API
remote:
remote:          The kernel VA map and unmap functions are not really just for CMA and will also
remote:          be used for BMEM, so move there.  Also modify cma_driver.h so that it will
remote:          continue to be possible to use the names cma_dev_kva_{map,unmap}.
remote:
remote:          Bump BRCMSTB_H_VERSION to 3.
remote:
remote:          SWLINUX-3730
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 8a7fb96af0f302c4f242ab485b926b4a9014d459)
remote:
remote:      commit 3996e3208028c185a2771367e78559617304de77
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Wed Jul 22 14:16:41 2015 -0400
remote:
remote:          usb: bdc: Fix compiler error when CONFIG_USB_GADGET_VERBOSE is enabled
remote:
remote:          Fix compiler error in the USB BDC driver when the config options
remote:          CONFIG_USB_GADGET_DEBUG and CONFIG_USB_GADGET_VERBOSE are enabled
remote:          in the defconfig.
remote:
remote:          SWLINUX-3746
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit b1847e591c96fd7fbcf3460250df11a2556c4761)
remote:
remote:      commit 12d49c9f15dd64b020b549efde7a71775dc18c80
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jul 20 14:29:54 2015 -0700
remote:
remote:          Bump version to 3.14-1.8pre
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit cde111bd52a20199a26d1173f2cdd7cac7bd885f)
remote:
remote:      commit c9424976df5425e77f004b5786af33b213d9af3b
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Jul 15 17:25:30 2015 -0700
remote:
remote:          BCMGENET: Delay PHY initialization to bcmgenet_open()
remote:
remote:          We are currently doing a full PHY initialization and starting the PHY state
remote:          machine during bcmgenet_mii_init() which is executed in the probe function.
remote:          This is convenient to determine whether we can attach to a proper PHY device
remote:          but comes with expense of spending up to 10ms per MDIO transaction, which
remote:          slows things down.
remote:
remote:          This also creates a situation where we end-up attaching twice to the PHY,
remote:          which is not quite correct either.
remote:
remote:          Fix this by moving bcmgenet_mii_probe() into bcmgenet_open().
remote:
remote:          SWLINUX-3743
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 5043be0c54365e785a08a97ecbc24968927ec051)
remote:
remote:      commit ae56714f97bfa4392863bf95cd94962c9e78ac1c
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Jul 17 10:00:03 2015 -0700
remote:
remote:          BCMGENET: Use correct dev_id for free_irq
remote:
remote:          bcmgenet_open()'s error path calls free_irq() with a dev_id argument different
remote:          from the one we used to call request_irq() with, this will make us trip over
remote:          the warning in kernel/irq/manage.c::__free_irq() against "action" since we
remote:          cannot find a corresponding action mapped to this interrupt.
remote:
remote:          SWLINUX-3743
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 97b0f4c5c25bb208fdca9eed8e76c77c415d9191)
remote:
remote:      commit 95c018426f3fc0ff3d5f83307298cead43e01cb3
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Wed Jul 15 12:10:48 2015 -0700
remote:
remote:          brcmstb_defconfig: enable CONFIG_HZ_1000
remote:
remote:          Timer latency is too high with the default of 100, so increase to 1000.
remote:
remote:          Tested using nexus baseline with the following change:
remote:
remote:          --- a/nexus/platforms/common/src/nexus_platform.c
remote:          +++ b/nexus/platforms/common/src/nexus_platform.c
remote:          @@ -681,6 +681,14 @@ NEXUS_Error NEXUS_Platform_Init_tagged( const NEXUS_PlatformSettings *pSettings,
remote:               preInitState = NEXUS_Platform_P_PreInit();
remote:               if (!preInitState) {errCode = -1; goto err_preinit;} /* no BERR_TRACE possible */
remote:
remote:          +    {
remote:          +        unsigned loops = 50;
remote:          +        while (loops--) {
remote:          +            BKNI_Sleep(1);
remote:          +            BDBG_WRN(("here"));
remote:          +        }
remote:          +    }
remote:          +
remote:               NEXUS_Platform_GetReleaseVersion(g_platformSwVersion,100);
remote:               BDBG_WRN(("%s boxmode %d",g_platformSwVersion, preInitState->boxMode));
remote:
remote:          SWLINUX-3443
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 149b9b1da0e6f384f7e5f83d20a9bc6f50edc8d2)
remote:
remote:      commit 2a0e01144059562bddf0a3e127276b9a9b29b643
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Wed Jul 15 13:15:40 2015 -0400
remote:
remote:          usb: gadget: bdc: Add device-tree binding document for BDC driver
remote:
remote:          SWLINUX-3630
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit a8a40ea7cd00637b77cae19cf2a23734b037d5b5)
remote:
remote:      commit cc240b7e8dfd65129c5c9cde2598d704fdfaa6e9
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Wed Jul 15 09:25:06 2015 -0400
remote:
remote:          usb: gadget: bdc: Add additional configuration setup for BDC
remote:
remote:          This will enable the BDC base driver that can be used by any
remote:          Gadget driver. To test this driver a Gadget driver can be enabled
remote:          in the defconfig file.
remote:          Storage support:
remote:          CONFIG_USB_F_MASS_STORAGE=y
remote:          CONFIG_USB_MASS_STORAGE=y
remote:          Ethernet dongle support:
remote:          CONFIG_USB_ETH=y
remote:
remote:          SWLINUX-3630
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit e202e40f6a42042e00a7b98b3d80de136db16e27)
remote:
remote:      commit c78d52a396dc150e8a62154119d89caf16201136
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Wed Jul 15 09:21:43 2015 -0400
remote:
remote:          usb: gadget: bdc: Minor cleanup in usb-brcm.c
remote:
remote:          SWLINUX-3630
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit 91d47c93a6b289db8ba1b6e848af2994917c0427)
remote:
remote:      commit d70e04fb176a66a76d4e614aabfe5ae23da7b53b
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Fri Jun 19 11:12:16 2015 -0400
remote:
remote:          usb: gadget: bdc: Fix a driver crash on disconnect
remote:
remote:          ep_dequeue() in bdc_ep.c was capturing the hw dequeue pointer
remote:          incorrectly by reading the wrong register for the upper 32 bits.
remote:
remote:          SWLINUX-3630
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit 1d3ef38aedc034914b3b2f4930a9be58a8f7af72)
remote:
remote:      commit ebecdffa99d4748524d311a0ba38845eb87b56c1
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Jan 22 13:52:54 2015 -0800
remote:
remote:          usb: gadget: bdc: hook a quick Device Tree compatible string
remote:
remote:          Allows Device Tree probing
remote:
remote:          SWLINUX-3630
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit e8f5f48012969e6f10e0636f4e6dfd43eb4ee934)
remote:
remote:      commit db4b478cf1e02d1e64478f9c4b7703b729a63055
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Jan 16 16:48:56 2015 -0800
remote:
remote:          usb: gadget: bdc: fix bdc_stop function prototype
remote:
remote:          SWLINUX-3630
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit f3f765fc7129c00c8c1d9991eb89fb7aa8b77067)
remote:
remote:      commit b9577f103f12e9ebe37b72c57500d7ecfd6ea4dc
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Jan 16 16:45:57 2015 -0800
remote:
remote:          usb: gadget: Introduce usb_gadget_giveback_request()
remote:
remote:          All USB peripheral controller drivers call completion routines directly.
remote:          This patch adds usb_gadget_giveback_request() which will be used instead
remote:          of direct invocation in the next patch. The goal here is to have a place
remote:          where common functionality can be added.
remote:
remote:          SWLINUX-3630
remote:
remote:          Signed-off-by: Michal Sojka <sojka@merica.cz>
remote:          Acked-by: Felipe Balbi <balbi@ti.com>
remote:          Tested-by: Felipe Balbi <balbi@ti.com>
remote:          Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
remote:          [fainelli: make it apply to 3.14]
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:
remote:          (cherry picked from commit 39163dad04c3649770bcb73534bd0f02d5ac4eef)
remote:
remote:      commit ef02a1622ed64b3ade2396d5218cfb0a2bbc2021
remote:      Author: John W. Linville <linville@tuxdriver.com>
remote:      Date:   Tue Jan 6 14:49:47 2015 -0500
remote:
remote:          usb: gadget: udc: avoid dereference before NULL check in ep_queue
remote:
remote:          Coverity: CID 1260069
remote:
remote:          SWLINUX-3630
remote:
remote:          Signed-off-by: John W. Linville <linville@tuxdriver.com>
remote:          Cc: Felipe Balbi <balbi@ti.com>
remote:          Cc: stable <stable@vger.kernel.org>
remote:          Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit bfce096be610f6d4f5f1ce2acc0e1547a638f746)
remote:
remote:      commit 91e74ab695553888ca43c4b5409986e01de67522
remote:      Author: Dan Carpenter <dan.carpenter@oracle.com>
remote:      Date:   Sat Nov 29 15:49:17 2014 +0300
remote:
remote:          usb: gadget: udc: missing curly braces
remote:
remote:          There were curly braces intended here.
remote:
remote:          SWLINUX-3630
remote:
remote:          Signed-off-by: Dan Carpenter <dan.carpenter@oracle.com>
remote:          Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit d9d74cba7958bd1570cde46edf5d19e8d6d9ea52)
remote:
remote:      commit 35b86185202ec2e50aababd87bf9adac14cbaed2
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Jan 16 16:26:38 2015 -0800
remote:
remote:          usb: gadget: Add UDC driver for Broadcom USB3.0 device controller IP BDC
remote:
remote:          This patch adds a UDC driver for Broadcom's USB3.0 Peripheral core named BDC.
remote:          BDC supports control traffic on ep0 and bulk/Int/Isoch traffic on all other
remote:          endpoints.
remote:
remote:          [ balbi@ti.com : fix build error on randconfig due to lack of
remote:          	<linux/dmapool.h> ]
remote:
remote:          SWLINUX-3630
remote:
remote:          Signed-off-by: Ashwini Pahuja <ashwini.linux@gmail.com>
remote:          Signed-off-by: Felipe Balbi <balbi@ti.com>
remote:          [fainelli: resolve file move to be in drivers/usb/gadget/]
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:
remote:          (cherry picked from commit 992aae1084928a4acd14918035d84837219a10d4)
remote:
remote:      commit d5c92b893188bab5c93e08f5ec90cba9168adea3
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jul 13 18:00:40 2015 -0700
remote:
remote:          soc: brcmstb: default to bmem
remote:
remote:          Change default reservation type from CMA to BMEM.
remote:
remote:          SWLINUX-3730
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit b2a60a30c3f3be3c72b34ed59e79d2dadf74bf3d)
remote:
remote:      commit 2a379b7b48c975336d27518909e0ee639f19ea12
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue Jul 14 12:32:18 2015 -0700
remote:
remote:          BCMGENET: Remove excessive PHY reset
remote:
remote:          We are currently issuing multiple PHY resets during a suspend/resume,
remote:          first during bcmgenet_power_up() which does a hardware reset, then a
remote:          software reset by calling bcmgenet_mii_reset(). This is both unnecessary
remote:          and can take as long as 10ms per MDIO transactions while we re-apply
remote:          workarounds because we do not yet have MDIO interrupts enabled.
remote:
remote:          phy_resume() takes care of re-apply our workarounds in case we need any,
remote:          and bcmgenet_power_up() does a PHY hardware reset, all of this is more
remote:          than enough to guarantee that the PHY operates correctly.
remote:
remote:          SWLINUX-3736
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 52ed8d25f2e4065adc92b32949f3a671f52d11a6)
remote:
remote:      commit f40a3a4b87c68720f13bfc89c1ecfce48c6ddcaf
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Tue Jun 30 10:47:47 2015 -0400
remote:
remote:          usb: Enable USB 3.0 SSC on both ports
remote:
remote:          Currently, USB 3.0 SSC is enabled via port 0 MDIO registers, which
remote:          should have been adequate. However, due to a bug in the USB 3.0 PHY,
remote:          it must be enabled via both ports.
remote:
remote:          SWLINUX-3722
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit ea1d8977994f57427209158f6ca966933904f004)
remote:
remote:      commit c48e34663e4f7d32a42f3744a423479e000fb472
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jun 29 18:07:30 2015 -0700
remote:
remote:          soc: brcmstb: memory: fix regression in memblock reserve adjustment
remote:
remote:          When updating the default reservation code to handle reserved-memory[1]
remote:          DT entries in addition to memreserve, I made an off-by-one error when
remote:          checking for the unhandled 'split region' case and could also set the
remote:          incorrect size for memreserve at the end of a region.  Fix that,
remote:          simplify the logic a bit, and add some (hopefully) clarifying comments.
remote:
remote:          [1] https://www.kernel.org/doc/Documentation/devicetree/bindings/reserved-memory/reserved-memory.txt
remote:              http://jira.broadcom.com/browse/SWLINUX-3647
remote:
remote:          fixes #SWLINUX-3713
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit a40e62fd2bb44796523518ddbacd45940439a449)
remote:
remote:      commit d2dc9d30834d9ea858076abba945e715f7063088
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Mon Jun 29 18:05:47 2015 -0400
remote:
remote:          mmc: Some Micron eMMC devices cause reboot to hang
remote:
remote:          When using eMMC as the boot device, some Micron eMMC devices will
remote:          cause reboot to hang. This is a result of the eMMC device not going
remote:          into boot mode after the hardware sends CMD0 to reset the eMMC
remote:          device. This only happens if the kernel driver sends CMD5 (SLEEP_WAKE),
remote:          to put the device into sleep state, before restarting the system.
remote:          The fix is to add a quirk that avoids sending the SLEEP command
remote:          and to use MMC_FIXUP to set the quirk for these Micron devices.
remote:
remote:          SWLINUX-3720
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit 58a56945f7ab3bbe17a9ed15ce9f15763210a42f)
remote:
remote:      commit 3e1773226be12696891208e7ed7cc94c3d2a0c7e
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Jun 5 16:34:42 2015 -0700
remote:
remote:          net: phy: mdio-bcm-unimac: workaround initial read failures for integrated PHYs
remote:
remote:          All BCM7xxx integrated Gigabit PHYs have an issue in their MDIO
remote:          management controller which will make the initial read or write to them
remote:          to fail and return 0xffff. This is a real issue as the typical first
remote:          thing we do is read from MII_PHYSID1 and MII_PHYSID2 from get_phy_id()
remote:          to register a driver for these PHYs.
remote:
remote:          Coupled with the workaround in drivers/net/phy/bcm7xxx.c, this
remote:          workaround for the MDIO bus controller consists in scanning the list of
remote:          PHYs to do this initial read workaround for as part of the MDIO bus
remote:          reset routine which is invoked prior to mdiobus_scan().
remote:
remote:          Once we have a proper PHY driver/device registered, all workarounds are
remote:          located there (e.g: power management suspend/resume calls).
remote:
remote:          SWLINUX-3684
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit fb4d51ba013462d04625080420c4316d35df03a0)
remote:
remote:      commit 6d8da89cdacdb42b1c249c69df71b1b4c4a6d3d7
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Jun 5 16:25:05 2015 -0700
remote:
remote:          net: bcmgenet: workaround initial read failures for integrated PHYs
remote:
remote:          All BCM7xxx integrated Gigabit PHYs have an issue in their MDIO
remote:          management controller which will make the initial read or write to them
remote:          to fail and return 0xffff. This is a real issue as the typical first
remote:          thing we do is read from MII_PHYSID1 and MII_PHYSID2 from get_phy_id()
remote:          to register a driver for these PHYs.
remote:
remote:          Coupled with the workaround in drivers/net/phy/bcm7xxx.c, this
remote:          workaround for the MDIO bus controller consists in scanning the list of
remote:          PHYs to do this initial read workaround for as part of the MDIO bus
remote:          reset routine which is invoked prior to mdiobus_scan().
remote:
remote:          Once we have a proper PHY driver/device registered, all workarounds are
remote:          located there (e.g: power management suspend/resume calls).
remote:
remote:          SWLINUX-3684
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 030f1f1693718d481c5023045acb2416dbb3d962)
remote:
remote:      commit 1d23399fbac172e3b5f8a2159ab5b714b52a5a0e
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Jun 3 11:53:03 2015 -0700
remote:
remote:          net: phy: bcm7xxx: workaround MDIO management controller initial read
remote:
remote:          The initial MDIO read or write towards the BCM7xxx integrated PHY may
remote:          fail, workaround this by inserting a dummy MII_BMSR read to force the
remote:          MDIO management controller to see at least one valid transaction and get
remote:          out of stuck state out of reset.
remote:
remote:          SWLINUX-3684
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 35f9349943c8d96764266158478f495a05452e8d)
remote:
remote:      commit 780f24696e5e9f2c6114114025c654b54310fb96
remote:      Author: Daniel Mack <zonque@gmail.com>
remote:      Date:   Mon Jun 2 13:32:45 2014 +0200
remote:
remote:          net: of_mdio: use int type for address variable
remote:
remote:          Use int rather than u32 to fix the following warning:
remote:
remote:          drivers/of/of_mdio.c:147 of_mdiobus_register() warn: unsigned 'addr' is
remote:          never less than zero.
remote:
remote:          SWLINUX-3684
remote:
remote:          Signed-off-by: Daniel Mack <zonque@gmail.com>
remote:          Fixes: 8f8382888cba ("net: of_mdio: factor out code to parse a phy's 'reg' property")
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 98956aadf44a33fee23199151c2622aa1fa85c91)
remote:
remote:      commit db6ad47c825196103c6863ed3de7a87954236400
remote:      Author: Daniel Mack <zonque@gmail.com>
remote:      Date:   Sat May 24 09:34:27 2014 +0200
remote:
remote:          net: of_mdio: don't store the length of a property if we don't need to
remote:
remote:          of_get_property() can be called with NULL as 2nd argument if the caller
remote:          is not interested in the length of a property. Use that here so we can
remote:          get rid of a variable.
remote:
remote:          SWLINUX-3684
remote:
remote:          Signed-off-by: Daniel Mack <zonque@gmail.com>
remote:          Reviewed-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 84367958b3592bf433f29e2c3f7975998be37788)
remote:
remote:      commit 0d669d7e9c0da6e8ca4f0dea5007437bd51b6ab3
remote:      Author: Florian Fainelli <f.fainelli@gmail.com>
remote:      Date:   Tue Mar 10 16:57:11 2015 -0700
remote:
remote:          of: mdio: export of_mdio_parse_addr
remote:
remote:          [Upstream commit 33d6737761ea425d43f3b6e4561573a4020982f2]
remote:
remote:          Export of_mdio_parse_addr() which allows parsing a given Ethernet PHY
remote:          node MDIO address, verify it is within the allowed range, and return
remote:          its value. This is going to be useful for the DSA code which needs to
remote:          deal with multiple layers of MDIO buses.
remote:
remote:          SWLINUX-3684
remote:
remote:          Acked-by: Rob Herring <robh@kernel.org>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit cc7db93f3633d497a1af7f7091d53039082bad68)
remote:
remote:      commit c1f8193c858618124e0948b251381de1725f8b45
remote:      Author: Daniel Mack <zonque@gmail.com>
remote:      Date:   Sat May 24 09:34:25 2014 +0200
remote:
remote:          net: of_mdio: factor out code to parse a phy's 'reg' property
remote:
remote:          [Upstream commit 8f8382888cbaf6de13046437d41a1c3d1394d51f]
remote:
remote:          Factor out some logic into of_mdio_parse_addr() so it can be reused
remote:          later. While at it, use of_property_read_u32() rather than open-coding
remote:          the same logic again.
remote:
remote:          SWLINUX-3684
remote:
remote:          Signed-off-by: Daniel Mack <zonque@gmail.com>
remote:          Reviewed-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit d29685d835ccd606c0d0b4eb71e6cf0e674414ac)
remote:
remote:      commit 37941d56b7216831bac56df07917474529d54635
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Fri Jun 5 08:21:37 2015 -0400
remote:
remote:          usb: BDC: Configure Host/Device mode port sharing based on DT
remote:
remote:          The "device" property in the ""brcm,usb-instance" node will
remote:          specify how a port will be shared between USB Host and Device
remote:          controllers. "off" will will be host only, "on" will be device
remote:          only and "dual" will be the DRD (Dual Role Device) mode.
remote:          This property will be used by the USB wrapper driver to configure
remote:          the USB ctrl registers properly.
remote:          NOTES:
remote:          - "dual" mode is broken on the 7439bx but will be fixed in
remote:            future chips.
remote:          - The combination of enabled DT nodes for ohci ehic xhci and bdc
remote:            are expected to be correct for the chosen mode.
remote:
remote:          SWLINUX-3693
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit 26fceffcef460a225dba612a7f7eef6008ea7c21)
remote:
remote:      commit 7aa6f8164bbb326f54968ccc93cca26bf4d6a935
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Wed Jun 3 17:38:16 2015 -0400
remote:
remote:          usb: Update bchp_usb_ctrl.h for 7439b0
remote:
remote:          SWLINUX-3693
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit 7d843e13e369df6f9847e3eb331b49faec46e400)
remote:
remote:      commit 682473a472b4e017619304b8b74cb9dc407cbaf5
remote:      Author: Shane Yi <shyi@broadcom.com>
remote:      Date:   Thu Jun 11 10:42:36 2015 -0700
remote:
remote:          bsp: added Kconfig entries for 3390b0
remote:
remote:          SWLINUX-3667
remote:
remote:          Signed-off-by: Shane Yi <shyi@broadcom.com>
remote:          (cherry picked from commit f5c9027e13632712873b5f729d0c2c50507f12be)
remote:
remote:      commit a0af8af67219ec6d78becb182bf23579e3f091e2
remote:      Author: Shane Yi <shyi@broadcom.com>
remote:      Date:   Thu Jun 11 10:41:03 2015 -0700
remote:
remote:          bsp: added bchp headers for 3390b0
remote:
remote:          SWLINUX-3667
remote:
remote:          Signed-off-by: Shane Yi <shyi@broadcom.com>
remote:          (cherry picked from commit db6855767a0885b735df38bd63df99e87a07de78)
remote:
remote:      commit 3ebc0a66d873112acaf9030a3a602603aff741f9
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Jun 19 15:53:44 2015 -0700
remote:
remote:          Revert "BCMSYSPORT: Switch TX reclaim to NAPI context"
remote:
remote:          This reverts commit ac4a2acc2453bccb87e6a16d1fd1313be305b531. This change
remote:          is causing a performance regression as reported by Alex Chu during SQA.
remote:
remote:          3.14 is missing some upstream changes that are required to do less interrupt
remote:          masking while executing NAPI which give a significant performance boost
remote:          this is no longer a problem on 4.1 and newer.
remote:
remote:          SWLINUX-3690
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit b69c20822f4ffed2f2a8f140cb88d15a26b47037)
remote:
remote:      commit 07d9e26222a3ae4150c58d8621ff934ab25b4b28
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Jun 19 13:48:52 2015 -0700
remote:
remote:          Revert "BCMSYSPORT: rewrite bcm_sysport_rx_refill"
remote:
remote:          This reverts commit ced41ec297954d70a43b059bd4f44669e368e1dc. Alex Chu reported
remote:          a noticeable performance drop, ranging from ~940Mbits/sec to ~760Mbits/sec.
remote:
remote:          These changes were tested against an upstream kernel which contains some
remote:          improvements on how SKB allocation in NAPI context operate, and these changes
remote:          are not in 3.14 yet and way too invasive to backport.
remote:
remote:          Revert back to the previous behavior which consists in invalidating data cache
remote:          lines after DMA, processing the packet, and then re-allocating it during the
remote:          refill operation.
remote:
remote:          SWLINUX-3690
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit d41e2147419f44920bfbb2c555f08cda7b5ceabd)
remote:
remote:      commit b8d163fb102b52854aa5b824ff66fa5a78f45d1f
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jun 15 14:32:04 2015 -0700
remote:
remote:          soc: brcmstb: memory: fix up default reserve alignment
remote:
remote:          When moving the default reservation logic, I accidentally left out a
remote:          crucial change for the 512M DRAM case: alignment fixing.  While this
remote:          should _hopefully_ only be required for 512M, we actually want to be
remote:          pageblock-aligned all the time (well, it's not pageblock for transparent
remote:          hugepages, but it's easier to just say pageblock), and it's certainly
remote:          possible that some memory reservations might not be so aligned.  So just
remote:          do the alignment all of the time like we were doing in cma_driver
remote:          before.
remote:
remote:          Tested on 73649a0 (512M RAM) that default boot-time CMA reserve works
remote:          and 'cmatool unittest' passes all tests after this change.
remote:
remote:          SWLINUX-3504
remote:
remote:          Reported-by: Alex Chu <alexchu@broadcom.com>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 8f699ad52a5c50d3409a638bee874d117b3b7ec7)
remote:
remote:      commit f4b8ca8305bbc0b9d4a441a40add70a0acfb5525
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Jun 10 11:55:20 2015 -0700
remote:
remote:          net: dsa: bcm_sf2: do not use indirect reads and writes for 7445E0
remote:
remote:          7445E0 contains an ECO (HW7445-1526) which disconnected the internal SF2
remote:          pseudo-PHY which was known to conflict with the external pseudo-PHY of
remote:          BCM53125 switches. This motivated the need to utilize the internal SF2
remote:          MDIO controller via indirect register reads/writes to control external
remote:          Broadcom switches due to this address conflict (both responded at
remote:          address 30d).
remote:
remote:          For 7445E0, the internal pseudo-PHY of the SF2 switch got disconnected,
remote:          and as a consequence this prevents the internal SF2 MDIO bus controller
remote:          from reading data (reads back everything as 0) since the MDI line is
remote:          tied low.
remote:
remote:          Fix this by making the indirect register reads and writes conditional to
remote:          7445D0, on 7445E0 we can utilize the SWITCH_MDIO controller (backed by
remote:          mdio-unimac and not the DSA created slave MII bus).
remote:
remote:          SWLINUX-3699
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 09d5d3e8bc3be21072000ee3098f7edc5b0cfea9)
remote:
remote:      commit 5205378f2f92d9742162e4ffe50afc26d43cfaae
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Jun 10 11:54:36 2015 -0700
remote:
remote:          net: phy: mdio-unimac: handle broken turn-around for specific PHYs
remote:
remote:          Some Ethernet PHYs/switches such as Broadcom's BCM53125 have a hardware bug
remote:          which makes them not release the MDIO line during turn-around time.  This gets
remote:          flagged by the UniMAC MDIO controller as a read failure, and we fail the read
remote:          transaction.
remote:
remote:          Check the MDIO bus phy_ignore_ta_mask bitmask for the PHY we are reading
remote:          from and if it is listed in this bitmask, ignore the read failure and proceed
remote:          with returning the data we read out of the controller.
remote:
remote:          SWLINUX-2863
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 7656d1c266a4e3b1d9ecb55521e74d92990ed524)
remote:
remote:      commit 0446e75742f218e2263cf277ff39a7d109ad5ab9
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu May 14 16:10:59 2015 -0700
remote:
remote:          BCMGENET: handle broken turn-around for specific PHYs
remote:
remote:          Some Ethernet PHYs/switches such as Broadcom's BCM53125 have a hardware bug
remote:          which makes them not release the MDIO line during turn-around time.  This gets
remote:          flagged by the GENET MDIO controller as a read failure, and we fail the read
remote:          transaction.
remote:
remote:          Check the MDIO bus phy_ignore_ta_mask bitmask for the PHY we are reading from
remote:          and if it is listed in this bitmask, ignore the read failure and proceed with
remote:          returning the data we read out of the controller.
remote:
remote:          SWLINUX-2863
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit a43d720e7d282ea8f1d3c8668eb09c5ea132eb7a)
remote:
remote:      commit 825881565770b4e5798f4c1d67236466b24b9c00
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Jun 10 11:52:22 2015 -0700
remote:
remote:          net: phy: ethsw: flag switch pseudo-PHY as having broken turn-around
remote:
remote:          We will able to successfully detect switches since we typically use address 0
remote:          to read the switch's MII_PHYSID1/2 register, therefore ethsw_probe() will be
remote:          invoked and we use it to tell the MDIO bus controller that the switch
remote:          pseudo-PHY (30d) has a broken turn-around and that it should ignore read
remote:          failures at this address.
remote:
remote:          SWLINUX-2863
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit acf19dab2df595c3daf67d24eee1bf519adc7b9d)
remote:
remote:      commit cbb740c79596ba9cc3bd6fe961c82f678fb66fc4
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Jun 10 17:07:00 2015 -0700
remote:
remote:          net: dsa: bcm_sf2: Utilized BRCM_PSEUDO_PHY_ADDR
remote:
remote:          Replace the open-coded constant 30 with its definition from brcmphy.h
remote:
remote:          SWLINUX-2863
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 73b2ae6459fc70bc95a9d30788c93bdc8597393f)
remote:
remote:      commit dc5d071fdf513c93addf5ceafa9eef7027f20d3b
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Jun 10 17:00:49 2015 -0700
remote:
remote:          net: phy: ethsw: Utilize BRCM_PSEUDO_PHY_ADDR
remote:
remote:          Replace our local constant with the shared header constant.
remote:
remote:          SWLINUX-2863
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 9ac13a3c4baefe90835c0de7a28bd01fc19f912c)
remote:
remote:      commit b41a796cdd86356bb033be2c6a6379e0252adf04
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Jun 10 16:42:27 2015 -0700
remote:
remote:          net: phy: define Broadcom pseudo-PHY address in brcmphy.h
remote:
remote:          Define the pseudo-PHY address (30) which is used by all Broadcom Ethernet
remote:          switches in a shared header file.
remote:
remote:          SWLINUX-2863
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 0ece811de6e2fbb4e58f01211051f986262f3612)
remote:
remote:      commit 8fbc3dcd066002ff814c92eea4a5f3c1ecc3c690
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue May 12 10:33:26 2015 -0700
remote:
remote:          net: phy: mdio-gpio: Handle phy_ignore_ta_mask
remote:
remote:          [Upstream commit ea48b2b8ada594e985b86da98b0c966d1ae23a4b]
remote:
remote:          Update mdiobb_read() to read whether the PHY has a broken turn-around,
remote:          and if it does, ignore it to make the read succeeed.
remote:
remote:          SWLINUX-2863
remote:
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit dd44b091601a6b97fd64954b7fe9207fb387d700)
remote:
remote:      commit 697ec7f944116fed5a271bcd32e7dd190258cad0
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue May 12 10:33:25 2015 -0700
remote:
remote:          of: mdio: Add a "broken-turn-around" property
remote:
remote:          [Upstream commit ab6016e0c134c3a564e6750f5b246ba17ada4686]
remote:
remote:          Some Ethernet PHY devices/switches may not properly release the MDIO bus
remote:          during turn-around time, and fail to drive it low, which can be seen by
remote:          some controllers as a read failure, while the data clocked in is still
remote:          correct.
remote:
remote:          Add a boolean property "broken-turn-around" which is parsed by the
remote:          generic MDIO bus probing code and will set the corresponding bit in the
remote:          MDIO bus phy_ignore_ta_mask bitmask for MDIO bus drivers to utilize that
remote:          information.
remote:
remote:          SWLINUX-2863
remote:
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 1d051efb5c36128c6ba2243dab04308882a73aaf)
remote:
remote:      commit 3d712815623c55197feeeeb5c6c16aa8b79d504b
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue May 12 10:33:24 2015 -0700
remote:
remote:          net: phy: Add phy_ignore_ta_mask to account for broken turn-around
remote:
remote:          [Upstream commit 922f2dd1b65a888e34c472979460dc23211750a2]
remote:
remote:          Some PHY devices/switches will not release the turn-around line as they
remote:          should do at the end of a MDIO transaction. To help with such
remote:          situations, allow MDIO bus drivers to be made aware of such
remote:          restrictions.
remote:
remote:          SWLINUX-2863
remote:
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 85912a596952be41f883db2b6c043add5e01ccc6)
remote:
remote:      commit ff988f8816d6d3f78b1f786820f4f335d52bd23c
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue Jun 9 19:38:12 2015 -0700
remote:
remote:          Bump version to 3.14-1.7pre
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit a86f1185be47c7821055d910b5c1e21ffdb51d1a)
remote:
remote:      commit 95085b4f94a51dd53d1a94b1123ae517f17ed803
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Fri Jun 5 08:18:56 2015 -0400
remote:
remote:          usb: Fix usb-brcm-common-init module license.
remote:
remote:          This module is used by both BOLT and the Linux kernel so it
remote:          needs a license that works for both. Fix this by replacing the
remote:          GPLv2 license with the BSD license.
remote:
remote:          SWLINUX-3693
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit ba25d115e58f9498777faeb8a6bdc85aca194359)
remote:
remote:      commit 921295c9cb440c0d5210957bc8568d864f31f5b0
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jun 8 19:13:13 2015 -0700
remote:
remote:          cma: brcm-cma: change brcm_cma=0 to disable brcm cma
remote:
remote:          Before, we would just return 0 as an invalid size.  While it is invalid, this
remote:          will a) be caught later and b) the value should be used like the bmem code to
remote:          indicate that we want to disable using this entirely, since there isn't another
remote:          easy way to do that.
remote:
remote:          SWLINUX-3504
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit b0426ccecd3c73a7b83663a84f8dd31d12d91d34)
remote:
remote:      commit 9026bcf80ddaf976f016fffe1c1f46baca392181
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jun 8 18:39:14 2015 -0700
remote:
remote:          soc: brcmstb: add back default CMA reservation, allow BMEM via switch
remote:
remote:          Introduces two shared variables, brcmstb_default_reserve and
remote:          brcmstb_memory_override_defaults, for the reserve functions to determine
remote:          whether to set up the default reservations for CMA or BMEM.  In order to change
remote:          the default, modify the value of brcmstb_default_reserve and recompile.
remote:          Specifying any brcm_cma or bmem parameter on the kernel boot line will result
remote:          in the selected default being overridden with manual reservations.
remote:
remote:          Bump memory API version to 2 for the additions.
remote:
remote:          SWLINUX-3504
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 4e9707e26c1f18a239672201ae91759cad5189bb)
remote:
remote:      commit acba179a68ef6853e2782296eed2bc993023404e
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jun 8 16:32:26 2015 -0700
remote:
remote:          soc: brcmstb: move default reserve from bmem to memory API
remote:
remote:          This is prep for sharing this code back to cma_driver.  Introduces a dependency
remote:          on BRCMSTB_MEMORY_API so update Kconfig accordingly.
remote:
remote:          SWLINUX-3504
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit cf23bd03500ce52f9585e106290f0df625651a8d)
remote:
remote:      commit d29f3419186ab3a8dfe909ab2a4e0def086415fe
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Fri Jun 5 15:43:56 2015 -0400
remote:
remote:          pci: issue warning when dma-ranges prop is observed
remote:
remote:          Recently, Bolt began adding optionally the "dma-ranges" property
remote:          to the PCIe nodes.  This property instructs Linux how to massage
remote:          the dma_addr_t values obtained when allocating DMA memory for
remote:          use with PCIe drivers.  Currently, this Linux functionality is
remote:          a WIP so just issue a warning for now when we see the property.
remote:
remote:          SWLINUX-3694
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit aad79cdaa0c65c2fd3b0ce81a5579286de24e207)
remote:
remote:      commit e0336cd031e3a642aec991dfc02d187c44213bf6
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Thu Jun 4 16:24:16 2015 -0400
remote:
remote:          pci: make use of 'brcm,log2-scb-sizes' property if present
remote:
remote:          The 'brcm,log2-scb-sizes' property indicates how large the SCB window
remote:          must be to project an inbound region to PCIe space.  This commit
remote:          reads the property if present and overrides the default value
remote:          for the window size.
remote:
remote:          SWLINUX-3694
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit 4d9f5f63c4aadf3781b89110e450fe752ef7f545)
remote:
remote:      commit 54464a1e93827190ac63802980a7112a0fd1b4ab
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jun 8 10:37:25 2015 -0700
remote:
remote:          net: phy: bcm7xxx: Update E0+ GPHY workaround based on HW7445-1949
remote:
remote:          A new workaround to solve marginal 100BaseT rise/fall time has been provided in
remote:          HW7445-1949, update the AFE_TX_CONFIG register parameters based on the hardware
remote:          group recommendations. This workaround applies to all E0 and newer GPHY
remote:          revisions.
remote:
remote:          SWLINUX-3697
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 3602ca04a3db83b3c947acf9c336a4184aa442e5)
remote:
remote:      commit 28fb74d573f6b067ce82f1d9733b420458399370
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jun 8 10:35:35 2015 -0700
remote:
remote:          net: phy: bcm7xxx: Update D0 GPHY workaround based on HW7445-1804
remote:
remote:          A new workaround to solve marginal 100BaseT rise/fall time has been provided in
remote:          HW7445-1804, update the AFE_TX_CONFIG register parameters based on the hardware
remote:          group recommendations.
remote:
remote:          SWLINUX-3697
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 7419ba64b840c3135aa4fa114e9570f793c76867)
remote:
remote:      commit 11428cdcdb0a2733fa79cb26d370c2bf4abf31d2
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jun 1 16:23:57 2015 -0700
remote:
remote:          BCMGENET: Power on MII block for all MII modes
remote:
remote:          The RGMII block is currently only powered on when using RGMII or RGMII_NO_ID,
remote:          which is not correct when using the GENET interface in MII or Reverse MII
remote:          modes. We always need to power on the RGMII interface for this block to
remote:          properly work.
remote:
remote:          SWLINUX-3683
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 113502e0d8c39483f6d2da0e381cd297de6f1919)
remote:
remote:      commit 3a899c7135ef7706fc9e1cff629250bb53a452ff
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Wed Jun 3 18:44:11 2015 -0700
remote:
remote:          dt-bindings: brcmstb-gpio: remove interrupt-names, update examples
remote:
remote:          We don't actually use the "interrupt-names" property, so remove it from
remote:          the listed optional properties and from the examples.  And since we're
remote:          modifying the examples, also follow Brian's suggestions to:
remote:
remote:          - change #gpio-cells, #interrupt-cells, and brcm,gpio-bank-widths from
remote:            hex to dec
remote:          - use phandles
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 139bc47f8f2649e183283c994be139d0044aa6d4)
remote:
remote:      commit 4bb440271fb87bea35c141289862511fea9f217a
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Tue Jun 2 20:17:29 2015 -0700
remote:
remote:          gpio: brcmstb: support wakeup from S5 cold boot
remote:
remote:          For wake from S5, we need to:
remote:          - register a reboot handler
remote:          - set wakeup capability before requesting IRQ so wakeup count is incremented
remote:          - mask all GPIO IRQs and clear any pending interrupts during driver probe to
remote:            since no driver will yet be registered to handle any IRQs carried over from
remote:            boot at that time, and it's possible that the booted kernel does not request
remote:            the same IRQ anyway.
remote:
remote:          This means that /sys/.../power/wakeup_count is valid at boot time,
remote:          and we can properly account for S5 wakeup stats. e.g.:
remote:
remote:            ### After waking from S5 from a GPIO key
remote:            # cat /sys/bus/platform/drivers/brcmstb-gpio/f04172c0.gpio/power/wakeup
remote:            enabled
remote:            # cat /sys/bus/platform/drivers/brcmstb-gpio/f04172c0.gpio/power/wakeup_count
remote:            1
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit c6c609b5e17b3d12bd68d3c85a642e297a1b0854)
remote:
remote:      commit fe446931a14190ae615eb642bfaaeee4be4901cb
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Tue Jun 2 14:33:26 2015 -0700
remote:
remote:          gpio: brcmstb: switch to using gpiolib irqchip helpers
remote:
remote:          Switches the BRCMSTB UPG GIO driver to using the gpiolib irqchip helpers
remote:          in the gpiolib core.  This lets us reduce the amount of duplicated code
remote:          a bit.  For this to work, the irq setup function is changed to be called
remote:          once per bank instead of once per device.
remote:
remote:          What wasn't obvious to me before: you can have multiple chained irqchips
remote:          and associated IRQ domains for a single parent IRQ, and as long as the
remote:          xlate function is written correctly, a GPIO IRQ request end up checking
remote:          the correct domain and will get associated with the correct IRQ.  What
remote:          helps make this clear is to read
remote:            drivers/gpio/gpiolib-of.c:
remote:             - of_gpiochip_find_and_xlate()
remote:             - of_get_named_gpiod_flags()
remote:            drivers/gpio/gpiolib.c:
remote:             - gpiochip_find()
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit bd08857fde1fc4c2bd2b05aced340f85a721059e)
remote:
remote:      commit 867e5302deb87ae36296b48b018f90bee8b3e320
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Tue Jun 2 20:16:48 2015 -0700
remote:
remote:          gpio: brcmstb: add missing sanity checks
remote:
remote:          Check the return values of {enable,disable}_irq_wake, check for
remote:          brcmstb_gpio_irq_handler being called before anything can actually
remote:          handle the IRQ, and add a missing newline.  Also return IRQ_NONE in
remote:          irq_set_wake if we didn't get called with the right irq.
remote:
remote:          While we're at it, make a trivial change from of_find_property() to
remote:          of_property_read_bool() when checking for "interrupt-controller".
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 31fd5393318751c6e8abe8e1c6d19d79b3e436b8)
remote:
remote:      commit 722eccbca53020f47fe9e77de566936caf05cc77
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jun 1 15:52:07 2015 -0700
remote:
remote:          gpio: brcmstb: fix null ptr dereference in driver remove
remote:
remote:          If a failure occurs during probe, brcmstb_gpio_remove() is called. In remove,
remote:          we call platform_get_drvdata(), but at the time of failure in the probe the
remote:          driver data hadn't yet been set which leads to a NULL ptr dereference in the
remote:          remove's list_for_each.  Call platform_set_drvdata() and set up list head right
remote:          after allocating the priv struct to both avoid the null pointer dereference
remote:          that could occur today.  To guard against potential future changes, check for
remote:          null pointer in remove.
remote:
remote:          SWLINUX-3604
remote:
remote:          Reported-by: Tim Ross <tross@broadcom.com>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 6db5d7318424b75086bd041a3ee135444dd7d501)
remote:
remote:      commit c72340f6d1e3ed4efcfd2074104e8ed6f98f666c
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jun 1 10:35:02 2015 -0700
remote:
remote:          gpio: brcmstb: temporarily demote missing IRQ from err to warn
remote:
remote:          Since we are using the IRQ0 stub by default, the attempt to get the IRQ for the
remote:          GPIO controller will fail.  So for now, don't fail probe, only warn and tell
remote:          the user how they can get GPIO interrupt support in linux.
remote:
remote:          Revert me when BCM7120_L2_IRQ=y is the default.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit ab1c7246da1447879a5168885ebf87abaf4a568a)
remote:
remote:      commit e349df58bde5d5354040633e57b8d5a5c3c3ee8e
remote:      Author: Jarkko Nikula <jarkko.nikula@linux.intel.com>
remote:      Date:   Tue Sep 16 16:23:15 2014 +0300
remote:
remote:          gpio: Fix potential NULL handler data in chained irqchip handler
remote:
remote:          [Upstream commit 324b0398781e7afb846378dd2d8a4374faaf236b]
remote:
remote:          There is possibility with misconfigured pins that interrupt occurs instantly
remote:          after setting irq_set_chained_handler() in gpiochip_set_chained_irqchip().
remote:          Now if handler gets called before irq_set_handler_data() the handler gets
remote:          NULL handler data.
remote:
remote:          Fix this by moving irq_set_handler_data() call before
remote:          irq_set_chained_handler() in gpiochip_set_chained_irqchip().
remote:
remote:          SWLINUX-3604
remote:
remote:          Cc: Stable <stable@vger.kernel.org> # 3.15+
remote:          Reviewed-by: Alexandre Courbot <acourbot@nvidia.com>
remote:          Signed-off-by: Jarkko Nikula <jarkko.nikula@linux.intel.com>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit afcedf4920729e2019f0054c87d018e214a14b0b)
remote:
remote:      commit e566ea8ee679a8da1d00ce744a5c8d44e1fd14c7
remote:      Author: Paul Bolle <pebolle@tiscali.nl>
remote:      Date:   Fri Sep 5 13:09:25 2014 +0200
remote:
remote:          gpio: fix 'CONFIG_GPIO_IRQCHIP' comments
remote:
remote:          [Upstream commit 7d75a871888e3f5e1a7c99bf240d1cd67d8bdfa0]
remote:
remote:          These two typos were introduced in commit 1425052097b5 ("gpio: add IRQ
remote:          chip helpers in gpiolib").
remote:
remote:          The correct symbol name is CONFIG_GPIOLIB_IRQCHIP.
remote:
remote:          SWLINUX-3604
remote:
remote:          [jkosina@suse.cz: add changelog]
remote:          Signed-off-by: Paul Bolle <pebolle@tiscali.nl>
remote:          Signed-off-by: Jiri Kosina <jkosina@suse.cz>
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit ee7331e7cbb3c94db9f02633208047aff86e3b7d)
remote:
remote:      commit badde22c79c9f7f8911852d092beee19d24d78e3
remote:      Author: Thierry Reding <treding@nvidia.com>
remote:      Date:   Wed Apr 23 17:28:08 2014 +0200
remote:
remote:          gpio: of: Remove unneeded dummy function
remote:
remote:          [Upstream commit 47a95fe71662fa38ff3abe9956f1ca1451fa6e70]
remote:
remote:          of_find_gpio() is always called under an IS_ENABLED(CONFIG_OF), so the
remote:          dummy implementation provided for !OF configurations is not needed.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Thierry Reding <treding@nvidia.com>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 014059ea2f474a91e70e7cd6074ccb85174c9bcb)
remote:
remote:      commit cca139d3fb54d0a56277cd3e2caf05b4e7a5f4c9
remote:      Author: Linus Walleij <linus.walleij@linaro.org>
remote:      Date:   Wed Apr 23 16:45:12 2014 +0200
remote:
remote:          gpio: do not set up hardware for IRQ_TYPE_NONE
remote:
remote:          [Upstream commit 1333b90f33623cdc4028a3523bc186330573990a]
remote:
remote:          Some GPIO irqchip drivers exploit the irqdomain mapping
remote:          function to set up the IRQ default type in the hardware,
remote:          make sure that if we pass IRQ_TYPE_NONE, no hardware setup
remote:          whatsoever takes place (this should be the norm) until
remote:          later when the IRQ gets utilized.
remote:
remote:          SWLINUX-3604
remote:
remote:          Cc: Ezequiel Garcia <ezequiel.garcia@free-electrons.com>
remote:          Cc: Santosh Shilimkar <santosh.shilimkar@ti.com>
remote:          Cc: linux-omap <linux-omap@vger.kernel.org>
remote:          Tested-by: Peter Ujfalusi <peter.ujfalusi@ti.com>
remote:          Tested-by: Javier Martinez Canillas <javier@dowhile0.org>
remote:          Tested-by: Nishanth Menon <nm@ti.com>
remote:          Acked-by: Nishanth Menon <nm@ti.com>
remote:          Tested-by: Tony Lindgren <tony@atomide.com>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit c859e437358baa7e95a5cf502be11edae5793797)
remote:
remote:      commit 30d929b5cf97760475dd94621f2f6efb25697474
remote:      Author: Linus Walleij <linus.walleij@linaro.org>
remote:      Date:   Tue Apr 22 14:01:46 2014 +0200
remote:
remote:          gpio: put GPIO IRQs into their own lock class
remote:
remote:          [Upstream commit e45d1c80c0eee88e82751461e9cac49d9ed287bc]
remote:
remote:          Another feature that is duplicated in a number of GPIO irqchips
remote:          is that these cascades IRQs are assigned their own lock class
remote:          so as to avoid warnings about lockdep recursions. Do this also
remote:          in the generic GPIO irqchip helpers for smooth transition to
remote:          this core infrastructure.
remote:
remote:          SWLINUX-3604
remote:
remote:          Cc: Thomas Gleixner <tglx@linutronix.de>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 714a2554d38f3601320db081b41cfee68589ab70)
remote:
remote:      commit 9b8d755ab24d244f393c64ff290cfc7f43f7f324
remote:      Author: Linus Walleij <linus.walleij@linaro.org>
remote:      Date:   Wed Apr 9 13:34:39 2014 +0200
remote:
remote:          gpio: support threaded interrupts in irqchip helpers
remote:
remote:          [Upstream commit 1c8732bb0355b929b09173464cdca7df4d516f89]
remote:
remote:          Some off-chip GPIO expanders need to be communicated by I2C or
remote:          SPI traffic, but may still support IRQs. By the sleeping nature
remote:          of such buses, such IRQ handlers need to be threaded. Support
remote:          such handlers in the gpiochip irqchip helpers by flagging IRQs
remote:          as threaded if the .can_sleep property of the gpiochip is
remote:          true.
remote:
remote:          Helpfully deny registration of chained IRQ handlers if the
remote:          .can_sleep property is set, as such chips will invariably need
remote:          a nested handler rather than a chained handler.
remote:
remote:          SWLINUX-3604
remote:
remote:          Cc: Thomas Gleixner <tglx@linutronix.de>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit df749dcfb45e74fd739cb35a2e033adf501535e3)
remote:
remote:      commit 87a2eadd092b292b26265b35fe65409c0bfed109
remote:      Author: Linus Walleij <linus.walleij@linaro.org>
remote:      Date:   Wed Apr 9 13:20:38 2014 +0200
remote:
remote:          gpio: set data first, then chip and handler
remote:
remote:          [Upstream commit 7633fb959b711a8d91548911eb087fb931c7b8e4]
remote:
remote:          During irq mapping, in irq_set_chip_and_handler() the process
remote:          of setting this up may incur calls to lock the irqchip, which
remote:          in turn may need to dereference and use the chip data. So set
remote:          the data first, then set the chip and handler.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 36bd53062d57cab74fc1e7a2345bef4acfc66539)
remote:
remote:      commit e44c42bd3215540e48a20e9b03a2d6c4a29a5897
remote:      Author: Linus Walleij <linus.walleij@linaro.org>
remote:      Date:   Fri Mar 28 20:42:01 2014 +0100
remote:
remote:          gpio: unmap gpio irqs properly
remote:
remote:          [Upstream commit c3626fdea044cc97bfc035ebb048f7619acb6736]
remote:
remote:          When using the irqchip helper inside the gpiolib, make sure
remote:          the IRQs are unmapped/disposed before the irqdomain is removed
remote:          as part of removing the gpiochip.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit d462aefdead8ea30054e1d561f2570fe10d76b02)
remote:
remote:      commit dc8cf272820792f6c9266af2f03cb3824e076a10
remote:      Author: Linus Walleij <linus.walleij@linaro.org>
remote:      Date:   Tue Mar 25 10:40:18 2014 +0100
remote:
remote:          gpio: add IRQ chip helpers in gpiolib
remote:
remote:          [Upstream commit 1425052097b53de841e064dc190a9009480c208c]
remote:
remote:          This provides a function gpiochip_irqchip_add() to set
remote:          up an irqchip for a GPIO controller, and a function
remote:          gpiochip_set_chained_irqchip() to chain it to a parent
remote:          irqchip.
remote:
remote:          Most GPIOs are of the type where a number of lines form
remote:          a cascaded interrupt controller chained onto
remote:          the primary system interrupt controller (or further down the
remote:          chain) so let's add this helper and factor the code to
remote:          request the lines to be used as IRQs, the .to_irq() function
remote:          and the irqdomain into the core as well.
remote:
remote:          SWLINUX-3604
remote:
remote:          Acked-by: Thomas Gleixner <tglx@linutronix.de>
remote:          Acked-by: Alexandre Courbot <acourbot@nvidia.com>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit ae5165c6bcc91ca129402cc5fffa82656eb4db76)
remote:
remote:      commit 22748012bbaf82b2a765507b1a3804fd7ea7c0eb
remote:      Author: Thomas Gleixner <tglx@linutronix.de>
remote:      Date:   Sat Mar 8 08:59:58 2014 +0100
remote:
remote:          genirq: Provide irq_request/release_resources chip callbacks
remote:
remote:          [Upstream commit f438acdf3de8f19ad2789eddbf52e3280292759b]
remote:
remote:          For certain irq types, e.g. gpios, it's necessary to request resources
remote:          before starting up the irq.
remote:
remote:          This might fail so we cannot use the irq_startup() callback because we
remote:          might call the irq_set_type() callback before that which does not make
remote:          sense when the resource is not available. Calling irq_startup() before
remote:          irq_set_type() can lead to spurious interrupts which is not desired
remote:          either.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
remote:          Cc: Jean-Jacques Hiblot <jjhiblot@traphandler.com>
remote:          Cc: Grant Likely <grant.likely@linaro.org>
remote:          Cc: linux-arm-kernel@lists.infradead.org
remote:          Reviewed-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Link: http://lkml.kernel.org/r/alpine.DEB.2.02.1403080857160.18573@ionos.tec.linutronix.de
remote:          Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit cc8c8e48691674a7b98dda49a8f9461787e608c4)
remote:
remote:      commit 1c677ef2ff4406cdcd5d84d03f8ecc7fe4467ca4
remote:      Author: Mika Westerberg <mika.westerberg@linux.intel.com>
remote:      Date:   Mon Mar 10 14:54:50 2014 +0200
remote:
remote:          gpiolib: Allow GPIO chips to request their own GPIOs
remote:
remote:          [Upstream commit 77c2d7929d7d7f0e391b17f85d2d954912ed0590]
remote:
remote:          Sometimes it is useful to allow GPIO chips themselves to request GPIOs they
remote:          own through gpiolib API. One use case is ACPI ASL code that should be able
remote:          to toggle GPIOs through GPIO operation regions.
remote:
remote:          We can't use gpio_request() because it will pin the module to the kernel
remote:          forever (it calls try_module_get()). To solve this we move module refcount
remote:          manipulation to gpiod_request() and let __gpiod_request() handle the actual
remote:          request. This changes the sequence a bit as now try_module_get() is called
remote:          outside of gpio_lock (I think this is safe, try_module_get() handles
remote:          serialization it needs already).
remote:
remote:          Then we provide gpiolib internal functions gpiochip_request/free_own_desc()
remote:          that do the same as gpio_request() but don't manipulate module refrence
remote:          count. This allows the GPIO chip driver to request and free descriptors it
remote:          owns without being pinned to the kernel forever.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Mika Westerberg <mika.westerberg@linux.intel.com>
remote:          Reviewed-by: Alexandre Courbot <acourbot@nvidia.com>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit b419a537c1b1c78cb53d9f2e27a1750a08cf8589)
remote:
remote:      commit 5c26cf1c76917e37b61052a5c24ed130ec237ced
remote:      Author: Linus Walleij <linus.walleij@linaro.org>
remote:      Date:   Fri Mar 7 10:12:49 2014 +0800
remote:
remote:          gpio: remove misleading documentation
remote:
remote:          [Upstream commit f438acdf3de8f19ad2789eddbf52e3280292759b]
remote:
remote:          It is currently debated where the functions to lock a certain
remote:          GPIO line as used for IRQs should be called. Delete all
remote:          misleading documentation.
remote:
remote:          SWLINUX-3604
remote:
remote:          Reported-by: Thomas Gleixner <tglx@linutronix.de>
remote:          Cc: Jean-Jacques Hiblot <jjhiblot@traphandler.com>
remote:          Acked-by: Alexandre Courbot <acourbot@nvidia.com>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit ed381afb161cc486015d4df31efa562009e5e51d)
remote:
remote:      commit 86d3fd3dca70dba137accfcc20e0083441c3ba9c
remote:      Author: Richard Genoud <richard.genoud@gmail.com>
remote:      Date:   Tue Feb 11 17:25:35 2014 +0100
remote:
remote:          gpio: update path to documentation
remote:
remote:          [Upstream commit bb1e88ccb771492ac908ac295ec135efa1d53093]
remote:
remote:          ref #SWLINUX-3604
remote:
remote:          Signed-off-by: Richard Genoud <richard.genoud@gmail.com>
remote:          Signed-off-by: Jiri Kosina <jkosina@suse.cz>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit c2d2ef9c6caa06129a22da9c55b93c5cc2e53c75)
remote:
remote:      commit 01642d0b3a94561cec8f2272ef233d287302532f
remote:      Author: Alexandre Courbot <acourbot@nvidia.com>
remote:      Date:   Sun Feb 9 17:43:54 2014 +0900
remote:
remote:          gpiolib: add gpiochip_get_desc() driver function
remote:
remote:          [Upstream commit bb1e88ccb771492ac908ac295ec135efa1d53093]
remote:
remote:          Some drivers dealing with a gpio_chip might need to act on its
remote:          descriptors directly; one example is pinctrl drivers that need to lock a
remote:          GPIO for being used as IRQ using gpiod_lock_as_irq().
remote:
remote:          This patch exports a gpiochip_get_desc() function that returns the
remote:          GPIO descriptor at the requested index. It also sweeps the
remote:          gpio_to_chip() function out of the consumer interface since any holder
remote:          of a gpio_chip reference can manipulate its GPIOs way beyond what a
remote:          consumer should be allowed to do.
remote:
remote:          As a result, gpio_chip is not visible anymore to simple GPIO consumers.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Alexandre Courbot <acourbot@nvidia.com>
remote:          Reviewed-by: Mika Westerberg <mika.westerberg@linux.intel.com>
remote:          Reviewed-by: Jean-Jacques Hiblot <jjhiblot@traphandler.com>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit d3746d7959ee314df2a82453a1aab96b883c21e5)
remote:
remote:      commit fa4c97c122d76805034c7cb3caf71c47fa189bda
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Tue May 19 18:04:34 2015 -0700
remote:
remote:          test: add brcmstb memory api tester
remote:
remote:          SWLINUX-3504
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 3daf94837bd8aca3fefdc40c5387ea3b3caa1400)
remote:
remote:      commit bfbd01d8142cc205ac9d49690927ec9ce1ddc000
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon May 18 19:10:20 2015 -0700
remote:
remote:          brcmstb: document brcm_cma and bmem parameters
remote:
remote:          SWLINUX-3504
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit f85d575c72e395ec75abe1da1feb949eeec6b5e8)
remote:
remote:      commit d78d76c9a3e58bdb029c77f758579215e8ec20d2
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon May 18 19:22:19 2015 -0700
remote:
remote:          brcmstb: bmem: Add default reservation
remote:
remote:          The default reservation matches that which was previously the default
remote:          reservation for cma_driver:
remote:
remote:          if only lowmem:
remote:            reserved 80%
remote:          else:
remote:            reserve all but 256 MiB in 32-bit space
remote:            in >32-bit space, reserve 64 MiB per bank
remote:
remote:          SWLINUX-3504
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 66dc387e14502334c6da14c77f059de11d909624)
remote:
remote:      commit 4ae6fa06fd9535d0e0542218d5d7921fe0ca23c3
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Fri May 15 19:24:15 2015 -0700
remote:
remote:          cma: brcm-cma: no default reserve, add brcm_cma boot param
remote:
remote:          We no longer create any CMA reserved areas by default, as they will be bmem
remote:          instead.  Add a brcm_cma parameter that allows specifying locations where a cma
remote:          region should be created.
remote:
remote:          Example: passing in 'brcm_cma=512M@1024M brcm_cma=512M@1536M' will result in
remote:          two CMA regions 512 MiB in size, one at 0x40000000 and one at 0x60000000.
remote:
remote:          SWLINUX-3504
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 1b4fc982f75080a83fd5c3a8813d072702b9877c)
remote:
remote:      commit 67858446a7cb12a5b6ec65e697e40139f5fe86ba
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Fri May 15 17:25:14 2015 -0700
remote:
remote:          mach-bcm: rename brcmstb.h to headsmp-brcmstb.h
remote:
remote:          Since brcmstb.h only contains a single declaration for headsmp-brcmstb.h,
remote:          rename accordingly.
remote:
remote:          SWLINUX-3504
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 2ed1e3eec72c5dace11debba141d7c4efe59fef2)
remote:
remote:      commit e550ad175f2639b760375040f30c28d240e1432a
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Fri May 15 17:12:05 2015 -0700
remote:
remote:          brcmstb: move cma/bmem reserve and register decls to their headers
remote:
remote:          Since cma_driver and bmem are both outside of arch code, move the declarations
remote:          for their _reserve (and for cma, _register) functions into their respective
remote:          header files.
remote:
remote:          SWLINUX-3611, SWLINUX-3504
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit dc095fb8f347606c6720125187528a738ed2f437)
remote:
remote:      commit b182c2dc41123396b34eeb49c2cfa3a4667f4bc1
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Thu May 14 20:15:52 2015 -0700
remote:
remote:          soc: brcmstb: Add memory API for middleware
remote:
remote:          Adds a way for the Broadcom middleware (nexus) to be able to get the
remote:          information it needs about how memory is placed on the system.  This is done by
remote:          the ability to populate a struct brcmstb_memory with info on
remote:          - PA ranges for each memory controller
remote:          - static "bmem" ranges
remote:          - dynamic (CMA in this case) reserved ranges
remote:          - reserved areas unavailable to middleware
remote:
remote:          We use libfdt to read the device tree for info on what memory should actually
remote:          be visible.
remote:
remote:          Moves phys_addr_to_memc from cma_driver to memory API and renames as
remote:          brcmstb_memory_phys_addr_to_memc, since it is now shared by cma_driver and this
remote:          code.
remote:
remote:          This also adds to the platform reserve code in order to grab the memblock
remote:          reserve info during early boot, as the memblock info isn't discarded later.
remote:
remote:          SWLINUX-3504
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit e2beab5376997fbdf8bb14df1b5a0ff079f4b092)
remote:
remote:      commit f39f776af91971af7eab12fd4a8e655ae43abd21
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Fri May 15 16:38:35 2015 -0700
remote:
remote:          soc: brcmstb: Add option BRCMSTB_CMA
remote:
remote:          Adds a config knob for the brcmstb platform-specific reserve/register
remote:          functions, ioctls, kernel API, and O_DIRECT on CMA pages.  This code used to be
remote:          enabled for BRCMSTB && CMA, but these interfaces are probably only wanted when
remote:          using brcmstb middleware, so it'd be good to be able to easily disable it.
remote:
remote:          Enables the new option in brcmstb_defconfig so that we keep the same behavior
remote:          as before.
remote:
remote:          SWLINUX-3611
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 516073dc666b23cff305bca148d98ca1f5c5c1e5)
remote:
remote:      commit a1bc48164c7a05409db696633780f0f1445b930f
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Fri May 15 16:30:15 2015 -0700
remote:
remote:          soc: brcmstb: Move cma_driver from arch/arm/mach-bcm
remote:
remote:          Move brcmstb platform CMA driver from arch/arm/mach-bcm/cma_driver.c to its new
remote:          home at drivers/platform/brcmstb/brcmstb-cma.c.  Note that there are still some
remote:          ARM-specific parts and those parts rely on meminfo which goes away in 3.16.
remote:
remote:          SWLINUX-3611
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 3482ca7f452e553c26e674be1d7b20cec15ce509)
remote:
remote:      commit 321b2618a550b42fbfdbc100a00e4aacdc9f126c
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Tue May 19 17:53:01 2015 -0700
remote:
remote:          ARM: mm: move fdt reservedmem scan before platform reserve
remote:
remote:          This change makes it possible to see what memory was marked as reserved (both
remote:          memreserve entries and reserved-memory nodes) in devicetree before doing
remote:          platform-specific reserve, which is necessary for the brcmstb memory API.
remote:
remote:          SWLINUX-3504
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit d2de3f34701317175164095f794c0678d9d46c70)
remote:
remote:      commit 7c817d7ce47927e63108b2a3e50593bf12bd9406
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Tue May 12 16:31:51 2015 -0700
remote:
remote:          bmem: Add brcmstb platform_device and populate with bmem entries
remote:
remote:          Just putting this in bmem.c for now since the bmem entries will be the only
remote:          things under /sys/devices/platform/brcmstb .
remote:
remote:          SWLINUX-3504
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit e3fca12bc50ed83df77389401c65ff7a5f24882d)
remote:
remote:      commit 53a317e5f430024452bf7a7b22d3889aee335565
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Tue May 12 16:22:52 2015 -0700
remote:
remote:          brcmstb: Allow bmem to be used for boot-time reserve
remote:
remote:          Also some minor whitespace changes and comments for readability.
remote:
remote:          SWLINUX-3504
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 09b00075a0172d50cf508b0e63f4da28f16dfdf9)
remote:
remote:      commit d601eba4d2d8622d4d0c5fedd4c2f59a9df31791
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Fri Dec 19 18:30:53 2014 -0800
remote:
remote:          mm: Allow O_DIRECT for bmem-managed regions
remote:
remote:          Rename cma_get_page to brcmstb_get_page and use it for checking whether the
remote:          underlying page is in either a CMA or BMEM region.
remote:
remote:          SWLINUX-3504
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 04886ea315824ed5321ed2c965b7b7c5ca554b14)
remote:
remote:      commit b8f9d9b145e9c98cada4c5b65f3501da75e00965
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Tue May 12 15:28:24 2015 -0700
remote:
remote:          brcmstb: port bmem from stblinux-3.3-3.5 release
remote:
remote:          Changes include:
remote:
remote:          - Place in drivers/soc/brcmstb
remote:          - Use new Kconfig entry to enable: CONFIG_BRCMSTB_BMEM
remote:          - No default allocation (must specify everything manually).
remote:          - Does not assume that address 0 means "put at end of memc0".  It'll put the
remote:            reserved regions wherever you want.
remote:          - No safeties: you can reserve all of lowmem if you want to watch the kernel
remote:            crash and burn.
remote:          - No special handling for memc1: not needed since we're not overriding the
remote:            default free_bootmem like on mips, but rather providing a saner means via
remote:            bmem_reserve which uses memblock and will be called from arch code.
remote:          - MAX_BMEM_REGIONS bumped from 4 to 8.
remote:          - Uses phys_addr_t instead of unsigned long so we can use >32-bit addresses
remote:            where appropriate.
remote:          - Don't BUG on pud_none in bmem_get_page because we've seen this unnecessarily
remote:            crashes the kernel on ARM when called from GUP (see SWLINUX-3350)
remote:          - Use phys_addr_t for bmem functions
remote:
remote:          SWLINUX-3504
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 0d0c2367c11afe4e956b0327a31502ee03c51576)
remote:
remote:      commit ba3eb6f07e248304b5d85935a481774b04ad39aa
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Fri Apr 24 14:14:41 2015 -0400
remote:
remote:          clk: add configurable clock multiplier
remote:
remote:          This defines a clock multiplier.  It is essentially a mirror of
remote:          clk-divider.c.
remote:
remote:          SWLINUX-3650
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit 8da3c075ec07d2a583f4397808ed99a3f2c9c884)
remote:
remote:      commit 8c4d0ad834c3f403df591038cbf59e11573952c8
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Sat Feb 28 18:09:17 2015 -0800
remote:
remote:          BCMSYSPORT: fix software maintained statistics
remote:
remote:          [Upstream commit 55ff4ea9a853f5ec9a8290c0ccc1d00c97e49f82]
remote:
remote:          Commit 60b4ea1781fd ("net: systemport: log RX buffer allocation and RX/TX DMA
remote:          failures") added a few software maintained statistics using
remote:          BCM_SYSPORT_STAT_MIB_RX and BCM_SYSPORT_STAT_MIB_TX. These statistics are read
remote:          from the hardware MIB counters, such that bcm_sysport_update_mib_counters() was
remote:          trying to read from a non-existing MIB offset for these counters.
remote:
remote:          Fix this by introducing a special type: BCM_SYSPORT_STAT_SOFT, similar to
remote:          BCM_SYSPORT_STAT_NETDEV, such that bcm_sysport_get_ethtool_stats will read from
remote:          the software mib.
remote:
remote:          SWLINUX-3690
remote:
remote:          Fixes: 60b4ea1781fd ("net: systemport: log RX buffer allocation and RX/TX DMA failures")
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 838aed6af382ec702d872701eee3a3b9ec5da913)
remote:
remote:      commit 50f4a00113764c6d7ceba5c09b87f7bf42cf3c50
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu May 28 10:39:12 2015 -0700
remote:
remote:          BCMSYSPORT: Add a check for oversized packets
remote:
remote:          We might occasionally receive oversized packets which will make us invoke
remote:          skb_over_panic() since the length of the packet exceeds the nominal size of
remote:          2KiB we allocated space for. Avoid crashing the kernel, but instead just
remote:          discard this packet and move on to process the next one.
remote:
remote:          SWLINUX-3690
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit deaba2d5df1605260e76f438c8b3ba3e61dcfe21)
remote:
remote:      commit 2d79c64b2ad9fb411996bdd240cfc93fd4f85530
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu May 28 10:36:53 2015 -0700
remote:
remote:          BCMSYSPORT: Switch TX reclaim to NAPI context
remote:
remote:          Matches the upstream driver and provides a small relief on CPU load by allowing
remote:          per-TX queue softirq contexts to be scheduled.
remote:
remote:          SWLINUX-3690
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit ac4a2acc2453bccb87e6a16d1fd1313be305b531)
remote:
remote:      commit de3eb0ad550f3e2d26be3f9dbd5af01324fe7003
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue May 26 16:01:48 2015 -0700
remote:
remote:          BCMSYSPORT: rewrite bcm_sysport_rx_refill
remote:
remote:          Currently, bcm_sysport_desc_rx() calls bcm_sysport_rx_refill() at the end of Rx
remote:          packet processing loop, after the current Rx packet has already been passed to
remote:          napi_gro_receive(). However, bcm_sysport_rx_refill() might fail to allocate a new
remote:          Rx skb, thus leaving a hole on the Rx queue where no valid Rx buffer exists.
remote:
remote:          To eliminate this situation:
remote:
remote:          1. Rewrite bcm_sysport_rx_refill() to retain the current Rx skb on the
remote:          Rx queue if a new replacement Rx skb can't be allocated and DMA-mapped.
remote:          In this case, the data on the current Rx skb is effectively dropped.
remote:
remote:          2. Modify bcm_sysport_desc_rx() to call bcm_sysport_rx_refill() at the
remote:          top of Rx packet processing loop, so that the new replacement Rx skb is
remote:          already in place before the current Rx skb is processed.
remote:
remote:          This is loosely inspired from d6707bec5986 ("net: bcmgenet: rewrite
remote:          bcmgenet_rx_refill()")
remote:
remote:          SWLINUX-3690
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit ced41ec297954d70a43b059bd4f44669e368e1dc)
remote:
remote:      commit af4726e8f62d9e31e9ad0fb090a849f7cc322981
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue May 26 15:47:58 2015 -0700
remote:
remote:          BCMSYSPORT: Pre-calculate and utilize cb->bd_addr
remote:
remote:          There is a 1:1 mapping between the software maintained control block in
remote:          priv->rx_cbs and the buffer address in priv->rx_bds, such that there is
remote:          no need to keep computing the buffer address when refiling a control
remote:          block.
remote:
remote:          SWLINUX-3690
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit b57bdb42ba9221741206bc197ac8bed6cb885f90)
remote:
remote:      commit 25ba541660ff12a7667eebf05317110db48b9b0f
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Wed May 27 16:42:02 2015 -0700
remote:
remote:          ARM: brcmstb: Add default gpio number
remote:
remote:          Out of the brcmstb SoCs that I know, BCM3390 has the largest numbers of GPIOs,
remote:          with its
remote:          - 320 "peripheral" GPIOs
remote:          - 5*32 = 160 UPG GPIOs (counting unused lines, which do get counted)
remote:          - 2*32 = 64 UPG AON GPIOs (counting unused lines)
remote:          Total: 544
remote:
remote:          I suspect that the upper limit will only need to be higher in the future, so
remote:          set it to 1024.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 5c021f12c7401a83cf479a1325476db49a2a259a)
remote:
remote:      commit 8ed500895539b9d2983d1dfb4001c00ce34f0e44
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon May 11 19:55:21 2015 -0700
remote:
remote:          gpio: brcmstb: Allow GPIOs to be wakeup sources
remote:
remote:          Several drivers (e.g. gpio-keys) allow for GPIOs to be configured as wakeup
remote:          sources, and this GPIO controller supports that through a separate interrupt
remote:          path.
remote:
remote:          The de-facto standard DT property "wakeup-source" is checked, since that
remote:          indicates whether the GPIO controller hardware can wake.  Uses the
remote:          IRQCHIP_MASK_ON_SUSPEND irq_chip flag because UPG GIO doesn't have any of its
remote:          own wakeup source configuration.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 0effa31c2e127d372b83f8e69f66f8f9653f0c8d)
remote:
remote:      commit 1a4e62fd90f18e4556da8e14f8b730093c2ff33d
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Wed May 27 17:02:09 2015 -0700
remote:
remote:          gpio: brcmstb: Add interrupt support
remote:
remote:          Create an irq_chip for each GIO block.  Uses chained IRQ handling since
remote:          known uses of this block have a BCM7120 L2 interrupt controller as a
remote:          parent.  Supports interrupts for all GPIOs.
remote:
remote:          In the IRQ handler, we check for raised IRQs for invalid GPIOs and warn
remote:          (ratelimited) if they're encountered.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 2d6323caccbfec3a958ab472980fbc89823f7134)
remote:
remote:      commit 79293ac42c9a2577fde6901a71dcc79afbd7a03e
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Tue May 26 17:08:33 2015 -0700
remote:
remote:          gpio: brcmstb: have GPIOs for invalid lines
remote:
remote:          This will allow for a 1:1 translation of the hardware numberspace to the linux
remote:          IRQ numberspace, i.e.
remote:
remote:          bank0: 0..31
remote:          bank1: 32..63
remote:          ....
remote:          bankN: 32*n..32*n+31
remote:
remote:          so that we can handle and warn on raised IRQs for invalid GPIO lines.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 9ffdd6a793b573ca6d85cb40ec5cdc6b935c8921)
remote:
remote:      commit c83fda724ca45f01f6a935a1c702ff7c40ad3b60
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Tue May 26 15:28:20 2015 -0700
remote:
remote:          dt-bindings: brcmstb-gpio: document properties for wakeup
remote:
remote:          Some brcmstb GPIO controllers can be used to wake from suspend, so use the
remote:          de facto standard property 'wakeup-source' to mark the nodes of controllers
remote:          with that capability.
remote:
remote:          Also document interrupts-extended, which will be used for wakeup handling
remote:          because the interrupt parent for the wake IRQ is different from the regular
remote:          IRQ.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 573d20080d32975e8075e5094d28476e58a30d77)
remote:
remote:      commit cae7a4d450ff7ada0816e858a4d10724635b302a
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Thu May 21 18:04:37 2015 -0700
remote:
remote:          gpio: brcmstb: fix handling for GPIOs above first bank
remote:
remote:          This ensures that we do a valid GPIO number translation, since the default
remote:          of_gpio_simple_xlate is designed for a 1:1 gpio chip to controller mapping,
remote:          but we have an N:1 mapping.
remote:
remote:          Also brings us to match the initial commit adding brcmstb gpio support
remote:          upstream.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit ed0db018c1601a1316fe4080ee197e4770aac53a)
remote:
remote:      commit 42f2d306bd6de5b8aee01c52a4fd0725d4ea244e
remote:      Author: Johan Hovold <johan@kernel.org>
remote:      Date:   Mon Jan 12 17:12:24 2015 +0100
remote:
remote:          gpio: fix memory and reference leaks in gpiochip_add error path
remote:
remote:          [Upstream commit 5539b3c938d64a60cb1fc442ac3ce9263d52de0c]
remote:
remote:          Memory allocated and references taken by of_gpiochip_add and
remote:          acpi_gpiochip_add were never released on errors in gpiochip_add (e.g.
remote:          failure to find free gpio range).
remote:
remote:          Fixes: 391c970c0dd1 ("of/gpio: add default of_xlate function if device
remote:          has a node pointer")
remote:          Fixes: 664e3e5ac64c ("gpio / ACPI: register to ACPI events
remote:          automatically")
remote:          Cc: stable <stable@vger.kernel.org>
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Johan Hovold <johan@kernel.org>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 58bbfdac1ba98f05ad26bd2269b2ce849986105f)
remote:
remote:      commit 0135b15a6620672a9cb081f3c86e2948b4f77229
remote:      Author: Alexandre Courbot <acourbot@nvidia.com>
remote:      Date:   Tue Jul 1 14:45:14 2014 +0900
remote:
remote:          gpio: always compile label support
remote:
remote:          [Upstream commit 9c8318ff7041c8024e3afa22ce77e208138f1da5]
remote:
remote:          Compiling out GPIO labels results in a space gain so small that it can
remote:          hardly be justified. Labels can also be useful for printing debug
remote:          messages, so always keep them around.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Alexandre Courbot <acourbot@nvidia.com>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 86d92d0568ed08891822b782879d35a95be20ac4)
remote:
remote:      commit 3d3576f91c002ae71f8000a4ea1f1ac85301dfd0
remote:      Author: Tony Lindgren <tony@atomide.com>
remote:      Date:   Mon Jun 2 16:13:46 2014 -0700
remote:
remote:          gpio: of: Fix handling for deferred probe for -gpio suffix
remote:
remote:          [Upstream commit 06fc3b70f1dc9c53070fa63a528830f54afc3c38]
remote:
remote:          Commit dd34c37aa3e (gpio: of: Allow -gpio suffix for property names)
remote:          added parsing for both -gpio and -gpios suffix but also changed
remote:          the handling for deferred probe unintentionally. Because of the
remote:          looping the second name will now return -ENOENT instead of
remote:          -EPROBE_DEFER. Fix the issue by breaking out of the loop if
remote:          -EPROBE_DEFER is encountered.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Tony Lindgren <tony@atomide.com>
remote:          Reviewed-by: Thierry Reding <treding@nvidia.com>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit d3dbe79dfd83491e5f0cf08330d1572055441355)
remote:
remote:      commit 614e65af47e09342ebeca8d0462efac0b69b5bb1
remote:      Author: Thierry Reding <treding@nvidia.com>
remote:      Date:   Fri Apr 25 16:54:22 2014 +0200
remote:
remote:          gpio: Fix gpio_get -> gpiod_get typo in kernel-doc
remote:
remote:          [Upstream commit 0879162f33bf8a2fe637a22bb77d20233f486ac4]
remote:
remote:          The function is called gpiod_get(), not gpio_get(). Fix the kernel-doc
remote:          comment to match the name.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Thierry Reding <treding@nvidia.com>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 3eeedee7fdf9f2398efae0035ae012c7f6b8e45e)
remote:
remote:      commit 2173365b51eebe65001a06e16ff9655ad6be7cdc
remote:      Author: Thierry Reding <treding@nvidia.com>
remote:      Date:   Wed Apr 23 17:28:09 2014 +0200
remote:
remote:          gpio: of: Allow -gpio suffix for property names
remote:
remote:          [Upstream commit dd34c37aa3e81715a1ed8da61fa438072428e188]
remote:
remote:          Many bindings use the -gpio suffix in property names. Support this in
remote:          addition to the -gpios suffix when requesting GPIOs using the new
remote:          descriptor-based API.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Thierry Reding <treding@nvidia.com>
remote:          Acked-by: Alexandre Courbot <acourbot@nvidia.com>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 1a2b4b125d5f26c9f4102db170ce31ce09e373c3)
remote:
remote:      commit a7aae731f121987b1f33e22931f133010f28f977
remote:      Author: Alexandre Courbot <acourbot@nvidia.com>
remote:      Date:   Tue Mar 11 15:52:09 2014 +0900
remote:
remote:          gpio: clamp returned values to the boolean range
remote:
remote:          [Upstream commit 23600969ff137cf4c3bc9098f77e381de334e3f7]
remote:
remote:          Nothing prevents GPIO drivers from returning values outside the
remote:          boolean range, and as it turns out a few drivers are actually doing so.
remote:          These values were passed as-is to unsuspecting consumers and created
remote:          confusion.
remote:
remote:          This patch makes the internal _gpiod_get_raw_value() function return a
remote:          bool, effectively clamping the GPIO value to the boolean range no
remote:          matter what the driver does.
remote:
remote:          While we are at it, we also change the value parameter of
remote:          _gpiod_set_raw_value() to bool type before drivers start doing funny
remote:          things with it as well.
remote:
remote:          Another way to fix this would be to change the prototypes of the driver
remote:          interface to use bool directly, but this would require a huge
remote:          cross-systems patch so this simpler solution is preferred.
remote:
remote:          Changes since v1:
remote:          - Change local variable type to bool as well, use boolean values in
remote:            code
remote:          - Also change prototype of open drain/open source setting functions
remote:            since they are only called from _gpiod_set_raw_value()
remote:
remote:          This probably calls for a larger booleanization of gpiolib, but let's
remote:          keep that for a latter change - right now we need to address the issue
remote:          of non-boolean values returned by drivers.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Alexandre Courbot <acourbot@nvidia.com>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 1d14edc2834d36306bbdf341231e1fb61d9c1363)
remote:
remote:      commit d60eb3d3aa036381a709e8069f1f9d992728819e
remote:      Author: Rahul Bedarkar <rahulbedarkar89@gmail.com>
remote:      Date:   Sat Feb 8 11:55:25 2014 +0530
remote:
remote:          GPIO: gpiolib: correct description of gpiod_direction_output
remote:
remote:          [Upstream commit 90df4fe07f9794984bd2dafd1d28acd45318d37f]
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Rahul Bedarkar <rahulbedarkar89@gmail.com>
remote:          Reviewed-by: Alexandre Courbot <acourbot@nvidia.com>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 6e383b9592a35353e4449e6df079510bbf2a80ef)
remote:
remote:      commit 1048d9d4a9d9c5ce7a9d5bd7a4969fec87df13a9
remote:      Author: Philipp Zabel <p.zabel@pengutronix.de>
remote:      Date:   Tue Jan 7 12:34:11 2014 +0100
remote:
remote:          gpio: make gpiod_direction_output take a logical value
remote:
remote:          [Upstream commit ef70bbe1aaa612f75360e5df5952fddec50b7ca9]
remote:
remote:          The documentation was not clear about whether
remote:          gpio_direction_output should take a logical value or the physical
remote:          level on the output line, i.e. whether the ACTIVE_LOW status
remote:          would be taken into account.
remote:
remote:          This converts gpiod_direction_output to use the logical level
remote:          and adds a new gpiod_direction_output_raw for the raw value.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Philipp Zabel <p.zabel@pengutronix.de>
remote:          Reviewed-by: Alexandre Courbot <acourbot@nvidia.com>
remote:          Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 401d2ba97af15ff21f04ec4c1ae4cab2cc261f0d)
remote:
remote:      commit ce74f1f8e07a0ddae576f8d3bda693626775bd3d
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Tue May 12 17:21:55 2015 -0400
remote:
remote:          pci: transition to l23 before turning off power
remote:
remote:          This change modifies slightly the turn off protocol so that it
remote:          is compatible with a Wake-on-LAN configuration.  Although the
remote:          PCIe block does not natively support WOL, the WAKE# of a PCIe
remote:          device may be connected to a GPIO pin and configured to wake
remote:          the device.
remote:
remote:          SWLINUX-3679
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit 61b126c31a7527aabf9ffe6ae5caf9925b8d3eeb)
remote:
remote:      commit 4b677bcc2fb6b071dda922a4a8cd93cb92de015e
remote:      Author: grmoore@altera.com <grmoore@altera.com>
remote:      Date:   Tue Apr 29 10:29:51 2014 -0500
remote:
remote:          mtd: m25p80: add support for flag status register on Micron chips
remote:
remote:          [Loose backport of commit c14deddec1fbd8c9757c53a49dbfd2dc83265f21,
remote:          "mtd: spi-nor: add support for flag status register on Micron chips"
remote:          adapted to work with old m25p80.c]
remote:
remote:          Some new Micron flash chips require reading the flag status register to
remote:          determine when operations have completed.
remote:
remote:          Furthermore, chips with multi-die stacks of the 65nm 256Mb QSPI also
remote:          require reading the status register before reading the flag status
remote:          register.
remote:
remote:          This patch adds support for the flag status register in the n25q512ax3
remote:          and n25q00 Micron QSPI flash chips.
remote:
remote:          SWLINUX-3686
remote:
remote:          Signed-off-by: Graham Moore <grmoore@altera.com>
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 022825e4c61baa09f8b38ff3001a76a84fdf07a2)
remote:
remote:      commit e0949b1640a4b004a952c1b3cff543e99c11c1a8
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Tue May 19 13:07:48 2015 -0400
remote:
remote:          usb: Fix 7366C0 issue with reading ahead into memory holes
remote:
remote:          Setting ESTOP_SCB_REQ for the 7366c0 will prevent the memory
remote:          controller from reading ahead into memory holes. This is fixed
remote:          by getting the latest version of usb-brcm-common-init.c from
remote:          BOLT which has this fix (SWBOLT-1552) along with fixes for
remote:          SWBOLT-1532 and SWBOLT-1531.
remote:
remote:          SWLINUX-3682
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit 4f0ff0311982fb0c3031e7c492aa57e9b66ebe46)
remote:
remote:      commit 860bbacf462b1e2fd486fc83c7b7442b2582d6ff
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Apr 30 16:24:01 2015 -0700
remote:
remote:          BCMSYSPORT: Implement RX coalescing control knobs
remote:
remote:          [Upstream commit d0634868d30ed2c511b45c63efe8eeb85c62c7f6]
remote:
remote:          Similarly to the TX path, allow the RX path to be configured with both
remote:          'rx-frames' and 'rx-usecs' coalescing parameters.
remote:
remote:          SWLINUX-3664
remote:
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 3091afc302834df2a0bab047e180325402c0e33e)
remote:
remote:      commit 8778ab348f14d1bcb71ed20bcdccd297d8c604da
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Apr 30 16:02:08 2015 -0700
remote:
remote:          BCMSYSPORT: Implement TX coalescing control knobs
remote:
remote:          [Upstream commit b1a15e8643c444f9fc185d296e99424618ad1180]
remote:
remote:          Add the ability to configure both 'tx-frames' which controls how many frames
remote:          are doing to trigger a single interrupt and 'tx-usecs' which dictates how long
remote:          to wait before an interrupt should be services.
remote:
remote:          To configure tx-frames and tx-usecs from ethtool:
remote:
remote:          ethtool -C eth0 tx-frames <number>
remote:          ethtool -C eth0 tx-usecs <number>
remote:
remote:          To get the settings:
remote:
remote:          ethtool -c eth0
remote:
remote:          SWLINUX-3664
remote:
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 240b12653f4b0441162aae0360ef85c1503dadc9)
remote:
remote:      commit 75b1d195a00e2e94172063186a2eba7e9e710f2e
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed May 6 12:43:17 2015 -0700
remote:
remote:          BCMGENET: Remove brcmstb.h inclusion
remote:
remote:          Now that there is no platform code outside of the BCMGENET driver that needs to
remote:          set/access BRCM_PHY_TYPE, move these definitions into bcmgenet.h to keep them
remote:          local to the driver.
remote:
remote:          SWLINUX-3246, SWLINUX-2749
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 4c787d27b25a9f6d674b390afb4a4908a56d84cf)
remote:
remote:      commit d5c7c393c5ff42344e71c18ae48f6dba3db2709e
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Apr 9 18:07:51 2015 -0700
remote:
remote:          bsp: Remove fixed PHY parsing code
remote:
remote:          That code is now deprecated and unused since we have automatic registration of
remote:          these fixed PHYs devices now in drivers using them: SYSTEMPORT, GENET and dsa.
remote:
remote:          SWLINUX-3246
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 2ba52a1c2509dbf6f8cd2d02b54ad899e0aa003d)
remote:
remote:      commit f63a42375beadae4efb8714ca688562d73642d0f
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Feb 13 16:08:43 2014 -0800
remote:
remote:          net: phy: update port type for MoCA PHYs
remote:
remote:          [Upstream commit c88838ce89515331ac835a470dc51ddf574770b1]
remote:
remote:          MoCA PHYs are using coaxial (BNC-like) connectors, update the
remote:          transceiver port type when replying to ethtool.
remote:
remote:          SWLINUX-3246
remote:
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit a7da0d6b87a783945fe5cdbc77a0eda4a6283e1a)
remote:
remote:      commit a447d48760e7e99d52d4cdb1c257b5959a229b04
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue May 5 15:21:39 2015 -0700
remote:
remote:          BCMGENET: Recognize MoCA PHY support
remote:
remote:          We need to match the MoCA PHY type the same way we deal with the internal PHY
remote:          (PHY_INTERFACE_MDOE_NA) in order for the GENET - MoCA instances to probe
remote:          successfully.
remote:
remote:          SWLINUX-3246
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 3659971011150fb38e5b63a327ee19e33322c549)
remote:
remote:      commit 2adc6806f380ea107b4d8632f51312f54cca0070
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Feb 13 16:08:42 2014 -0800
remote:
remote:          net: phy: add MoCA PHY type
remote:
remote:          [Upstream commit fd70f72c66eeada848abaed9eb6bbdbaf57764e9]
remote:
remote:          Some Ethernet MACs are connected to a MoCA PHY which will handle the
remote:          low-level job of sending Ethernet frames on the coaxial cable, these
remote:          Ethernet MACs need to know about it to be properly configured.
remote:          Add a new PHY mode "moca" and update the Device Tree parsing logic to
remote:          look for it.
remote:
remote:          SWLINUX-3246
remote:
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 4881b735da3f57eca0bcd44b9f296b97afea77a1)
remote:
remote:      commit aedb8310607bc8a3c6b56c46604bba37696a81f0
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu May 22 09:47:45 2014 -0700
remote:
remote:          BCMGENET: use the new fixed PHY helpers
remote:
remote:          [Upstream commit 9abf0c2b717a7b59d351c2a15e917f1a78cfca02]
remote:
remote:          of_phy_connect_fixed_link() is becoming obsolete, and also required
remote:          platform code to register the fixed PHYs at the specified addresses for
remote:          those to be usable. Get rid of it and use the new of_phy_is_fixed_link()
remote:          plus of_phy_register_fixed_link() helpers to transition over the new
remote:          scheme.
remote:
remote:          SWLINUX-3246
remote:
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 02d9d49ae3be73a96d07b5d39344835692ddf0fc)
remote:
remote:      commit 99acf81c622d883fc19bfef6b08f7746d110d2df
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Apr 9 18:03:47 2015 -0700
remote:
remote:          net: dsa: Utilize new fixed PHY helpers
remote:
remote:          In order to remove some of our fixed PHY Device Tree parsing code in
remote:          arch/arm/mach-bcm/brcmstb.c, convert DSA to use the new helper functions
remote:          recently backported and resynchronize dsa_slave_phy_setup() to make it look
remote:          more like its upstream version.
remote:
remote:          This essentially brings some of the changes introduced in:
remote:
remote:          0d8bcdd383b8 net: dsa: allow for more complex PHY setups
remote:          ce31b31c68e7 net: dsa: allow updating fixed PHY link information
remote:
remote:          SWLINUX-3246
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit b5e555dbe84f0082ca80a246b0811bd190f521ba)
remote:
remote:      commit 1516f97bc33d149655fccc93e4b2f31d0ff302e7
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu May 22 09:47:46 2014 -0700
remote:
remote:          BCMSYSPORT: use the new fixed PHY helpers
remote:
remote:          [Upstream commit 186534a3f83261e4d509ed7721e6a6fdb85ab380]
remote:
remote:          of_phy_connect_fixed_link() is becoming obsolete, and also required
remote:          platform code to register the fixed PHYs at the specified addresses for
remote:          those to be usable. Get rid of it and use the new of_phy_is_fixed_link()
remote:          plus of_phy_register_fixed_link() helpers to transition over the new
remote:          scheme.
remote:
remote:          SWLINUX-3246
remote:
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 1d1315aaca02c218b3d12073f4b0a862bafb92f6)
remote:
remote:      commit fe6bb2a01eedfdc1a6ce8e9224c61a2f7cab182b
remote:      Author: Konrad Zapalowicz <bergo.torino@gmail.com>
remote:      Date:   Thu Jun 5 20:27:42 2014 +0200
remote:
remote:          net: phy: fix sparse warning in fixed.c
remote:
remote:          [Upstream commit 46cfd6ea23b0a207c87269d86457727dc4485708]
remote:
remote:          This commit fixes the following sparse warning:
remote:
remote:          drivers/net/phy/fixed.c:207
remote:              - warning: symbol 'fixed_phy_del' was not declared.
remote:                Should it be static?
remote:
remote:          by adding symbol definition to the phy_fixed.h API file. It is ok to do
remote:          because the function in question is an exported symbol.
remote:
remote:          SWLINUX-3246
remote:
remote:          Signed-off-by: Konrad Zapalowicz <bergo.torino@gmail.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit b2cb3e950fa1669fc1d25deaff2f5cc51a52f41d)
remote:
remote:      commit 39762e9e85cb938bf03ddb957a0546b18247aee3
remote:      Author: Richard Retanubun <rretanubun.work@gmail.com>
remote:      Date:   Fri Jun 20 10:11:07 2014 -0400
remote:
remote:          of: mdio: fixup of_phy_register_fixed_link parsing of new bindings
remote:
remote:          [Upstream commit a72e154107340b868e69e0afeb418c9ec0994317]
remote:
remote:          Fixes commit 3be2a49e5c08 ("of: provide a binding for fixed link PHYs")
remote:
remote:          Fix the parsing of the new fixed link dts bindings for duplex,
remote:          pause, and asym_pause by using the correct device node pointer.
remote:
remote:          SWLINUX-3246
remote:
remote:          Signed-off-by: Richard Retanubun <rretanubun.work@gmail.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit e839d7ce2cf0a64683717c4faae018f1635dadee)
remote:
remote:      commit fba2eb68a811a6814add1b455856ae6fd34fd7a2
remote:      Author: Thomas Petazzoni <thomas.petazzoni@free-electrons.com>
remote:      Date:   Fri May 16 16:14:05 2014 +0200
remote:
remote:          of: provide a binding for fixed link PHYs
remote:
remote:          [Upstream commit 3be2a49e5c08d268f8af0dd4fe89a24ea8cdc339]
remote:
remote:          Some Ethernet MACs have a "fixed link", and are not connected to a
remote:          normal MDIO-managed PHY device. For those situations, a Device Tree
remote:          binding allows to describe a "fixed link" using a special PHY node.
remote:
remote:          This patch adds:
remote:
remote:           * A documentation for the fixed PHY Device Tree binding.
remote:
remote:           * An of_phy_is_fixed_link() function that an Ethernet driver can call
remote:             on its PHY phandle to find out whether it's a fixed link PHY or
remote:             not. It should typically be used to know if
remote:             of_phy_register_fixed_link() should be called.
remote:
remote:           * An of_phy_register_fixed_link() function that instantiates the
remote:             fixed PHY into the PHY subsystem, so that when the driver calls
remote:             of_phy_connect(), the PHY device associated to the OF node will be
remote:             found.
remote:
remote:          These two additional functions also support the old fixed-link Device
remote:          Tree binding used on PowerPC platforms, so that ultimately, the
remote:          network device drivers for those platforms could be converted to use
remote:          of_phy_is_fixed_link() and of_phy_register_fixed_link() instead of
remote:          of_phy_connect_fixed_link(), while keeping compatibility with their
remote:          respective Device Tree bindings.
remote:
remote:          SWLINUX-3246
remote:
remote:          Signed-off-by: Thomas Petazzoni <thomas.petazzoni@free-electrons.com>
remote:          Reviewed-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Tested-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 177729ec47d6123d68414fb8f9d9318df98ff808)
remote:
remote:      commit 585bb80a5e98fb2ce41865c5e7967c7d8d98bdd8
remote:      Author: Thomas Petazzoni <thomas.petazzoni@free-electrons.com>
remote:      Date:   Fri May 16 16:14:04 2014 +0200
remote:
remote:          net: phy: extend fixed driver with fixed_phy_register()
remote:
remote:          [Upstream commit a75951217472c522c324adb0a4de3ba69d656ef5]
remote:
remote:          The existing fixed_phy_add() function has several drawbacks that
remote:          prevents it from being used as is for OF-based declaration of fixed
remote:          PHYs:
remote:
remote:           * The address of the PHY on the fake bus needs to be passed, while a
remote:             dynamic allocation is desired.
remote:
remote:           * Since the phy_device instantiation is post-poned until the next
remote:             mdiobus scan, there is no way to associate the fixed PHY with its
remote:             OF node, which later prevents of_phy_connect() from finding this
remote:             fixed PHY from a given OF node.
remote:
remote:          To solve this, this commit introduces fixed_phy_register(), which will
remote:          allocate an available PHY address, add the PHY using fixed_phy_add()
remote:          and instantiate the phy_device structure associated with the provided
remote:          OF node.
remote:
remote:          SWLINUX-3246
remote:
remote:          Signed-off-by: Thomas Petazzoni <thomas.petazzoni@free-electrons.com>
remote:          Acked-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Acked-by: Grant Likely <grant.likely@linaro.org>
remote:          Tested-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit ddf67252a34999f7a7435935ddaf2845ba3a522c)
remote:
remote:      commit 8f8d3d9d9f1711c50249960fd2e5b47ee0f8d1a9
remote:      Author: Thomas Petazzoni <thomas.petazzoni@free-electrons.com>
remote:      Date:   Fri May 16 16:14:03 2014 +0200
remote:
remote:          net: phy: decouple PHY id and PHY address in fixed PHY driver
remote:
remote:          [Upstream commit 9b744942290c168287013f0a19ff7392f65c8107]
remote:
remote:          Until now, the fixed_phy_add() function was taking as argument
remote:          'phy_id', which was used both as the PHY address on the fake fixed
remote:          MDIO bus, and as the PHY id, as available in the MII_PHYSID1 and
remote:          MII_PHYSID2 registers. However, those two informations are completely
remote:          unrelated.
remote:
remote:          This patch decouples them. The PHY id of fixed PHYs is hardcoded to be
remote:          0x0. Ideally, a really reserved value would be nicer, but there
remote:          doesn't seem to be an easy of making sure a dummy value can be
remote:          assigned to the Linux kernel for such usage.
remote:
remote:          The PHY address remains passed by the caller of phy_fixed_add().
remote:
remote:          SWLINUX-3246
remote:
remote:          Signed-off-by: Thomas Petazzoni <thomas.petazzoni@free-electrons.com>
remote:          Reviewed-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Tested-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit a94f131c208243c7d287222e23f11ba92145d718)
remote:
remote:      commit 34b0fd6307e8d7ffbc3a129705a603693f76a217
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Tue May 12 19:19:21 2015 -0700
remote:
remote:          scripts: analyze_oom.py: account for minimum highmem too
remote:
remote:          When looking whether an allocation that's allowed to use highmem should
remote:          succeed, make sure to account for highmem's min watermark.
remote:
remote:          SWLINUX-3677
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit b6964c389a1d0404e2c1c0ed0426e8dd674506c1)
remote:
remote:      commit 2bdbaefa3b5680428c205b1fdbdc8adc74b3888e
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Thu May 7 18:31:28 2015 -0400
remote:
remote:          pci: enable aspm
remote:
remote:          This commit enables PCIe ASPM power states L0s and L1.  However,
remote:          their activation is not turned on by default.  The user
remote:          may override the default ASPM setting by either setting the
remote:          boot parameter 'pcie_aspm.policy' at boot or setting
remote:          '/sys/module/pcie_aspm/parameters/policy' at runtime.
remote:
remote:          SWLINUX-3673
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit 978edaf832a784fdb786b8008364dc81792e2762)
remote:
remote:      commit f95e42af80f4fb03ff39dbc576aea9b829a08b12
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Fri May 8 14:17:44 2015 -0700
remote:
remote:          scripts: analyze_oom.py incorrectly ignores highmem CMA
remote:
remote:          The has_cma variable is used to determine whether there is a need to account
remote:          for CMA in the OOM analysis (i.e. whether it has to worry about movable vs
remote:          unmovable pages).  Unfortunately, since it wasn't reporting for highmem, the
remote:          resulting analysis is wrong if the only free cma pages are in highmem.  Fix
remote:          that.
remote:
remote:          fixes #SWLINUX-3677
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 60330933099e7ad1fe4a76c96fe0e26d42c72869)
remote:
remote:      commit d8883f50801ca08bddb37b69cd92028dfd520a4f
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu May 7 16:40:23 2015 -0700
remote:
remote:          net: dsa: bcm_sf2: propagate carrier down states
remote:
remote:          There is currently a complex race condition with fixed PHYs utilizing a
remote:          link_update callback in how they propagate link down notifications. We may, or
remote:          may not, under certain circumstances reach the PHY_NOLINK state in the PHY state
remote:          machine, which means that we will never call netif_carrier_off() for that
remote:          interface. This is a problem for link monitoring applications since they will
remote:          never learn about the "NO-CARRIER" flag.
remote:
remote:          Fix that by explicitly calling netif_carrier_off() in our link_update callback
remote:          to propagate carrier state changes accordingly.
remote:
remote:          SWLINUX-3672
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 50bc6335ed5d2731ffd77c20a9c5f6fe5482480a)
remote:
remote:      commit b11ba395efe71a90ef9e75c92f93c805eed6b12d
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed May 6 10:58:31 2015 -0700
remote:
remote:          bsp: Remove 7366b0 BCHP headers
remote:
remote:          SWLINUX-3669
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit d0aeb968ef123f943a5e46de99ee4d3ffc4bba5c)
remote:
remote:      commit 8803f370749c7c762ea932c14208232e1621cf05
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed May 6 10:57:30 2015 -0700
remote:
remote:          bsp: Remove support for 7366B0
remote:
remote:          SWLINUX-3669
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit f384e8afc4f48c36d7fffae3a5d6e1456e79e65c)
remote:
remote:      commit 52970c030de04ce0c0573ebd3e2c74781fdb46f3
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed May 6 10:56:04 2015 -0700
remote:
remote:          drivers: Remove support for 7366b0
remote:
remote:          SWLINUX-3669
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 67743ca2a13e204b0432f8b76b36ca7917e0df09)
remote:
remote:      commit fb368e62154c57482a8c3124263bbc54bf1cdfe7
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Tue Apr 21 18:56:41 2015 -0700
remote:
remote:          soc: brcmstb: wktmr: release wakeup resources on device removal
remote:
remote:          A device can already have wakeup_source info attached to it when it is
remote:          probed (either via sysfs, or due to improper cleanup when
remote:          unbinding/binding). So like every other driver which uses this API,
remote:          let's *not* bail on errors during device_wakeup_enable(). Usually
remote:          (always?) this just means that the device was already wakeup-enabled.
remote:
remote:          Resolves errors like this:
remote:
remote:             # echo f0417480.waketimer > /sys/bus/platform/drivers/brcm-waketimer/unbind
remote:             # echo f0417480.waketimer > /sys/bus/platform/drivers/brcm-waketimer/bind
remote:             [   22.512742] brcm-waketimer: probe of f0417480.waketimer failed with error -17
remote:
remote:          SWLINUX-3638
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit ffe51459c8dcf20398cd32cfac2ea5451a00d839)
remote:
remote:      commit 1086dec76d44ef49b3e88479687c2714cfa63968
remote:      Author: Tobias Klauser <tklauser@distanz.ch>
remote:      Date:   Tue Sep 23 15:19:41 2014 +0200
remote:
remote:          net: bcmgenet: Fix compile warning
remote:
remote:          bcmgenet_wol_resume() is only used in bcmgenet_resume(), which is only
remote:          defined when CONFIG_PM_SLEEP is enabled. This leads to the following
remote:          compile warning when building with !CONFIG_PM_SLEEP:
remote:
remote:          drivers/net/ethernet/broadcom/genet/bcmgenet.c:1967:12: warning: bcmgenet_wol_resumed defined but not used [-Wunused-function]
remote:
remote:          Since bcmgenet_resume() is the only user of bcmgenet_wol_resume(), fix
remote:          this by directly inlining the function there.
remote:
remote:          Reported-by: Geert Uytterhoeven <geert@linux-m68k.org>
remote:          Signed-off-by: Tobias Klauser <tklauser@distanz.ch>
remote:          Acked-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          (cherry picked from commit 0a29b3dafbb2fc46421cc2950523814c7c6c8bfb)
remote:          [Brian: loose cherry-pick; there were a few conflicts]
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:
remote:          (cherry picked from commit 0ac5f8a9cd3e4b84d3ed7f0eadec78741aadbec8)
remote:
remote:      commit fdf04af2863569bfc8b3ecdba86b7a528b16dd9b
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Tue Apr 21 18:51:30 2015 -0700
remote:
remote:          bmoca: compile when !CONFIG_PM
remote:
remote:            CC      drivers/char/bmoca.o
remote:          drivers/char/bmoca.c: In function moca_wol_isrd:
remote:          drivers/char/bmoca.c:2589:3: error: implicit declaration of function moca_set_pm_stated [-Werror=implicit-function-declaration]
remote:             moca_set_pm_state(priv, MOCA_RESUMING_ASSERT);
remote:             ^
remote:
remote:          To resolve this, just give an empty definition for !CONFIG_PM. This is
remote:          harmless.
remote:
remote:          SWLINUX-3638
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 4f2e99279927e23f7b502936667dc8417e654a5b)
remote:
remote:      commit d5e4aa6b07ebd2fef458677bb7815447195d616d
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Tue Apr 21 18:48:35 2015 -0700
remote:
remote:          pci: fix build with !CONFIG_PM
remote:
remote:          Most of the checks in pci-brcmstb.c use C-style checks:
remote:
remote:          	if (IS_ENABLED(CONFIG_PM))
remote:          		...;
remote:
remote:          But these functions are pulled out via the preprocessor, yielding
remote:          compile failures when !defined(CONFIG_PM). Just leave these in
remote:          unconditionally, and the compiler will remove them when they are
remote:          logically unused.
remote:
remote:          SWLINUX-3638
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit ec0a7aa6b98a665ea54c32d09d12338343bb3cc5)
remote:
remote:      commit 40d812c66f9987ac710edcbbe4700f756307c8bb
remote:      Author: Thierry Reding <treding@nvidia.com>
remote:      Date:   Wed Oct 1 13:59:00 2014 +0200
remote:
remote:          net: dsa: Fix build warning for !PM_SLEEP
remote:
remote:          The dsa_switch_suspend() and dsa_switch_resume() functions are only used
remote:          when PM_SLEEP is enabled, so they need #ifdef CONFIG_PM_SLEEP protection
remote:          to avoid a compiler warning.
remote:
remote:          SWLINUX-3638
remote:
remote:          Signed-off-by: Thierry Reding <treding@nvidia.com>
remote:          Acked-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          (cherry picked from commit e506d405ac7d34d03996c97ac68aa2ac010be64a)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit e085ad19e4b4ed94044b8e54eac2ad6161dffb19)
remote:
remote:      commit cef024f546936a16763477b8704edc50c9fd52bd
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Thu Jul 24 17:10:14 2014 -0700
remote:
remote:          bmoca: use devm_*, clean up #ifdefs
remote:
remote:          SWLINUX-3638
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit c137fe7702da3450c6137e25fba9ac0273b67189)
remote:
remote:      commit f2fe706f7ae63365fb7409f33ff8c6528ac0905d
remote:      Author: Ulf Hansson <ulf.hansson@linaro.org>
remote:      Date:   Wed Dec 18 11:59:17 2013 +0100
remote:
remote:          mmc: core: Enable MMC_CAP2_CACHE_CTRL as default
remote:
remote:          [Upstream commit 7536d3f83aa42ba1a3b1c6b30c2b6d94a820cbb2]
remote:
remote:          There are no reason to why the use of a non-volatile internal eMMC
remote:          cache should be controlled by a host cap. Instead let's just enable it
remote:          if the eMMC card supports it.
remote:
remote:          SWLINUX-3656
remote:
remote:          Signed-off-by: Ulf Hansson <ulf.hansson@linaro.org>
remote:          Acked-by: Seungwon Jeon <tgih.jun@samsung.com>
remote:          Signed-off-by: Chris Ball <chris@printf.net>
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit 14ac89e5055bcabcb744bb39c61e0786612df90e)
remote:
remote:      commit c13f46ece1460a41c10aed8f6dfa4af833469552
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Wed Apr 1 17:20:10 2015 -0700
remote:
remote:          brcmstb_defconfig: Enable GPIOLIB
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit f1367f20f7c0e9f74a6d4a8154b225f9745dcb6a)
remote:
remote:      commit bb7fc2c88ae22c63e32e8dcb96ae37c60a473025
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Fri Mar 20 14:54:31 2015 -0700
remote:
remote:          gpio: Add GPIO support for Broadcom STB SoCs
remote:
remote:          This adds support for the GPIO IP "UPG GIO" used on Broadcom STB SoCs
remote:          (BCM7XXX and some others).  Uses basic_mmio_gpio to instantiate a
remote:          gpio_chip for each bank.  The driver assumes that it handles the base
remote:          set of GPIOs on the system and that it can start its numbering sequence
remote:          from 0, so any GPIO expanders used with it must dynamically assign GPIO
remote:          numbers after this driver has finished registering its GPIOs.
remote:
remote:          Does not implement the interrupt-controller portion yet, will be done in a
remote:          future commit.
remote:
remote:          SWLINUX-3604
remote:
remote:          List-usage-fixed-by: Brian Norris <norris@broadcom.com>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 7c1aa70d23ede9be118724b88d1fff11da0630b2)
remote:
remote:      commit 7f4f1708bf7351c12785d79243cb10361c46136f
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Wed Apr 1 15:28:41 2015 -0700
remote:
remote:          dt-bindings: add brcmstb-gpio GPIO binding
remote:
remote:          Add binding for Broadcom STB "UPG GIO" GPIO controller.
remote:
remote:          SWLINUX-3604
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit f8a0d3737c0056029ef9b8ac20ac11563881a000)
remote:
remote:      commit b77372762bc586d9a8c89288cc8cae1ccc9b3f99
remote:      Author: Heiko Stuebner <heiko.stuebner@bqreaders.com>
remote:      Date:   Wed Feb 12 01:00:34 2014 +0100
remote:
remote:          of: add functions to count number of elements in a property
remote:
remote:          [Upstream commit ad54a0cfbeb4bd4033d09017557ccbc423f9d5ff]
remote:
remote:          The need to know the number of array elements in a property is
remote:          a common pattern. To prevent duplication of open-coded implementations
remote:          add a helper static function that also centralises strict sanity
remote:          checking and DTB format details, as well as a set of wrapper functions
remote:          for u8, u16, u32 and u64.
remote:
remote:          SWLINUX-3604
remote:
remote:          Suggested-by: Mark Rutland <mark.rutland@arm.com>
remote:          Signed-off-by: Heiko Stuebner <heiko.stuebner@bqreaders.com>
remote:          Acked-by: Rob Herring <robh@kernel.org>
remote:          Acked-by: Grant Likely <grant.likely@linaro.org>
remote:          Acked-by: Mark Rutland <mark.rutland@arm.com>
remote:          Signed-off-by: Mark Brown <broonie@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 7294b41058f32ce6e817d8a823b45cf800a95e2b)
remote:
remote:      commit 0f30c197345dc4de9437c36cffe8b17823f1cd1b
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Tue Apr 28 10:12:13 2015 -0400
remote:
remote:          USB: Get usb-brcm-common-init.c back in sync with the BOLT version
remote:
remote:          The usb-brcm-common-init.c was written to be shared, without change,
remote:          between BOLT and the kernel. The file has gotten out of sync with
remote:          some new changes added to the kernel version and some new changes
remote:          added to the BOLT version. This will get the file back in sync.
remote:          The changes include a 74371a0 workaround that requires the use
remote:          of the XHCI EX (extended capabilities) register block which
remote:          has been added to the XHCI device tree entry by BOLT.
remote:
remote:          SWLINUX-3624
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit 0418378bbb5e838d659c6f92c004827888402e76)
remote:
remote:      commit 269ddce30d68cb192d002d04dfa7f007b20df662
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Thu Apr 23 14:25:57 2015 -0700
remote:
remote:          uapi: export cma_driver.h
remote:
remote:          In case we want to use 'make headers_install'.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit f72e3a3bf73527b725e6ee21c0f7d470c2e246c6)
remote:
remote:      commit eba0bd39c7151c05a00538aeacb2b8380e385a49
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Apr 22 15:53:29 2015 -0700
remote:
remote:          Bump version to 3.14-1.6pre
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit a4b0b0fe1edb64f1f91646a7928440fdf26b54b6)
remote:
remote:      commit 5fc287fca6b4667036a9377c47868ecf3a35a018
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue Apr 21 15:50:32 2015 -0700
remote:
remote:          brcmstb_defconfig: Disable KEXEC
remote:
remote:          Kexec is not consistently and reliably working on all platforms, disable it for
remote:          now until it gets properly fixed and safe to get re-enabled.
remote:
remote:          SWLINUX-3639
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 3880908c9b095cb7d30a74f8dc7614a598dabeba)
remote:
remote:      commit 139d37399b546daf204229d7c5a2d62f4892a957
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Apr 15 15:17:26 2015 -0700
remote:
remote:          ARM: B15: Enable read-ahead cache by default
remote:
remote:          Now that our middleware has been migrated to using
remote:          __cpuc_flush_kern_cache_all() which is properly dealing with the B15 RAC
remote:          flushing, we can turn on this option by default
remote:
remote:          SWLINUX-3639
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 8ac0374c06e1488405f0b9dc0c254d99985102a9)
remote:
remote:      commit af5639a2e41922cdc84d61eafbf03534fb78374f
remote:      Author: Florian Fainelli <f.fainelli@gmail.com>
remote:      Date:   Mon Mar 16 17:46:42 2015 -0700
remote:
remote:          ARM: B15: Register reboot notifier for KEXEC
remote:
remote:          During kexec, we will go through kernel_kexec() -> syscore_suspend() if
remote:          CONFIG_KEXEC_JUMP is set, if not, down the road we end-up calling
remote:          kernel_restart_prepare() which invokes reboot notifiers with
remote:          SYS_RESTART.
remote:
remote:          We register a reboot notifier to make sure that the B15 read-ahead cache
remote:          is disabled, since it is another level of instruction and data cache,
remote:          and we want to avoid any potential side effects with booting a new
remote:          kernel with such a cache still turned on.
remote:
remote:          SWLINUX-3639
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 02c05a65e164cf0987b7912b41e03ab5f3947923)
remote:
remote:      commit f31d78c8cf92181478601f591144182195a48a8e
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Thu Apr 16 17:05:33 2015 -0700
remote:
remote:          brcmstb_defconfig: enable user_space thermal governor by default
remote:
remote:          As of now, it is important to always use the 'user_space' thermal
remote:          policy, so that user-space will receive trip point uevent notifications.
remote:          If it ever comes down to needing to support both a kernel and user-space
remote:          governor, we might need to move the kobject_uevent_env() calls into
remote:          brcmstb_thermal and switch back to, e.g., step_wise.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 0d11680dbc714b13a53bbd6f8885db6d64b85959)
remote:
remote:      commit be1f699a4419bc5519c1d206e0c6dd3624b7e7bf
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Thu Apr 16 16:34:41 2015 -0700
remote:
remote:          thermal: brcmstb_thermal: add of-thermal and hardware trigger support
remote:
remote:          We can make use of the upstream thermal device tree bindings to
remote:          configure trip points for us. We can also make use of the proposed
remote:          .set_trips() callback, which was backported in a previous patch (not
remote:          upstream yet) to utilize our high/low interrupts most economically.
remote:
remote:          Because we supplied some basic support for temperature readins
remote:          previously, where this driver registered its own standalone thermal zone
remote:          (without using the of-thermal framework), I have migrated the existing
remote:          support into a fall-back 'brcmstb_thermal_zone_probe()' option. This
remote:          can help transition between device trees that have the 'thermal-zones'
remote:          node set up and those that don't. We should schedule this to be removed
remote:          quickly in a future release.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit e48cd6d70081a5ebfc7fafc78be9e22569521be2)
remote:
remote:      commit 20baf7a19edbc55cd12cc97d88d6e2111d679653
remote:      Author: Brian Norris <computersforpeace@gmail.com>
remote:      Date:   Wed Apr 1 17:03:13 2015 -0700
remote:
remote:          thermal: user_space: add trip point number and temperature to uevent data
remote:
remote:          Now that the thermal core supplies trip notifications when
remote:          *crossing* a trip point, and only for that single trip point, it is
remote:          useful to provide this information in the uevent metadata. That way, a
remote:          user-space governor can figure out this information directly, without
remote:          any guessing. This also eliminates a potential race, where the
remote:          temperature may have changed between the time a hardware trip was fired
remote:          and the time it is received by the governor.
remote:
remote:          This patch should be submitted upstream. It's possible this will not
remote:          suit the general needs of other thermal users, and so we might consider
remote:          integrating this directly into brcmstb_thermal instead.
remote:
remote:          Prior RFC submission, which received no comments (4/17/15):
remote:          http://thread.gmane.org/gmane.linux.kernel/1922796
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 2b2274fd832628edac2714890ddf5076fa886d52)
remote:
remote:      commit b265158fadd2185008ff7691322f2a209b2d1382
remote:      Author: Brian Norris <computersforpeace@gmail.com>
remote:      Date:   Thu Apr 16 15:48:49 2015 -0700
remote:
remote:          thermal: report trips only when crossed
remote:
remote:          For some reason, the existing infrastructure will notify *all* trip
remote:          points whenever any driver calls thermal_zone_device_update_temp(). This
remote:          is unfortunate for users of hardware-backed trip points, since that
remote:          means we lose all information about which trip point triggered the
remote:          update, if any.
remote:
remote:          Instead, let's only call handle_thermal_trip() when we've crossed a
remote:          trip.
remote:
remote:          This should be submitted upstream, possibly with some rework to make it
remote:          more generically useful. If nothing else, it might generate some
remote:          explanation as to why the trip point notifications are currently so
remote:          peculiar, as described above.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 07bd877f9207c9b39149f8807d18a3e806157698)
remote:
remote:      commit a231663b668fcc1b166c39bc3a88a219e7d29a23
remote:      Author: Brian Norris <computersforpeace@gmail.com>
remote:      Date:   Thu Apr 16 15:37:37 2015 -0700
remote:
remote:          thermal: add thermal_zone_device_update_temp() API
remote:
remote:          Allow drivers to report a particular update temperature.
remote:
remote:          This is important for hardware-supported trip points. On such hardware,
remote:          there is a potential for inconstency in the following sequence:
remote:
remote:          (1) hardware interrupt
remote:          (2) themal_zone_device_update(),
remote:          (3) zone->get_temp()
remote:
remote:          Between (1) and (3), the temperature might change a bit.
remote:
remote:          So, rather than add in caching to the sensor driver to record the
remote:          temperature at (1), just allow the driver to pass it directly through.
remote:
remote:          This should be submitted upstream.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 108133d196afc29f13ad6e78201dd6fc7203cac6)
remote:
remote:      commit 5642a16565b7b5f0afe893933b0d265c096eafa1
remote:      Author: Sascha Hauer <s.hauer@pengutronix.de>
remote:      Date:   Thu Mar 26 16:54:00 2015 +0100
remote:
remote:          thermal: of: implement .set_trips for device tree thermal zones
remote:
remote:          [Backported preliminary patch. See thread:
remote:          http://thread.gmane.org/gmane.linux.power-management.general/58483/]
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 3cd4d53f0458e701d176c3437dbba4a5d51a9bbc)
remote:
remote:      commit bce42c78595217815ba4cacef4817f020ac21a16
remote:      Author: Sascha Hauer <s.hauer@pengutronix.de>
remote:      Date:   Thu Mar 26 16:53:59 2015 +0100
remote:
remote:          thermal: Add support for hardware-tracked trip points
remote:
remote:          [Backported preliminary patch. See thread:
remote:          http://thread.gmane.org/gmane.linux.power-management.general/58483/]
remote:
remote:          This adds support for hardware-tracked trip points to the device tree
remote:          thermal sensor framework.
remote:
remote:          The framework supports an arbitrary number of trip points. Whenever
remote:          the current temperature is updated, the trip points immediately
remote:          below and above the current temperature are found. A .set_trips
remote:          callback is then called with the temperatures. If there is no trip
remote:          point above or below the current temperature, the passed trip
remote:          temperature will be ULONG_MAX or 0 respectively. In this callback,
remote:          the driver should program the hardware such that it is notified
remote:          when either of these trip points are triggered. When a trip point
remote:          is triggered, the driver should call `thermal_zone_device_update'
remote:          for the respective thermal zone. This will cause the trip points
remote:          to be updated again.
remote:
remote:          If .set_trips is not implemented, the framework behaves as before.
remote:
remote:          This patch is based on an earlier version from Mikko Perttunen
remote:          <mikko.perttunen@kapsi.fi>
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit ea98ecf433f575e8207e92f5f97401cbd4f1d17c)
remote:
remote:      commit 4732709d808a2a0de81cbc5e10c159136d822a9e
remote:      Author: Sascha Hauer <s.hauer@pengutronix.de>
remote:      Date:   Thu Mar 26 16:53:57 2015 +0100
remote:
remote:          thermal: Make struct thermal_zone_device_ops const
remote:
remote:          [Backported preliminary patch. See thread:
remote:          http://thread.gmane.org/gmane.linux.power-management.general/58483/]
remote:
remote:          Now that the of thermal support no longer changes the
remote:          thermal_zone_device_ops it can be const again.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 3ca444889b05815ee5cb89b926ca5135b0c7f70d)
remote:
remote:      commit e78f447ee16d96866610aec3c06304d55c93c1a8
remote:      Author: Sascha Hauer <s.hauer@pengutronix.de>
remote:      Date:   Thu Mar 26 16:53:56 2015 +0100
remote:
remote:          thermal: of: always set sensor related callbacks
remote:
remote:          [Backported preliminary patch. See thread:
remote:          http://thread.gmane.org/gmane.linux.power-management.general/58483/]
remote:
remote:          Now that the thermal core treats -ENOSYS like the callbacks were
remote:          not present at all we no longer have to overwrite the ops during
remote:          runtime but instead can always set them and return -ENOSYS if no
remote:          sensor is registered.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit ba9a02a0e014f15e44968c3b72a76db0f5ad94f9)
remote:
remote:      commit 0e4cc8f5fd991e390202e498a3a9eefa41b51f7f
remote:      Author: Sascha Hauer <s.hauer@pengutronix.de>
remote:      Date:   Thu Mar 26 16:53:55 2015 +0100
remote:
remote:          thermal: Allow sensor ops to fail with -ENOSYS
remote:
remote:          [Backported preliminary patch. See thread:
remote:          http://thread.gmane.org/gmane.linux.power-management.general/58483/]
remote:
remote:          The thermal core uses the existence of the .get_temp, .get_trend and
remote:          .set_emul_temp to detect whether this operation exists and should be
remote:          used or whether it should be emulated in software. This makes problems
remote:          for of-thermal which has to modify the struct thermal_zone_device_ops
remote:          during runtime whenever a sensor is registered or unregistered.
remote:
remote:          Let the core test for -ENOSYS from these callbacks and treat it like
remote:          if the callbacks were not present.
remote:
remote:          This allows of-thermal to always set the sensor related callbacks and
remote:          to make struct thermal_zone_device_ops const again.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 8d174873ac9cbd28ddc3dd3f65d991a37c3d6049)
remote:
remote:      commit 695233c94789d09c7d51d75c10ab02f4a9ed009e
remote:      Author: Sascha Hauer <s.hauer@pengutronix.de>
remote:      Date:   Thu Mar 26 16:53:53 2015 +0100
remote:
remote:          thermal: streamline get_trend callbacks
remote:
remote:          [Backported preliminary patch. See thread:
remote:          http://thread.gmane.org/gmane.linux.power-management.general/58483/]
remote:
remote:          The .get_trend callback in struct thermal_zone_device_ops has the prototype:
remote:
remote:          	int (*get_trend) (struct thermal_zone_device *, int,
remote:          			  enum thermal_trend *);
remote:
remote:          whereas the .get_trend callback in struct thermal_zone_of_device_ops has:
remote:
remote:          	int (*get_trend)(void *, long *);
remote:
remote:          Streamline both prototypes and add the trip argument to the OF callback
remote:          aswell and use enum thermal_trend * instead of an integer pointer.
remote:
remote:          While the OF prototype may be the better one, this should be decided at
remote:          framework level and not on OF level.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 0c59731c01d4e0e8f5c62e6a94f21cf8f5c19704)
remote:
remote:      commit b65a5e091bfdf7c99fef3e0b631b5827b20fced8
remote:      Author: Sascha Hauer <s.hauer@pengutronix.de>
remote:      Date:   Thu Mar 26 16:53:52 2015 +0100
remote:
remote:          thermal: inline only once used function
remote:
remote:          [Backported preliminary patch. See thread:
remote:          http://thread.gmane.org/gmane.linux.power-management.general/58483/]
remote:
remote:          Inline update_temperature into its only caller to make the code
remote:          more readable.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit d04ae45a8fb83493160c458ebf6f9fc816c7018e)
remote:
remote:      commit 0c5cded31df332de58cf70b5407a714db16c84c4
remote:      Author: Sascha Hauer <s.hauer@pengutronix.de>
remote:      Date:   Thu Mar 26 16:53:51 2015 +0100
remote:
remote:          thermal: Fix not emulating critical temperatures
remote:
remote:          [Backported preliminary patch. See thread:
remote:          http://thread.gmane.org/gmane.linux.power-management.general/58483/]
remote:
remote:          commit e6e238c38 (thermal: sysfs: Add a new sysfs node emul_temp for
remote:          thermal emulation)  promised not to emulate critical temperatures,
remote:          but the check for critical temperatures is broken in multiple ways:
remote:
remote:          - The code should only accept an emulated temperature when the emulated
remote:            temperature is lower than the critical temperature. Instead the code
remote:            accepts an emulated temperature whenever the real temperature is lower
remote:            than the critical temperature. This makes no sense and trying to
remote:            emulate a temperature higher than the critical temperature halts the
remote:            system.
remote:          - When trying to emulate a higher-than-critical temperature we should either
remote:            limit the emulated temperature to the maximum non critical temperature
remote:            or refuse to emulate this temperature. Instead the code just silently
remote:            ignores the emulated temperature and continues with the real temperature.
remote:
remote:          This patch moves the test for illegal emulated temperature to the sysfs
remote:          write function so that we can properly refuse illegal temperatures here.
remote:          Trying to write illegal temperatures results in an error message. While
remote:          at it use IS_ENABLED() instead of #ifdefs.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 5fa4d4671626b95262c06e712fb08083d9cfd45d)
remote:
remote:      commit 4ea223753cee2187ca8ab8965aa4e5c4b15fd564
remote:      Author: Sascha Hauer <s.hauer@pengutronix.de>
remote:      Date:   Thu Mar 26 16:53:50 2015 +0100
remote:
remote:          thermal: remove useless call to thermal_zone_device_set_polling
remote:
remote:          [Backported preliminary patch. See thread:
remote:          http://thread.gmane.org/gmane.linux.power-management.general/58483/]
remote:
remote:          When the thermal zone has no get_temp callback then thermal_zone_device_register()
remote:          calls thermal_zone_device_set_polling() with a polling delay of 0. This
remote:          only cancels the poll_queue. Since the poll_queue hasn't been scheduled this
remote:          is a no-op. Remove it.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 7544f03b28cdb91ec56685ca82f2fdfe439822b6)
remote:
remote:      commit c4a7b97c23fffbaef3a6f2484fff76d4186249d5
remote:      Author: Nishanth Menon <nm@ti.com>
remote:      Date:   Fri Feb 13 19:28:02 2015 -0600
remote:
remote:          thermal: Introduce dummy functions when thermal is not defined
remote:
remote:          When CONFIG_THERMAL is not enabled, it is better to introduce
remote:          equivalent dummy functions in the exported header than to
remote:          introduce #ifdeffery in drivers using the function.
remote:
remote:          This will prevent issues such as that reported in:
remote:          http://www.spinics.net/lists/linux-next/msg31573.html
remote:
remote:          While at it switch over to IS_ENABLED for thermal macros
remote:          to allow for thermal framework to be built as framework
remote:          and relevant APIs be usable by relevant drivers as a result.
remote:
remote:          SWLINUX-3599
remote:
remote:          Reported-by: Guenter Roeck <linux@roeck-us.net>
remote:          Signed-off-by: Nishanth Menon <nm@ti.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit 12ca7188468ee29c4e717f73db4bf43c90954fc7)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 6895bc8ce3951d034c0bf730755bc8ee743eea93)
remote:
remote:      commit 91c463ad83a03f967f66da8972a0f9bf58f4a78a
remote:      Author: Lukasz Majewski <l.majewski@samsung.com>
remote:      Date:   Mon Jan 19 12:44:04 2015 +0100
remote:
remote:          thermal: of: Enable thermal_zoneX when sensor is correctly added
remote:
remote:          Up till now the thermal_zone mode was by default "disabled". With this
remote:          patch the default behavior was changed to "enable".
remote:
remote:          One can read the mode at:
remote:          /sys/class/thermal/thermal_zone0/mode
remote:
remote:          SWLINUX-3599
remote:
remote:          Tested-by: Javi Merino <javi.merino@arm.com>
remote:          Reported-by: Abhilash Kesavan <a.kesavan@samsung.com>
remote:          Signed-off-by: Lukasz Majewski <l.majewski@samsung.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit 528012c1f4379738c6307b273d20cc3caa7d08af)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit cfd42749165f47f45ee9eaf8376be6bfdce60cc7)
remote:
remote:      commit a7b927f0541208a0c49afab955ab690a1cbc9041
remote:      Author: Punit Agrawal <punit.agrawal@arm.com>
remote:      Date:   Tue Dec 9 12:22:01 2014 +0000
remote:
remote:          thermal: Fix cdev registration with THERMAL_NO_LIMIT on 64bit
remote:
remote:          The size of unsigned long varies between 32 and 64 bit systems while
remote:          the size of phandle arguments is always 32 bits per parameter.
remote:
remote:          On 64-bit systems, cooling devices registered via of-thermal apis fail
remote:          to bind when the min/max cooling state is specified as
remote:          THERMAL_NO_LIMIT (-1UL) as there is a mis-match between the value read
remote:          from the device tree (32bit) and the pre-processor define (64bit).
remote:
remote:          As we're unlikely to need cooling states larger than 32 bits, and for
remote:          consistency with the size of phandle arguments, explicitly limit
remote:          THERMAL_NO_LIMIT to 32 bits.
remote:
remote:          SWLINUX-3599
remote:
remote:          Reported-by: Hyungwoo Yang <hwoo.yang@gmail.com>
remote:          Acked-by: Zhang Rui <rui.zhang@intel.com>
remote:          Signed-off-by: Punit Agrawal <punit.agrawal@arm.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit a940cb34fed73b2d4809a4575f2981d5927e2c21)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 6204e0484ab0cf78e158321fe0101c75bd5ac10e)
remote:
remote:      commit 8706c31c53d61644564b802d3e19c0f8ae83cd31
remote:      Author: Lukasz Majewski <l.majewski@samsung.com>
remote:      Date:   Tue Nov 18 11:16:30 2014 +0100
remote:
remote:          thermal:core:fix: Check return code of the ->get_max_state() callback
remote:
remote:          The return code from ->get_max_state() callback was not checked during
remote:          binding cooling device to thermal zone device.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Lukasz Majewski <l.majewski@samsung.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit 9a3031dc3e7a5edfeb52ae8951f8bcd927351854)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 496089560c948b796c767abf1492bbf3f84d2f57)
remote:
remote:      commit 78f7681ea905af99bdf44e7cd4bbb5ae09843683
remote:      Author: Lukasz Majewski <l.majewski@samsung.com>
remote:      Date:   Mon Dec 8 18:04:21 2014 +0100
remote:
remote:          thermal: of: Extend current of-thermal.c code to allow setting emulated temp
remote:
remote:          Before this change it was only possible to set get_temp() and get_trend()
remote:          methods to be used in the common code handling passing parameters via
remote:          device tree to "cpu-thermal" CPU thermal zone device.
remote:
remote:          Now it is possible to also set emulated value of temperature for debug
remote:          purposes.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Lukasz Majewski <l.majewski@samsung.com>
remote:          Acked-by: Eduardo Valentin <edubezval@gmail.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit 184a4bf623fa587067851d25435fcb2f41de445b)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 2948540a0196c83bf5dca855b4812a27fd8fec04)
remote:
remote:      commit 893cb50113ecb0f298ebedae4a36c2fc483f52f8
remote:      Author: Lukasz Majewski <l.majewski@samsung.com>
remote:      Date:   Mon Dec 8 18:04:20 2014 +0100
remote:
remote:          thermal: of: Extend of-thermal to export table of trip points
remote:
remote:          This patch extends the of-thermal.c to export trip points for a given
remote:          thermal zone.
remote:
remote:          Thermal drivers should use of_thermal_get_trip_points() method to get
remote:          pointer to table of thermal trip points.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Lukasz Majewski <l.majewski@samsung.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit ce8be7785922de0ef497b20384425ed04f674f9d)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 26a2a3840e8162a3a15c8d13b6bf6e24afa47e28)
remote:
remote:      commit 7cbd1bdded27d3b7a751affbe2c4aad87925cc3e
remote:      Author: Lukasz Majewski <l.majewski@samsung.com>
remote:      Date:   Mon Dec 8 18:04:19 2014 +0100
remote:
remote:          thermal: of: Rename struct __thermal_trip to struct thermal_trip
remote:
remote:          This patch changes name of struct __thermal_trip to thermal_trip and moves
remote:          declaration of the latter to ./include/linux/thermal.h for better visibility.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Lukasz Majewski <l.majewski@samsung.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit ad9914ac3b1f5c12ef2cf1c58a6ddda306fb79d4)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 25bb1bb3bfeaff95b4424515e6513aea1c8165a9)
remote:
remote:      commit 32bbefdae6da94bd242f77b6b50a040f751fe283
remote:      Author: Lukasz Majewski <l.majewski@samsung.com>
remote:      Date:   Mon Dec 8 18:04:18 2014 +0100
remote:
remote:          thermal: of: Extend of-thermal.c to provide check if trip point is valid
remote:
remote:          This patch extends the of-thermal.c to provide check if trip point is
remote:          valid.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Lukasz Majewski <l.majewski@samsung.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit a9bf2cc49d9030e374edb9cc0389512a1a1c357e)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 8f350b6cac51fb92147949e808cd210c00638c54)
remote:
remote:      commit 526bd667035b24990edccb66d22aacb8b9747b13
remote:      Author: Lukasz Majewski <l.majewski@samsung.com>
remote:      Date:   Mon Dec 8 18:04:17 2014 +0100
remote:
remote:          thermal: of: Extend of-thermal.c to provide number of trip points
remote:
remote:          This patch extends the of-thermal.c to provide information about number of
remote:          available trip points.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Lukasz Majewski <l.majewski@samsung.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit 08dab66ec8431a1f744596cfc9f5fb659b623835)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 25819acb4a1913f4cb36844a9af9ea1dbe5f8bec)
remote:
remote:      commit b19dc849b5de82c206192e32a8aa9e9364bab005
remote:      Author: Javi Merino <javi.merino@arm.com>
remote:      Date:   Tue Nov 25 16:00:33 2014 +0000
remote:
remote:          thermal: lock the thermal zone when switching governors
remote:
remote:          Currently, userspace can request a governor change while the governor
remote:          itself is running.  Grab the thermal zone lock when changing the
remote:          governor to prevent this race.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Javi Merino <javi.merino@arm.com>
remote:          Signed-off-by: Zhang Rui <rui.zhang@intel.com>
remote:          (cherry picked from commit b6cc772f64ac7d1917770406844b73a94ca5ef06)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 1575aa1f55957449b53e3303b358844e831b8856)
remote:
remote:      commit 77ba6056e84aae80a6cb199dd74e773fa7c1ed71
remote:      Author: Srinivas Pandruvada <srinivas.pandruvada@linux.intel.com>
remote:      Date:   Wed Nov 12 15:43:29 2014 -0800
remote:
remote:          thermal: core: ignore invalid trip temperature
remote:
remote:          Ignore invalid trip temperature less or equal to zero. Some
remote:          buggy systems have invalid trips, causing system shutdown.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Srinivas Pandruvada <srinivas.pandruvada@linux.intel.com>
remote:          Signed-off-by: Zhang Rui <rui.zhang@intel.com>
remote:          (cherry picked from commit 84ffe3ecc2c8b3effc41c0babd2cc24f1edb2aab)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 8de4cc52c8f27397206ca543cad07411cd41a36e)
remote:
remote:      commit 97f0d05aadee076353770f73afa7e289b1c0af2a
remote:      Author: Eduardo Valentin <edubezval@gmail.com>
remote:      Date:   Fri Nov 7 21:24:39 2014 -0400
remote:
remote:          thermal: of: improve of-thermal sensor registration API
remote:
remote:          Different drivers request API extensions in of-thermal. For this reason,
remote:          additional callbacks are required to fit the new drivers needs.
remote:
remote:          The current API implementation expects the registering sensor driver
remote:          to provide a get_temp and get_trend callbacks as function parameters.
remote:          As the amount of callbacks is growing, this patch changes the existing
remote:          implementation to use a .ops field to hold all the of thermal callbacks
remote:          to sensor drivers.
remote:
remote:          This patch also changes the existing of-thermal users to fit the new
remote:          API design. No functional change is introduced in this patch.
remote:
remote:          SWLINUX-3599
remote:
remote:          Cc: Alexandre Courbot <gnurou@gmail.com>
remote:          Cc: devicetree@vger.kernel.org
remote:          Cc: Grant Likely <grant.likely@linaro.org>
remote:          Cc: Guenter Roeck <linux@roeck-us.net>
remote:          Cc: Jean Delvare <jdelvare@suse.de>
remote:          Cc: linux-kernel@vger.kernel.org
remote:          Cc: linux-pm@vger.kernel.org
remote:          Cc: linux-tegra@vger.kernel.org
remote:          Cc: lm-sensors@lm-sensors.org
remote:          Cc: Rob Herring <robh+dt@kernel.org>
remote:          Cc: Stephen Warren <swarren@wwwdotorg.org>
remote:          Cc: Thierry Reding <thierry.reding@gmail.com>
remote:          Cc: Zhang Rui <rui.zhang@intel.com>
remote:          Acked-by: Guenter Roeck <linux@roeck-us.net>
remote:          Tested-by: Mikko Perttunen <mikko.perttunen@kapsi.fi>
remote:          Reviewed-by: Mikko Perttunen <mikko.perttunen@kapsi.fi>
remote:          Reviewed-by: Alexandre Courbot <acourbot@nvidia.com>
remote:          Reviewed-by: Lukasz Majewski <l.majewski@samsung.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit 2251aef64a38db60f4ae7a4a83f9203c6791f196)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 6f3e452cceabf6667e02c59070b65c3123b4abe1)
remote:
remote:      commit 75a69c88a4a3866072091d1bfc7b9f88feae8550
remote:      Author: Yao Dongdong <yaodongdong@huawei.com>
remote:      Date:   Tue Oct 28 07:40:25 2014 +0000
remote:
remote:          Thermal:Remove usless if(!result) before return tz
remote:
remote:          result is always zero when comes here.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Yao Dongdong <yaodongdong@huawei.com>
remote:          Acked-by: Eduardo Valentin <edubezval@gmail.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit 14015860565a1464193ddb3fbd3f7253a37dfcf9)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit c2563873e49c91baeb1a2c703bf57376332329fa)
remote:
remote:      commit 3db74834166d7c543058b18f71d9fbffc87cbda8
remote:      Author: Vladimir Zapolskiy <vz@mleia.com>
remote:      Date:   Mon Sep 29 02:47:46 2014 +0300
remote:
remote:          thermal: fix multiple disbalanced device node counters
remote:
remote:          Here on function return all temporarily used device nodes shall
remote:          decrement their usage counter. The problems are found with device
remote:          nodes allocated by for_each_child_of_node(), of_parse_phandle()
remote:          and of_find_node_by_name(), fix all problems at once.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Vladimir Zapolskiy <vz@mleia.com>
remote:          Cc: devicetree@vger.kernel.org
remote:          Cc: Zhang Rui <rui.zhang@intel.com>
remote:          Cc: Eduardo Valentin <edubezval@gmail.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit c2aad93c7edd5e1bc26cc1d80c1c00a954f01946)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 5056eb8e8ae125b0f60c78ddf83eb6b8939b517c)
remote:
remote:      commit 1e51740ebf696466fd38620135168738ef3b3cb7
remote:      Author: Lukasz Majewski <l.majewski@samsung.com>
remote:      Date:   Wed Sep 24 10:27:10 2014 +0200
remote:
remote:          thermal: step_wise: fix: Prevent from binary overflow when trend is dropping
remote:
remote:          It turns out that some boards can have instance->lower greater than 0 and
remote:          when thermal trend is dropping it results with next_target equal to -1.
remote:
remote:          Since the next_target is defined as unsigned long it is interpreted as
remote:          0xFFFFFFFF and larger than instance->upper.
remote:          As a result the next_target is set to instance->upper which ramps up to
remote:          maximal cooling device target when the temperature is steadily decreasing.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Lukasz Majewski <l.majewski@samsung.com>
remote:          Signed-off-by: Zhang Rui <rui.zhang@intel.com>
remote:          (cherry picked from commit 26bb0e9a1a938ec98ee07aa76533f1a711fba706)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 2033ac2ff1b2a66846267a14026f8f46ba1467fe)
remote:
remote:      commit a7d897946806c91f063e1fc7f9e6bd65f91fb8aa
remote:      Author: Laxman Dewangan <ldewangan@nvidia.com>
remote:      Date:   Fri Jul 25 15:31:58 2014 +0530
remote:
remote:          thermal: add support to disable thermal zone from DTS
remote:
remote:          Add support to check status of the thermal zone before registering the
remote:          zone. This will help on disabling some non-existing thermal zone from
remote:          the top level DTS file out of common dtsi thermalzone file.
remote:
remote:          For example,
remote:          we have 3 platforms almost same but thermal zones on this platform are
remote:          little bit different. Platform 1 and 2 have three thermal zones and
remote:          platform 3 has two thermal zones. To avoid duplication of the thermal
remote:          zones entries on each DTS file of platforms,we created one common
remote:          dtsi file for thermal zone and included this dtsi file from these
remote:          3 platform's top level dts file.
remote:
remote:          On common thermal zone com dtsi file, all thermal zone are enabled and
remote:          need to disable one of thermal zone on platform 3 dts file. For this, we
remote:          just added entry status = "disabled" for that thermal zone on platform 3
remote:          dts file and along with this change to make it work.
remote:
remote:          This way, we reuse the common file and control the enable/disable of the
remote:          thermal zone from top level dts file.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Laxman Dewangan <ldewangan@nvidia.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit a020279ee611c31ac163c00b21b975e7ecbb2e9c)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit f6e730a5cbc26c99ff88926beab6950611f4d22a)
remote:
remote:      commit 8a123a373086268bd77c239c10ca224f2b460e85
remote:      Author: Punit Agrawal <punit.agrawal@arm.com>
remote:      Date:   Tue Jul 29 11:50:50 2014 +0100
remote:
remote:          thermal: trace: Trace when temperature is above a trip point
remote:
remote:          Create a new event to trace when the temperature is above a trip
remote:          point. Use the trace-point when handling non-critical and critical
remote:          trip pionts.
remote:
remote:          SWLINUX-3599
remote:
remote:          Cc: Zhang Rui <rui.zhang@intel.com>
remote:          Cc: Eduardo Valentin <edubezval@gmail.com>
remote:          Cc: Steven Rostedt <rostedt@goodmis.org>
remote:          Cc: Frederic Weisbecker <fweisbec@gmail.com>
remote:          Cc: Ingo Molnar <mingo@redhat.com>
remote:          Signed-off-by: Punit Agrawal <punit.agrawal@arm.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit 208cd822a19e683bc890f6708786f2420e172d76)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 4ca0f150723bd30784dd77ec6381228aaf07f94a)
remote:
remote:      commit 00d1bcd363d345e1309ff44fe525fd78fc0415c9
remote:      Author: Punit Agrawal <punit.agrawal@arm.com>
remote:      Date:   Tue Jul 29 11:50:49 2014 +0100
remote:
remote:          thermal: trace: Trace when a cooling device's state is updated
remote:
remote:          Introduce and use an event to trace when a cooling device's state is
remote:          updated. This is useful to follow the effect of governor decisions on
remote:          cooling devices.
remote:
remote:          SWLINUX-3599
remote:
remote:          Cc: Zhang Rui <rui.zhang@intel.com>
remote:          Cc: Eduardo Valentin <edubezval@gmail.com>
remote:          Cc: Steven Rostedt <rostedt@goodmis.org>
remote:          Cc: Frederic Weisbecker <fweisbec@gmail.com>
remote:          Cc: Ingo Molnar <mingo@redhat.com>
remote:          Signed-off-by: Punit Agrawal <punit.agrawal@arm.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit 39811569e43a81417bc0ddca3d0c7658c3dcd4b0)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 0d15547fdcdc931033c469434290fb0bdf831369)
remote:
remote:      commit 25cdcf1ac0aa3d2442c94acb8b991ec7bb401841
remote:      Author: Punit Agrawal <punit.agrawal@arm.com>
remote:      Date:   Tue Jul 29 11:50:48 2014 +0100
remote:
remote:          thermal: trace: Trace temperature changes
remote:
remote:          Create a new event to trace the temperature of a thermal zone. Using
remote:          this event trace the temperature changes of the thermal zone every-time
remote:          it is updated.
remote:
remote:          SWLINUX-3599
remote:
remote:          Cc: Zhang Rui <rui.zhang@intel.com>
remote:          Cc: Eduardo Valentin <edubezval@gmail.com>
remote:          Cc: Steven Rostedt <rostedt@goodmis.org>
remote:          Cc: Frederic Weisbecker <fweisbec@gmail.com>
remote:          Cc: Ingo Molnar <mingo@redhat.com>
remote:          Signed-off-by: Punit Agrawal <punit.agrawal@arm.com>
remote:          Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:          (cherry picked from commit 100a8fdbf525bb11796692a713c267be6523a890)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 1c7d60554aeeeb794a75a371f6364c4fea8b4c19)
remote:
remote:      commit 0982b5f511eb9399fa7269edb332ab66357e902c
remote:      Author: Javi Merino <javi.merino@arm.com>
remote:      Date:   Wed Jun 25 11:00:12 2014 +0100
remote:
remote:          thermal: document struct thermal_zone_device and thermal_governor
remote:
remote:          Document struct thermal_zone_device and struct thermal_governor fields
remote:          and their use by the thermal framework code.
remote:
remote:          SWLINUX-3599
remote:
remote:          Cc: Zhang Rui <rui.zhang@intel.com>
remote:          Cc: Eduardo Valentin <edubezval@gmail.com>
remote:          Signed-off-by: Javi Merino <javi.merino@arm.com>
remote:          Signed-off-by: Zhang Rui <rui.zhang@intel.com>
remote:          (cherry picked from commit c708a98f01068fe07f77448031f9f5317423e777)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 81562af40c03a641acfe0e9d91792670f1b505b4)
remote:
remote:      commit 17d0cf1b62abe8f7dfe49795df18d224231e5ff6
remote:      Author: Punit Agrawal <punit.agrawal@arm.com>
remote:      Date:   Tue Jun 3 10:59:58 2014 +0100
remote:
remote:          thermal: Bind cooling devices with the correct arguments
remote:
remote:          When binding cooling devices to thermal zones created from the device
remote:          tree the minimum and maximum cooling states are in the wrong order
remote:          leading to failure to bind.
remote:
remote:          Fix the order of cooling states in the call to
remote:          thermal_zone_bind_cooling_device to fix this.
remote:
remote:          SWLINUX-3599
remote:
remote:          Cc:Zhang Rui <rui.zhang@intel.com>
remote:          Signed-off-by: Punit Agrawal <punit.agrawal@arm.com>
remote:          Reviewed-by: Stephen Boyd <sboyd@codeaurora.org>
remote:          Signed-off-by: Zhang Rui <rui.zhang@intel.com>
remote:          (cherry picked from commit dd354b84d47ec8ca53686bdb3cc1aecdeb75bef5)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 0f9244b0f10f74b39eeb3cef7d8a6f7ef10ee5e9)
remote:
remote:      commit c6f70dfbc4cca80172839d2e63c1a01f98f2640d
remote:      Author: Stephen Boyd <sboyd@codeaurora.org>
remote:      Date:   Wed Jun 18 16:32:08 2014 -0700
remote:
remote:          thermal: Add braces around suspect code
remote:
remote:          It looks like this code is missing braces, otherwise the if
remote:          statement shouldn't have been indented. Fix it.
remote:
remote:          SWLINUX-3599
remote:
remote:          Signed-off-by: Stephen Boyd <sboyd@codeaurora.org>
remote:          Signed-off-by: Zhang Rui <rui.zhang@intel.com>
remote:          (cherry picked from commit ca9521b770c988bb6bb8eea1241f7a487dab6ff1)
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 801cf455af25897d0a52bc000fb5165ac61d18d2)
remote:
remote:      commit 1dd505957c67d313b0bb29860a518270e6dd6582
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 13 16:08:19 2015 -0700
remote:
remote:          clk: divider: handle integer overflow when dividing large clock rates
remote:
remote:          [Backported version of patch from:
remote:          http://article.gmane.org/gmane.linux.power-management.general/59004
remote:          Some discussion at:
remote:          lkml.kernel.org/g/20150413201433.GQ32500@ld-irv-0074]
remote:
remote:          On 32-bit architectures, 'unsigned long' (the type used to hold clock
remote:          rates, in Hz) is often only 32 bits wide. DIV_ROUND_UP() (as used in,
remote:          e.g., commit b11d282dbea2 "clk: divider: fix rate calculation for
remote:          fractional rates") can yield an integer overflow on clock rates that are
remote:          not (by themselves) too large to fit in 32 bits, because it performs
remote:          addition before the division. See for example:
remote:
remote:            DIV_ROUND_UP(3000000000, 1500000000) = (3.0G + 1.5G - 1) / 1.5G
remote:                                                 = OVERFLOW / 1.5G
remote:
remote:          This patch fixes such cases by always promoting the dividend to 64-bits
remote:          (unsigned long long) before doing the division. While this patch does
remote:          not resolve the issue with large clock rates across the common clock
remote:          framework nor address the problems with doing full 64-bit arithmetic on
remote:          a 32-bit architecture, it does fix some issues seen when using clock
remote:          dividers on a 3GHz reference clock to produce a 1.5GHz CPU clock for an
remote:          ARMv7 Brahma B15 SoC.
remote:
remote:          SWLINUX-3583
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 329b193a0390d3e1e93bac9e0065c3f682204139)
remote:
remote:      commit fcad7d6142cdecd202aecfe3e96f1315909fed1e
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 13 15:25:41 2015 -0700
remote:
remote:          clk: clk-divider: pass width to _register_divider()
remote:
remote:          _register_divider() expects a mask width parameter, not the mask itself.
remote:
remote:          Also add extra sanity checking on the device tree, since we really
remote:          expect a contiguous mask, packed to the low bit position.
remote:
remote:          Note that the code in question has not been merged upstream; the
remote:          original code was just grabbed off the mailing list.
remote:
remote:          Perhaps for an upstream submission, this property should be reworked as
remote:          a 'mask-width' parameter instead? It's not clear to me what we would do
remote:          with a non-contiguous mask, as this binding (and driver) was not really
remote:          designed for it. And I don't think such hardware exists, at least not in
remote:          a sane world.
remote:
remote:          SWLINUX-3583
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 29a7eb5c91224f73d293418e0a96e5aa273799d0)
remote:
remote:      commit 97fb0b6485e8bfa78318f82b7183bfae154bad9c
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 13 17:57:03 2015 -0700
remote:
remote:          soc: brcmstb: fixup copyright attributions
remote:
remote:          This is a trivial file, but nearly copied from Nvidia/Tegra. I meant to
remote:          keep the Nvidia/2014 copyright and add a Broadcom/2015 one.
remote:
remote:          SWLINUX-3579
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit b496b8fc5eaa4d709ab3ba3db6d38a7c72192653)
remote:
remote:      commit 931a3ed02acb6720203a546d814ea524a9bf684f
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Tue Apr 7 15:00:52 2015 -0700
remote:
remote:          soc: brcmstb: wktmr: fixup some checkpatch complaints
remote:
remote:          SWLINUX-3579
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 8c76369c67daf044157bfa638a811fea7f67159a)
remote:
remote:      commit c4b03e0f8b9baa84355052164e8baf02d410c8b1
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 6 17:43:31 2015 -0700
remote:
remote:          ARM: brcmstb_defconfig: add SRPD and wktmr drivers
remote:
remote:          SWLINUX-3579
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 7b63ed88dfad48440434549ecf0ad6be26222a38)
remote:
remote:      commit de9be700667e90e5168f279017c4d475197d00ad
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 6 17:47:22 2015 -0700
remote:
remote:          soc: brcmstb: move wake-up timer driver
remote:
remote:          SWLINUX-3579
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit fd284620c13290cde3017b3c6c4baa529e67d6d1)
remote:
remote:      commit feae3c5a4345b7f4f242afc881f962e61bed093f
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 6 17:39:03 2015 -0700
remote:
remote:          soc: brcmstb: move DDR SRPD driver
remote:
remote:          SWLINUX-3579
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 2dafec412e1af7a438d202538ffab93660ebfb7b)
remote:
remote:      commit 2b7ca13df5bd9aed9d6b9683668abafe34db295d
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 6 17:33:42 2015 -0700
remote:
remote:          soc: brcmstb: make IRQ0, PM support configurable
remote:
remote:          SWLINUX-3579
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit b5e73a4fc911072f264e89e9307c90980507f80e)
remote:
remote:      commit 2d985f88fd1a59ca83b72e50bad473b09591e9fb
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 6 15:10:56 2015 -0700
remote:
remote:          soc: brcmstb: move PM code out of arch/arm/
remote:
remote:          This doesn't quite solve all of our architecture dependencies yet. A few
remote:          remaining issues:
remote:
remote:           * We can't set IRQCHIP_MASK_ON_SUSPEND in gic_arch_extn.flags without a
remote:             machine descriptor
remote:
remote:           * Some of the S2 support code is still written in assembly
remote:
remote:          SWLINUX-3579
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit edf7e9d0cf2c36c242189f90b199f0e98bbd1b00)
remote:
remote:      commit 7048a8943c4a7ab535a5cd25bb8ac733b5753c2f
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 6 15:08:36 2015 -0700
remote:
remote:          soc: brcmstb: move IRQ0 hacks out of arch/arm/
remote:
remote:          To help modularize some more PM code.
remote:
remote:          Give this a new driver, that we can enable only when we can't turn on
remote:          the real IRQ0 driver.
remote:
remote:          SWLINUX-3579
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit e446ea88035a2107166ef200f699020247906bdf)
remote:
remote:      commit a0562add79dc76cda47a9561037077c9b6a002ec
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 6 14:49:13 2015 -0700
remote:
remote:          pm: update "S2" header comment
remote:
remote:          This file supports S3 and S5 as well.
remote:
remote:          SWLINUX-2749
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 52c31c2353415bfd5d9142bfa9726b3c29a01577)
remote:
remote:      commit 73fed911300315aac955aa092cc4aa39a28d54ab
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 6 14:46:43 2015 -0700
remote:
remote:          pm: untie PM code from machine init code
remote:
remote:          In preparation for moving to drivers/soc/brcmstb/, let's make the PM
remote:          init code use arch_initcall(), and imitate the Tegra soc_is_*() guard.
remote:
remote:          SWLINUX-2749
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit c2df895fabb17d4b9c873b7018f1049475f4138b)
remote:
remote:      commit 0cbcb294a9310f72cf0b1dd509f06f56027beb31
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 6 14:08:57 2015 -0700
remote:
remote:          soc: add brcmstb stub
remote:
remote:          SWLINUX-2749
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 5104f902fe74a892b780f11491fca5fe7c4f4892)
remote:
remote:      commit 9db2f7d31570a078e74f5216869b45b889a62765
remote:      Author: Santosh Shilimkar <santosh.shilimkar@ti.com>
remote:      Date:   Wed Apr 23 19:46:17 2014 -0400
remote:
remote:          soc: Introduce drivers/soc place-holder for SOC specific drivers
remote:
remote:          [Upstream commit 3a6e08218f36baa9c49282ad2fe0dfbf001d8f23]
remote:
remote:          Based on earlier thread "https://lkml.org/lkml/2013/10/7/662" and
remote:          discussion at Kernel Summit'2013, it was agreed to create
remote:          'driver/soc' for drivers which are quite SOC specific.
remote:
remote:          Further discussion on the subject is in response to
remote:          the earlier version of the patch is here:
remote:          	http://lwn.net/Articles/588942/
remote:
remote:          Cc: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
remote:          Cc: Kumar Gala <galak@codeaurora.org>
remote:          Cc: Paul Walmsley <paul@pwsan.com>
remote:          Cc: Olof Johansson <olof@lixom.net>
remote:          Cc: Arnd Bergmann <arnd@arndb.de>
remote:          Signed-off-by: Sandeep Nair <sandeep_n@ti.com>
remote:          Signed-off-by: Santosh Shilimkar <santosh.shilimkar@ti.com>
remote:          Signed-off-by: Kumar Gala <galak@codeaurora.org>
remote:
remote:          [Yeah, yeah, it's not bisectable]
remote:
remote:          SWLINUX-2749
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 8457fa799fcdbbf3107d263d2bddf0639f194b86)
remote:
remote:      commit 304df5433a286499e440e7ba6ef45a32ad935478
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 6 14:42:40 2015 -0700
remote:
remote:          bsp: update list of drivers using BDEV macros
remote:
remote:          This list is not exhaustive, and therefore is misleading.
remote:
remote:          SWLINUX-2749
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 9864ec9b4ff5ac1db200a1f568d2649bc3c22894)
remote:
remote:      commit a2972de0055f7506b4bb65b03bb5c14388252765
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 6 12:33:55 2015 -0700
remote:
remote:          ARM: brcmstb: combine hotplug/SMP support files
remote:
remote:          We have an unnecessary split of hotplug and SMP code, and that split
remote:          isn't done very well. Let's merge the two to reduce the number of header
remote:          declarations, number of files, and complexity.
remote:
remote:          This also matches upstream better.
remote:
remote:          SWLINUX-3622
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 78897c1b545ddd878821d7aba280568c8ddeacf3)
remote:
remote:      commit 6f2aa1636cb7284859bb9193467f16ba43ee964e
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 6 12:15:37 2015 -0700
remote:
remote:          ARM: brcmstb: initialize SMP ops with CPU_METHOD_OF_DECLARE() helpers
remote:
remote:          This allows the DT initialization framework to dynamically match our CPU
remote:          SMP code with the hardware it should be used on based on the DTB, rather
remote:          than statically determining that in our machine description file. This
remote:          enables the use of PSCI, for instance.
remote:
remote:          While doing this, let's move the code out into a separate mini driver,
remote:          so we can get all the SMP/hotplug code in one place, and to match
remote:          upstream.
remote:
remote:          SWLINUX-3622
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit d7c2d1d80df4b6f4d9fb0a37ca1ec5a463d97810)
remote:
remote:      commit 5d980590e9e534fb1aea73bbd4435489e534cbab
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 6 12:08:02 2015 -0700
remote:
remote:          bsp: build only when ARCH_BRCMSTB is enabled
remote:
remote:          Matches upstream a little better and should prevent build errors in odd
remote:          configurations.
remote:
remote:          Also, replace ':=' with '+=' so we don't clobber the contents of $(obj-y).
remote:
remote:          SWLINUX-3622
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 58b889b2cf4f3256729758df95cf969f7389d34f)
remote:
remote:      commit 1d917f672b7c3257734a5b1da8e9183817bc3e1b
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Apr 6 11:48:51 2015 -0700
remote:
remote:          ARM: brcmstb: drop unnecessary SMP 'boot_lock'
remote:
remote:          This was just a copy-and-paste job from another implementation. We don't
remote:          have anything extra to synchronize here.
remote:
remote:          SWLINUX-3622
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 7f4fb815144e6278270164bd7b1081ad46e44a9d)
remote:
remote:      commit d663f2ea2b14f851db67c712c8d9ff593f0a4290
remote:      Author: Stephen Boyd <sboyd@codeaurora.org>
remote:      Date:   Wed Oct 30 18:21:09 2013 -0700
remote:
remote:          ARM: Introduce CPU_METHOD_OF_DECLARE() for cpu hotplug/smp
remote:
remote:          [Upstream commit 6c3ff8b11a16ec69199ab85b74a5fae6d9c59db7]
remote:
remote:          The goal of multi-platform kernels is to remove the need for mach
remote:          directories and machine descriptors. To further that goal,
remote:          introduce CPU_METHOD_OF_DECLARE() to allow cpu hotplug/smp
remote:          support to be separated from the machine descriptors.
remote:          Implementers should specify an enable-method property in their
remote:          cpus node and then implement a matching set of smp_ops in their
remote:          hotplug/smp code, wiring it up with the CPU_METHOD_OF_DECLARE()
remote:          macro. When the kernel is compiled we'll collect all the
remote:          enable-method smp_ops into one section for use at boot.
remote:
remote:          At boot time we'll look for an enable-method in each cpu node and
remote:          try to match that against all known CPU enable methods in the
remote:          kernel. If there are no enable-methods in the cpu nodes we
remote:          fallback to the cpus node and try to use any enable-method found
remote:          there. If that doesn't work we fall back to the old way of using
remote:          the machine descriptor.
remote:
remote:          Acked-by: Mark Rutland <mark.rutland@arm.com>
remote:          Cc: Russell King <linux@arm.linux.org.uk>
remote:          Cc: <devicetree@vger.kernel.org>
remote:          Signed-off-by: Stephen Boyd <sboyd@codeaurora.org>
remote:          Signed-off-by: Kumar Gala <galak@codeaurora.org>
remote:
remote:          SWLINUX-3622
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit f6fc01917f43d463e15e4adc21215616d686a828)
remote:
remote:      commit 9e7138b4e0c067675a64cceb2625bb9474811c93
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Apr 10 09:42:58 2015 -0700
remote:
remote:          Documentation: DT: Document brcm,write-pairing property
remote:
remote:          Document the hif-cpubiuctrl nodes a bit more, and add a documentation entry for
remote:          the optional "brcm,write-pairing" property.
remote:
remote:          SWLINUX-3600
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 270bf453302e3b15889f934a4fea154d3d9af915)
remote:
remote:      commit 59d5d1649d5f1a72ed9723c56fa95b5121ada1a6
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Apr 6 12:58:40 2015 -0700
remote:
remote:          bsp: Use brcm,write-pairing from DT to enable MCP write-pairing
remote:
remote:          If we can find a "brcm,write-pairing" boolean property in Device Tree, enable
remote:          MCP write-pairing. disable_mcp_write_pairing() is renamed to
remote:          mcp_write_pairing_set() to illustrate that it can both enable or disable.
remote:
remote:          For Device Tree that do not have this property, the behavior is unchanged, and
remote:          we keep disabling MCP write-pairing.
remote:
remote:          Newer chips which have working MCP write-pairing are expected to place this
remote:          property in the hif_cpubiuctrl node to indicate this.
remote:
remote:          SWLINUX-3600
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 955006c8b475cbc2f7c36cfbfbc61831654f0dbd)
remote:
remote:      commit 2a132675c482819b23cab902660caeb27fbebfc3
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Wed Apr 8 17:12:49 2015 -0700
remote:
remote:          kconfig: Print full defined and depends for multiply-defined symbols
remote:
remote:          [Upstream submission: https://lkml.org/lkml/2015/4/8/754 ]
remote:
remote:          get_symbol_str() was assuming that symbols would only have a single
remote:          property for the purpose of printing define and depends information.
remote:          This is not true, and one current example is FRAME_POINTER which is
remote:          both in lib/Kconfig.debug and arch/arm/Kconfig.debug.
remote:
remote:          In order to print out the correct Defined and Depends info, iterate
remote:          over all properties associated with the given symbol, similarly to was
remote:          done for selects.  And for depends, rather than iterating over the
remote:          property, just use the direct dependency expression.
remote:
remote:          CONFIG_FRAME_POINTER text, before:
remote:            Defined at lib/Kconfig.debug:323
remote:            Depends on: DEBUG_KERNEL [=y] && (ARM [=y] || CRIS || M68K || FRV || UML || AVR32 || SUPERH || BLACKFIN || MN10300 || METAG) || ARCH_WANT_FRAME_POINTERS [=n]
remote:
remote:          After:
remote:            Defined at lib/Kconfig.debug:323, arch/arm/Kconfig.debug:35
remote:            Depends on: DEBUG_KERNEL [=y] && (ARM [=y] || CRIS || M68K || FRV || UML || AVR32 || SUPERH || BLACKFIN || MN10300 || METAG) || ARCH_WANT_FRAME_POINTERS [=n] || !THUMB2_KERNEL [=n]
remote:
remote:          Removes now-unused function get_symbol_prop().
remote:
remote:          SWLINUX-3631
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 5c97132df8e226445b70965c4018f4d5c59f1588)
remote:
remote:      commit ec868d8db6de3388d59b443fd139431275d7de4c
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Apr 6 13:17:09 2015 -0700
remote:
remote:          cma: brcm-cma: do not use first meminfo bank if >1 bank
remote:
remote:          Since vmalloc is being used in arch/arm/mm/mmu.c to shrink the size of bank 0
remote:          and increase bank 1, we no longer need to place CMA regions in the first bank.
remote:          Now, altering the size of CMA regions on memc0 will be done entirely using the
remote:          'vmalloc' parameter.
remote:
remote:          This eliminates the now-unused "brcm_cma_kern_rsv" parameter which was stored
remote:          in the prm_kern_rsv_mb element of struct cma_region_rsv_data, and removes that
remote:          element from the struct as well.
remote:
remote:          SWLINUX-3625
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 408cf100ea7d759ae045eef0193c6eeab4293c77)
remote:
remote:      commit 03db6daa2ae8c9f80d12f520a65fdf4827caec7d
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Thu Apr 2 17:49:45 2015 -0700
remote:
remote:          cma: brcm-cma: Do not try to reserve regions of size 0
remote:
remote:          If there is no available space in a bank, we shouldn't try to reserve anything,
remote:          just return -EINVAL from cma_calc_rsv_range so we skip ahead to the next
remote:          segment.
remote:
remote:          SWLINUX-3625
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit ed4ecce47eb7d9b8fefe378b5e9c75835aa059b5)
remote:
remote:      commit d9812945df900194391bac95a951c5e179327122
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Thu Apr 2 17:43:46 2015 -0700
remote:
remote:          ARM: mmu: Bump default vmalloc to 744 MiB for BRCMSTB with >=1 GiB RAM
remote:
remote:          If >= 1 GiB RAM is present (or more than one meminfo bank exists), this
remote:          increases the vmalloc area to 744 MiB and thus reduces the default amount of
remote:          lowmem to 256 MiB, which is basically all we were getting anyway with
remote:          cma_driver putting all other memory in CMA regions.  This should eliminate what
remote:          has been referred to as the "CMA barrier" (the split in memory regions on the
remote:          first memory controller because of the lowmem/highmem boundary) without
remote:          negatively impacting the actual amount of memory on the system (kernel
remote:          allocations mostly couldn't use lowmem in CMA regions anyway).
remote:
remote:          It'd be nice if we could just have more lowmem so as not to help alleviate
remote:          lowmem exhaustion, but that's a problem for another day.
remote:
remote:          For systems with < 1GB RAM, there was no CMA barrier, so we keep the default
remote:          vmalloc size the same.
remote:
remote:          This will probably need updating if there are ever any boards with 768 MiB RAM.
remote:          Also, the function relies on meminfo so will need to be updated for 3.16+, which
remote:          no longer uses meminfo.
remote:
remote:          SWLINUX-3625
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 588090becbc4c088b80243950173902603b86a54)
remote:
remote:      commit 323d094a2b8ae53bbd0d71c152d010e78389f60a
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Tue Mar 31 11:40:48 2015 -0400
remote:
remote:          pci: gate refclk when ASPM L0s,L1 enabled
remote:
remote:          Refclk from RC should be gated with CLKREQ# input when ASPM L0s,L1
remote:          is enabled =>  setting the CLKREQ_DEBUG_ENABLE field to 1.
remote:
remote:          Note that some boards have unconnected jumpers for PCIE_refclk,
remote:          and said jumpers have to be connected or the PCIe link will not
remote:          come up.  An example of this is the BCM974371SV_V00, which had
remote:          to have J4110 connected before the link came up.  Most other
remote:          boards do not appear to have a problem.
remote:
remote:          SWLINUX-3574
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit 2b8212b94e13e1cc8220397c256ad33ab9b5bb2f)
remote:
remote:      commit bcda8e6eba4477992449f58bdc0e0fff563bf99f
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Nov 20 10:14:46 2014 -0800
remote:
remote:          bus: brcmstb_gisb: resolve section mismatch
remote:
remote:          Upstream commit 2e8a29a1c9aaa41f72a71bb81c3df66da8156c1e]
remote:
remote:          Commit f1bee783dd37 moved the call to hook_fault_code in
remote:          brcmstb_gisb_arb_probe() which now calls a function annotated with __init, so
remote:          this one must also be annotated with __init.
remote:
remote:          In order to avoid introducing another section mismatch, call
remote:          platform_driver_probe() manually and remove the .probe assignment from
remote:          brcmstb_gisb_arb_driver, this is very similar to what
remote:          drivers/pci/host/pci-imx6.c does since we basically have the same constraints
remote:          here.
remote:
remote:          SWLINUX-3579
remote:
remote:          Fixes: f1bee783dd37 ("bus: brcmstb_gisb: register the fault code hook")
remote:          Signed-off-by: Arnd Bergmann <arnd@arndb.de>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 04ff22cc6998a108cbe1f4c5359663bc00aaffdc)
remote:
remote:      commit ba227a72bc7a91fe313180f2774129d4bbfd7592
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Mar 18 12:43:38 2015 -0700
remote:
remote:          bus: brcmstb_gisb: hook fault code handler
remote:
remote:          [Upstream commit f1bee783dd37d088a8a7924205476ba1cf675378]
remote:
remote:          Commit 44127b771d9c31 ("bus: add Broadcom GISB bus arbiter timeout/error
remote:          handler") added everything that is required to register an ARM fault handler
remote:          for imprecise external aborts, except that there is nothing calling this
remote:          currently.
remote:
remote:          We do not need to export that specific function and have to update
remote:          arch/arm/mach-bcm/brcmstb.c to call it, simply, register the fault handler
remote:          during the probe() function of the driver.
remote:
remote:          SWLINUX-3579
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 7c35e77beaf512b7597c7d0d188f312f28e591ad)
remote:
remote:      commit 14ca80aeab88a290781ba516d22a3379665ec472
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Mar 18 12:40:55 2015 -0700
remote:
remote:          bus: relocate GISB bus arbiter driver
remote:
remote:          Relocate the GISB driver from arch/arm/mach-bcm/gisb-brcmstb.c to
remote:          drivers/bus/brcmstb_gisb.c to match the upstream submission done with commit
remote:          44127b771d9c31dcb5ab90d9093a4d48877738bc ("bus: add Broadcom GISB bus arbiter
remote:          timeout/error handler").
remote:
remote:          SWLINUX-3579
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 17fa15e8d54fd18f5c0ac053d5b111a14cb9aa4e)
remote:
remote:      commit f437a788aa50ca21dbe3fc5a6519bb7bc1a6ce05
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Tue Mar 31 10:26:14 2015 -0400
remote:
remote:          USB: Update 7366c0 USB bchp_usb*_ctrl.h files because they are incorrect
remote:
remote:          The current bchp_usb*_ctrl.h files for the 7366c0 are out of date
remote:          and incorrect and will cause USB S3 failures on resume.
remote:
remote:          SWLINUX-3619
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit c4abcd62f7e73e7c2cafb363fac041cefce13909)
remote:
remote:      commit 77e42c921d813caece9cf50ae4304421b5f268da
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Wed Mar 18 17:41:30 2015 -0400
remote:
remote:          pci: remove overly cautious checks for pcie var
remote:
remote:          SWLINUX-3614
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit cb29e06654154a2aa6d77ceb58680ba55eb40831)
remote:
remote:      commit 1288290cb8c42562503c47a1cfffdb1d18eb2e02
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Tue Mar 17 14:59:21 2015 -0400
remote:
remote:          pci: use IS_ENABLED(CONFIG_XXX) instead of #if
remote:
remote:          SWLINUX-3614
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit b85035c94f4bb41acb7c8c86d1869478d3dc0115)
remote:
remote:      commit 56bc5ae59abfeb826d66613f135ed9de66af1a7f
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Tue Mar 17 14:56:16 2015 -0400
remote:
remote:          pci: use list for pcie instead of an array
remote:
remote:          Remove the list and allow an unlimited amount of RC devices.
remote:
remote:          SWLINUX-3614
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit f48028220d6d1e4ba98208a717456ad9744f03a9)
remote:
remote:      commit f635de01837903343a6013045a3dfbeb85fd39cd
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Thu Mar 12 13:50:54 2015 -0400
remote:
remote:          pci: remove explicit scan_bus function
remote:
remote:          The custom scan_bus() function is no longer needed.
remote:
remote:          SWLINUX-3614
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit 7f37c63938048cb6b136465ae932347ff0e362b6)
remote:
remote:      commit 3310e464a0c30cec51c7c641e8fae11ca44717cf
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Thu Mar 12 13:25:29 2015 -0400
remote:
remote:          pci: dynamically allocate brcm_pcie structure
remote:
remote:          Before we kept a statically array of two PCIe structures which
remote:          seemed enough at the time.  With this commit we keep the array,
remote:          but make it an array of pointers that will contain dynmically
remote:          allocated PCIe structures.  In a future commit we will dispose
remote:          of the array entirely and use a list.
remote:
remote:          In the process of making this change, we initialize the
remote:          hw_data.private_data structure so that it points to an array
remote:          of our PCIe pointers.  As such, we can use the pci_sys_data
remote:          structure to recover the PCIe pointer of interest.  This
remote:          obsoletes the awkward bus range counting that was done for
remote:          each RC.
remote:
remote:          SWLINUX-3614
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit 2f0d2b0e3dfc87354fae2734d39b265fcbab5492)
remote:
remote:      commit a11ebe79cee47aa55cfc3ea8d9407b3300610c01
remote:      Author: Jim Quinlan <jquinlan@broadcom.com>
remote:      Date:   Tue Feb 3 17:37:40 2015 -0500
remote:
remote:          pci: change use of 'bus' to be 'pcie'
remote:
remote:          Since this file existed for MIPs SOCs, the use of the term
remote:          'bus' in this file has been a misnomer.  This commit corrects
remote:          this.  Specifically, 'struct brcm_pci_bus *' is now
remote:          'struct brcm_pcie *', and the variables of this type that were
remote:          named 'bus' are now named 'pcie'.
remote:
remote:          SWLINUX-3614
remote:
remote:          Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:          (cherry picked from commit 1141b54be7769dc8022d03304ccbb98bfc109f7f)
remote:
remote:      commit ac76baa275ba25171b45979d112493deef58b945
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Mar 19 12:24:13 2015 -0700
remote:
remote:          BCMGENET: drop duplicate BMCR-based software reset
remote:
remote:          phy_init_hw() also does a software reset using BMCR.reset, no need to do it
remote:          twice, especially when our own does not even wait for the reset to complete.
remote:
remote:          SWLINUX-3489
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit fcc7ce61d5ea4da983c5f8a2a8bae7dd8940bb85)
remote:
remote:      commit abba12b9716736dbc6780efdfe59df6c2c14bf12
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jan 19 17:16:36 2015 -0800
remote:
remote:          BCMGENET: power down and up GPHY during suspend if unused
remote:
remote:          In case the interface is not used, power down the integrated GPHY during
remote:          suspend. Similarly to bcmgenet_open(), bcmgenet_resume() powers on the GPHY
remote:          prior to any UniMAC activity.
remote:
remote:          SWLINUX-3489
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit ad4f6dcf3235dbea0099d8887b70d57e45284bef)
remote:
remote:      commit a4926f8656e0b8dc1e7a57451ed98175cc0e11f9
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jan 19 17:08:46 2015 -0800
remote:
remote:          BCMGENET: power up and down integrated GPHY when used/unused
remote:
remote:          Power up the GPHY while we are bringing-up the network interface, and
remote:          conversely, upon bring down, power the GPHY down.
remote:
remote:          SWLINUX-3489
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 48a7de6a4d99df5524db11b99717d4af4dd27064)
remote:
remote:      commit 0745637d011492a9335e2443d4494e4edcb1480a
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jan 19 16:59:30 2015 -0800
remote:
remote:          BCMGENET: implement GPHY power down sequence
remote:
remote:          Implement the GPHY power down sequence by setting all power down bits, putting
remote:          the GPHY in reset, and finally cutting the 25Mhz reference clock.
remote:
remote:          SWLINUX-3489
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 04f7709854ea6294845cf41f0501bec81e683a4b)
remote:
remote:      commit e1cf9b316005e14ce2fc29fd4c43c020ef702cd5
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jan 26 15:35:16 2015 -0800
remote:
remote:          BCMGENET: fix GPHY power-up sequence
remote:
remote:          We were missing a number of extra steps and delays to power-up the GPHY, update
remote:          the sequence to reflect the proper procedure here.
remote:
remote:          SWLINUX-3489
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit f99e887a43a14d205dc83974b97ce457ff0c008b)
remote:
remote:      commit a72718f4e37a7d7704666d8681155e18d7d2ea57
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jan 19 16:47:00 2015 -0800
remote:
remote:          BCMGENET: rename bcmgenet_ephy_power_up to bcmgenet_phy_power_set
remote:
remote:          In preparation for implementing the power down GPHY sequence, rename
remote:          bcmgenet_ephy_power_up to illustrate that it can do both, and add an "enable"
remote:          argument.
remote:
remote:          SWLINUX-3489
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit e2e90d05a5056c6beac986a92d3a2ee1c833b6ef)
remote:
remote:      commit 1b09d27a81e50d66ce253e7cfbe969b977e4f882
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jan 19 16:35:10 2015 -0800
remote:
remote:          BCMGENET: update bcmgenet_ephy_power_up to clear CK25_DIS bit
remote:
remote:          The CK25_DIS bit controls whether a 25Mhz clock is fed to the GPHY or not, in
remote:          preparation for powering down the integrated GPHY when relevant, make sure we
remote:          clear that bit.
remote:
remote:          SWLINUX-3489
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 7b5197a347ea616fb2de2a526507768fc08af1db)
remote:
remote:      commit 1138425a921ae82bce7d0543b78a65dcb26f30f0
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Mar 20 11:39:33 2015 -0700
remote:
remote:          BCMGENET: do not fall through when doing Wake-on-LAN power down
remote:
remote:          When preparing GENET for a Wake-on-LAN power down sequence, we will fall
remote:          through the GENET_POWER_PASSIVE power down, which turns off the GPHY, this is
remote:          absolutely not expected and should not be done.
remote:
remote:          While at it, propagate the return code from bcmgenet_power_down() to the
remote:          callers that care about it such as bcmgenet_close() and bcmgenet_suspend().
remote:
remote:          SWLINUX-3489
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit f12cabef40ca999fd74b3e9cbd0d6894fef07beb)
remote:
remote:      commit 3fc4eafd1f629ca7898817c568dff8531468f977
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jan 26 22:05:40 2015 -0800
remote:
remote:          net: phy: avoid suspending twice a PHY
remote:
remote:          [Upstream commit 803dd9c77ac3a08958535f2a1ad5890104e2c235]
remote:
remote:          As part of a call to ndo_close() a netdevice driver may call
remote:          phy_disconnect() -> phy_detach() -> phy_suspend(), such that the PHY is
remote:          suspsended at this point and a netdevice driver may clock gate the
remote:          backing peripheral providing MDIO bus accessses as well.
remote:
remote:          Update mdio_bus_phy_may_suspend() to return whether a PHY is allowed to
remote:          be suspended and conversely resumed if and only if it was not previously
remote:          suspended before while it is currently in detached (netdev pointer is
remote:          NULL) state.
remote:
remote:          This fixes bus errors seen during S2/S3 suspend/resume cycles for
remote:          netdevice drivers such as GENET which clock gates the entire Ethernet
remote:          MAC, including the MDIO bus block.
remote:
remote:          SWLINUX-3489
remote:
remote:          Acked-by: Fugang Duan <B38611@freescale.com>
remote:          Tested-by: Fugang Duan <B38611@freescale.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 009adadd3e09938b20fb77bf17c59f36f3bc8842)
remote:
remote:      commit 638b841b494fe09ea7f44d53626349366bd42ef5
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jan 26 22:05:39 2015 -0800
remote:
remote:          net: phy: keep track of the PHY suspend state
remote:
remote:          [Upstream commit 8a477a6fb6a33651adda772360b85fd813569743]
remote:
remote:          In order to avoid double calls to phydev->drv->suspend and resume, keep
remote:          track of whether the PHY has already been suspended as a consequence of
remote:          a successful call to phy_suspend(). We will use this in our MDIO bus
remote:          suspend/resume hooks to avoid a double suspend call.
remote:
remote:          SWLINUX-3489
remote:
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 16efd43e3f630dee48f664c1a06c965115161859)
remote:
remote:      commit ec4a940baf27c226361ea4f844830e0285b35c6b
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jan 26 22:05:37 2015 -0800
remote:
remote:          net: phy: utilize phy_suspend and phy_resume
remote:
remote:          [Upstream commit 9272efa2036f3f06625effc3a709416044578a92]
remote:
remote:          phy_suspend and phy_resume are an abstraction on top of the PHY device
remote:          driver suspend and resume callbacks, utilize those since they are the
remote:          proper interface to suspending and resuming a PHY device.
remote:
remote:          SWLINUX-3489
remote:
remote:          Acked-by: Fugang Duan <B38611@freescale.com>
remote:          Tested-by: Fugang Duan <B38611@freescale.com>
remote:          Signed-off-by: David S. Miller <davem@davemloft.net>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 54f5d6a68c4d5a514ebc438629ee91ec7b78c3cb)
remote:
remote:      commit cfba89d7b1135c65be8c31508ac6d282177acb33
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Mar 18 16:47:15 2015 -0700
remote:
remote:          brcmstb_defconfig: enable cramfs filesystem support
remote:
remote:          SWLINUX-3555
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit fc9c7d5ef7832173e2015fd1589941180ed54d58)
remote:
remote:      commit 05ba968a592330f6be026b8e99b7783e6d81bb80
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Mar 12 16:22:16 2015 -0700
remote:
remote:          bsp: remove MEGA_BARRIER workaround
remote:
remote:          7439a0 was the last chip that required the mega-barrier workaround to be
remote:          enabled, we can now remove that code.
remote:
remote:          SWLINUX-3524, SWLINUX-3591
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 25bf0c803d6a82f3c543280b9f980f1eaf47c56f)
remote:
remote:      commit 6ae0757b49d98c1f726f0d17302d32488efb883c
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Mar 12 16:19:15 2015 -0700
remote:
remote:          bsp: remove 7439a0 BCHP headers
remote:
remote:          SWLINUX-3524
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 8d9373b3261c762180285cea89c57db8a91caf3e)
remote:
remote:      commit 15c7afef77df3367bf51ae29a658aa77ce82b1e0
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Mar 12 16:18:57 2015 -0700
remote:
remote:          bsp: remove 7439a0 from Kconfig
remote:
remote:          SWLINUX-3524
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit bbdc2c2bf83fc3dc84a354071b7edeebeb4079f1)
remote:
remote:      commit 59b4592c5ec2f9f9721b343039c3d3322192c480
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Mar 12 16:18:21 2015 -0700
remote:
remote:          bsp: remove 7439a0 from PM
remote:
remote:          The only remnant of 7439a0 support is within the PM code to deal with the lack
remote:          of PM ack, remove that code.
remote:
remote:          SWLINUX-3524
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 77bc1f828f999e05d7a305ffdb2fe1d72971c7fc)
remote:
remote:      commit c1027f4414b6780543f8a0615600a7e9e5f7a946
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Mar 16 17:28:05 2015 -0700
remote:
remote:          serial: 8250: Revert buggy DW UART workaround
remote:
remote:          No longer need the workaround added for SWLINUX-2903 because the affected chips
remote:          are no longer supported.  This reverts
remote:          17656e1f6ee5a5b1b6bd7ea6346558a137441ff6 "serial: 8250: Unbreak secondary UARTs"
remote:          and
remote:          a645063d3faa851f6ca84f8d905b2b3478eefc19 "serial: 8250: improve buggy DW UART workaround"
remote:
remote:          SWLINUX-3591
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit a76b4a89fe273c1d9186ee406bb7010d7e9802f3)
remote:
remote:      commit 080223d099b4b8fdaa0119cf96520bb994d28908
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Mar 12 16:13:10 2015 -0700
remote:
remote:          tty: serial: remove BRCM_BUGGY_DW_UART support
remote:
remote:          We no longer require this workaround with 7439a0 being the last chip that used
remote:          this bogus UART core.
remote:
remote:          SWLINUX-3591, SWLINUX-3524
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 646a35489b1ec3abe76db539c3803154dd044855)
remote:
remote:      commit 7d3ba6bcc3539f2f8bf486f51401074014032b8a
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Mar 12 16:06:22 2015 -0700
remote:
remote:          sata_brcmstb: remove support for quirks
remote:
remote:          We do not support any chips which requires a quirk to be handled by either the
remote:          AHCI wrapper or the SATA PHY driver.
remote:
remote:          SWLINUX-3591
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 5cd1aef2e86081369cc2310e04c8b3902e8d070c)
remote:
remote:      commit ea45633d91501e20b09e3cd82076e8832254e988
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Mar 12 16:03:22 2015 -0700
remote:
remote:          drivers: remove 7439a0 support
remote:
remote:          Remove all workarounds for 7439a0 in our drivers: SATA, MMC, serial and USB
remote:          common initialization routine.
remote:
remote:          SWLINUX-3524
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 21651469f02fe5cad313ef6f14bb4f7fa914ff7a)
remote:
remote:      commit 5783a52b39b1b8b044fefb26140d342f6a94ffa9
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Feb 9 18:38:52 2015 -0800
remote:
remote:          mtd: brcmstb_nand: drop CRNAND-34 workaround
remote:
remote:          SWLINUX-3524
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit f00ecf3788c6a1268f56caa0971084d1a623d151)
remote:
remote:      commit a2d990d62d206ebf4242d083377aa38d1f5d1955
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Mar 12 15:44:22 2015 -0700
remote:
remote:          bsp: remove 7145a0 BCHP headers
remote:
remote:          SWLINUX-3591
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 816960e534c96c06e8a504e85a57a96ee3edaff4)
remote:
remote:      commit f80fdd95b9afaa6b24883018d301371b2866d765
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Mar 12 15:43:58 2015 -0700
remote:
remote:          bsp: remove 7145a0 from Kconfig
remote:
remote:          SWLINUX-3591
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit dcf14cc065d7c6bb7870fbe352253c6462696010)
remote:
remote:      commit 7777f91bb7fe474215f54c9279b72d8e434025f2
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Mar 12 15:42:43 2015 -0700
remote:
remote:          drivers: remove support for 7145a0
remote:
remote:          Remove 7145a0-specific workarounds from the SATA, serial and USB common
remote:          initialization routine.
remote:
remote:          SWLINUX-3591
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit b9dc585f1b8325eb4a131ff7af1d009a4cd54c28)
remote:
remote:      commit 194cb4267890d483ab8b838929fbb3bb65edfdbb
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Feb 9 18:28:04 2015 -0800
remote:
remote:          mtd: brcmstb_nand: drop HW7445_988_WORKAROUND
remote:
remote:          SWLINUX-3591
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 2c018b4b02fbe5cc60ac2d1707ae6053c902e153)
remote:
remote:      commit 73185e1524aea656afa6c8f047dd762aa6e05fb4
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Mar 16 17:09:33 2015 -0700
remote:
remote:          brcmstb_defconfig: enable FHANDLE and CGROUPS
remote:
remote:          These are the bare minimum kernel configuration options required by systemd
remote:          v215-10 currently used by Debian 8 allowing us to boot to a prompt.
remote:
remote:          SWLINUX-3588
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 509a281858e8ac6f00b186e5827d5ab778ae57ac)
remote:
remote:      commit bf44d5a6cb1878ae7f9f8d262fd9e96a7b12fac1
remote:      Author: Al Cooper <acooper@broadcom.com>
remote:      Date:   Fri Mar 13 13:34:03 2015 -0400
remote:
remote:          usb: Add USB support for 7439B1
remote:
remote:          Keep XHCI hardware in reset if we don't have a XHCI device-tree
remote:          entry. This will allow 3.0 devices to be seen as 2.0 devices.
remote:          This is one of the possible configurations for the 7439B1.
remote:
remote:          SWLINUX-3602
remote:
remote:          Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:          (cherry picked from commit 9224b0f3fe44edb1556db928f72a0d756b5c89f9)
remote:
remote:      commit d6cc581cbb007369e6247fba7f514365c8568408
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Thu Mar 12 18:53:23 2015 -0700
remote:
remote:          brcmstb_defconfig: add PM_DEBUG
remote:
remote:          To support the new suspend.pm_test_delay parameter.
remote:
remote:          fixes #SWLINUX-3603
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 9276b852119922b05bb0a8f8343ec36333e93208)
remote:
remote:      commit a521ec4774e23be0961b04afdfbaef5200b62faa
remote:      Author: Brian Norris <computersforpeace@gmail.com>
remote:      Date:   Sun Feb 22 21:16:49 2015 -0800
remote:
remote:          PM / sleep: add configurable delay for pm_test
remote:
remote:          [Queued upstream]
remote:
remote:          When CONFIG_PM_DEBUG=y, we provide a sysfs file (/sys/power/pm_test) for
remote:          selecting one of a few suspend test modes, where rather than entering a
remote:          full suspend state, the kernel will perform some subset of suspend
remote:          steps, wait 5 seconds, and then resume back to normal operation.
remote:
remote:          This mode is useful for (among other things) observing the state of the
remote:          system just before entering a sleep mode, for debugging or analysis
remote:          purposes. However, a constant 5 second wait is not sufficient for some
remote:          sorts of analysis; for example, on an SoC, one might want to use
remote:          external tools to probe the power states of various on-chip controllers
remote:          or clocks.
remote:
remote:          This patch turns this 5 second delay into a configurable module
remote:          parameter, so users can determine how long to wait in this
remote:          pseudo-suspend state before resuming the system.
remote:
remote:          Example (wait 30 seconds);
remote:
remote:            # echo 30 > /sys/module/suspend/parameters/pm_test_delay
remote:            # echo core > /sys/power/pm_test
remote:            # time echo mem  > /sys/power/state
remote:            ...
remote:            [   17.583625] suspend debug: Waiting for 30 second(s).
remote:            ...
remote:            real	0m30.381s
remote:            user	0m0.017s
remote:            sys	0m0.080s
remote:
remote:          SWLINUX-3603
remote:
remote:          Signed-off-by: Brian Norris <computersforpeace@gmail.com>
remote:          Acked-by: Pavel Machek <pavel@ucw.cz>
remote:          Reviewed-by: Kevin Cernekee <cernekee@chromium.org>
remote:          Acked-by: Florian Fainelli <f.fainelli@gmail.com>
remote:          Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
remote:          (cherry picked from commit 85e214411ccc9f6af0328a4b89f7fc19303688a8)
remote:
remote:      commit 3a4ee948b8d66906a8effa48d1755abcf865875d
remote:      Author: Kevin Cernekee <cernekee@broadcom.com>
remote:      Date:   Fri Jan 17 11:45:37 2014 -0800
remote:
remote:          spi-brcmstb: Fix BUG() when crossing 4MB boundaries
remote:
remote:          On BSPI <= V3 controllers, the hardware remaps the address bits in a way
remote:          that can cause trouble for transfers that cross a 4MB boundary.  For such
remote:          transfers, we currently BUG() out.  Change the driver behavior so that it
remote:          falls back gracefully to MSPI instead.
remote:
remote:          On BSPI >= V4 controllers, the hardware allows us to disable the remapping
remote:          logic.  So disable remapping during initialization, and disable the driver
remote:          code that modified and checked the address.
remote:
remote:          fixes #SWLINUX-3589
remote:
remote:          Signed-off-by: Kevin Cernekee <cernekee@broadcom.com>
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit e2e6e49f6214571d043e3748b4095957cca204fb)
remote:
remote:      commit 32c4000e99be008e6f7798c8d5d85e604e5562b1
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Tue Mar 3 13:06:21 2015 -0800
remote:
remote:          gitignore: ignore scripts/*.pyc
remote:
remote:          Any .pyc files are generated and should be ignored.
remote:
remote:          SWLINUX-3590
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit fb8b66d917bc7f0deee3dc7966a09f0f3a160773)
remote:
remote:      commit 65de82736ad7a91d5042b573eed6cb98b272033b
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Tue Mar 3 13:22:01 2015 -0800
remote:
remote:          scripts: Add analyze_oom.py to give feedback on OOMs
remote:
remote:          Takes in an OOM log, either from a file or on stdin, and tries to report info
remote:          on possible causes.
remote:
remote:          Example usage:
remote:
remote:            $ scripts/analyze_oom.py oopslog
remote:            gfp_flags: 0x2084d2
remote:            Decoded gfp_flags: ___GFP_HIGHMEM | ___GFP_WAIT | ___GFP_IO | ___GFP_FS | ___GFP_REPEAT | ___GFP_ZERO | ___GFP_NOTRACK
remote:            Free mem in ZONE_NORMAL: 89748 kB.
remote:            Free mem in ZONE_HIGHMEM: 544 kB.
remote:            Migrate type is MIGRATE_UNMOVABLE, cannot use CMA pages
remote:            Portion of ZONE_NORMAL which is CMA: 79952 kB.
remote:            Portion of ZONE_HIGHMEM which is CMA: 544 kB.
remote:            Total free: 89748 + 544 - 79952 - 544 = 9796 kB.
remote:            Minimum RAM allowed: 3484 kB
remote:            __GFP_HIGHMEM was set, must also exclude lowmem_reserve: 8320 kB
remote:
remote:            Did we have enough memory?
remote:            Test: my_free_kB - (PAGE_SIZE_kB << order) > min_kB + lowmem_reserve_kB
remote:                  9796 - 4 > 3484 + 8320
remote:            *No*, not enough memory at time of OOM.
remote:
remote:            Possible causes of OOM:
remote:            - If this took some time to fail, could be a memory leak in a kernel module.
remote:            - lowmem_reserve might be too high. Try tweaking /proc/sys/vm/lowmem_reserve_ratio.
remote:            - May not have enough lowmem outside of a CMA region. You may need to decrease the size of a region in lowmem.
remote:
remote:          Passes pylint.
remote:
remote:          SWLINUX-3590
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 83291cc17a487198945b9b397f21eec069ea8d25)
remote:
remote:      commit b2708f928126dbeab2c8b61afa4f4e0648b380a5
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Mar 2 19:30:07 2015 -0800
remote:
remote:          scripts: Add decode_gfpmask.py to get GFP flags from mask
remote:
remote:          Takes in a GFP mask as from an OOM log message and decodes it into the GFP
remote:          flags.  Example usage:
remote:
remote:            $ scripts/decode_gfpmask.py 0x2084d2
remote:            ___GFP_HIGHMEM | ___GFP_WAIT | ___GFP_IO | ___GFP_FS | ___GFP_REPEAT | ___GFP_ZERO | ___GFP_NOTRACK
remote:
remote:          Passes pylint.
remote:
remote:          SWLINUX-3590
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit f9ef5214db85193e17a067c17b70f024c3eafb57)
remote:
remote:      commit 84e05c97d408b6a03758954f9dd41e21ed8984e8
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Mar 13 15:14:56 2015 -0700
remote:
remote:          ARM: B15: disable read-ahead cache by default
remote:
remote:          Until our Set Top Box middleware has been fully migrated to a Linux
remote:          asm/cacheflush.h API, we cannot have the read-ahead cache enabled by default.
remote:
remote:          SWLINUX-3422
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 5b15e9afd5c69f10163134d3138802b43798f36a)
remote:
remote:      commit 86c249f9b16a0780d852b23fcfdf40ea86cc38a3
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Tue Mar 10 13:15:44 2015 -0700
remote:
remote:          scripts/setlocalversion: fix false positive -dirty tag from ctime
remote:
remote:          git-diff-index cannot detect that a file hasn't actually changed when the
remote:          file's ctime has changed (e.g. if chmod was used but didn't actually result in
remote:          any changes), which was causing setlocalversion to incorrectly add a -dirty
remote:          tag.  Run git-update-index beforehand to make sure that the index is correct.
remote:
remote:          fixes #SWLINUX-3596
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 8230b18e9ba2883a46d9b6782c5727db27660172)
remote:
remote:      commit bc076a79c89834920840b7a30cd88e470fcd85a5
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Fri Mar 6 15:58:28 2015 -0800
remote:
remote:          Bump version to 3.14-1.5pre
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit a7f76c81d153aac09b58f668bc7e94643be16cc4)
remote:
remote:      commit cb453cdd6fe04bdc57bc7c44beed1a286b77c64a
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Mar 4 18:17:00 2015 -0800
remote:
remote:          ARM: B15: Add suspend/resume hooks
remote:
remote:          The Broadcom Brahma-B15 CPU readahead cache registers will be restored
remote:          to their Power-on-Reset values after a S3 suspend/resume cycles, so we
remote:          want to restore what we had enabled before.
remote:
remote:          Another thing we want to take care of is disabling the read-ahead cache
remote:          prior to suspending to avoid any sort of side effect with the spinlock
remote:          we need to grab to serialize register accesses.
remote:
remote:          SWLINUX-3422
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 50b11c0d6b0cb8a0edcaaa194350261ea1647af6)
remote:
remote:      commit faa6be15aa94cc9e9fbb2ed6f4573cfef62a1769
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Mar 4 18:08:32 2015 -0800
remote:
remote:          ARM: B15: Add CPU hotplug awareness
remote:
remote:          The Broadcom Brahma-B15 readahead cache needs to be disabled,
remote:          respectively re-enable during a CPU hotplug. In case we were not to do,
remote:          CPU hotplug would occasionally fail with random crashes when a given CPU
remote:          exits the coherency domain while the RAC is still enabled, as it would
remote:          get stale data from the RAC.
remote:
remote:          In order to avoid adding any specific B15 readahead-cache awareness to
remote:          arch/arm/mach-bcm/hotplug-brcmstb.c we use a CPU notifier which allows
remote:          us to catch CPU hotplug events and disable/flush enable the RAC
remote:          accordingly.
remote:
remote:          SWLINUX-3422
remote:
remote:          Signed-off-by: Alamy Liu <alamyliu@broadcom.com>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 70b04d8cab1fe6fb13efa983b8a5ca3a3768878e)
remote:
remote:      commit 14df49d24a8f9243ad299033c20aec85bef87e38
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Mar 4 17:48:36 2015 -0800
remote:
remote:          ARM: Hook B15 readahead cache functions based on processor
remote:
remote:          If we detect that we are running on a Broadcom Brahma-B15 CPU, and
remote:          CONFIG_CACHE_B15_RAC is enabled, make sure that we pick-up the
remote:          b15_cache_fns function operations.
remote:
remote:          If CONFIG_CACHE_B15_RAC is enabled, but we are not running on a Broadcom
remote:          Brahma-B15 CPU, we will fallback to calling into the regular
remote:          v7_cache_fns with the cost of a small test. If CONFIG_CACHE_B15_RAC is
remote:          disabled, there is no cost and we just use the regular v7_cache_fns.
remote:
remote:          SWLINUX-3422
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit eeff62ea6eba308c72260f3cd3644f50902ba401)
remote:
remote:      commit 4c93c3dc0fa1969730838984ae9d17032083bd90
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Mar 4 17:44:25 2015 -0800
remote:
remote:          RM: Add Broadcom Brahma-B15 readahead cache support
remote:
remote:          This patch adds support for the Broadcom Brahma-B15 CPU readahead cache
remote:          controller. This cache controller sits between the L2 and the memory bus
remote:          and its purpose is to provide a friendler burst size towards the DDR
remote:          interface than the native cache line size.
remote:
remote:          The readahead cache is mostly transparent, except for
remote:          flush_kern_cache_all, flush_kern_cache_louis and flush_icache_all, which
remote:          is precisely what we are overriding here.
remote:
remote:          The readahead cache only intercepts reads, not writes, as such, some
remote:          data can remain stale in any of its buffers, such that we need to flush
remote:          it, which is an operation that needs to happen in a particular order:
remote:
remote:          - disable the readahead cache
remote:          - flush it
remote:          - call the appropriate cache-v7.S function
remote:          - re-enable
remote:
remote:          This patch tries to minimize the impact to the cache-v7.S file by only
remote:          providing a stub in case CONFIG_CACHE_B15_RAC is enabled (default for
remote:          ARCH_BRCMSTB since it is the current user).
remote:
remote:          SWLINUX-3422
remote:
remote:          Signed-off-by: Alamy Liu <alamyliu@broadcom.com>
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 72f87752e80ee6cafb6a9f1aa8150d0e342d04aa)
remote:
remote:      commit a1e0f9ed1ce86795150a11f0009735c0a649e087
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Mar 4 15:31:08 2015 -0800
remote:
remote:          ARM: v7: allow setting different cache functions
remote:
remote:          In preparation for adding support for the Broadcom Brahma-B15 read-ahead
remote:          cache which requires a different set of cache functions, allow the
remote:          __v7_proc macro to override the cache_fns settings, and default to
remote:          v7_cache_fns unless specified otherwise.
remote:
remote:          SWLINUX-3422
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 938abbff4acb491a4115da9e1e53a7497ed13d72)
remote:
remote:      commit 7e62e7a12f2a13ab6eef5ddc74e579eab6653e6c
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Mar 4 10:55:31 2015 -0800
remote:
remote:          BCMGENET: Properly disable password matching when requested
remote:
remote:          Ever since the BCMGENET driver was introduced, we had a small issue in the
remote:          driver with enabling/disabling password matching for magic packets.
remote:
remote:          Once we ask the driver to match against a magic packet with a password, we will
remote:          never clear the MPD_PWD_EN bit again, which means that we leave the hardware
remote:          matching magic packets with password.
remote:
remote:          Fix this by clearing the bit when WAKE_MAGICSECURE is not set.
remote:
remote:          SWLINUX-3585
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 62bcac06c4ae1b34bdfbdb448a7d64d53287d8e6)
remote:
remote:      commit abe0a8cc8a2b3f80ba70248ca9a18cf96bd3d36c
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Fri Feb 27 18:14:18 2015 -0800
remote:
remote:          bsp: add guard macro for users of brcmstb_pm_mem_exclude()
remote:
remote:          By request from Nexus team.
remote:
remote:          SWLINUX-3535
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit b0325d35c39622ff14a1b6984492ecd8dbdb08eb)
remote:
remote:      commit 1cc3a9b69a356321e364d36b1a4a5400a5bd182f
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Fri Feb 27 16:47:15 2015 -0800
remote:
remote:          PM: hack around a BSP race condition
remote:
remote:          Changes to the PM code have uncovered that if the host is too fast at
remote:          submitting BSP commands (e.g., clock stop and gen_random_key), the BSP
remote:          might not ever respond properly, causing a timeout.
remote:
remote:          According to the BSP firmware team, a few milliseconds (~2-3) wait after
remote:          the clock stop command should be sufficient to fend of such races within
remote:          the BSP. Let's add the hack.
remote:
remote:          SWLINUX-3535
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit ecd219c014afc2f37f9dc82bd6d04decaa2b007f)
remote:
remote:      commit e61803c70fc8696e6320df4617ab92b90ae61c22
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Thu Feb 19 17:12:16 2015 -0800
remote:
remote:          bsp: clean <linux/brcmstb/brcmstb.h> of old cruft
remote:
remote:          None of this is used any more.
remote:
remote:          SWLINUX-3535
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 0a951e509eb2c6d1ebde4b52d05cd5a0f0a1ab89)
remote:
remote:      commit a256b9076385a7a9623e64cd44b334e5e06e9d26
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Wed Feb 11 18:29:34 2015 -0800
remote:
remote:          PM: add exclusion API
remote:
remote:          SWLINUX-3535
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit d69a8bbf253b20b6640917c61510b386e357bb98)
remote:
remote:      commit 192e479df0e3f95162b47b8f164adca19be36b49
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Thu Feb 19 17:26:06 2015 -0800
remote:
remote:          config: Add brcmstb_hardened_defconfig
remote:
remote:          A fairly minimal defconfig that is will help to meet the NASC 3.0 requirements.
remote:
remote:          SWLINUX-3578
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 2e6dc0ba1c33033767a86ec68bd8fb7c61c40133)
remote:
remote:      commit 69a1d74d422364916fce11249be4dbfd640c859c
remote:      Author: Arnd Bergmann <arnd@arndb.de>
remote:      Date:   Fri Jul 5 17:38:35 2013 +0200
remote:
remote:          Always trap on BUG()
remote:
remote:          [Upstream submission (never merged): https://lkml.org/lkml/2013/7/5/222 ]
remote:
remote:          I've run some size analyis using the ARM 'multi_v7_defconfig'
remote:          and gcc-4.8, using various definitions for BUG() and BUG_ON(), to
remote:          see how big the size improvement actually gets
remote:
remote:          1. Baseline: normal bug plus CONFIG_BUG_VERBOSE
remote:             text    data     bss     dec     hex filename
remote:          3743196  224396  206812 4174404  3fb244 vmlinux-bugverbose
remote:
remote:          2. disabling CONFIG_BUG_VERBOSE, saving 0.6%
remote:          3716920  224380  206812 4148112  3f4b90 vmlinux-nobugverbose
remote:
remote:          3. #define BUG() panic(__func__), #define BUG_ON(c) if(c) BUG(), saving 1.0%
remote:          3701076  224384  206812 4132272  3f0db0 vmlinux-bug-panicfunc
remote:
remote:          3. #define BUG() panic(__func__), #define BUG_ON(c) if(c) BUG(), saving 1.5%
remote:          3678884  224400  206812 4110096  3eb710 vmlinux-bug-panic
remote:
remote:          4. #define BUG() unreachable(), saving 2.1%
remote:          3652636  224384  206812 4083832  3e5078 vmlinux-bug-unreachable
remote:
remote:          5. as 4, plus #define BUG_ON(c) if(c) unreachable(), saving 2.2%
remote:          3651108  224380  206812 4082300  3e4a7c vmlinux-bugon-unreachable
remote:
remote:          6. #define BUG() do{}while(0), saving 2.1%
remote:          3654264  224380  206812 4085456  3e56d0 vmlinux-nobug
remote:
remote:          7. as 6, plus #define BUG_ON if(0 && (c)) unreachable, saving 2.2%
remote:          3648392  223996  206748 4079136  3e3e20 vmlinux-no-bugon
remote:
remote:          8. my patch below, saving 1.8%
remote:          3666532  224380  206812 4097724  3e86bc obj-tmp/vmlinux
remote:
remote:          The gain of doing unreachable and letting the code run off whereever
remote:          is minimal compared to the current state of doing nothing, but it
remote:          avoids the warnings.
remote:
remote:          Same test using x86_defconfig:
remote:
remote:          1. CONFIG_BUG=y, CONFIG_BUGVERBOSE=n
remote:          10797859        1395648 1175552 13369059         cbfee3 vmlinux-x86-bug
remote:
remote:          2. CONFIG_BUG=n, saves 1.0%
remote:          10658553        1395584 1175552 13229689         c9de79 vmlinux-x86-nobug
remote:
remote:          3. with my patch, saves 0.8%
remote:          10684186        1395584 1175552 13255322         ca429a vmlinux-x86-archbug
remote:
remote:          Getting 1-2% savings in kernel size seems absolutely worth keeping the
remote:          option, but 0.2-0.4% left for getting reproducible behavior also seems
remote:          worthwhile. The result in the patch below.
remote:
remote:          This basically loses any of the BUG() reporting, but leaves the
remote:          logic to trap and kill the task in place when CONFIG_BUG is disabled.
remote:
remote:          SWLINUX-3578
remote:
remote:          Signed-off-by: Arnd Bergmann <arnd@arndb.de>
remote:          Cc: linux-arch@vger.kernel.org
remote:          Cc: Chen Gang <gang.chen@asianux.com>
remote:          Cc: "H. Peter Anvin" <hpa@zytor.com>
remote:          Cc: Ingo Molnar <mingo@kernel.org>
remote:          Cc: "Eric W. Biederman" <ebiederm@xmission.com>
remote:          Cc: Geert Uytterhoeven <geert@linux-m68k.org>
remote:          Cc: Russell King - ARM Linux <linux@arm.linux.org.uk>
remote:          [gregory: Without this change, disabling CONFIG_BUG causes warnings everywhere
remote:          because of various uninitialized variables, etc. that are handled by BUG and
remote:          BUG_ON.  This should eliminate unpredictable behavior (unexpected return
remote:          values, etc.) when CONFIG_BUG=n.]
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:          (cherry picked from commit bf9361eaa76eeee78b942484ed271602ace30117)
remote:
remote:      commit 4384853e3402984d89d2d39357c2ac42d50b771e
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Wed Oct 1 12:23:58 2014 -0700
remote:
remote:          net: dsa: bcm_sf2: add hardware bridging support
remote:
remote:          Implement the bridge join, leave and set_stp callbacks by making that we
remote:          do the following:
remote:
remote:          - when a port joins the bridge, all existing ports in the bridge get
remote:            their VLAN control register updated with that joining port
remote:          - the joining port is including all existing bridge ports in its own
remote:            VLAN control register
remote:
remote:          The leave operation is fairly similar, special care must be taken to
remote:          make sure that port leaving the bridging is not removing itself from its
remote:          own VLAN control register.
remote:
remote:          Since the various BR_* states apply directly to our HW semantics, we just
remote:          need to translate these constants into their corresponding HW settings,
remote:          and voila!
remote:
remote:          We make sure to trigger a fast-ageing process for ports that are
remote:          joining/leaving the bridge and transition from incompatible states, this
remote:          is equivalent to triggering an ARL flush for that port.
remote:
remote:          SWLINUX-3356
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit d1adb695f919cc225216a136390b92da3b7edf74)
remote:
remote:      commit c15094b0142614e8c369352070939a35fd5c20eb
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Feb 19 11:11:56 2015 -0800
remote:
remote:          net: dsa: bcm_sf2: fix 64-bits register reads
remote:
remote:          Reading 64-bits register was not working because we inverted the steps
remote:          between reading the lower 32-bits of the register and reading the upper
remote:          32-bits. Swapping these operations is how the HW guarantees that 64-bits
remote:          reads are latched correctly. We only have a handful of 64-bits registers
remote:          for now, mostly MIB counters, so the impact is low.
remote:
remote:          SWLINUX-3356
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 0d4da83e5751687516b1b317e9ee0421e67c42b3)
remote:
remote:      commit 656eeaf2e3f248d9a56273075886363e9e3dd784
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue Sep 30 16:40:57 2014 -0700
remote:
remote:          net: dsa: allow switch drivers to implement bridge ndo operations
remote:
remote:          Allows switch drivers to implement ndo_br_join, ndo_br_leave and
remote:          ndo_br_set_state network device operations and have those be propagated
remote:          down to the switch driver.
remote:
remote:          DSA will resolve which switch ports are currently bridge port members as
remote:          some Switch hardware/drivers need to know about that to limit the
remote:          register programming to just the relevant registers (especially for slow
remote:          MDIO buses).
remote:
remote:          We also take care of setting the correct STP state when slave network
remote:          devices are brought up/down while being bridge members.
remote:
remote:          Finally, when a port is leaving the bridge, we make sure we set in
remote:          BR_STATE_FORWARDING state, otherwise the bridge layer would leave it
remote:          disabled as a result of having left the bridge.
remote:
remote:          SWLINUX-3356
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 23f5d55d0d68f58bed7a7f134c36be6f9921a1c8)
remote:
remote:      commit 9d41e04608dc862454a1d58e756de146b5c5e650
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue Sep 30 16:26:40 2014 -0700
remote:
remote:          net: bridge: add ndo operations to help with join, leave and stp state
remote:
remote:          In order for switch drivers to get information about their respective
remote:          switch ports when they get added/removed to/from a bridge, as well as
remote:          when a given brigde port STP state changes, add 3 network device
remote:          operations and invoke them from the bridge code.
remote:
remote:          SWLINUX-3356
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 89f8d6e37a9ef5f4120e758ba729871f5a79fb5d)
remote:
remote:      commit c6ba97b4ea9b06554d35faba67b07d1c25f90989
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Tue Sep 30 16:15:26 2014 -0700
remote:
remote:          net: bridge: add a br_set_state helper function
remote:
remote:          [Upstream commit 775dd692bd34f9201ed2aa775a0edcba4f973f3e]
remote:
remote:          In preparation for being able to propagate port states to e.g: notifiers
remote:          or other kernel parts, do not manipulate the port state directly, but
remote:          instead use a helper function which will allow us to do bit more than
remote:          setting the state.
remote:
remote:          SWLINUX-3356
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 7414b4fbe3954533a4f4c9d07cb4a4cf277221bc)
remote:
remote:      commit bc7af0862f0e99c013b9eb914c7b58d0135d578b
remote:      Author: Danesh Petigara <dpetigara@broadcom.com>
remote:      Date:   Mon Feb 23 16:06:47 2015 -0800
remote:
remote:          mm: cma: fix CMA aligned offset calculation
remote:
remote:           [Upstream submission https://lkml.org/lkml/2015/2/24/745]
remote:
remote:          The CMA aligned offset calculation is incorrect for
remote:          non-zero order_per_bit values.
remote:
remote:          For example, if cma->order_per_bit=1, cma->base_pfn=
remote:          0x2f800000 and align_order=12, the function returns
remote:          a value of 0x17c00 instead of 0x400.
remote:
remote:          This patch fixes the CMA aligned offset calculation.
remote:
remote:          Cc: stable@vger.kernel.org
remote:          Signed-off-by: Danesh Petigara <dpetigara@broadcom.com>
remote:          Reviewed-by: Gregory Fong <gregory.0xf0@gmail.com>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          (cherry picked from commit cc5bc1c06573b2240dd56344619d1737a22809b0)
remote:
remote:      commit c7233043b986749f0d1bfaba0dc2d2d6a3b468c5
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Wed Feb 4 15:33:59 2015 -0800
remote:
remote:          ARM: print cma-reserved pages from show_mem
remote:
remote:          [Upstream submission https://lkml.org/lkml/2015/2/4/760 ]
remote:
remote:          Add cma reserved information to the ARM-specific show_mem.  It was
remote:          added to the generic implementation by commit
remote:          49abd8c28046adf77c5ce1949549aa64d7221881 "lib/show_mem.c: add cma
remote:          reserved information".
remote:
remote:          SWLINUX-3547
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit f2b72d073d9f6b476b9b5467b33748a8ea7eb828)
remote:
remote:      commit f71a844075a66e3542516ded9bea44b7a847dde3
remote:      Author: Vishnu Pratap Singh <vishnu.ps@samsung.com>
remote:      Date:   Thu Dec 18 16:17:21 2014 -0800
remote:
remote:          lib/show_mem.c: add cma reserved information
remote:
remote:          [Upstream commit 49abd8c28046adf77c5ce1949549aa64d7221881]
remote:
remote:          Add cma reserved information which is currently shown as a part of total
remote:          reserved only.  This patch is continuation of our previous cma patches
remote:          related to this.
remote:
remote:            https://lkml.org/lkml/2014/10/20/64
remote:            https://lkml.org/lkml/2014/10/22/383
remote:
remote:          SWLINUX-3547
remote:
remote:          [akpm@linux-foundation.org: remove hopefully-unneeded ifdefs]
remote:          Signed-off-by: Vishnu Pratap Singh <vishnu.ps@samsung.com>
remote:          Cc: David Rientjes <rientjes@google.com>
remote:          Cc: KOSAKI Motohiro <kosaki.motohiro@jp.fujitsu.com>
remote:          Cc: Mel Gorman <mgorman@suse.de>
remote:          Cc: Xishi Qiu <qiuxishi@huawei.com>
remote:          Cc: Pintu Kumar <pintu.k@samsung.com>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:          (cherry picked from commit 13336988afab9326108b2679d05b32ceeae3d613)
remote:
remote:      commit 306114f8a8f7e09b0028826bedce7e68fd63b058
remote:      Author: Pintu Kumar <pintu.k@samsung.com>
remote:      Date:   Thu Dec 18 16:17:18 2014 -0800
remote:
remote:          fs/proc/meminfo.c: include cma info in proc/meminfo
remote:
remote:          [Upstream commit 47f8f9297d2247d65ee46d8403a73b30f8d0249b]
remote:
remote:          This patch include CMA info (CMATotal, CMAFree) in /proc/meminfo.
remote:          Currently, in a CMA enabled system, if somebody wants to know the total
remote:          CMA size declared, there is no way to tell, other than the dmesg or
remote:          /var/log/messages logs.
remote:
remote:          With this patch we are showing the CMA info as part of meminfo, so that it
remote:          can be determined at any point of time.  This will be populated only when
remote:          CMA is enabled.
remote:
remote:          Below is the sample output from a ARM based device with RAM:512MB and CMA:16MB.
remote:
remote:            MemTotal:         471172 kB
remote:            MemFree:          111712 kB
remote:            MemAvailable:     271172 kB
remote:            .
remote:            .
remote:            .
remote:            CmaTotal:          16384 kB
remote:            CmaFree:            6144 kB
remote:
remote:          This patch also fix below checkpatch errors that were found during these changes.
remote:
remote:            ERROR: space required after that ',' (ctx:ExV)
remote:            199: FILE: fs/proc/meminfo.c:199:
remote:            +       ,atomic_long_read(&num_poisoned_pages) << (PAGE_SHIFT - 10)
remote:                    ^
remote:
remote:            ERROR: space required after that ',' (ctx:ExV)
remote:            202: FILE: fs/proc/meminfo.c:202:
remote:            +       ,K(global_page_state(NR_ANON_TRANSPARENT_HUGEPAGES) *
remote:                    ^
remote:
remote:            ERROR: space required after that ',' (ctx:ExV)
remote:            206: FILE: fs/proc/meminfo.c:206:
remote:            +       ,K(totalcma_pages)
remote:                    ^
remote:
remote:            total: 3 errors, 0 warnings, 2 checks, 236 lines checked
remote:
remote:          SWLINUX-3547
remote:
remote:          Signed-off-by: Pintu Kumar <pintu.k@samsung.com>
remote:          Signed-off-by: Vishnu Pratap Singh <vishnu.ps@samsung.com>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Cc: Rafael Aquini <aquini@redhat.com>
remote:          Cc: Jerome Marchand <jmarchan@redhat.com>
remote:          Cc: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Cc: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit a6173d24176fbf53e9fda663896512239d0dbb60)
remote:
remote:      commit f2a2d732bd51e9c5794d0c0030ff8ac3c5a8f1ea
remote:      Author: Pintu Kumar <pintu.k@samsung.com>
remote:      Date:   Thu Dec 18 16:17:15 2014 -0800
remote:
remote:          mm: cma: split cma-reserved in dmesg log
remote:
remote:          [Upstream commit e48322abb061d75096fe52d71886b237e7ae7bfb]
remote:
remote:          When the system boots up, in the dmesg logs we can see the memory
remote:          statistics along with total reserved as below.  Memory: 458840k/458840k
remote:          available, 65448k reserved, 0K highmem
remote:
remote:          When CMA is enabled, still the total reserved memory remains the same.
remote:          However, the CMA memory is not considered as reserved.  But, when we see
remote:          /proc/meminfo, the CMA memory is part of free memory.  This creates
remote:          confusion.  This patch corrects the problem by properly subtracting the
remote:          CMA reserved memory from the total reserved memory in dmesg logs.
remote:
remote:          Below is the dmesg snapshot from an arm based device with 512MB RAM and
remote:          12MB single CMA region.
remote:
remote:          Before this change:
remote:            Memory: 458840k/458840k available, 65448k reserved, 0K highmem
remote:
remote:          After this change:
remote:            Memory: 458840k/458840k available, 53160k reserved, 12288k cma-reserved, 0K highmem
remote:
remote:          SWLINUX-3547
remote:
remote:          Signed-off-by: Pintu Kumar <pintu.k@samsung.com>
remote:          Signed-off-by: Vishnu Pratap Singh <vishnu.ps@samsung.com>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Cc: Rafael Aquini <aquini@redhat.com>
remote:          Cc: Jerome Marchand <jmarchan@redhat.com>
remote:          Cc: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Cc: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit a4d60f2af8562d873b05cbc4b276106a377f90fb)
remote:
remote:      commit d800d13e2b8e71100a2947d7f461a72a4a45607f
remote:      Author: Kamal Dasu <kdasu@broadcom.com>
remote:      Date:   Thu Feb 19 16:24:27 2015 -0500
remote:
remote:          bmoca: Pass contents of MOCA_L2_CPU_STATUS to mocad
remote:
remote:          Add a message going to mocad in moca_send_pm_trap, that
remote:          will let MoCA know if the WATCHDOG_CPU_x_INTR is set.
remote:          We'll need to clear the WATCHDOG_CPU_x_INTR bits.
remote:          Handle the WATCHDOG_CPU_x_INTR. An MMP message is sent
remote:          to mocad. Also add MOCA_RESUMING_ASSERT and
remote:          MOCA_RESUMING_WDOG states to the resume logic.
remote:
remote:          SWLINUX-3556
remote:
remote:          Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:          (cherry picked from commit 5d3fc45b6fe43e95067a467e7213a067a21b99fc)
remote:
remote:      commit 6857be2818033c9d576fe55475a9b64f74748a78
remote:      Author: Kamal Dasu <kdasu@broadcom.com>
remote:      Date:   Thu Feb 19 16:14:18 2015 -0500
remote:
remote:          bmoca: Make per CPU ASSERT pending logic more readable
remote:
remote:          Minor cleanup to make the pre CPU assert_pending for CPU0
remote:          and CPU1 code more readable.
remote:
remote:          SWLINUX-3556
remote:
remote:          Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:          (cherry picked from commit c7a80d07ca86e87cced875192fb074f79102bd8e)
remote:
remote:      commit c9118eb450d1df46c9a69e5e59677857743151cb
remote:      Author: Kamal Dasu <kdasu@broadcom.com>
remote:      Date:   Wed Feb 18 14:09:21 2015 -0500
remote:
remote:          bmoca: Enable moca as a wakeup source by default
remote:
remote:          Enable moca as a wakeup source regardless of the
remote:          WoL setting. This is part of the change needed to resolve
remote:          CRMOCA20-5951: MoCA Exception and Assert interrupt
remote:          Reset of the changes in following commits.
remote:
remote:          SWLINUX-3556
remote:
remote:          Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:          (cherry picked from commit c1c348895e56b8dcc626ec15dbd5630848542902)
remote:
remote:      commit 8f0967e2f2c255f7c790ebe50583aa30ac885485
remote:      Author: Gregory Fong <gregory.0xf0@gmail.com>
remote:      Date:   Fri Dec 12 16:54:48 2014 -0800
remote:
remote:          mm: cma: align to physical address, not CMA region position
remote:
remote:          [Upstream commit b5be83e308f70e16c63c4e520ea7bb03ef57c46f]
remote:
remote:          The alignment in cma_alloc() was done w.r.t. the bitmap.  This is a
remote:          problem when, for example:
remote:
remote:          - a device requires 16M (order 12) alignment
remote:          - the CMA region is not 16 M aligned
remote:
remote:          In such a case, can result with the CMA region starting at, say,
remote:          0x2f800000 but any allocation you make from there will be aligned from
remote:          there.  Requesting an allocation of 32 M with 16 M alignment will result
remote:          in an allocation from 0x2f800000 to 0x31800000, which doesn't work very
remote:          well if your strange device requires 16M alignment.
remote:
remote:          Change to use bitmap_find_next_zero_area_off() to account for the
remote:          difference in alignment at reserve-time and alloc-time.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Gregory Fong <gregory.0xf0@gmail.com>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Cc: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Cc: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Cc: Kukjin Kim <kgene.kim@samsung.com>
remote:          Cc: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
remote:          Cc: Laura Abbott <lauraa@codeaurora.org>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          [gregory: I accidentally dropped our local version of this change,
remote:          86ff4cb6f6d7d03b3d7a13aec9e0e40a9d24cfbb, in commit got lost in commit
remote:          20f856ba533003aa8eab7518c2a401706ef428cd "CMA: generalize CMA reserved area
remote:          management functionality".  We can just use the same as upstream now.]
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:          (cherry picked from commit e189cd3aa4ca5303d3d5e9d394a2e54e788cb6f3)
remote:
remote:      commit 88010fbf62e01a81afe7fd9ea053d6c21bbf41d7
remote:      Author: Michal Nazarewicz <mina86@mina86.com>
remote:      Date:   Thu Nov 13 15:19:27 2014 -0800
remote:
remote:          mm: alloc_contig_range: demote pages busy message from warn to info
remote:
remote:          [Upstream commit dae803e165a11bc88ca8dbc07a11077caf97bbcb]
remote:
remote:          Having test_pages_isolated failure message as a warning confuses users
remote:          into thinking that it is more serious than it really is.  In reality, if
remote:          called via CMA, allocation will be retried so a single
remote:          test_pages_isolated failure does not prevent allocation from succeeding.
remote:
remote:          Demote the warning message to an info message and reformat it such that
remote:          the text "failed" does not appear and instead a less worrying "PFNS
remote:          busy" is used.
remote:
remote:          This message is trivially reproducible on a 10GB x86 machine on 3.16.y
remote:          kernels configured with CONFIG_DMA_CMA.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Cc: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
remote:          Cc: Peter Hurley <peter@hurleysoftware.com>
remote:          Cc: Minchan Kim <minchan@kernel.org>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 7f2492c261d0d6b82b874ee1a08b0212df7d9cd5)
remote:
remote:      commit 520261d943db6b9c0cd3b8bbd400a1fb6a553031
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Wed Feb 4 21:32:37 2015 -0800
remote:
remote:          tmon: makefile: export instead of overriding
remote:
remote:          To avoid clobbering all 'Makefile' variables, let's just export these.
remote:          Then we don't have to specify as many things in the 'makefile'.
remote:
remote:          SWLINUX-3288
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit a843b01c92daa5d3c595dc99018dbc8114516b9e)
remote:
remote:      commit c88ef54a7a666a947bcc8922f1c0131ac516473f
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Wed Feb 4 21:32:04 2015 -0800
remote:
remote:          tmon: allow CFLAGS and CC to be specified externally
remote:
remote:          Especially useful for cross-compiling.
remote:
remote:          SWLINUX-3288
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit f30042c28a97b19765595bd619aedd2dd09ce804)
remote:
remote:      commit eaf1fbcb33884fce9f0a3ec29a9c8c97f3a05f35
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Wed Feb 11 19:25:51 2015 -0800
remote:
remote:          tmon: tui: fixup windowing calculations
remote:
remote:          The number of rows in the dialog vary according to the number of cooling
remote:          devices. However, some of the windowing computations were assuming a
remote:          fixed number of rows. This computation is OK when we have between 4 and
remote:          9 cooling devices (and they wrap to the next column), but with fewer
remote:          devices, we end up printing off the end of the window.
remote:
remote:          This unifies the row computation into a single function and uses that
remote:          throughout the TUI code. This also accounts for increasing the number of
remote:          rows when there are more than 9 total cooling devices.
remote:
remote:          SWLINUX-3288
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 0863801049efe5f28a5585686a5824ae8680d6a7)
remote:
remote:      commit 9b2412422fe0b3e8f1e8f1370a626b25f15b1acb
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Wed Feb 11 19:25:44 2015 -0800
remote:
remote:          tmon: tui: don't hard-code dialog window size assumptions
remote:
remote:          We can use the ncurses API to get the number of rows.
remote:
remote:          SWLINUX-3288
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit cd3693f11b64ec2d7a4345bbae4624507c6cd356)
remote:
remote:      commit 7a975daa079e9a67378ca9c34d1c93f9a45bc93e
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Wed Feb 11 19:25:32 2015 -0800
remote:
remote:          tmon: add min/max macros
remote:
remote:          SWLINUX-3288
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 660e5e3d8ed5eec465603042e41bbabf3c1db8e4)
remote:
remote:      commit 44f5323adce7ce41d4ec0664426a6ce95d18321d
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Thu Feb 5 17:49:40 2015 -0800
remote:
remote:          tools/thermal: add a .gitignore file for tmon
remote:
remote:          SWLINUX-3288
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 53451abe031b137ee754abd0b207d7621f7b172c)
remote:
remote:      commit 9d7ed76a4c4730492872a4912745302275d94c29
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Wed Jan 28 17:26:29 2015 -0800
remote:
remote:          mm: page_alloc: add single retry to __choose_rmqueue_migratetype
remote:
remote:          Rather assuming that exhaustion of both movable and cma try counters means we
remote:          should just go ahead and try using movable migratetype, try again after
remote:          resetting the counters.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 2fa12151c4f5173025bc0ae55d0cf279dbe0b511)
remote:
remote:      commit ea1bc75b1da9786f364ee9721fa95c020c8d9eed
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Wed Jan 28 17:24:12 2015 -0800
remote:
remote:          mm: page_alloc: inline __choose_rmqueue_migratetype
remote:
remote:          __rmqueue needs to be as fast as possible.  Since there's only one call site,
remote:          better to have this inlined.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit e9299a23c5a728bd90f8cb35367e5d824f3c99d6)
remote:
remote:      commit 05cc0cc09754dc908cb33b8680917b544f03a3f8
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Mon Jan 5 19:47:50 2015 -0800
remote:
remote:          mm: page_alloc: Fix div by zero in adjust_managed_cma_page_count
remote:
remote:          The commit by Joonsoo Kim <iamjoonsoo.kim@lge.com> "CMA: aggressively allocate
remote:          the pages on cma reserved memory when not used" introduced a div by zero when
remote:          there are no movable pages left but there are CMA pages left.  This can happen
remote:          under memory pressure when there are more total pages in CMA regions than not.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 8f79660751a7cb4347196cfc400a27d300dc80d3)
remote:
remote:      commit 1530757e788249be7f40486f2fc9c6d91b8f13f4
remote:      Author: Gregory Fong <gregory@broadcom.com>
remote:      Date:   Wed Jan 28 19:32:12 2015 -0800
remote:
remote:          CMA: use total cma pages for adjust_managed_cma_page_count
remote:
remote:          In the previous commit ("CMA: aggressively allocate the pages on CMA reserved
remote:          memory when not used" by Joonsoo Kim), CMA allocation is changed to be based on
remote:          the total number of "normal" managed pages and the number of managed (aka not
remote:          CMA-allocated) CMA pages.  This was intended to be used in conjunction with a
remote:          commit "CMA: always treat free cma pages as non-free on watermark checking"[1].
remote:          However, including that change results in a severe limitation that cannot be
remote:          used on brcmstb with the current setup: it restricts the amount of CMA region
remote:          memory to be less than or equal to to one-half of the system memory.
remote:
remote:          Rather than applying that change, this alters the heuristic from the
remote:          previous commit: we change the definition of "normal" manages in a zone from
remote:
remote:            total pages - managed (unallocated) CMA pages - high_wmark_pages(zone)
remote:
remote:          to
remote:
remote:            total pages - total CMA pages
remote:
remote:          This eliminates the need to handle determining whether an allocation should
remote:          succeed or fail based on the watermark check, and allows for memory in CMA
remote:          regions to be used for movable allocations even if there isn't any extra room
remote:          to migrate them out of the CMA region.
remote:
remote:          The obvious and rather large caveat is that in the event of a CMA allocation
remote:          actually requiring that space, there might not be enough space available to
remote:          which to move the used pages in the CMA region, resulting in potentially
remote:          catastrophic CMA allocation failures.  Whereas Joonsoo's commit prevents that
remote:          by design but restricts CMA usage, this maintains flexibility for CMA region
remote:          use but leaves it to the system designer to handle CMA allocation failure.
remote:
remote:          [1] https://github.com/JoonsooKim/linux/commit/166b4186d101b190cf50195d841e2189f2743649
remote:              or an older version at https://lkml.org/lkml/2014/5/28/110
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit b5cbdb8b971a271cfa9f9679fc8713faf26079e9)
remote:
remote:      commit 81dc20c94e1d1a3533eda32a8495e5e6177f74ad
remote:      Author: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:      Date:   Wed Jun 18 14:10:59 2014 +0900
remote:
remote:          CMA: aggressively allocate the pages on CMA reserved memory when not used
remote:
remote:          [Retrieved from
remote:          https://github.com/JoonsooKim/linux/commit/33a0416b3ac1cd7c88e6b35ee61b4a81a7a14afc]
remote:
remote:          CMA is introduced to provide physically contiguous pages at runtime.
remote:          For this purpose, it reserves memory at boot time. Although it reserve
remote:          memory, this reserved memory can be used for movable memory allocation
remote:          request. This usecase is beneficial to the system that needs this CMA
remote:          reserved memory infrequently and it is one of main purpose of
remote:          introducing CMA.
remote:
remote:          But, there is a problem in current implementation. The problem is that
remote:          it works like as just reserved memory approach. The pages on CMA reserved
remote:          memory are hardly used for movable memory allocation. This is caused by
remote:          combination of allocation and reclaim policy.
remote:
remote:          The pages on CMA reserved memory are allocated if there is no movable
remote:          memory, that is, as fallback allocation. So the time this fallback
remote:          allocation is started is under heavy memory pressure. Although it is under
remote:          memory pressure, movable allocation easily succeed, since there would be
remote:          many pages on CMA reserved memory. But this is not the case for unmovable
remote:          and reclaimable allocation, because they can't use the pages on CMA
remote:          reserved memory. These allocations regard system's free memory as
remote:          (free pages - free CMA pages) on watermark checking, that is, free
remote:          unmovable pages + free reclaimable pages + free movable pages. Because
remote:          we already exhausted movable pages, only free pages we have are unmovable
remote:          and reclaimable types and this would be really small amount. So watermark
remote:          checking would be failed. It will wake up kswapd to make enough free
remote:          memory for unmovable and reclaimable allocation and kswapd will do.
remote:          So before we fully utilize pages on CMA reserved memory, kswapd start to
remote:          reclaim memory and try to make free memory over the high watermark. This
remote:          watermark checking by kswapd doesn't take care free CMA pages so many
remote:          movable pages would be reclaimed. After then, we have a lot of movable
remote:          pages again, so fallback allocation doesn't happen again. To conclude,
remote:          amount of free memory on meminfo which includes free CMA pages is moving
remote:          around 512 MB if I reserve 512 MB memory for CMA.
remote:
remote:          I found this problem on following experiment.
remote:
remote:          4 CPUs, 1024 MB, VIRTUAL MACHINE
remote:          make -j16
remote:
remote:          CMA reserve:            0 MB            512 MB
remote:          Elapsed-time:           225.2           472.5
remote:          Average-MemFree:        322490 KB       630839 KB
remote:
remote:          To solve this problem, I can think following 2 possible solutions.
remote:          1. allocate the pages on CMA reserved memory first, and if they are
remote:             exhausted, allocate movable pages.
remote:          2. interleaved allocation: try to allocate specific amounts of memory
remote:             from CMA reserved memory and then allocate from free movable memory.
remote:
remote:          I tested #1 approach and found the problem. Although free memory on
remote:          meminfo can move around low watermark, there is large fluctuation on free
remote:          memory, because too many pages are reclaimed when kswapd is invoked.
remote:          Reason for this behaviour is that successive allocated CMA pages are
remote:          on the LRU list in that order and kswapd reclaim them in same order.
remote:          These memory doesn't help watermark checking from kwapd, so too many
remote:          pages are reclaimed, I guess.
remote:
remote:          So, I implement #2 approach.
remote:          One thing I should note is that we should not change allocation target
remote:          (movable list or CMA) on each allocation attempt, since this prevent
remote:          allocated pages to be in physically succession, so some I/O devices can
remote:          be hurt their performance. To solve this, I keep allocation target
remote:          in at least pageblock_nr_pages attempts and make this number reflect
remote:          ratio, free pages without free CMA pages to free CMA pages. With this
remote:          approach, system works very smoothly and fully utilize the pages on
remote:          CMA reserved memory.
remote:
remote:          Following is the experimental result of this patch.
remote:
remote:          4 CPUs, 1024 MB, VIRTUAL MACHINE
remote:          make -j16
remote:
remote:          <Before>
remote:          CMA reserve:            0 MB            512 MB
remote:          Elapsed-time:           225.2           472.5
remote:          Average-MemFree:        322490 KB       630839 KB
remote:          nr_free_cma:            0               131068
remote:          pswpin:                 0               261666
remote:          pswpout:                75              1241363
remote:
remote:          <After>
remote:          CMA reserve:            0 MB            512 MB
remote:          Elapsed-time:           222.7           224
remote:          Average-MemFree:        325595 KB       393033 KB
remote:          nr_free_cma:            0               61001
remote:          pswpin:                 0               6
remote:          pswpout:                44              502
remote:
remote:          There is no difference if we don't have CMA reserved memory (0 MB case).
remote:          But, with CMA reserved memory (512 MB case), we fully utilize these
remote:          reserved memory through this patch and the system behaves like as
remote:          it doesn't reserve any memory.
remote:
remote:          With this patch, we aggressively allocate the pages on CMA reserved memory
remote:          so latency of CMA can arise. Below is the experimental result about
remote:          latency.
remote:
remote:          4 CPUs, 1024 MB, VIRTUAL MACHINE
remote:          CMA reserve: 512 MB
remote:          Backgound Workload: make -jN
remote:          Real Workload: 8 MB CMA allocation/free 20 times with 5 sec interval
remote:
remote:          N:                    1        4       8        16
remote:          Elapsed-time(Before): 4309.75  9511.09 12276.1  77103.5
remote:          Elapsed-time(After):  5391.69 16114.1  19380.3  34879.2
remote:
remote:          So generally we can see latency increase. Ratio of this increase
remote:          is rather big - up to 70%. But, under the heavy workload, it shows
remote:          latency decrease - up to 55%. This may be worst-case scenario, but
remote:          reducing it would be important for some system, so, I can say that
remote:          this patch have advantages and disadvantages in terms of latency.
remote:
remote:          Although I think that this patch is right direction for CMA, there is
remote:          side-effect in following case. If there is small memory zone and CMA
remote:          occupys most of them, LRU for this zone would have many CMA pages. When
remote:          reclaim is started, these CMA pages would be reclaimed, but not counted
remote:          for watermark checking, so too many CMA pages could be reclaimed
remote:          unnecessarily. Until now, this can't happen because free CMA pages aren't
remote:          used easily. But, with this patch, free CMA pages are used easily so
remote:          this problem can be possible. I will handle it on another patchset
remote:          after some investigating.
remote:
remote:          v2:
remote:            - In fastpath, just replenish counters. Calculation is done whenver
remote:              CMA area is varied
remote:
remote:          v3:
remote:            - Use unsigned type in adjust_managed_cma_page_count() (per Gioh)
remote:            - Fix +/- count when calling adjust_managed_cma_page_count() (per Gioh)
remote:            - Instead of implementing __rmqueue_cma() which has another
remote:              __rmqueue_smallest(), choose_rmqueue_migratetype() is implemented to
remote:              change original migratetype to MIGRATE_CMA according to criteria. It
remote:              helps not to violate layering. (per Minchan in offline discussion)
remote:
remote:          SWLINUX-2786
remote:
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit d972a5082211262ddea3cc87ceac9e5f18b9ea73)
remote:
remote:      commit 2864519e0bf008640efaa760ff17c5ce169d43ac
remote:      Author: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:      Date:   Wed May 28 16:04:30 2014 +0900
remote:
remote:          CMA: remove redundant retrying code in __alloc_contig_migrate_range
remote:
remote:          [Upstream submission (not yet accepted) https://lkml.org/lkml/2014/5/28/113]
remote:
remote:          We already have retry logic in migrate_pages(). It does retry 10 times.
remote:          So if we keep this retrying code in __alloc_contig_migrate_range(), we
remote:          would try to migrate some unmigratable page in 50 times. There is just one
remote:          small difference in -ENOMEM case. migrate_pages() don't do retry
remote:          in this case, however, current __alloc_contig_migrate_range() does. But,
remote:          I think that this isn't problem, because in this case, we may fail again
remote:          with same reason.
remote:
remote:          SWLINUX-2786
remote:
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          [gregory: resolve minor merge conflict]
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:          Conflicts:
remote:          	mm/page_alloc.c
remote:
remote:          (cherry picked from commit 077285a0beac00f46c5922a4554a88c96153f08b)
remote:
remote:      commit 2f641829f5d6e0eb0744152900313eedadb74dc5
remote:      Author: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:      Date:   Thu Nov 13 15:19:21 2014 -0800
remote:
remote:          mm/page_alloc: restrict max order of merging on isolated pageblock
remote:
remote:          [Upstream commit 3c605096d3158216ba9326a16266f6ba128c2c8d]
remote:
remote:          Current pageblock isolation logic could isolate each pageblock
remote:          individually.  This causes freepage accounting problem if freepage with
remote:          pageblock order on isolate pageblock is merged with other freepage on
remote:          normal pageblock.  We can prevent merging by restricting max order of
remote:          merging to pageblock order if freepage is on isolate pageblock.
remote:
remote:          A side-effect of this change is that there could be non-merged buddy
remote:          freepage even if finishing pageblock isolation, because undoing
remote:          pageblock isolation is just to move freepage from isolate buddy list to
remote:          normal buddy list rather than to consider merging.  So, the patch also
remote:          makes undoing pageblock isolation consider freepage merge.  When
remote:          un-isolation, freepage with more than pageblock order and it's buddy are
remote:          checked.  If they are on normal pageblock, instead of just moving, we
remote:          isolate the freepage and free it in order to get merged.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Acked-by: Vlastimil Babka <vbabka@suse.cz>
remote:          Cc: "Kirill A. Shutemov" <kirill@shutemov.name>
remote:          Cc: Mel Gorman <mgorman@suse.de>
remote:          Cc: Johannes Weiner <hannes@cmpxchg.org>
remote:          Cc: Minchan Kim <minchan@kernel.org>
remote:          Cc: Yasuaki Ishimatsu <isimatu.yasuaki@jp.fujitsu.com>
remote:          Cc: Zhang Yanfei <zhangyanfei@cn.fujitsu.com>
remote:          Cc: Tang Chen <tangchen@cn.fujitsu.com>
remote:          Cc: Naoya Horiguchi <n-horiguchi@ah.jp.nec.com>
remote:          Cc: Bartlomiej Zolnierkiewicz <b.zolnierkie@samsung.com>
remote:          Cc: Wen Congyang <wency@cn.fujitsu.com>
remote:          Cc: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Cc: Michal Nazarewicz <mina86@mina86.com>
remote:          Cc: Laura Abbott <lauraa@codeaurora.org>
remote:          Cc: Heesub Shin <heesub.shin@samsung.com>
remote:          Cc: "Aneesh Kumar K.V" <aneesh.kumar@linux.vnet.ibm.com>
remote:          Cc: Ritesh Harjani <ritesh.list@gmail.com>
remote:          Cc: Gioh Kim <gioh.kim@lge.com>
remote:          Cc: <stable@vger.kernel.org>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 9e2f563659c605adfb0db3810494c9565f4436c8)
remote:
remote:      commit b46a3b0017b2ac151b27d4b65a848a0c8c14b731
remote:      Author: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:      Date:   Thu Nov 13 15:19:18 2014 -0800
remote:
remote:          mm/page_alloc: move freepage counting logic to __free_one_page()
remote:
remote:          [Upstream commit 8f82b55dd558a74fc33d69a1f2c2605d0cd2c908]
remote:
remote:          All the caller of __free_one_page() has similar freepage counting logic,
remote:          so we can move it to __free_one_page().  This reduce line of code and
remote:          help future maintenance.
remote:
remote:          This is also preparation step for "mm/page_alloc: restrict max order of
remote:          merging on isolated pageblock" which fix the freepage counting problem
remote:          on freepage with more than pageblock order.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Acked-by: Vlastimil Babka <vbabka@suse.cz>
remote:          Cc: "Kirill A. Shutemov" <kirill@shutemov.name>
remote:          Cc: Mel Gorman <mgorman@suse.de>
remote:          Cc: Johannes Weiner <hannes@cmpxchg.org>
remote:          Cc: Minchan Kim <minchan@kernel.org>
remote:          Cc: Yasuaki Ishimatsu <isimatu.yasuaki@jp.fujitsu.com>
remote:          Cc: Zhang Yanfei <zhangyanfei@cn.fujitsu.com>
remote:          Cc: Tang Chen <tangchen@cn.fujitsu.com>
remote:          Cc: Naoya Horiguchi <n-horiguchi@ah.jp.nec.com>
remote:          Cc: Bartlomiej Zolnierkiewicz <b.zolnierkie@samsung.com>
remote:          Cc: Wen Congyang <wency@cn.fujitsu.com>
remote:          Cc: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Cc: Michal Nazarewicz <mina86@mina86.com>
remote:          Cc: Laura Abbott <lauraa@codeaurora.org>
remote:          Cc: Heesub Shin <heesub.shin@samsung.com>
remote:          Cc: "Aneesh Kumar K.V" <aneesh.kumar@linux.vnet.ibm.com>
remote:          Cc: Ritesh Harjani <ritesh.list@gmail.com>
remote:          Cc: Gioh Kim <gioh.kim@lge.com>
remote:          Cc: <stable@vger.kernel.org>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 8c0fed7c9bd77c0f0b45e78d83c49a66b338b4cd)
remote:
remote:      commit 690f4aa1d6f27202d7d610b110913bf73955d4f8
remote:      Author: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:      Date:   Thu Nov 13 15:19:14 2014 -0800
remote:
remote:          mm/page_alloc: add freepage on isolate pageblock to correct buddy list
remote:
remote:          [Upstream commit 51bb1a4093cc68bc16b282548d9cee6104be0ef1]
remote:
remote:          In free_pcppages_bulk(), we use cached migratetype of freepage to
remote:          determine type of buddy list where freepage will be added.  This
remote:          information is stored when freepage is added to pcp list, so if
remote:          isolation of pageblock of this freepage begins after storing, this
remote:          cached information could be stale.  In other words, it has original
remote:          migratetype rather than MIGRATE_ISOLATE.
remote:
remote:          There are two problems caused by this stale information.
remote:
remote:          One is that we can't keep these freepages from being allocated.
remote:          Although this pageblock is isolated, freepage will be added to normal
remote:          buddy list so that it could be allocated without any restriction.  And
remote:          the other problem is incorrect freepage accounting.  Freepages on
remote:          isolate pageblock should not be counted for number of freepage.
remote:
remote:          Following is the code snippet in free_pcppages_bulk().
remote:
remote:              /* MIGRATE_MOVABLE list may include MIGRATE_RESERVEs */
remote:              __free_one_page(page, page_to_pfn(page), zone, 0, mt);
remote:              trace_mm_page_pcpu_drain(page, 0, mt);
remote:              if (likely(!is_migrate_isolate_page(page))) {
remote:                  __mod_zone_page_state(zone, NR_FREE_PAGES, 1);
remote:                  if (is_migrate_cma(mt))
remote:                      __mod_zone_page_state(zone, NR_FREE_CMA_PAGES, 1);
remote:              }
remote:
remote:          As you can see above snippet, current code already handle second
remote:          problem, incorrect freepage accounting, by re-fetching pageblock
remote:          migratetype through is_migrate_isolate_page(page).
remote:
remote:          But, because this re-fetched information isn't used for
remote:          __free_one_page(), first problem would not be solved.  This patch try to
remote:          solve this situation to re-fetch pageblock migratetype before
remote:          __free_one_page() and to use it for __free_one_page().
remote:
remote:          In addition to move up position of this re-fetch, this patch use
remote:          optimization technique, re-fetching migratetype only if there is isolate
remote:          pageblock.  Pageblock isolation is rare event, so we can avoid
remote:          re-fetching in common case with this optimization.
remote:
remote:          This patch also correct migratetype of the tracepoint output.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Acked-by: Minchan Kim <minchan@kernel.org>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Acked-by: Vlastimil Babka <vbabka@suse.cz>
remote:          Cc: "Kirill A. Shutemov" <kirill@shutemov.name>
remote:          Cc: Mel Gorman <mgorman@suse.de>
remote:          Cc: Johannes Weiner <hannes@cmpxchg.org>
remote:          Cc: Yasuaki Ishimatsu <isimatu.yasuaki@jp.fujitsu.com>
remote:          Cc: Zhang Yanfei <zhangyanfei@cn.fujitsu.com>
remote:          Cc: Tang Chen <tangchen@cn.fujitsu.com>
remote:          Cc: Naoya Horiguchi <n-horiguchi@ah.jp.nec.com>
remote:          Cc: Bartlomiej Zolnierkiewicz <b.zolnierkie@samsung.com>
remote:          Cc: Wen Congyang <wency@cn.fujitsu.com>
remote:          Cc: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Cc: Laura Abbott <lauraa@codeaurora.org>
remote:          Cc: Heesub Shin <heesub.shin@samsung.com>
remote:          Cc: "Aneesh Kumar K.V" <aneesh.kumar@linux.vnet.ibm.com>
remote:          Cc: Ritesh Harjani <ritesh.list@gmail.com>
remote:          Cc: Gioh Kim <gioh.kim@lge.com>
remote:          Cc: <stable@vger.kernel.org>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 3e3fcb2934233728948179f01c345efcd36bd7ea)
remote:
remote:      commit 9755d7c23d76d5871d72819b6214de58fa459ae8
remote:      Author: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:      Date:   Thu Nov 13 15:19:11 2014 -0800
remote:
remote:          mm/page_alloc: fix incorrect isolation behavior by rechecking migratetype
remote:
remote:          [Upstream commit ad53f92eb416d81e469fa8ea57153e59455e7175]
remote:
remote:          Before describing bugs itself, I first explain definition of freepage.
remote:
remote:           1. pages on buddy list are counted as freepage.
remote:           2. pages on isolate migratetype buddy list are *not* counted as freepage.
remote:           3. pages on cma buddy list are counted as CMA freepage, too.
remote:
remote:          Now, I describe problems and related patch.
remote:
remote:          Patch 1: There is race conditions on getting pageblock migratetype that
remote:          it results in misplacement of freepages on buddy list, incorrect
remote:          freepage count and un-availability of freepage.
remote:
remote:          Patch 2: Freepages on pcp list could have stale cached information to
remote:          determine migratetype of buddy list to go.  This causes misplacement of
remote:          freepages on buddy list and incorrect freepage count.
remote:
remote:          Patch 4: Merging between freepages on different migratetype of
remote:          pageblocks will cause freepages accouting problem.  This patch fixes it.
remote:
remote:          Without patchset [3], above problem doesn't happens on my CMA allocation
remote:          test, because CMA reserved pages aren't used at all.  So there is no
remote:          chance for above race.
remote:
remote:          With patchset [3], I did simple CMA allocation test and get below
remote:          result:
remote:
remote:           - Virtual machine, 4 cpus, 1024 MB memory, 256 MB CMA reservation
remote:           - run kernel build (make -j16) on background
remote:           - 30 times CMA allocation(8MB * 30 = 240MB) attempts in 5 sec interval
remote:           - Result: more than 5000 freepage count are missed
remote:
remote:          With patchset [3] and this patchset, I found that no freepage count are
remote:          missed so that I conclude that problems are solved.
remote:
remote:          On my simple memory offlining test, these problems also occur on that
remote:          environment, too.
remote:
remote:          This patch (of 4):
remote:
remote:          There are two paths to reach core free function of buddy allocator,
remote:          __free_one_page(), one is free_one_page()->__free_one_page() and the
remote:          other is free_hot_cold_page()->free_pcppages_bulk()->__free_one_page().
remote:          Each paths has race condition causing serious problems.  At first, this
remote:          patch is focused on first type of freepath.  And then, following patch
remote:          will solve the problem in second type of freepath.
remote:
remote:          In the first type of freepath, we got migratetype of freeing page
remote:          without holding the zone lock, so it could be racy.  There are two cases
remote:          of this race.
remote:
remote:           1. pages are added to isolate buddy list after restoring orignal
remote:              migratetype
remote:
remote:              CPU1                                   CPU2
remote:
remote:              get migratetype => return MIGRATE_ISOLATE
remote:              call free_one_page() with MIGRATE_ISOLATE
remote:
remote:                                          grab the zone lock
remote:                                          unisolate pageblock
remote:                                          release the zone lock
remote:
remote:              grab the zone lock
remote:              call __free_one_page() with MIGRATE_ISOLATE
remote:              freepage go into isolate buddy list,
remote:              although pageblock is already unisolated
remote:
remote:          This may cause two problems.  One is that we can't use this page anymore
remote:          until next isolation attempt of this pageblock, because freepage is on
remote:          isolate buddy list.  The other is that freepage accouting could be wrong
remote:          due to merging between different buddy list.  Freepages on isolate buddy
remote:          list aren't counted as freepage, but ones on normal buddy list are
remote:          counted as freepage.  If merge happens, buddy freepage on normal buddy
remote:          list is inevitably moved to isolate buddy list without any consideration
remote:          of freepage accouting so it could be incorrect.
remote:
remote:           2. pages are added to normal buddy list while pageblock is isolated.
remote:              It is similar with above case.
remote:
remote:          This also may cause two problems.  One is that we can't keep these
remote:          freepages from being allocated.  Although this pageblock is isolated,
remote:          freepage would be added to normal buddy list so that it could be
remote:          allocated without any restriction.  And the other problem is same as
remote:          case 1, that it, incorrect freepage accouting.
remote:
remote:          This race condition would be prevented by checking migratetype again
remote:          with holding the zone lock.  Because it is somewhat heavy operation and
remote:          it isn't needed in common case, we want to avoid rechecking as much as
remote:          possible.  So this patch introduce new variable, nr_isolate_pageblock in
remote:          struct zone to check if there is isolated pageblock.  With this, we can
remote:          avoid to re-check migratetype in common case and do it only if there is
remote:          isolated pageblock or migratetype is MIGRATE_ISOLATE.  This solve above
remote:          mentioned problems.
remote:
remote:          Changes from v3:
remote:          Add one more check in free_one_page() that checks whether migratetype is
remote:          MIGRATE_ISOLATE or not. Without this, abovementioned case 1 could happens.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Acked-by: Minchan Kim <minchan@kernel.org>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Acked-by: Vlastimil Babka <vbabka@suse.cz>
remote:          Cc: "Kirill A. Shutemov" <kirill@shutemov.name>
remote:          Cc: Mel Gorman <mgorman@suse.de>
remote:          Cc: Johannes Weiner <hannes@cmpxchg.org>
remote:          Cc: Yasuaki Ishimatsu <isimatu.yasuaki@jp.fujitsu.com>
remote:          Cc: Zhang Yanfei <zhangyanfei@cn.fujitsu.com>
remote:          Cc: Tang Chen <tangchen@cn.fujitsu.com>
remote:          Cc: Naoya Horiguchi <n-horiguchi@ah.jp.nec.com>
remote:          Cc: Bartlomiej Zolnierkiewicz <b.zolnierkie@samsung.com>
remote:          Cc: Wen Congyang <wency@cn.fujitsu.com>
remote:          Cc: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Cc: Laura Abbott <lauraa@codeaurora.org>
remote:          Cc: Heesub Shin <heesub.shin@samsung.com>
remote:          Cc: "Aneesh Kumar K.V" <aneesh.kumar@linux.vnet.ibm.com>
remote:          Cc: Ritesh Harjani <ritesh.list@gmail.com>
remote:          Cc: Gioh Kim <gioh.kim@lge.com>
remote:          Cc: <stable@vger.kernel.org>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          [gregory: minor backport changes for stblinux-3.14 which does not have
remote:          CONFIG_MEMORY_HOTPLUG]
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:          Conflicts:
remote:          	include/linux/mmzone.h
remote:
remote:          (cherry picked from commit 73912deb8a18c2a374eb3b40ad90fb8e84d828fa)
remote:
remote:      commit 2666742c4813427aa43aed5adaafbec4ec31056d
remote:      Author: Mel Gorman <mgorman@suse.de>
remote:      Date:   Wed Jun 4 16:10:17 2014 -0700
remote:
remote:          mm: page_alloc: reduce number of times page_to_pfn is called
remote:
remote:          [Upstream commit dc4b0caff24d9b2918e9f27bc65499ee63187eba]
remote:
remote:          In the free path we calculate page_to_pfn multiple times. Reduce that.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Mel Gorman <mgorman@suse.de>
remote:          Acked-by: Rik van Riel <riel@redhat.com>
remote:          Cc: Johannes Weiner <hannes@cmpxchg.org>
remote:          Acked-by: Vlastimil Babka <vbabka@suse.cz>
remote:          Cc: Jan Kara <jack@suse.cz>
remote:          Cc: Michal Hocko <mhocko@suse.cz>
remote:          Cc: Hugh Dickins <hughd@google.com>
remote:          Cc: Dave Hansen <dave.hansen@intel.com>
remote:          Cc: Theodore Ts'o <tytso@mit.edu>
remote:          Cc: "Paul E. McKenney" <paulmck@linux.vnet.ibm.com>
remote:          Cc: Oleg Nesterov <oleg@redhat.com>
remote:          Cc: Peter Zijlstra <peterz@infradead.org>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit a35116c775d851b777ba9ba458ff5a3cd0ab98e5)
remote:
remote:      commit 24f7e920efe0983a714fc406ce023ff4b88d7fda
remote:      Author: Weijie Yang <weijie.yang@samsung.com>
remote:      Date:   Fri Oct 24 17:47:57 2014 +0800
remote:
remote:          mm, cma: make parameters order consistent in func declaration and definition
remote:
remote:          [Upstream commit dda02fd6278d9e995850b3c1dba484f17cbe4de4]
remote:
remote:          In the current code, the base and size parameters order is not consistent
remote:          in functions declaration and definition. If someone calls these functions
remote:          according to the declaration parameters order in cma.h, he will run into
remote:          some bug and it's hard to find the reason.
remote:
remote:          This patch makes the parameters order consistent in functions declaration
remote:          and definition.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Weijie Yang <weijie.yang@samsung.com>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 9cdadd68a5bd6799c15aa1a9f1b0475b102c3445)
remote:
remote:      commit 043c2ed2a5a11217015a6fce997d00372efc1a04
remote:      Author: Marek Szyprowski <m.szyprowski@samsung.com>
remote:      Date:   Mon Oct 13 15:51:09 2014 -0700
remote:
remote:          drivers: dma-contiguous: add initialization from device tree
remote:
remote:          [Upstream commit de9e14eebf33a60712a52a0bc6e08c043c0aba53]
remote:
remote:          Add a function to create CMA region from previously reserved memory and
remote:          add support for handling 'shared-dma-pool' reserved-memory device tree
remote:          nodes.
remote:
remote:          Based on previous code provided by Josh Cartwright <joshc@codeaurora.org>
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Cc: Arnd Bergmann <arnd@arndb.de>
remote:          Cc: Michal Nazarewicz <mina86@mina86.com>
remote:          Cc: Grant Likely <grant.likely@linaro.org>
remote:          Cc: Laura Abbott <lauraa@codeaurora.org>
remote:          Cc: Josh Cartwright <joshc@codeaurora.org>
remote:          Cc: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Cc: Kyungmin Park <kyungmin.park@samsung.com>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 4e5de077be29c2a5483342bcb5651d3f4c325c1b)
remote:
remote:      commit dc70ef66333eaf9781846c140c52ea6c03defd1e
remote:      Author: Rob Herring <robh@kernel.org>
remote:      Date:   Thu May 8 16:06:17 2014 -0500
remote:
remote:          of: align RESERVEDMEM_OF_DECLARE function callbacks to other callbacks
remote:
remote:          [Upstream commit 9dd3107576c4bbd40e1c2c8b24d560abf9a7b991]
remote:
remote:          All the parameters for RESERVEDMEM_OF_DECLARE function callbacks are
remote:          members of struct reserved_mem, so just pass the struct ptr to callback
remote:          functions so the function callback is more in line with other OF match
remote:          table callbacks.
remote:
remote:          SWLINUX-2786
remote:
remote:          Acked-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Acked-by: Grant Likely <grant.likely@linaro.org>
remote:          Signed-off-by: Rob Herring <robh@kernel.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit d0ea197730a9729756dfee4a41c83668f123b8b6)
remote:
remote:      commit 8c25002ccafe9b106f4063cfcb171943716d8085
remote:      Author: Marek Szyprowski <m.szyprowski@samsung.com>
remote:      Date:   Fri Feb 28 14:42:49 2014 +0100
remote:
remote:          drivers: of: add support for custom reserved memory drivers
remote:
remote:          [Upstream commit f618c4703a14672d27bc2ca5d132a844363d6f5f]
remote:
remote:          Add support for custom reserved memory drivers. Call their init() function
remote:          for each reserved region and prepare for using operations provided by them
remote:          with by the reserved_mem->ops array.
remote:
remote:          Based on previous code provided by Josh Cartwright <joshc@codeaurora.org>
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Signed-off-by: Grant Likely <grant.likely@linaro.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit d2e30989a258501e2d52f0e9b41242fbea4c35de)
remote:
remote:      commit 1e2113768e28692464981040fc40dceeca07e511
remote:      Author: Laurent Pinchart <laurent.pinchart+renesas@ideasonboard.com>
remote:      Date:   Fri Oct 24 13:18:42 2014 +0300
remote:
remote:          mm: cma: Use %pa to print physical addresses
remote:
remote:          [Upstream commit 56fa4f609badbe442093409c3d3a051811e54f72]
remote:
remote:          Casting physical addresses to unsigned long and using %lu truncates the
remote:          values on systems where physical addresses are larger than 32 bits. Use
remote:          %pa and get rid of the cast instead.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Laurent Pinchart <laurent.pinchart+renesas@ideasonboard.com>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Acked-by: Geert Uytterhoeven <geert+renesas@glider.be>
remote:          Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 858ba8fdfcbb299e178f070b6657b15ce792e3dd)
remote:
remote:      commit 1ed53a2bf25afc319568a428a4d56814299010ed
remote:      Author: Laurent Pinchart <laurent.pinchart+renesas@ideasonboard.com>
remote:      Date:   Fri Oct 24 13:18:41 2014 +0300
remote:
remote:          mm: cma: Ensure that reservations never cross the low/high mem boundary
remote:
remote:          [Upstream commit 16195ddd4ebcc10c30b2f232f8e400df8d464380]
remote:
remote:          Commit 95b0e655f914 ("ARM: mm: don't limit default CMA region only to
remote:          low memory") extended CMA memory reservation to allow usage of high
remote:          memory. It relied on commit f7426b983a6a ("mm: cma: adjust address limit
remote:          to avoid hitting low/high memory boundary") to ensure that the reserved
remote:          block never crossed the low/high memory boundary. While the
remote:          implementation correctly lowered the limit, it failed to consider the
remote:          case where the base..limit range crossed the low/high memory boundary
remote:          with enough space on each side to reserve the requested size on either
remote:          low or high memory.
remote:
remote:          Rework the base and limit adjustment to fix the problem. The function
remote:          now starts by rejecting the reservation altogether for fixed
remote:          reservations that cross the boundary, tries to reserve from high memory
remote:          first and then falls back to low memory.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Laurent Pinchart <laurent.pinchart+renesas@ideasonboard.com>
remote:          Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 20ed5aedc85a032c8d0e3fbacd4ca16e3309394c)
remote:
remote:      commit 4280b639e0fcf046809fd29b3262ac05cc7a6c21
remote:      Author: Laurent Pinchart <laurent.pinchart+renesas@ideasonboard.com>
remote:      Date:   Fri Oct 24 13:18:40 2014 +0300
remote:
remote:          mm: cma: Always consider a 0 base address reservation as dynamic
remote:
remote:          [Upstream commit 800a85d3d286604b8c539ca7ee90b992316fd2a7]
remote:
remote:          The fixed parameter to cma_declare_contiguous() tells the function
remote:          whether the given base address must be honoured or should be considered
remote:          as a hint only. The API considers a zero base address as meaning any
remote:          base address, which must never be considered as a fixed value.
remote:
remote:          Part of the implementation correctly checks both fixed and base != 0,
remote:          but two locations check the fixed value only. Set fixed to false when
remote:          base is 0 to fix that and simplify the code.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Laurent Pinchart <laurent.pinchart+renesas@ideasonboard.com>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit db6b5f24fdbc8d565010003ce70db9877d92ba27)
remote:
remote:      commit 1a486b3ec5880fa4a7fa6512ec6810ed7fba1927
remote:      Author: Laurent Pinchart <laurent.pinchart+renesas@ideasonboard.com>
remote:      Date:   Fri Oct 24 13:18:39 2014 +0300
remote:
remote:          mm: cma: Don't crash on allocation if CMA area can't be activated
remote:
remote:          [Upstream commit f022d8cb7ec70fe8edd56383d876001317ee76b1]
remote:
remote:          If activation of the CMA area fails its mutex won't be initialized,
remote:          leading to an oops at allocation time when trying to lock the mutex. Fix
remote:          this by setting the cma area count field to 0 when activation fails,
remote:          leading to allocation returning NULL immediately.
remote:
remote:          SWLINUX-2786
remote:
remote:          Cc: <stable@vger.kernel.org>  # v3.17
remote:          Signed-off-by: Laurent Pinchart <laurent.pinchart+renesas@ideasonboard.com>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit c5a36cb40607750a565c4223d9aaef1dfa6036b9)
remote:
remote:      commit ea4832f85e1ad0929c7583af738dbe2a49efa6f0
remote:      Author: Weijie Yang <weijie.yang@samsung.com>
remote:      Date:   Mon Oct 13 15:51:03 2014 -0700
remote:
remote:          mm/cma: fix cma bitmap aligned mask computing
remote:
remote:          [Upstream commit 68faed630fc151a7a1c4853df00fb3dcacf782b4]
remote:
remote:          The current cma bitmap aligned mask computation is incorrect.  It could
remote:          cause an unexpected alignment when using cma_alloc() if the wanted align
remote:          order is larger than cma->order_per_bit.
remote:
remote:          Take kvm for example (PAGE_SHIFT = 12), kvm_cma->order_per_bit is set to
remote:          6.  When kvm_alloc_rma() tries to alloc kvm_rma_pages, it will use 15 as
remote:          the expected align value.  After using the current implementation however,
remote:          we get 0 as cma bitmap aligned mask other than 511.
remote:
remote:          This patch fixes the cma bitmap aligned mask calculation.
remote:
remote:          SWLINUX-2786
remote:
remote:          [akpm@linux-foundation.org: coding-style fixes]
remote:          Signed-off-by: Weijie Yang <weijie.yang@samsung.com>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Cc: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Cc: "Aneesh Kumar K.V" <aneesh.kumar@linux.vnet.ibm.com>
remote:          Cc: <stable@vger.kernel.org>	[3.17]
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:          (cherry picked from commit 1f5fe3e4da6f752a16661f073ba29b828c534a2f)
remote:
remote:      commit f7353506ed034fa1a5e5fd20087d394b04d1d02f
remote:      Author: Jean Delvare <jdelvare@suse.de>
remote:      Date:   Thu Oct 9 15:29:41 2014 -0700
remote:
remote:          CMA: document cma=0
remote:
remote:          [Upstream commit f0d6d1f6ff6f8525cfa396ec1969b8f402391445]
remote:
remote:          It isn't obvious that CMA can be disabled on the kernel's command line, so
remote:          document it.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Jean Delvare <jdelvare@suse.de>
remote:          Cc: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Cc: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
remote:          Cc: Akinobu Mita <akinobu.mita@gmail.com>
remote:          Cc: Chuck Ebbert <cebbert.lkml@gmail.com>
remote:          Cc: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Cc: Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit bb032b1461faf2a87f653a0ca2d9658ceb9b8a37)
remote:
remote:      commit e800270cbef5f5375ac8fa6ba79b02f9ae924c08
remote:      Author: Marek Szyprowski <m.szyprowski@samsung.com>
remote:      Date:   Thu Oct 9 15:26:47 2014 -0700
remote:
remote:          mm: cma: adjust address limit to avoid hitting low/high memory boundary
remote:
remote:          [Upstream commit f7426b983a6a353cf21e5733e84458219c4a817e]
remote:
remote:          Russell King recently noticed that limiting default CMA region only to low
remote:          memory on ARM architecture causes serious memory management issues with
remote:          machines having a lot of memory (which is mainly available as high
remote:          memory).  More information can be found the following thread:
remote:          http://thread.gmane.org/gmane.linux.ports.arm.kernel/348441/
remote:
remote:          Those two patches removes this limit letting kernel to put default CMA
remote:          region into high memory when this is possible (there is enough high memory
remote:          available and architecture specific DMA limit fits).
remote:
remote:          This should solve strange OOM issues on systems with lots of RAM (i.e.
remote:          >1GiB) and large (>256M) CMA area.
remote:
remote:          This patch (of 2):
remote:
remote:          Automatically allocated regions should not cross low/high memory boundary,
remote:          because such regions cannot be later correctly initialized due to spanning
remote:          across two memory zones.  This patch adds a check for this case and a
remote:          simple code for moving region to low memory if automatically selected
remote:          address might not fit completely into high memory.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Cc: Daniel Drake <drake@endlessm.com>
remote:          Cc: Minchan Kim <minchan@kernel.org>
remote:          Cc: Russell King <rmk@arm.linux.org.uk>
remote:          Cc: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 001476fa34fe9be8961869dd1a3605c06c59a3c3)
remote:
remote:      commit 89b1f17de5033087bb8d76daf80b516bf86cc4bf
remote:      Author: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:      Date:   Wed Aug 6 16:05:34 2014 -0700
remote:
remote:          mm, CMA: clean-up log message
remote:
remote:          [Upstream commit 0de9d2ebe590f9203dac59d4b8e298c473764b92]
remote:
remote:          We don't need explicit 'CMA:' prefix, since we already define prefix
remote:          'cma:' in pr_fmt.  So remove it.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Reviewed-by: Zhang Yanfei <zhangyanfei@cn.fujitsu.com>
remote:          Cc: "Aneesh Kumar K.V" <aneesh.kumar@linux.vnet.ibm.com>
remote:          Cc: Alexander Graf <agraf@suse.de>
remote:          Cc: Aneesh Kumar K.V <aneesh.kumar@linux.vnet.ibm.com>
remote:          Cc: Gleb Natapov <gleb@kernel.org>
remote:          Acked-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Tested-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Cc: Minchan Kim <minchan@kernel.org>
remote:          Cc: Paolo Bonzini <pbonzini@redhat.com>
remote:          Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
remote:          Cc: Paul Mackerras <paulus@samba.org>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 2a43c6796e88f0fd5f6ca2007d8d72851a293be9)
remote:
remote:      commit 415968b4659bc73535083dffd4b36203677c67ee
remote:      Author: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:      Date:   Wed Aug 6 16:05:32 2014 -0700
remote:
remote:          mm, CMA: change cma_declare_contiguous() to obey coding convention
remote:
remote:          [Upstream commit c1f733aaaf30a0068a3126d5aa9d5b4c25ba4c0c]
remote:
remote:          Conventionally, we put output param to the end of param list and put the
remote:          'base' ahead of 'size', but cma_declare_contiguous() doesn't look like
remote:          that, so change it.
remote:
remote:          Additionally, move down cma_areas reference code to the position where
remote:          it is really needed.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Reviewed-by: Aneesh Kumar K.V <aneesh.kumar@linux.vnet.ibm.com>
remote:          Cc: Alexander Graf <agraf@suse.de>
remote:          Cc: Aneesh Kumar K.V <aneesh.kumar@linux.vnet.ibm.com>
remote:          Cc: Gleb Natapov <gleb@kernel.org>
remote:          Acked-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Tested-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Cc: Minchan Kim <minchan@kernel.org>
remote:          Cc: Paolo Bonzini <pbonzini@redhat.com>
remote:          Cc: Zhang Yanfei <zhangyanfei@cn.fujitsu.com>
remote:          Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
remote:          Cc: Paul Mackerras <paulus@samba.org>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          [gregory: I didn't check very carefully whether the change to
remote:          resolve the conflict in arch/powerpc/kvm/book3s_hv_builtin.c is okay because we
remote:          don't use it]
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:          Conflicts:
remote:          	arch/powerpc/kvm/book3s_hv_builtin.c
remote:
remote:          (cherry picked from commit df085ec0e7089a191ad7e1f58c4b880f53c6c30d)
remote:
remote:      commit 60dc2c500e3c476bdea6226ff296b75cd6a0ebab
remote:      Author: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:      Date:   Wed Aug 6 16:05:30 2014 -0700
remote:
remote:          mm, CMA: clean-up CMA allocation error path
remote:
remote:          [Upstream commit b7155e76a702d97553660828347b9f10858b4dd5]
remote:
remote:          We can remove one call sites for clear_cma_bitmap() if we first call it
remote:          before checking error number.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Acked-by: Minchan Kim <minchan@kernel.org>
remote:          Reviewed-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Reviewed-by: Zhang Yanfei <zhangyanfei@cn.fujitsu.com>
remote:          Reviewed-by: Aneesh Kumar K.V <aneesh.kumar@linux.vnet.ibm.com>
remote:          Cc: Alexander Graf <agraf@suse.de>
remote:          Cc: Aneesh Kumar K.V <aneesh.kumar@linux.vnet.ibm.com>
remote:          Cc: Gleb Natapov <gleb@kernel.org>
remote:          Acked-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Tested-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Cc: Paolo Bonzini <pbonzini@redhat.com>
remote:          Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
remote:          Cc: Paul Mackerras <paulus@samba.org>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit bbac9e42e8195976eac07690d2657cf4344d4174)
remote:
remote:      commit 224aa0cca1ac1d2cdabf9a3247e2d9c77d398fde
remote:      Author: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:      Date:   Wed Aug 6 16:05:25 2014 -0700
remote:
remote:          CMA: generalize CMA reserved area management functionality
remote:
remote:          [Upstream commit a254129e8686bff7a340b58f35241b04927e81c0]
remote:
remote:          Currently, there are two users on CMA functionality, one is the DMA
remote:          subsystem and the other is the KVM on powerpc.  They have their own code
remote:          to manage CMA reserved area even if they looks really similar.  From my
remote:          guess, it is caused by some needs on bitmap management.  KVM side wants
remote:          to maintain bitmap not for 1 page, but for more size.  Eventually it use
remote:          bitmap where one bit represents 64 pages.
remote:
remote:          When I implement CMA related patches, I should change those two places
remote:          to apply my change and it seem to be painful to me.  I want to change
remote:          this situation and reduce future code management overhead through this
remote:          patch.
remote:
remote:          This change could also help developer who want to use CMA in their new
remote:          feature development, since they can use CMA easily without copying &
remote:          pasting this reserved area management code.
remote:
remote:          In previous patches, we have prepared some features to generalize CMA
remote:          reserved area management and now it's time to do it.  This patch moves
remote:          core functions to mm/cma.c and change DMA APIs to use these functions.
remote:
remote:          There is no functional change in DMA APIs.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          Acked-by: Zhang Yanfei <zhangyanfei@cn.fujitsu.com>
remote:          Acked-by: Minchan Kim <minchan@kernel.org>
remote:          Reviewed-by: Aneesh Kumar K.V <aneesh.kumar@linux.vnet.ibm.com>
remote:          Cc: Alexander Graf <agraf@suse.de>
remote:          Cc: Aneesh Kumar K.V <aneesh.kumar@linux.vnet.ibm.com>
remote:          Cc: Gleb Natapov <gleb@kernel.org>
remote:          Acked-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Tested-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Cc: Paolo Bonzini <pbonzini@redhat.com>
remote:          Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
remote:          Cc: Paul Mackerras <paulus@samba.org>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          [gregory: backport to stblinux-3.14, which exports struct cma from header]
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:          Conflicts:
remote:          	drivers/base/dma-contiguous.c
remote:          	include/linux/dma-contiguous.h
remote:          	mm/Makefile
remote:
remote:          (cherry picked from commit 20f856ba533003aa8eab7518c2a401706ef428cd)
remote:
remote:      commit 0d154ea25a34877b522fff9fe5d34811896afa73
remote:      Author: Akinobu Mita <akinobu.mita@gmail.com>
remote:      Date:   Wed Jun 4 16:06:54 2014 -0700
remote:
remote:          cma: add placement specifier for "cma=" kernel parameter
remote:
remote:          [Upstream commit 5ea3b1b2f8ad9162684431ce6188102ca4c64b7a]
remote:
remote:          Currently, "cma=" kernel parameter is used to specify the size of CMA,
remote:          but we can't specify where it is located.  We want to locate CMA below
remote:          4GB for devices only supporting 32-bit addressing on 64-bit systems
remote:          without iommu.
remote:
remote:          This enables to specify the placement of CMA by extending "cma=" kernel
remote:          parameter.
remote:
remote:          Examples:
remote:           1. locate 64MB CMA below 4GB by "cma=64M@0-4G"
remote:           2. locate 64MB CMA exact at 512MB by "cma=64M@512M"
remote:
remote:          Note that the DMA contiguous memory allocator on x86 assumes that
remote:          page_address() works for the pages to allocate.  So this change requires
remote:          to limit end address of contiguous memory area upto max_pfn_mapped to
remote:          prevent from locating it on highmem area by the argument of
remote:          dma_contiguous_reserve().
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Akinobu Mita <akinobu.mita@gmail.com>
remote:          Cc: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Cc: Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>
remote:          Cc: David Woodhouse <dwmw2@infradead.org>
remote:          Cc: Don Dutile <ddutile@redhat.com>
remote:          Cc: Thomas Gleixner <tglx@linutronix.de>
remote:          Cc: Ingo Molnar <mingo@redhat.com>
remote:          Cc: "H. Peter Anvin" <hpa@zytor.com>
remote:          Cc: Andi Kleen <andi@firstfloor.org>
remote:          Cc: Yinghai Lu <yinghai@kernel.org>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit aaf796cbee20054039e2171c1dd2972a45d78a4f)
remote:
remote:      commit 8620f7c3f79b6126b52a99d4f6bbc293e3a1ba8b
remote:      Author: Akinobu Mita <akinobu.mita@gmail.com>
remote:      Date:   Wed Jun 4 16:06:53 2014 -0700
remote:
remote:          memblock: introduce memblock_alloc_range()
remote:
remote:          [Upstream commit 2bfc2862c4fe38379a2fb2cfba33fad32ccb4ff4]
remote:
remote:          This introduces memblock_alloc_range() which allocates memblock from the
remote:          specified range of physical address.  I would like to use this function
remote:          to specify the location of CMA.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Akinobu Mita <akinobu.mita@gmail.com>
remote:          Cc: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Cc: Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>
remote:          Cc: David Woodhouse <dwmw2@infradead.org>
remote:          Cc: Don Dutile <ddutile@redhat.com>
remote:          Cc: Thomas Gleixner <tglx@linutronix.de>
remote:          Cc: Ingo Molnar <mingo@redhat.com>
remote:          Cc: "H. Peter Anvin" <hpa@zytor.com>
remote:          Cc: Andi Kleen <andi@firstfloor.org>
remote:          Cc: Yinghai Lu <yinghai@kernel.org>
remote:          Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:          Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:          (cherry picked from commit 17615d567c0e8d8bfed76c00602c55a21aa284f9)
remote:
remote:      commit 956d08d30d47acb602d6dcfb77dab3782147a646
remote:      Author: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:      Date:   Thu May 29 15:29:18 2014 +0900
remote:
remote:          CMA: correct unlock target
remote:
remote:          [Upstream commit f70e3c4f8b6ab61f713e040822ec51f5de498146]
remote:
remote:          'cma: Remove potential deadlock situation' introduces per cma area mutex
remote:          for bitmap management. It is good, but there is one mistake. When we
remote:          can't find appropriate area in bitmap, we release cma_mutex global lock
remote:          rather than cma->lock and this is a bug. So fix it.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 8778038de5acbb9eae2fac0e08a6aedcdb697e78)
remote:
remote:      commit 9cc399a97e3d3573ff4c2e4d0984631735f5fdf9
remote:      Author: Gioh Kim <gioh.kim@lge.com>
remote:      Date:   Thu May 22 13:31:37 2014 +0900
remote:
remote:          drivers/base/dma-contiguous.c: erratum of dev_get_cma_area
remote:
remote:          [Upstream commit bb56d0dc23aa3428c0b1901414bfcf698eb693fb]
remote:
remote:          fix erratum get_dev_cma_area into dev_get_cma_area
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Gioh Kim <gioh.kim@lge.com>
remote:          Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:          (cherry picked from commit 6cf2b5a3c4fa83edf1d3f5e132324a4ee26c9ff9)
remote:
remote:      commit 9df3c5b6902b324913490086d53c528f9cd46452
remote:      Author: Gioh Kim <gioh.kim@lge.com>
remote:      Date:   Thu May 22 13:38:23 2014 +0900
remote:
remote:          arm: dma-mapping: add checking cma area initialized
remote:
remote:          [Upstream commit e464ef16c4f080bb85ccf9085f92503b5b5b1e13]
remote:
remote:          If CMA is turned on and CMA size is set to zero, kernel should
remote:          behave as if CMA was not enabled at compile time.
remote:          Every dma allocation should check existence of cma area
remote:          before requesting memory.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Gioh Kim <gioh.kim@lge.com>
remote:          Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:          Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:          [mszyprow: removed redundant empty line from the patch]
remote:          Signed-off-by: <m.szyprowski@samsung.com>
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:          (cherry picked from commit 3812bdd1822616ad9cd2db39a616e82a2fe4b51c)
remote:
remote:      commit 4e7b27b84e2801d025e365c25eb64cd331af241b
remote:      Author: Laura Abbott <lauraa@codeaurora.org>
remote:      Date:   Tue Feb 25 11:01:19 2014 -0800
remote:
remote:          cma: Remove potential deadlock situation
remote:
remote:          [Upstream commit 7ee793a62fa8c544f8b844e6e87b2d8e8836b219]
remote:
remote:          CMA locking is currently very coarse. The cma_mutex protects both
remote:          the bitmap and avoids concurrency with alloc_contig_range. There
remote:          are several situations which may result in a deadlock on the CMA
remote:          mutex currently, mostly involving AB/BA situations with alloc and
remote:          free. Fix this issue by protecting the bitmap with a mutex per CMA
remote:          region and use the existing mutex for protecting against concurrency
remote:          with alloc_contig_range.
remote:
remote:          SWLINUX-2786
remote:
remote:          Signed-off-by: Laura Abbott <lauraa@codeaurora.org>
remote:          Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:          [gregory: Since we export struct cma right now, had to update that in
remote:          dma-contiguous.h instead]
remote:          Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:          Conflicts:
remote:          	drivers/base/dma-contiguous.c
remote:
remote:          (cherry picked from commit 248f48124788878b809819a5cecb3e43af104b9c)
remote:
remote:      commit 4e62040380be14e6c5c09a7abc45bcaf9e807b46
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Fri Jan 30 12:07:46 2015 -0800
remote:
remote:          brcmstb_defconfig: add Intel PowerClamp driver
remote:
remote:          We may be using this for thermally-contrained applications. Let's enable
remote:          it by default so it's easier for people to test.
remote:
remote:          SWLINUX-3288
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 8d6ff5f6ad1a3ed1242a3f2bd467d30f17446cc9)
remote:
remote:      commit 192a56eee156586b862f49c91e07192db1775bac
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Fri Jan 30 12:01:48 2015 -0800
remote:
remote:          Documentation: devicetree: add bindings doc for AVS TMON HW
remote:
remote:          Notably, the interrupt is not yet used, but let's document it, since
remote:          it's in BOLT, and I have test code using it.
remote:
remote:          SWLINUX-3288
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit ff43d89f747b9196da3adced6e45d386d97fcce4)
remote:
remote:      commit 1e8fa1ef0cd1460beda205b436a43c30e00f401b
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Thu Jan 29 16:14:47 2015 -0800
remote:
remote:          tools/thermal: add --target-temp parameter to 'tmon' tool
remote:
remote:          If we launch in daemon mode (--daemon), we don't have the ncurses UI,
remote:          but we might want to set the target temperature still. For example,
remote:          someone might stick the following in their boot script:
remote:
remote:            tmon --control intel_powerclamp --target-temp 90 --log --daemon
remote:
remote:          This would turn on CPU idle injection when we're around 90 degrees
remote:          celsius, and would log temperature and throttling info to
remote:          /var/tmp/tmon.log.
remote:
remote:          SWLINUX-3288
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 68f6c879b5e54477128b341d83a2d3a2d9e0795b)
remote:
remote:      commit c0d5bef4a31813a4ee427cdb76515b7788d8bc51
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jan 26 17:35:04 2015 -0800
remote:
remote:          tools/thermal: add build system 'makefile'
remote:
remote:          Hooks tmon into our uclinux-rootfs build system by supplying a 'makefile' which
remote:          runs before the original 'Makefile'.
remote:
remote:          SWLINUX-3288
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 5b3f511429b67cf7e460f7872bc5cb878013a893)
remote:
remote:      commit 9ee3a42016586ee487b58bbf3b1cbe861fae903e
remote:      Author: Florian Fainelli <fainelli@broadcom.com>
remote:      Date:   Mon Jan 26 17:34:20 2015 -0800
remote:
remote:          tools/thermal: allow switching between ncurses and ncursesw
remote:
remote:          Factor the libraries in TMON_LIBS and allow an external Makefile to specify
remote:          whether we would want to use ncursesw or ncurses.
remote:
remote:          SWLINUX-3288
remote:
remote:          Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:          (cherry picked from commit 0c843520856747b83a7ea7c97047639cb959d1c6)
remote:
remote:      commit 345540a0de3db14a9681b92155807a5865ff08a6
remote:      Author: Jonghwa Lee <jonghwa3.lee@samsung.com>
remote:      Date:   Mon Dec 22 17:49:09 2014 -0800
remote:
remote:          thermal: powerclamp: Add support for ARM machine to powerclamp driver.
remote:
remote:          This patch modifies intel_powerclamp driver can be used in not only x86
remote:          but also ARM. Any ARM system can use intel_powerclamp driver for managing
remote:          thermal problem through injecting intentional idle cycle. The required
remote:          modification is only that it replaces x86's instruction, mwait, with arm
remote:          specific one, wfi and changes the way of calculation of idle rate of last
remote:          window. Other algorithm and codes can be shared without any amendment.
remote:
remote:          Signed-off-by: Jonghwa Lee <jonghwa3.lee@samsung.com>
remote:          Signed-off-by: Myungjoo Ham <myungjoo.ham@samsung.com>
remote:
remote:          Notes from Brian:
remote:
remote:          Pulled from http://marc.info/?l=linux-pm&m=137474779032661
remote:
remote:          Applied with small warning fixes. Note that there is some upstream
remote:          discussion about revamping this driver significantly. Not sure if we
remote:          want to enable this by default.
remote:
remote:          SWLINUX-3288
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 4c1d2a761e5877a1809bc4cd94b15a04b1420a10)
remote:
remote:      commit dc903d467c7ab5b593a7316a0fab8161f01c0a12
remote:      Author: Brian Norris <norris@broadcom.com>
remote:      Date:   Mon Dec 15 17:41:30 2014 -0800
remote:
remote:          thermal: add brcmstb AVS TMON driver
remote:
remote:          Working for basic temperature reads. Trip points and interrupt handling
remote:          will be added later, once we determine the best method for representing
remote:          them.
remote:
remote:          SWLINUX-3288
remote:
remote:          Signed-off-by: Brian Norris <norris@broadcom.com>
remote:          (cherry picked from commit 6a85fe8b6434b4876bbf901615a76c938b4e6526)
remote:
remote:      commit 4a52346c821ce1eb87c2ab8679e35ba680392e02
remote:      Author: Tim Ross <tross@broadcom.com>
remote:      Date:   Mon May 23 17:34:47 2016 -0400
remote:
remote:          SWRGROUTER-4730: PM: Linux powers itself off after boot on DCM boards
remote:
remote:          Override BMU power state on DCM & PHYDVT boards because BMU reports
remote:          incorrect state.
remote:
remote:          SWRGROUTER-4730
remote:
remote:      commit 7d70446dd2dc822376a45eb1d9842e84da3849cd
remote:      Author: Chris Zacker <czacker@cm-irv-1.irv.broadcom.com>
remote:      Date:   Fri May 20 11:10:46 2016 -0700
remote:
remote:          Throughput is only 80 Mbps on a 100 Mbps link
remote:
remote:          The pause registers were not getting setup for the IMP port so that if a cpe
remote:          was connected to a lan port at lower speed we would end up dropping packets
remote:          and getting lower throughput. Enabled the PAUSE register like it was in ecos
remote:          and the problem was fixed.
remote:
remote:          SWRGROUTER-3894
remote:
remote:      commit 6988eb285efca8094c4f0d4bdd9eb210937e68ae
remote:      Author: Chris Zacker <czacker@cm-irv-1.irv.broadcom.com>
remote:      Date:   Fri May 20 11:01:29 2016 -0700
remote:
remote:          CPE 192.168.0.x via ethernet can not ping each other
remote:
remote:          Make sure switch chip has defaults settings for lan ports being able to
remote:          communicate between other ports
remote:
remote:          SWRGROUTER-4654
remote:
remote:      commit 26213c5d897b429980f7512d60ac75db419bc159
remote:      Author: Tim Ross <tross@broadcom.com>
remote:      Date:   Fri May 20 09:42:50 2016 -0400
remote:
remote:          SWRGROUTER-4697: Battery: Linux fails to set battery_mode_rules after CM comes up
remote:
remote:          Only look at current battery state and not the state it was in when it started booting.
remote:
remote:          SWRGROUTER-4697
remote:
remote:      commit 8a72a5d5bc57ad334415254c0ea94e0c06c5b853
remote:      Author: Steven Kern <skern@broadcom.com>
remote:      Date:   Thu Apr 28 15:53:51 2016 -0400
remote:
remote:          SWRGROUTER-4679: Battery: Modem rebooted after a crash while in batteryi
remote:          mode with wrong power state and RG not shutdown
remote:
remote:          Add support for 3390B0 DDR phy to PM driver.
remote:          Enable access to all ARM CPU owned MBOX registers and L2 IRQ registers.
remote:
remote:          SWRGROUTER-4679
remote:
remote:          (cherry picked from commit b60c0ed5a85723f833ccaa3c8f4955dd862da23f)
remote:
remote:      commit 43519f8ed22ae2fde0bf8ba3ee8a456da718f4be
remote:      Author: Russell Enderby <enderby@lc-atl-221.atl.broadcom.com>
remote:      Date:   Tue May 17 10:39:12 2016 -0400
remote:
remote:          SWRGROUTER-4519:Add SPI driver for external Zigbee on 3390
remote:
remote:          Added SPI master driver for MSPI SPI block.
remote:
remote:          SWRGROUTER-4519
remote:
remote:      commit be9d4ac16034ded11a69ece02354db7c0c0bd08f
remote:      Merge: a4ab5f0 894a0c4
remote:      Author: Chris Zacker <czacker@cm-irv-1.irv.broadcom.com>
remote:      Date:   Tue May 17 07:27:38 2016 -0700
remote:
remote:          CPE 192.168.0.x via ethernet can not ping each other
remote:
remote:          SWRGROUTER-4654
remote:
remote:          Merge branch 'develop' of git-irv-08.irv.broadcom.com:gitRepo/erouter-linux-314 into develop
remote:
remote:      commit a4ab5f014b7a1ea2414cebdf85353d5624144a3e
remote:      Author: Chris Zacker <czacker@cm-irv-1.irv.broadcom.com>
remote:      Date:   Tue May 17 06:16:18 2016 -0700
remote:
remote:          CPE 192.168.0.x via ethernet can not ping each other
remote:
remote:          SWRGROUTER-4654
remote:
remote:      commit ad71071531fca56f5e96333c86670a12ddbed32a
remote:      Author: Chris Zacker <czacker@cm-irv-1.irv.broadcom.com>
remote:      Date:   Mon May 16 13:23:47 2016 -0700
remote:
remote:          CPE 192.168.0.x via ethernet can not ping each other
remote:
remote:          SWRGROUTER-4654
remote:
remote:      commit 894a0c44c1881443ee7372eeb801ebc055e24c8e
remote:      Author: Arti Katre <akatre@broadcom.com>
remote:      Date:   Thu May 12 14:23:52 2016 -0700
remote:
remote:          WiFi: "FPM Pool 0: pool full" errors while running concurrent traffic
remote:          through both wifi radios.
remote:
remote:          Updated console print message for FPM pool full interrupt.
remote:
remote:          SWRGROUTER-4337
remote:
remote:      commit fe75d04fe99aea99cc1848fa5f9150d4477c042c
remote:      Author: Peter Timariu <ptimariu@broadcom.com>
remote:      Date:   Thu May 12 09:55:50 2016 -0700
remote:
remote:          SWRGROUTER-4133: WiFi performance optimizations
remote:
remote:          Various TP optimizations for DHD/4366 3390 platforms:
remote:
remote:          - integrated interrupt coalescence for CPU utilization
remote:          - added PACKET_BUDGET batching of DQM reads in TX direction.
remote:          - tweaked structures for Cache line optimizations.
remote:          - added Branch prediction hints in DHD shim.
remote:          - additional inlining and BCM_FASTPATH additions.
remote:          - switched back to KTHREAD from tasklets in 3390
remote:          - introduced BUZZZ profiling framework in data path
remote:          - resolved WiFi: "FPM Pool 0: pool full" errors while running concurrent traffic
remote:          through both wifi radios.
remote:
remote:          Resolved Conflicts:
remote:          	arch/arm/boot/dts/rg.3390-base.dtsi
remote:
remote:          SWRGROUTER-4133
remote:
remote:      commit 8061ef106a5e5ef160a1d26450a9f0a4e6609e63
remote:      Author: Mark Newcomer <newcomer@broadcom.com>
remote:      Date:   Fri May 6 12:38:32 2016 -0700
remote:
remote:          SWRGROUTER-4162: MoCA fails to boot and has silent assertions
remote:
remote:          Since not all hardware and usage cases for 3384 platforms support usage
remote:          of a hardware interrupt, a polling mode has been added to poll for IRQ
remote:          status. This is timer based, and adjust polling frequency based on the
remote:          amount of speed needed for IRQ response. Polling mode is enabled by commenting
remote:          out the interrupt nodes in the bmoca device tree node.
remote:
remote:          SWRGROUTER-4162
remote:
remote:      commit 71ba95da7832a7bca0a76c12b963197830af42ef
remote:      Author: Mark Newcomer <newcomer@broadcom.com>
remote:      Date:   Wed May 4 13:45:47 2016 -0700
remote:
remote:          SWRGROUTER-4040: 3384/33843 performance with RGLinux is worse than eCos during long term traffic testing
remote:
remote:          Fixed build error introduced in previous commit.
remote:
remote:          SWRGROUTER-4040
remote:
remote:      commit 8848a6987df78aca07e03f6e33ac0d5bea12f71d
remote:      Author: Mark Newcomer <newcomer@broadcom.com>
remote:      Date:   Wed May 4 13:13:15 2016 -0700
remote:
remote:          SWRGROUTER-4040: 3384/33843 performance with RGLinux is worse than eCos during long term traffic testing
remote:
remote:          The UNIMAC MBDMA transmit channels were not being set up to optimally use
remote:          the UBUS multiple outstanding request feature. This feature allows the DMA
remote:          port to make multiple UBUS request at once. This was causing DMA transfers
remote:          to not be as fast as they could be and was affecting performance. This setting
remote:          has now been bumped to 4 outstanding requests.
remote:
remote:          SWRGROUTER-4040
remote:
remote:      commit 8adbc9ff6a393b62e35676040981985af19a9a2b
remote:      Author: Peter Sulc <petersu@broadcom.com>
remote:      Date:   Fri Apr 22 17:23:42 2016 -0400
remote:
remote:          SWRGROUTER-4215: Watchdog needs to have the option of setting nowayout at runtime.
remote:
remote:          SWRGROUTER-4215
remote:
remote:      commit 51243727b527e8dc1a39118b246b81d8d48ff139
remote:      Author: Jayesh Patel <jayeshp@broadcom.com>
remote:      Date:   Tue Apr 26 09:07:37 2016 -0400
remote:
remote:          SWRGROUTER-4485 3390: CLAB-GRE has endianness issue and is not working for 3390
remote:
remote:          Fixed endianness issue in removing vlan tag logic.
remote:
remote:          SWRGROUTER-4485
remote:
remote:      commit 201a6b35f78673a15b9f4481bbd2794739c1c2db
remote:      Author: Tyler White <twhite@cm-irv-1.irv.broadcom.com>
remote:      Date:   Thu Apr 21 12:39:24 2016 -0700
remote:
remote:          SWRGROUTER-3972: Community WiFi/L2oGRE
remote:
remote:          Added wlhhs to wlan Makefile, corrected call to wl assoclist,
remote:          fixed some errors in  netfilter ebt_dhcpsnoop module so that Agent Relay
remote:          DHCP option was inserted correctly into outgoing DHCP requests.
remote:
remote:          SWRGROUTER-3972
remote:
remote:      commit eabc1f7b77f33ad66a833c4708460a746c279c40
remote:      Author: Steve Muller <smuller@broadcom.com>
remote:      Date:   Mon Apr 18 14:10:56 2016 -0700
remote:
remote:          WiFi: Read WBID from WiFi daughter cards to load and insmod the correct WiFi driver
remote:
remote:          Now checking the WBID via I2c to determine the daughter card type and wifi cards associated with it.
remote:
remote:          SWRGROUTER-4152
remote:
remote:      commit da4995a6c10ec091b882c8153021254b0bbd3728
remote:      Author: Sandep Nanda <snanda@broadcom.com>
remote:      Date:   Mon Apr 18 11:30:37 2016 -0700
remote:
remote:          WiFi: use the correct assertlevel in the device tree for WPS pushbutton and LED
remote:
remote:          SWRGROUTER-4395
remote:
remote:      commit 1666b0ede1e5046f65b01f80240c4096ac356b6a
remote:      Author: Yanhai Han <yanhaih@broadcom.com>
remote:      Date:   Thu Apr 14 10:11:56 2016 +0800
remote:
remote:          SWRGROUTER-4389: Move kernel module nf_defrag_ipv6_notrack
remote:
remote:          Move nf_defrag_ipv6_notrack to drivers/bcm_media_gw/netfilter directory
remote:          and fix file header.Also when module is loaded/unloaded dump module
remote:          info (with name) to the console.
remote:
remote:          SWRGROUTER-4389
remote:
remote:      commit ebbc8a46a965ae9c693be52d92524db5efb79b5f
remote:      Author: Tim Ross <tross@broadcom.com>
remote:      Date:   Wed Apr 13 09:58:29 2016 -0400
remote:
remote:          SWRGROUTER-4384: DQM: Add interrupt coalescing support
remote:
remote:          Add back support for 4 column Q allocation table to fix problem with 3390A2.
remote:
remote:          SWRGROUTER-4384
remote:
remote:      commit a4a448333cbf7fb60df16d71dcec5ac33b6e24c8
remote:      Author: Tim Ross <tross@broadcom.com>
remote:      Date:   Thu Apr 7 16:31:34 2016 -0400
remote:
remote:          SWRGROUTER-4384: DQM: Add interrupt coalescing support
remote:
remote:          Update SW license comments.
remote:
remote:          SWRGROUTER-4384
remote:
remote:      commit 31a3936fc66115684b20a477360ed9020a5f19d0
remote:      Author: Tim Ross <tross@broadcom.com>
remote:      Date:   Thu Apr 7 15:40:26 2016 -0400
remote:
remote:          SWRGROUTER-4384: DQM: Add interrupt coalescing support
remote:
remote:          Add support for HWM and timer interrupts from DQM's that support them.
remote:          Add support to DT and driver to specifiy LWM, HWM, and timeouts for each DQM.
remote:
remote:          SWRGROUTER-4384
remote:
remote:      commit 5ff3e44c10799fca2e9a3962e6d980993f21373a
remote:      Author: Jayesh Patel <jayeshp@broadcom.com>
remote:      Date:   Mon Apr 4 17:50:57 2016 -0400
remote:
remote:          SWRGROUTER-4362 - Runner: Upgrade to release 1.4
remote:
remote:          Support for WiFi mulicast forwarding.
remote:
remote:          SWRGROUTER-4362
remote:
remote:      commit d82d603161c1ba91ef544d9320b975ddfcb0ac67
remote:      Author: Russell Enderby <enderby@lc-atl-221.atl.broadcom.com>
remote:      Date:   Mon Apr 4 09:19:31 2016 -0400
remote:
remote:          SWRGROUTER-4359:BCM933843WVG BCM93384WVG nightly builds failed in develop on 2016-04-01
remote:
remote:          Fix 3384 build issue generated by:
remote:          SWRGROUTER-4287:Creation of i2c WBID device/client and associated driver
remote:
remote:          SWRGROUTER-4359
remote:
remote:      commit 26f6d948e713fef79076d7bf1fefa91faefaec0f
remote:      Author: Russell Enderby <enderby@lc-atl-221.atl.broadcom.com>
remote:      Date:   Fri Apr 1 16:24:00 2016 -0400
remote:
remote:          SWRGROUTER-4287:Creation of i2c WBID device/client and associated driver
remote:
remote:          Added new WBID device/client driver for direct kernel access of the WBID value.
remote:
remote:          SWRGROUTER-4287
remote:
remote:
remote:   .../bindings/arm/brcm-brcmstb.txt      |    11 +
remote:   .../clock/multiplier-clock.txt         |    84 +
remote:   .../gpio/brcm,brcmstb-gpio.txt         |    24 +-
remote:   .../bindings/i2c/i2c-brcmstb.txt       |     2 +-
remote:   .../bindings/i2c/i2c-brcmwbid.txt      |    21 +
remote:   .../bindings/net/fixed-link.txt        |    30 +
remote:   .../devicetree/bindings/net/phy.txt    |     3 +
remote:   .../bindings/pci/brcmstb-pci.txt       |    10 +
remote:   .../bindings/pwm/brcm,bcm7038-pwm.txt  |     2 +-
remote:   .../spi/brcm,spi-brcmstb-mspi.txt      |    88 +
remote:   .../thermal/brcmstb-thermal.txt        |    20 +
remote:   .../bindings/usb/bdc-udc.txt           |    16 +
remote:   Documentation/kernel-parameters.txt    |    31 +-
remote:   .../power/basic-pm-debugging.txt       |    10 +-
remote:   arch/arm/Kconfig.debug                 |    11 +-
remote:   arch/arm/boot/dts/rg.3390-base.dtsi    |    98 +-
remote:   arch/arm/boot/dts/rg.3390-wifi.dtsi    |     6 +-
remote:   arch/arm/boot/dts/rg.3390a0.dts        |     1 +
remote:   arch/arm/boot/dts/rg.3390a2-dcm.dts    |    53 +-
remote:   arch/arm/boot/dts/rg.3390a2-smwvg.dts  |    45 +
remote:   arch/arm/boot/dts/rg.3390a2-sv.dts     |    45 +
remote:   arch/arm/boot/dts/rg.3390a2-vms.dts    |    45 +
remote:   arch/arm/boot/dts/rg.3390a2.dts        |    47 +-
remote:   arch/arm/boot/dts/rg.3390b0-dcm.dts    |     9 +-
remote:   arch/arm/boot/dts/rg.3390b0-smwvg.dts  |     1 +
remote:   arch/arm/boot/dts/rg.3390b0-sv.dts     |     1 +
remote:   arch/arm/boot/dts/rg.3390b0-vcm.dts    |     1 +
remote:   arch/arm/boot/dts/rg.3390b0-vms.dts    |     1 +
remote:   arch/arm/boot/dts/rg.3390b0.dts        |    21 +-
remote:   arch/arm/boot/dts/rg.3390z0.dts        |    11 +-
remote:   arch/arm/boot/dts/rg.7145a0.dts        |   382 -
remote:   arch/arm/boot/dts/rg.7145b0.dts        |  1080 -
remote:   arch/arm/boot/dts/rgvm.7145a0.dts      |   422 -
remote:   arch/arm/boot/dts/rgvm.7145b0.dts      |   482 -
remote:   arch/arm/boot/dts/stbvm.7145a0.dts     |   332 -
remote:   arch/arm/boot/dts/stbvm.7145b0.dts     |   401 -
remote:   arch/arm/boot/dts/svm.7145a0.dts       |   470 -
remote:   arch/arm/boot/dts/svm.7145b0.dts       |   146 -
remote:   arch/arm/configs/brcmstb_defconfig     |     9 +-
remote:   .../configs/brcmstb_hardened_defconfig |   182 +
remote:   arch/arm/include/asm/bug.h             |     3 -
remote:   arch/arm/include/asm/buzzz.h           |   846 +
remote:   arch/arm/include/asm/cacheflush.h      |     2 +-
remote:   arch/arm/include/asm/glue-cache.h      |     4 +
remote:   arch/arm/include/asm/hardirq.h         |     2 +-
remote:   .../asm/hardware/cache-b15-rac.h       |    12 +
remote:   arch/arm/include/asm/smp.h             |    13 +
remote:   arch/arm/kernel/devtree.c              |    40 +
remote:   arch/arm/kernel/smp.c                  |    93 +-
remote:   arch/arm/mach-bcm/Kconfig              |   114 +-
remote:   arch/arm/mach-bcm/Makefile             |    12 +-
remote:   arch/arm/mach-bcm/aon_defs.h           |    98 -
remote:   arch/arm/mach-bcm/brcmstb.c            |   490 +-
remote:   arch/arm/mach-bcm/brcmstb.h            |    67 -
remote:   arch/arm/mach-bcm/buzzz.c              |  3999 ++
remote:   arch/arm/mach-bcm/cma_driver.c         |  1231 -
remote:   arch/arm/mach-bcm/gisb-brcmstb.c       |   329 -
remote:   arch/arm/mach-bcm/headsmp-brcmstb.S    |    33 -
remote:   arch/arm/mach-bcm/headsmp-brcmstb.h    |    23 +
remote:   arch/arm/mach-bcm/hotplug-brcmstb.c    |   349 -
remote:   arch/arm/mach-bcm/pci-brcmstb.c        |   375 +-
remote:   arch/arm/mach-bcm/platsmp-brcmstb.c    |   382 +
remote:   arch/arm/mach-bcm/pm-brcmstb.c         |   887 -
remote:   arch/arm/mach-bcm/pm-brcmstb.h         |    40 -
remote:   arch/arm/mach-bcm/regsave.c            |   148 -
remote:   arch/arm/mach-bcm/s2-brcmstb.S         |    73 -
remote:   arch/arm/mach-bcm/srpd-brcmstb.c       |   155 -
remote:   arch/arm/mach-bcm/wktmr-brcmstb.c      |   245 -
remote:   arch/arm/mach-bcm/xpt_dma.c            |   318 -
remote:   arch/arm/mach-bcm/xpt_dma.h            |    60 -
remote:   arch/arm/mach-imx/headsmp.S            |     1 -
remote:   arch/arm/mach-prima2/headsmp.S         |     1 -
remote:   arch/arm/mach-shmobile/headsmp-scu.S   |     4 +-
remote:   arch/arm/mach-shmobile/headsmp.S       |     5 -
remote:   arch/arm/mach-shmobile/platsmp-apmu.c  |     2 +-
remote:   arch/arm/mach-socfpga/core.h           |     1 -
remote:   arch/arm/mach-socfpga/headsmp.S        |     5 -
remote:   arch/arm/mach-socfpga/platsmp.c        |     6 +-
remote:   arch/arm/mach-sunxi/Makefile           |     2 +-
remote:   arch/arm/mach-sunxi/headsmp.S          |     9 -
remote:   arch/arm/mach-sunxi/platsmp.c          |     2 +-
remote:   arch/arm/mach-tegra/Makefile           |     2 +-
remote:   arch/arm/mach-tegra/headsmp.S          |    12 -
remote:   arch/arm/mach-tegra/reset.c            |     2 +-
remote:   arch/arm/mach-tegra/reset.h            |     1 -
remote:   arch/arm/mach-zynq/common.h            |     2 -
remote:   arch/arm/mach-zynq/headsmp.S           |     5 -
remote:   arch/arm/mach-zynq/platsmp.c           |     5 +-
remote:   arch/arm/mm/Kconfig                    |     8 +
remote:   arch/arm/mm/Makefile                   |     1 +
remote:   arch/arm/mm/cache-b15-rac.c            |   368 +
remote:   arch/arm/mm/cache-v7.S                 |    24 +-
remote:   arch/arm/mm/dma-mapping.c              |     7 +-
remote:   arch/arm/mm/init.c                     |    17 +
remote:   arch/arm/mm/mmu.c                      |    25 +-
remote:   arch/arm/mm/proc-macros.S              |    11 -
remote:   arch/arm/mm/proc-v7-2level.S           |    11 -
remote:   arch/arm/mm/proc-v7.S                  |     8 +-
remote:   .../dts/bcm33843mwvg_mgw_zephyr.dtsi   |    12 +-
remote:   .../boot/dts/bcm3384_mgw_zephyr.dtsi   |     8 +-
remote:   arch/mips/boot/dts/bcm93384mwvg.dts    |     6 +-
remote:   arch/powerpc/kvm/book3s_hv_builtin.c   |     3 +-
remote:   arch/x86/include/asm/bug.h             |     3 -
remote:   arch/x86/kernel/setup.c                |     2 +-
remote:   drivers/Kconfig                        |     2 +
remote:   drivers/Makefile                       |     3 +
remote:   drivers/ata/ahci.h                     |     6 +
remote:   drivers/ata/ahci_platform.c            |    13 +
remote:   drivers/ata/libahci.c                  |    52 +
remote:   drivers/ata/libata-core.c              |     4 +-
remote:   drivers/ata/sata_brcmstb.c             |    78 +-
remote:   drivers/ata/sata_brcmstb.h             |    19 +-
remote:   drivers/ata/sata_brcmstb_phy.c         |    59 +-
remote:   drivers/base/Kconfig                   |    13 +-
remote:   drivers/base/dma-contiguous.c          |   285 +-
remote:   drivers/bcm_media_gw/Kconfig           |     7 +
remote:   drivers/bcm_media_gw/Makefile          |     1 +
remote:   .../bcm_media_gw/boot_assist/brcm_ba.c |     2 +-
remote:   drivers/bcm_media_gw/dqm/dqm.h         |     4 +-
remote:   drivers/bcm_media_gw/dqm/dqm_core.c    |   102 +-
remote:   drivers/bcm_media_gw/dqm/dqm_dbg.c     |    39 +-
remote:   drivers/bcm_media_gw/dqm/dqm_dbg.h     |     4 +-
remote:   drivers/bcm_media_gw/dqm/dqm_dev.h     |    16 +-
remote:   drivers/bcm_media_gw/dqm/dqm_dt.c      |   106 +-
remote:   drivers/bcm_media_gw/dqm/dqm_dt.h      |     4 +-
remote:   drivers/bcm_media_gw/dqm/dqm_hw.h      |    49 +-
remote:   drivers/bcm_media_gw/ethsw/ethsw.h     |     1 +
remote:   .../bcm_media_gw/ethsw/ethsw_core.c    |    73 +-
remote:   .../bcm_media_gw/ethsw/ethsw_core.h    |    11 +
remote:   .../ethsw/ethsw_init_plat.c            |     2 +-
remote:   drivers/bcm_media_gw/flowmgr/flowmgr.h |     2 +
remote:   .../bcm_media_gw/flowmgr/flowmgr_fap.c |   151 +-
remote:   .../flowmgr/flowmgr_mcast.c            |    25 +-
remote:   drivers/bcm_media_gw/fpm/fpm_core.c    |    24 +-
remote:   drivers/bcm_media_gw/fpm/fpm_priv.h    |     2 +
remote:   drivers/bcm_media_gw/i2c/Makefile      |     3 +
remote:   drivers/bcm_media_gw/i2c/wbid.c        |   134 +
remote:   drivers/bcm_media_gw/mbox/brcm_mbox.c  |    18 +
remote:   drivers/bcm_media_gw/mbox/brcm_mbox.h  |    11 +-
remote:   .../bcm_media_gw/mbox/brcm_mbox_priv.h |     4 +
remote:   drivers/bcm_media_gw/netfilter/Kconfig |     5 +
remote:   .../bcm_media_gw/netfilter/Makefile    |     3 +
remote:   .../netfilter/ebt_dhcpsnoop.c          |     4 +-
remote:   .../nf_defrag_ipv6_hooks_notrack.c     |   116 +
remote:   .../netfilter/xt_l2ogre_mt.c           |     2 +-
remote:   .../netfilter/xt_l2ogre_tg.c           |     2 +-
remote:   .../test/gpio_irqt/gpio_irqt_core.c    |    24 +-
remote:   drivers/bcm_media_gw/unimac/bcmmbdma.h |    70 +-
remote:   .../unimac/bcmmbdma_3384.c             |   121 +-
remote:   .../bcm_media_gw/wps/wps_gpio_core.c   |    49 +-
remote:   drivers/bus/Kconfig                    |     8 +
remote:   drivers/bus/Makefile                   |     1 +
remote:   drivers/bus/brcmstb_gisb.c             |   326 +
remote:   drivers/char/bmoca.c                   |   185 +-
remote:   drivers/char/bmoca_63xx_spi.c          |    65 +-
remote:   drivers/clk/Makefile                   |     1 +
remote:   drivers/clk/clk-brcmstb.c              |     2 +
remote:   drivers/clk/clk-divider.c              |    10 +-
remote:   drivers/clk/clk-multiplier.c           |   550 +
remote:   drivers/clk/clk.c                      |     6 +
remote:   drivers/gpio/Kconfig                   |     5 +-
remote:   drivers/gpio/gpio-brcmstb.c            |   408 +-
remote:   drivers/gpio/gpiolib.c                 |   369 +-
remote:   drivers/gpio/gpiolib.h                 |     3 +
remote:   drivers/hwmon/lm75.c                   |     9 +-
remote:   drivers/hwmon/tmp102.c                 |     6 +-
remote:   drivers/i2c/busses/i2c-brcmstb.c       |     4 +-
remote:   drivers/input/input.c                  |     6 +-
remote:   drivers/irqchip/irq-bcm7120-l2.c       |    52 +-
remote:   drivers/mmc/card/block.c               |     7 +
remote:   drivers/mmc/core/core.c                |     7 +-
remote:   drivers/mmc/core/mmc.c                 |    17 +-
remote:   drivers/mmc/core/sd.c                  |    35 +-
remote:   drivers/mmc/core/sdio.c                |    45 +-
remote:   drivers/mmc/host/sdhci-brcmstb.c       |   228 +-
remote:   drivers/mmc/host/sdhci.c               |    23 +
remote:   drivers/mmc/host/sdhci.h               |     5 +
remote:   drivers/mtd/devices/m25p80.c           |    72 +-
remote:   drivers/mtd/nand/brcmstb_nand.c        |   138 +-
remote:   drivers/net/dsa/bcm_sf2.c              |   175 +-
remote:   drivers/net/dsa/bcm_sf2.h              |    11 +-
remote:   drivers/net/dsa/bcm_sf2_regs.h         |    15 +
remote:   .../net/ethernet/broadcom/bcmsysport.c |   114 +-
remote:   .../net/ethernet/broadcom/bcmsysport.h |     6 +-
remote:   .../ethernet/broadcom/genet/bcmgenet.c |   362 +-
remote:   .../ethernet/broadcom/genet/bcmgenet.h |    28 +-
remote:   .../broadcom/genet/bcmgenet_wol.c      |     6 +-
remote:   .../ethernet/broadcom/genet/bcmmii.c   |   177 +-
remote:   drivers/net/phy/bcm7xxx.c              |    14 +-
remote:   drivers/net/phy/ethsw.c                |    15 +-
remote:   drivers/net/phy/mdio-bitbang.c         |     7 +-
remote:   drivers/net/phy/mdio-unimac.c          |    45 +-
remote:   drivers/net/phy/mdio_bus.c             |    14 +-
remote:   drivers/net/phy/phy.c                  |    39 +-
remote:   drivers/net/phy/phy_device.c           |    18 +-
remote:   drivers/of/fdt.c                       |     3 +
remote:   drivers/of/of_mdio.c                   |    44 +-
remote:   drivers/of/of_reserved_mem.c           |    29 +
remote:   drivers/phy/Makefile                   |     1 +
remote:   drivers/phy/phy-brcm-usb.c             |   216 +
remote:   drivers/pwm/pwm-brcmstb.c              |     0
remote:   drivers/soc/Kconfig                    |     5 +
remote:   drivers/soc/Makefile                   |     5 +
remote:   drivers/soc/brcmstb/Kconfig            |    80 +
remote:   drivers/soc/brcmstb/Makefile           |    12 +
remote:   drivers/soc/brcmstb/biuctrl.c          |    96 +
remote:   drivers/soc/brcmstb/bmem.c             |   301 +
remote:   drivers/soc/brcmstb/cma_driver.c       |   918 +
remote:   drivers/soc/brcmstb/common.c           |   103 +
remote:   drivers/soc/brcmstb/irq0-stub.c        |    44 +
remote:   drivers/soc/brcmstb/memory.c           |   687 +
remote:   drivers/soc/brcmstb/nexus/Makefile     |     3 +
remote:   drivers/soc/brcmstb/nexus/gpio.c       |   266 +
remote:   drivers/soc/brcmstb/nexus/gpio.h       |    10 +
remote:   drivers/soc/brcmstb/nexus/irq.c        |   148 +
remote:   drivers/soc/brcmstb/nexus/reg.c        |    31 +
remote:   drivers/soc/brcmstb/pm/Makefile        |     2 +
remote:   drivers/soc/brcmstb/pm/aon_defs.h      |   100 +
remote:   drivers/soc/brcmstb/pm/pm.c            |   942 +
remote:   drivers/soc/brcmstb/pm/pm.h            |    40 +
remote:   drivers/soc/brcmstb/pm/regsave.c       |   148 +
remote:   drivers/soc/brcmstb/pm/s2.S            |    73 +
remote:   drivers/soc/brcmstb/pm/xpt_dma.c       |   318 +
remote:   drivers/soc/brcmstb/pm/xpt_dma.h       |    60 +
remote:   drivers/soc/brcmstb/srpd.c             |   169 +
remote:   drivers/soc/brcmstb/wktmr.c            |   427 +
remote:   drivers/spi/Kconfig                    |     7 +
remote:   drivers/spi/Makefile                   |     1 +
remote:   drivers/spi/spi-brcmstb-mspi.c         |   806 +
remote:   drivers/spi/spi-brcmstb.c              |   302 +-
remote:   drivers/thermal/Kconfig                |     7 +-
remote:   drivers/thermal/Makefile               |     1 +
remote:   drivers/thermal/brcmstb_thermal.c      |   427 +
remote:   drivers/thermal/fair_share.c           |    12 +
remote:   drivers/thermal/intel_powerclamp.c     |    93 +-
remote:   drivers/thermal/of-thermal.c           |   251 +-
remote:   drivers/thermal/step_wise.c            |     7 +-
remote:   drivers/thermal/thermal_core.c         |   197 +-
remote:   drivers/thermal/thermal_core.h         |    18 +
remote:   .../ti-soc-thermal/ti-thermal-common.c |    33 +-
remote:   drivers/thermal/user_space.c           |    21 +-
remote:   drivers/tty/serial/8250/8250_core.c    |    31 -
remote:   drivers/tty/serial/of_serial.c         |    15 -
remote:   drivers/usb/core/hub.c                 |    16 +-
remote:   drivers/usb/gadget/Kconfig             |     2 +
remote:   drivers/usb/gadget/Makefile            |     1 +
remote:   drivers/usb/gadget/bdc/Kconfig         |    21 +
remote:   drivers/usb/gadget/bdc/Makefile        |     8 +
remote:   drivers/usb/gadget/bdc/bdc.h           |   490 +
remote:   drivers/usb/gadget/bdc/bdc_cmd.c       |   376 +
remote:   drivers/usb/gadget/bdc/bdc_cmd.h       |    29 +
remote:   drivers/usb/gadget/bdc/bdc_core.c      |   556 +
remote:   drivers/usb/gadget/bdc/bdc_dbg.c       |   123 +
remote:   drivers/usb/gadget/bdc/bdc_dbg.h       |    37 +
remote:   drivers/usb/gadget/bdc/bdc_ep.c        |  2025 +
remote:   drivers/usb/gadget/bdc/bdc_ep.h        |    22 +
remote:   drivers/usb/gadget/bdc/bdc_pci.c       |   132 +
remote:   drivers/usb/gadget/bdc/bdc_udc.c       |   587 +
remote:   drivers/usb/gadget/udc-core.c          |    15 +
remote:   drivers/usb/host/ehci-brcm.c           |     1 +
remote:   drivers/usb/host/ohci-brcm.c           |     1 +
remote:   .../usb/host/usb-brcm-common-init.c    |   315 +-
remote:   .../usb/host/usb-brcm-common-init.h    |    48 +-
remote:   drivers/usb/host/usb-brcm.c            |    53 +-
remote:   drivers/usb/host/xhci-brcm.c           |     1 +
remote:   drivers/watchdog/bcm7038_wdt.c         |     7 +-
remote:   fs/proc/meminfo.c                      |    15 +-
remote:   fs/pstore/ram.c                        |    22 +-
remote:   fs/xfs/xfs_attr.c                      |    24 +-
remote:   fs/xfs/xfs_attr_leaf.c                 |    21 +-
remote:   fs/xfs/xfs_attr_list.c                 |     1 +
remote:   fs/xfs/xfs_attr_remote.c               |     8 +-
remote:   fs/xfs/xfs_da_btree.h                  |     2 +
remote:   include/asm-generic/bug.h              |     5 +-
remote:   include/asm-generic/vmlinux.lds.h      |    21 +
remote:   include/dt-bindings/thermal/thermal.h  |     2 +-
remote:   include/linux/bmoca.h                  |     2 +
remote:   include/linux/brcmphy.h                |     5 +
remote:   .../linux/brcmstb/3390b0/bchp_bspi.h   |     8 +-
remote:   .../linux/brcmstb/3390b0/bchp_ebi.h    |     8 +-
remote:   .../brcmstb/3390b0/bchp_hif_intr2.h    |     8 +-
remote:   .../brcmstb/3390b0/bchp_hif_mspi.h     |     8 +-
remote:   .../linux/brcmstb/3390b0/bchp_irq0.h   |     8 +-
remote:   .../linux/brcmstb/3390b0/bchp_nand.h   |     8 +-
remote:   .../brcmstb/3390b0/bchp_sdio_0_cfg.h   |     8 +-
remote:   .../brcmstb/3390b0/bchp_switch_acb.h   |     8 +-
remote:   .../brcmstb/3390b0/bchp_switch_fcb.h   |     8 +-
remote:   .../brcmstb/3390b0/bchp_switch_reg.h   |     8 +-
remote:   .../brcmstb/3390b0/bchp_usb_ctrl.h     |     8 +-
remote:   .../brcmstb/7145a0/bchp_aon_ctrl.h     |  1911 -
remote:   .../brcmstb/7145a0/bchp_aon_pin_ctrl.h |   481 -
remote:   .../brcmstb/7145a0/bchp_aon_pm_l2.h    |  1346 -
remote:   .../linux/brcmstb/7145a0/bchp_bspi.h   |   443 -
remote:   .../brcmstb/7145a0/bchp_bspi_raf.h     |   160 -
remote:   .../linux/brcmstb/7145a0/bchp_clkgen.h | 11632 ----
remote:   .../linux/brcmstb/7145a0/bchp_common.h |  6163 --
remote:   .../brcmstb/7145a0/bchp_control_gfap.h |  2091 -
remote:   .../bchp_ddr34_phy_byte_lane_0_0.h     |  2101 -
remote:   .../bchp_ddr34_phy_byte_lane_0_1.h     |  2101 -
remote:   .../bchp_ddr34_phy_byte_lane_1_0.h     |  2101 -
remote:   .../bchp_ddr34_phy_byte_lane_1_1.h     |  2101 -
remote:   .../bchp_ddr34_phy_byte_lane_2_0.h     |  2101 -
remote:   .../bchp_ddr34_phy_byte_lane_2_1.h     |  2101 -
remote:   .../bchp_ddr34_phy_byte_lane_3_0.h     |  2101 -
remote:   .../bchp_ddr34_phy_byte_lane_3_1.h     |  2101 -
remote:   .../bchp_ddr34_phy_control_regs_0.h    |  4234 --
remote:   .../bchp_ddr34_phy_control_regs_1.h    |  4234 --
remote:   .../brcmstb/7145a0/bchp_dmahi0_gfap.h  |   139 -
remote:   .../brcmstb/7145a0/bchp_dpe_hw_gfap.h  |   443 -
remote:   .../linux/brcmstb/7145a0/bchp_ebi.h    |  2005 -
remote:   .../brcmstb/7145a0/bchp_fpm_ctrl_fpm.h |   592 -
remote:   .../brcmstb/7145a0/bchp_fpm_pool_fpm.h |   201 -
remote:   .../linux/brcmstb/7145a0/bchp_gio.h    |   474 -
remote:   .../brcmstb/7145a0/bchp_gio_aon.h      |   258 -
remote:   .../7145a0/bchp_hif_continuation.h     |   158 -
remote:   .../7145a0/bchp_hif_cpubiuctrl.h       |  3222 --
remote:   .../brcmstb/7145a0/bchp_hif_intr2.h    |  1188 -
remote:   .../brcmstb/7145a0/bchp_hif_mspi.h     |  1289 -
remote:   .../7145a0/bchp_hif_spi_intr2.h        |   564 -
remote:   .../brcmstb/7145a0/bchp_hif_top_ctrl.h |   579 -
remote:   .../linux/brcmstb/7145a0/bchp_irq0.h   |   174 -
remote:   .../linux/brcmstb/7145a0/bchp_irq1.h   |   174 -
remote:   .../brcmstb/7145a0/bchp_mbdma_uni0.h   |    88 -
remote:   .../brcmstb/7145a0/bchp_mbdma_uni1.h   |    88 -
remote:   .../brcmstb/7145a0/bchp_mbdma_uni2.h   |    88 -
remote:   .../brcmstb/7145a0/bchp_mbdma_uni3.h   |   916 -
remote:   .../brcmstb/7145a0/bchp_memc_arb_1.h   |  8093 ---
remote:   .../brcmstb/7145a0/bchp_memc_ddr_0.h   |  4679 --
remote:   .../brcmstb/7145a0/bchp_memc_ddr_1.h   |  4679 --
remote:   .../brcmstb/7145a0/bchp_memc_misc_1.h  |   131 -
remote:   .../7145a0/bchp_moca_hostmisc.h        |   511 -
remote:   .../linux/brcmstb/7145a0/bchp_nand.h   |  3594 --
remote:   .../7145a0/bchp_natc_reg_gfap.h        |   727 -
remote:   .../brcmstb/7145a0/bchp_pcie_0_dma.h   |   735 -
remote:   .../7145a0/bchp_pcie_0_ext_cfg.h       |   116 -
remote:   .../brcmstb/7145a0/bchp_pcie_0_intr2.h |  2016 -
remote:   .../brcmstb/7145a0/bchp_pcie_0_misc.h  |   974 -
remote:   .../7145a0/bchp_pcie_0_misc_perst.h    |    85 -
remote:   .../7145a0/bchp_pcie_0_rc_cfg_pcie.h   |   644 -
remote:   .../7145a0/bchp_pcie_0_rc_cfg_type1.h  |   526 -
remote:   .../7145a0/bchp_pcie_0_rc_cfg_vendor.h |   173 -
remote:   .../brcmstb/7145a0/bchp_pcie_0_rgr1.h  |   134 -
remote:   .../7145a0/bchp_shimphy_addr_cntl_0.h  |   547 -
remote:   .../7145a0/bchp_shimphy_addr_cntl_1.h  |   547 -
remote:   .../brcmstb/7145a0/bchp_sun_top_ctrl.h |  6899 ---
remote:   .../brcmstb/7145a0/bchp_switch_acb.h   |  3151 -
remote:   .../brcmstb/7145a0/bchp_switch_core.h  | 31972 ----------
remote:   .../brcmstb/7145a0/bchp_switch_fcb.h   |   404 -
remote:   .../7145a0/bchp_switch_indir_rw.h      |   140 -
remote:   .../7145a0/bchp_switch_intrl2_0.h      |  1164 -
remote:   .../7145a0/bchp_switch_intrl2_1.h      |  1944 -
remote:   .../brcmstb/7145a0/bchp_switch_mdio.h  |   117 -
remote:   .../brcmstb/7145a0/bchp_switch_reg.h   |   837 -
remote:   .../brcmstb/7145a0/bchp_token_gfap.h   |    52 -
remote:   .../7145a0/bchp_unimac_core0_uni0.h    |    75 -
remote:   .../7145a0/bchp_unimac_core0_uni1.h    |    75 -
remote:   .../7145a0/bchp_unimac_core0_uni2.h    |    75 -
remote:   .../7145a0/bchp_unimac_core0_uni3.h    |   566 -
remote:   .../bchp_unimac_interface0_uni0.h      |   106 -
remote:   .../bchp_unimac_interface0_uni1.h      |   106 -
remote:   .../bchp_unimac_interface0_uni2.h      |   106 -
remote:   .../bchp_unimac_interface0_uni3.h      |  1235 -
remote:   .../brcmstb/7145a0/bchp_usb_ctrl.h     |  1154 -
remote:   .../brcmstb/7145b0/bchp_aon_ctrl.h     |  1782 -
remote:   .../brcmstb/7145b0/bchp_aon_pin_ctrl.h |   500 -
remote:   .../brcmstb/7145b0/bchp_aon_pm_l2.h    |  1706 -
remote:   .../linux/brcmstb/7145b0/bchp_bspi.h   |   445 -
remote:   .../brcmstb/7145b0/bchp_bspi_raf.h     |   162 -
remote:   .../linux/brcmstb/7145b0/bchp_clkgen.h | 11565 ----
remote:   .../linux/brcmstb/7145b0/bchp_common.h |  6885 ---
remote:   .../brcmstb/7145b0/bchp_control_gfap.h |  2091 -
remote:   .../bchp_ddr34_phy_byte_lane_0_0.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_0_1.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_1_0.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_1_1.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_2_0.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_2_1.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_3_0.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_3_1.h     |  2482 -
remote:   .../bchp_ddr34_phy_control_regs_0.h    |  4441 --
remote:   .../bchp_ddr34_phy_control_regs_1.h    |  4441 --
remote:   .../linux/brcmstb/7145b0/bchp_ebi.h    |  2007 -
remote:   .../brcmstb/7145b0/bchp_fpm_ctrl_fpm.h |   706 -
remote:   .../brcmstb/7145b0/bchp_fpm_pool_fpm.h |   201 -
remote:   .../linux/brcmstb/7145b0/bchp_gio.h    |   474 -
remote:   .../brcmstb/7145b0/bchp_gio_aon.h      |   258 -
remote:   .../brcmstb/7145b0/bchp_gpio_per.h     |  2243 -
remote:   .../7145b0/bchp_hif_continuation.h     |   158 -
remote:   .../7145b0/bchp_hif_cpubiuctrl.h       |  3437 --
remote:   .../brcmstb/7145b0/bchp_hif_intr2.h    |  1250 -
remote:   .../brcmstb/7145b0/bchp_hif_mspi.h     |  1291 -
remote:   .../7145b0/bchp_hif_spi_intr2.h        |   566 -
remote:   .../brcmstb/7145b0/bchp_hif_top_ctrl.h |   605 -
remote:   .../linux/brcmstb/7145b0/bchp_irq0.h   |   176 -
remote:   .../linux/brcmstb/7145b0/bchp_irq1.h   |   176 -
remote:   .../brcmstb/7145b0/bchp_mbdma_uni0.h   |   915 -
remote:   .../brcmstb/7145b0/bchp_mbdma_uni1.h   |   915 -
remote:   .../brcmstb/7145b0/bchp_mbdma_uni2.h   |   915 -
remote:   .../brcmstb/7145b0/bchp_mbdma_uni3.h   |   915 -
remote:   .../brcmstb/7145b0/bchp_memc_arb_1.h   |  8208 ---
remote:   .../brcmstb/7145b0/bchp_memc_ddr_0.h   |  4799 --
remote:   .../brcmstb/7145b0/bchp_memc_ddr_1.h   |  4799 --
remote:   .../brcmstb/7145b0/bchp_memc_misc_1.h  |   133 -
remote:   .../7145b0/bchp_moca_hostmisc.h        |   513 -
remote:   .../linux/brcmstb/7145b0/bchp_nand.h   |  3757 --
remote:   .../brcmstb/7145b0/bchp_pcie_0_dma.h   |   737 -
remote:   .../7145b0/bchp_pcie_0_ext_cfg.h       |   118 -
remote:   .../brcmstb/7145b0/bchp_pcie_0_intr2.h |  2018 -
remote:   .../brcmstb/7145b0/bchp_pcie_0_misc.h  |   995 -
remote:   .../7145b0/bchp_pcie_0_misc_perst.h    |    87 -
remote:   .../7145b0/bchp_pcie_0_rc_cfg_pcie.h   |   646 -
remote:   .../7145b0/bchp_pcie_0_rc_cfg_type1.h  |   528 -
remote:   .../7145b0/bchp_pcie_0_rc_cfg_vendor.h |   175 -
remote:   .../brcmstb/7145b0/bchp_pcie_0_rgr1.h  |   136 -
remote:   .../brcmstb/7145b0/bchp_sdio_0_cfg.h   |   836 -
remote:   .../7145b0/bchp_shimphy_addr_cntl_0.h  |   631 -
remote:   .../7145b0/bchp_shimphy_addr_cntl_1.h  |   631 -
remote:   .../brcmstb/7145b0/bchp_sun_top_ctrl.h |  7452 ---
remote:   .../brcmstb/7145b0/bchp_switch_acb.h   |  4438 --
remote:   .../brcmstb/7145b0/bchp_switch_core.h  | 32008 -----------
remote:   .../brcmstb/7145b0/bchp_switch_fcb.h   |   424 -
remote:   .../7145b0/bchp_switch_indir_rw.h      |   140 -
remote:   .../7145b0/bchp_switch_intrl2_0.h      |  1226 -
remote:   .../7145b0/bchp_switch_intrl2_1.h      |  1944 -
remote:   .../brcmstb/7145b0/bchp_switch_mdio.h  |   119 -
remote:   .../brcmstb/7145b0/bchp_switch_reg.h   |   775 -
remote:   .../7145b0/bchp_unimac_core0_uni0.h    |   795 -
remote:   .../7145b0/bchp_unimac_core0_uni1.h    |   795 -
remote:   .../7145b0/bchp_unimac_core0_uni2.h    |   795 -
remote:   .../7145b0/bchp_unimac_core0_uni3.h    |   795 -
remote:   .../bchp_unimac_interface0_uni0.h      |  1402 -
remote:   .../bchp_unimac_interface0_uni1.h      |  1402 -
remote:   .../bchp_unimac_interface0_uni2.h      |  1402 -
remote:   .../bchp_unimac_interface0_uni3.h      |  1402 -
remote:   .../brcmstb/7145b0/bchp_usb_ctrl.h     |  1490 -
remote:   .../brcmstb/7250b0/bchp_aon_ctrl.h     |  1684 -
remote:   .../brcmstb/7250b0/bchp_aon_pin_ctrl.h |   661 -
remote:   .../brcmstb/7250b0/bchp_aon_pm_l2.h    |   980 -
remote:   .../linux/brcmstb/7250b0/bchp_clkgen.h |  9389 ---
remote:   .../bchp_ddr34_phy_byte_lane_0_0.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_1_0.h     |  2482 -
remote:   .../bchp_ddr34_phy_control_regs_0.h    |  4441 --
remote:   .../linux/brcmstb/7250b0/bchp_gio.h    |   474 -
remote:   .../brcmstb/7250b0/bchp_gio_aon.h      |   258 -
remote:   .../7250b0/bchp_hif_continuation.h     |    94 -
remote:   .../7250b0/bchp_hif_cpubiuctrl.h       |  3422 --
remote:   .../brcmstb/7250b0/bchp_hif_top_ctrl.h |   605 -
remote:   .../linux/brcmstb/7250b0/bchp_irq1.h   |   156 -
remote:   .../brcmstb/7250b0/bchp_memc_ddr_0.h   |  4579 --
remote:   .../brcmstb/7250b0/bchp_pcie_0_dma.h   |   737 -
remote:   .../7250b0/bchp_pcie_0_ext_cfg.h       |   118 -
remote:   .../brcmstb/7250b0/bchp_pcie_0_intr2.h |  2018 -
remote:   .../brcmstb/7250b0/bchp_pcie_0_misc.h  |  1044 -
remote:   .../7250b0/bchp_pcie_0_misc_perst.h    |    87 -
remote:   .../7250b0/bchp_pcie_0_rc_cfg_pcie.h   |   646 -
remote:   .../7250b0/bchp_pcie_0_rc_cfg_type1.h  |   528 -
remote:   .../7250b0/bchp_pcie_0_rc_cfg_vendor.h |   175 -
remote:   .../brcmstb/7250b0/bchp_pcie_0_rgr1.h  |   136 -
remote:   .../7250b0/bchp_shimphy_addr_cntl_0.h  |   631 -
remote:   .../brcmstb/7364a0/bchp_aon_ctrl.h     |  1736 -
remote:   .../brcmstb/7364a0/bchp_aon_pin_ctrl.h |   484 -
remote:   .../brcmstb/7364a0/bchp_aon_pm_l2.h    |  1340 -
remote:   .../linux/brcmstb/7364a0/bchp_clkgen.h |  9414 ---
remote:   .../bchp_ddr34_phy_control_regs_0.h    |  4441 --
remote:   .../linux/brcmstb/7364a0/bchp_gio.h    |   474 -
remote:   .../brcmstb/7364a0/bchp_gio_aon.h      |   258 -
remote:   .../7364a0/bchp_hif_continuation.h     |    94 -
remote:   .../7364a0/bchp_hif_cpubiuctrl.h       |  3437 --
remote:   .../brcmstb/7364a0/bchp_hif_top_ctrl.h |   605 -
remote:   .../linux/brcmstb/7364a0/bchp_irq1.h   |   166 -
remote:   .../brcmstb/7364a0/bchp_memc_ddr_0.h   |  4579 --
remote:   .../7364a0/bchp_moca_hostmisc.h        |   511 -
remote:   .../7364a0/bchp_shimphy_addr_cntl_0.h  |   631 -
remote:   .../brcmstb/7366b0/bchp_aon_ctrl.h     |  1791 -
remote:   .../brcmstb/7366b0/bchp_aon_pin_ctrl.h |   541 -
remote:   .../brcmstb/7366b0/bchp_aon_pm_l2.h    |  1406 -
remote:   .../linux/brcmstb/7366b0/bchp_bspi.h   |   443 -
remote:   .../brcmstb/7366b0/bchp_bspi_raf.h     |   160 -
remote:   .../linux/brcmstb/7366b0/bchp_clkgen.h | 11392 ----
remote:   .../linux/brcmstb/7366b0/bchp_common.h |  4373 --
remote:   .../bchp_ddr34_phy_byte_lane_0_0.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_1_0.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_2_0.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_3_0.h     |  2482 -
remote:   .../bchp_ddr34_phy_control_regs_0.h    |  4441 --
remote:   .../linux/brcmstb/7366b0/bchp_ebi.h    |  2005 -
remote:   .../linux/brcmstb/7366b0/bchp_gio.h    |   546 -
remote:   .../brcmstb/7366b0/bchp_gio_aon.h      |   258 -
remote:   .../7366b0/bchp_hif_continuation.h     |   114 -
remote:   .../7366b0/bchp_hif_cpubiuctrl.h       |  3437 --
remote:   .../brcmstb/7366b0/bchp_hif_intr2.h    |  1610 -
remote:   .../brcmstb/7366b0/bchp_hif_mspi.h     |  1289 -
remote:   .../7366b0/bchp_hif_spi_intr2.h        |   564 -
remote:   .../brcmstb/7366b0/bchp_hif_top_ctrl.h |   603 -
remote:   .../linux/brcmstb/7366b0/bchp_irq0.h   |   196 -
remote:   .../linux/brcmstb/7366b0/bchp_irq1.h   |   196 -
remote:   .../brcmstb/7366b0/bchp_memc_ddr_0.h   |  4799 --
remote:   .../7366b0/bchp_moca_hostmisc.h        |   511 -
remote:   .../linux/brcmstb/7366b0/bchp_nand.h   |  3757 --
remote:   .../brcmstb/7366b0/bchp_pcie_0_dma.h   |   735 -
remote:   .../7366b0/bchp_pcie_0_ext_cfg.h       |   116 -
remote:   .../brcmstb/7366b0/bchp_pcie_0_intr2.h |  2016 -
remote:   .../brcmstb/7366b0/bchp_pcie_0_misc.h  |   995 -
remote:   .../7366b0/bchp_pcie_0_misc_perst.h    |    85 -
remote:   .../7366b0/bchp_pcie_0_rc_cfg_pcie.h   |   644 -
remote:   .../7366b0/bchp_pcie_0_rc_cfg_type1.h  |   526 -
remote:   .../7366b0/bchp_pcie_0_rc_cfg_vendor.h |   173 -
remote:   .../brcmstb/7366b0/bchp_pcie_0_rgr1.h  |   134 -
remote:   .../brcmstb/7366b0/bchp_sdio_0_cfg.h   |   836 -
remote:   .../7366b0/bchp_shimphy_addr_cntl_0.h  |   631 -
remote:   .../brcmstb/7366b0/bchp_sun_top_ctrl.h |  8932 ---
remote:   .../brcmstb/7366b0/bchp_usb_ctrl.h     |  1524 -
remote:   .../brcmstb/7366b0/bchp_xpt_bus_if.h   |   738 -
remote:   .../linux/brcmstb/7366b0/bchp_xpt_fe.h | 11836 ----
remote:   .../7366b0/bchp_xpt_memdma_mcpb.h      |  4737 --
remote:   .../7366b0/bchp_xpt_memdma_mcpb_ch0.h  |  2319 -
remote:   .../brcmstb/7366b0/bchp_xpt_pmu.h      |   397 -
remote:   .../7366b0/bchp_xpt_security_ns.h      |   593 -
remote:   .../bchp_xpt_security_ns_intr2_0.h     |   866 -
remote:   .../brcmstb/7366c0/bchp_aon_ctrl.h     |  1789 -
remote:   .../brcmstb/7366c0/bchp_aon_pin_ctrl.h |   539 -
remote:   .../brcmstb/7366c0/bchp_aon_pm_l2.h    |  1404 -
remote:   .../linux/brcmstb/7366c0/bchp_clkgen.h | 11390 ----
remote:   .../bchp_ddr34_phy_byte_lane_0_0.h     |  2480 -
remote:   .../bchp_ddr34_phy_byte_lane_1_0.h     |  2480 -
remote:   .../bchp_ddr34_phy_byte_lane_2_0.h     |  2480 -
remote:   .../bchp_ddr34_phy_byte_lane_3_0.h     |  2480 -
remote:   .../bchp_ddr34_phy_control_regs_0.h    |  4439 --
remote:   .../linux/brcmstb/7366c0/bchp_gio.h    |   544 -
remote:   .../brcmstb/7366c0/bchp_gio_aon.h      |   256 -
remote:   .../7366c0/bchp_hif_continuation.h     |   114 -
remote:   .../7366c0/bchp_hif_cpubiuctrl.h       |  3435 --
remote:   .../brcmstb/7366c0/bchp_hif_top_ctrl.h |   603 -
remote:   .../linux/brcmstb/7366c0/bchp_irq1.h   |   194 -
remote:   .../brcmstb/7366c0/bchp_memc_ddr_0.h   |  4797 --
remote:   .../7366c0/bchp_moca_hostmisc.h        |   511 -
remote:   .../brcmstb/7366c0/bchp_pcie_0_dma.h   |   735 -
remote:   .../7366c0/bchp_pcie_0_ext_cfg.h       |   116 -
remote:   .../brcmstb/7366c0/bchp_pcie_0_intr2.h |  2016 -
remote:   .../brcmstb/7366c0/bchp_pcie_0_misc.h  |   993 -
remote:   .../7366c0/bchp_pcie_0_misc_perst.h    |    85 -
remote:   .../7366c0/bchp_pcie_0_rc_cfg_pcie.h   |   644 -
remote:   .../7366c0/bchp_pcie_0_rc_cfg_type1.h  |   526 -
remote:   .../7366c0/bchp_pcie_0_rc_cfg_vendor.h |   173 -
remote:   .../brcmstb/7366c0/bchp_pcie_0_rgr1.h  |   134 -
remote:   .../7366c0/bchp_shimphy_addr_cntl_0.h  |   629 -
remote:   .../brcmstb/7366c0/bchp_usb_ctrl.h     |   132 +-
remote:   .../brcmstb/74371a0/bchp_aon_ctrl.h    |  1663 -
remote:   .../74371a0/bchp_aon_pin_ctrl.h        |   524 -
remote:   .../brcmstb/74371a0/bchp_aon_pm_l2.h   |  1044 -
remote:   .../brcmstb/74371a0/bchp_clkgen.h      |  7808 ---
remote:   .../bchp_ddr34_phy_byte_lane_0_0.h     |  2099 -
remote:   .../bchp_ddr34_phy_byte_lane_1_0.h     |  2099 -
remote:   .../bchp_ddr34_phy_byte_lane_2_0.h     |  2099 -
remote:   .../bchp_ddr34_phy_byte_lane_3_0.h     |  2099 -
remote:   .../bchp_ddr34_phy_control_regs_0.h    |  4232 --
remote:   .../linux/brcmstb/74371a0/bchp_gio.h   |   472 -
remote:   .../brcmstb/74371a0/bchp_gio_aon.h     |   256 -
remote:   .../74371a0/bchp_hif_continuation.h    |   114 -
remote:   .../74371a0/bchp_hif_cpubiuctrl.h      |  3311 --
remote:   .../74371a0/bchp_hif_top_ctrl.h        |   589 -
remote:   .../linux/brcmstb/74371a0/bchp_irq1.h  |   184 -
remote:   .../brcmstb/74371a0/bchp_memc_ddr_0.h  |  4762 --
remote:   .../74371a0/bchp_moca_hostmisc.h       |   511 -
remote:   .../brcmstb/74371a0/bchp_pcie_0_dma.h  |   735 -
remote:   .../74371a0/bchp_pcie_0_ext_cfg.h      |   116 -
remote:   .../74371a0/bchp_pcie_0_intr2.h        |  2016 -
remote:   .../brcmstb/74371a0/bchp_pcie_0_misc.h |   969 -
remote:   .../74371a0/bchp_pcie_0_misc_perst.h   |    85 -
remote:   .../74371a0/bchp_pcie_0_rc_cfg_pcie.h  |   644 -
remote:   .../74371a0/bchp_pcie_0_rc_cfg_type1.h |   526 -
remote:   .../bchp_pcie_0_rc_cfg_vendor.h        |   173 -
remote:   .../brcmstb/74371a0/bchp_pcie_0_rgr1.h |   134 -
remote:   .../74371a0/bchp_shimphy_addr_cntl_0.h |   556 -
remote:   .../brcmstb/74371a0/bchp_usb_xhci_ec.h |   384 +
remote:   .../brcmstb/7439a0/bchp_aon_ctrl.h     |  1639 -
remote:   .../brcmstb/7439a0/bchp_aon_pin_ctrl.h |   524 -
remote:   .../brcmstb/7439a0/bchp_aon_pm_l2.h    |  1044 -
remote:   .../linux/brcmstb/7439a0/bchp_bspi.h   |   443 -
remote:   .../brcmstb/7439a0/bchp_bspi_raf.h     |   160 -
remote:   .../linux/brcmstb/7439a0/bchp_clkgen.h |  7808 ---
remote:   .../linux/brcmstb/7439a0/bchp_common.h |  3483 --
remote:   .../bchp_ddr34_phy_byte_lane_0_0.h     |  2099 -
remote:   .../bchp_ddr34_phy_byte_lane_1_0.h     |  2099 -
remote:   .../bchp_ddr34_phy_byte_lane_2_0.h     |  2099 -
remote:   .../bchp_ddr34_phy_byte_lane_3_0.h     |  2099 -
remote:   .../bchp_ddr34_phy_control_regs_0.h    |  4232 --
remote:   .../linux/brcmstb/7439a0/bchp_ebi.h    |  2005 -
remote:   .../linux/brcmstb/7439a0/bchp_gio.h    |   472 -
remote:   .../brcmstb/7439a0/bchp_gio_aon.h      |   256 -
remote:   .../7439a0/bchp_hif_continuation.h     |   114 -
remote:   .../7439a0/bchp_hif_cpubiuctrl.h       |  3311 --
remote:   .../brcmstb/7439a0/bchp_hif_intr2.h    |  1536 -
remote:   .../brcmstb/7439a0/bchp_hif_mspi.h     |  1289 -
remote:   .../7439a0/bchp_hif_spi_intr2.h        |   564 -
remote:   .../brcmstb/7439a0/bchp_hif_top_ctrl.h |   589 -
remote:   .../linux/brcmstb/7439a0/bchp_irq0.h   |   184 -
remote:   .../linux/brcmstb/7439a0/bchp_irq1.h   |   184 -
remote:   .../brcmstb/7439a0/bchp_memc_ddr_0.h   |  4762 --
remote:   .../7439a0/bchp_moca_hostmisc.h        |   511 -
remote:   .../linux/brcmstb/7439a0/bchp_nand.h   |  3594 --
remote:   .../brcmstb/7439a0/bchp_pcie_0_dma.h   |   735 -
remote:   .../7439a0/bchp_pcie_0_ext_cfg.h       |   116 -
remote:   .../brcmstb/7439a0/bchp_pcie_0_intr2.h |  2016 -
remote:   .../brcmstb/7439a0/bchp_pcie_0_misc.h  |   969 -
remote:   .../7439a0/bchp_pcie_0_misc_perst.h    |    85 -
remote:   .../7439a0/bchp_pcie_0_rc_cfg_pcie.h   |   644 -
remote:   .../7439a0/bchp_pcie_0_rc_cfg_type1.h  |   526 -
remote:   .../7439a0/bchp_pcie_0_rc_cfg_vendor.h |   173 -
remote:   .../brcmstb/7439a0/bchp_pcie_0_rgr1.h  |   134 -
remote:   .../7439a0/bchp_shimphy_addr_cntl_0.h  |   556 -
remote:   .../brcmstb/7439a0/bchp_sun_top_ctrl.h |  7278 ---
remote:   .../brcmstb/7439a0/bchp_usb_ctrl.h     |  1296 -
remote:   .../brcmstb/7439b0/bchp_aon_ctrl.h     |  1731 -
remote:   .../brcmstb/7439b0/bchp_aon_pin_ctrl.h |   443 -
remote:   .../brcmstb/7439b0/bchp_aon_pm_l2.h    |  1166 -
remote:   .../linux/brcmstb/7439b0/bchp_clkgen.h |  8323 ---
remote:   .../bchp_ddr34_phy_byte_lane_0_0.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_1_0.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_2_0.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_3_0.h     |  2482 -
remote:   .../bchp_ddr34_phy_control_regs_0.h    |  4441 --
remote:   .../linux/brcmstb/7439b0/bchp_gio.h    |   474 -
remote:   .../brcmstb/7439b0/bchp_gio_aon.h      |   258 -
remote:   .../7439b0/bchp_hif_continuation.h     |   116 -
remote:   .../7439b0/bchp_hif_cpubiuctrl.h       |  3437 --
remote:   .../brcmstb/7439b0/bchp_hif_top_ctrl.h |   616 -
remote:   .../linux/brcmstb/7439b0/bchp_irq1.h   |   176 -
remote:   .../brcmstb/7439b0/bchp_memc_ddr_0.h   |  4091 --
remote:   .../7439b0/bchp_moca_hostmisc.h        |   511 -
remote:   .../brcmstb/7439b0/bchp_pcie_0_dma.h   |   737 -
remote:   .../7439b0/bchp_pcie_0_ext_cfg.h       |   118 -
remote:   .../brcmstb/7439b0/bchp_pcie_0_intr2.h |  2018 -
remote:   .../brcmstb/7439b0/bchp_pcie_0_misc.h  |  1044 -
remote:   .../7439b0/bchp_pcie_0_misc_perst.h    |    87 -
remote:   .../7439b0/bchp_pcie_0_rc_cfg_pcie.h   |   646 -
remote:   .../7439b0/bchp_pcie_0_rc_cfg_type1.h  |   528 -
remote:   .../7439b0/bchp_pcie_0_rc_cfg_vendor.h |   175 -
remote:   .../brcmstb/7439b0/bchp_pcie_0_rgr1.h  |   136 -
remote:   .../7439b0/bchp_shimphy_addr_cntl_0.h  |   703 -
remote:   .../brcmstb/7439b0/bchp_usb_ctrl.h     |    42 +-
remote:   .../brcmstb/7445d0/bchp_aon_ctrl.h     |  1685 -
remote:   .../brcmstb/7445d0/bchp_aon_pin_ctrl.h |   442 -
remote:   .../brcmstb/7445d0/bchp_aon_pm_l2.h    |  1106 -
remote:   .../linux/brcmstb/7445d0/bchp_clkgen.h |  9432 ---
remote:   .../bchp_ddr34_phy_byte_lane_0_0.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_0_1.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_0_2.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_1_0.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_1_1.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_1_2.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_2_0.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_2_1.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_2_2.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_3_0.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_3_1.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_3_2.h     |  2482 -
remote:   .../bchp_ddr34_phy_control_regs_0.h    |  4441 --
remote:   .../bchp_ddr34_phy_control_regs_1.h    |  4441 --
remote:   .../bchp_ddr34_phy_control_regs_2.h    |  4441 --
remote:   .../linux/brcmstb/7445d0/bchp_gio.h    |   370 -
remote:   .../brcmstb/7445d0/bchp_gio_aon.h      |   258 -
remote:   .../7445d0/bchp_hif_continuation.h     |   158 -
remote:   .../7445d0/bchp_hif_cpubiuctrl.h       |  3431 --
remote:   .../brcmstb/7445d0/bchp_hif_top_ctrl.h |   589 -
remote:   .../linux/brcmstb/7445d0/bchp_irq1.h   |   216 -
remote:   .../brcmstb/7445d0/bchp_memc_arb_1.h   |  8194 ---
remote:   .../brcmstb/7445d0/bchp_memc_ddr_0.h   |  4799 --
remote:   .../brcmstb/7445d0/bchp_memc_ddr_1.h   |  4799 --
remote:   .../brcmstb/7445d0/bchp_memc_ddr_2.h   |  4799 --
remote:   .../brcmstb/7445d0/bchp_memc_misc_1.h  |   131 -
remote:   .../7445d0/bchp_moca_hostmisc.h        |   511 -
remote:   .../brcmstb/7445d0/bchp_pcie_0_dma.h   |   735 -
remote:   .../7445d0/bchp_pcie_0_ext_cfg.h       |   116 -
remote:   .../brcmstb/7445d0/bchp_pcie_0_intr2.h |  2016 -
remote:   .../brcmstb/7445d0/bchp_pcie_0_misc.h  |   995 -
remote:   .../7445d0/bchp_pcie_0_misc_perst.h    |    85 -
remote:   .../7445d0/bchp_pcie_0_rc_cfg_pcie.h   |   644 -
remote:   .../7445d0/bchp_pcie_0_rc_cfg_type1.h  |   526 -
remote:   .../7445d0/bchp_pcie_0_rc_cfg_vendor.h |   173 -
remote:   .../brcmstb/7445d0/bchp_pcie_0_rgr1.h  |   134 -
remote:   .../7445d0/bchp_shimphy_addr_cntl_0.h  |   631 -
remote:   .../7445d0/bchp_shimphy_addr_cntl_1.h  |   631 -
remote:   .../7445d0/bchp_shimphy_addr_cntl_2.h  |   631 -
remote:   include/linux/brcmstb/bmem.h           |    34 +
remote:   include/linux/brcmstb/brcmstb.h        |   567 +-
remote:   include/linux/brcmstb/cma_driver.h     |    25 +-
remote:   include/linux/brcmstb/gpio_api.h       |    24 +
remote:   include/linux/brcmstb/irq_api.h        |    47 +
remote:   include/linux/brcmstb/memory_api.h     |    97 +
remote:   .../brcmstb/nexus_version_check.h      |    43 +
remote:   include/linux/brcmstb/reg_api.h        |    23 +
remote:   include/linux/clk-provider.h           |    82 +
remote:   include/linux/cma.h                    |    37 +
remote:   include/linux/dma-contiguous.h         |    25 +-
remote:   include/linux/gfp.h                    |     7 +
remote:   include/linux/gpio.h                   |     2 +-
remote:   include/linux/gpio/consumer.h          |     8 -
remote:   include/linux/gpio/driver.h            |    53 +-
remote:   include/linux/irq.h                    |     6 +
remote:   include/linux/libata.h                 |     5 +
remote:   include/linux/memblock.h               |     2 +
remote:   include/linux/mmc/card.h               |     1 +
remote:   include/linux/mmc/host.h               |     5 +-
remote:   include/linux/mmzone.h                 |    33 +-
remote:   include/linux/netdevice.h              |     9 +
remote:   include/linux/of_mdio.h                |     7 +
remote:   include/linux/of_reserved_mem.h        |    32 +
remote:   include/linux/page-isolation.h         |     8 +
remote:   include/linux/pageblock-flags.h        |    33 +-
remote:   include/linux/phy.h                    |     5 +
remote:   include/linux/serial_core.h            |     1 -
remote:   include/linux/soc/brcmstb/brcmstb.h    |    13 +
remote:   include/linux/spi/spi.h                |     6 +
remote:   include/linux/thermal.h                |   158 +-
remote:   include/linux/usb/gadget.h             |    14 +
remote:   include/linux/wbid.h                   |    43 +
remote:   include/net/dsa.h                      |     8 +
remote:   include/soc/brcmstb/common.h           |    25 +
remote:   include/trace/events/thermal.h         |    83 +
remote:   include/uapi/linux/Kbuild              |     1 +
remote:   include/uapi/linux/brcmstb/Kbuild      |     2 +
remote:   include/uapi/linux/serial_core.h       |     3 +-
remote:   kernel/irq/handle.c                    |    16 +-
remote:   kernel/irq/manage.c                    |    28 +-
remote:   kernel/irq/resend.c                    |    10 +
remote:   kernel/irq/spurious.c                  |     4 +
remote:   kernel/power/suspend.c                 |    13 +-
remote:   kernel/sched/core.c                    |    48 +-
remote:   kernel/softirq.c                       |    10 +
remote:   kernel/workqueue.c                     |    12 +-
remote:   lib/show_mem.c                         |     6 +
remote:   mm/Kconfig                             |    11 +
remote:   mm/Makefile                            |     1 +
remote:   mm/cma.c                               |   429 +
remote:   mm/internal.h                          |    25 +
remote:   mm/memblock.c                          |    21 +-
remote:   mm/memory.c                            |    50 +-
remote:   mm/page_alloc.c                        |   220 +-
remote:   mm/page_isolation.c                    |    43 +-
remote:   net/bridge/br_if.c                     |     8 +-
remote:   net/bridge/br_igmp.c                   |    11 +
remote:   net/bridge/br_netlink.c                |     2 +-
remote:   net/bridge/br_private.h                |     1 +
remote:   net/bridge/br_stp.c                    |    19 +-
remote:   net/bridge/br_stp_if.c                 |     4 +-
remote:   net/bridge/br_stp_timer.c              |     4 +-
remote:   net/dsa/dsa.c                          |     2 +
remote:   net/dsa/dsa_priv.h                     |    18 +
remote:   net/dsa/slave.c                        |   174 +-
remote:   net/dsa/tag_brcm.c                     |     3 +
remote:   net/dsa/tag_dsa.c                      |     3 +
remote:   net/dsa/tag_edsa.c                     |     3 +
remote:   net/dsa/tag_trailer.c                  |     4 +
remote:   net/ipv4/ping.c                        |     1 +
remote:   net/ipv6/netfilter/Kconfig             |     5 -
remote:   net/ipv6/netfilter/Makefile            |     3 +-
remote:   .../nf_defrag_ipv6_hooks_notrack.c     |    96 -
remote:   packaging/Makefile                     |    13 +
remote:   packaging/linux-src-rpmlintrc          |     5 +
remote:   packaging/linux-src.spec               |    29 +
remote:   scripts/.gitignore                     |     1 +
remote:   scripts/analyze_oom.py                 |   203 +
remote:   scripts/decode_gfpmask.py              |    75 +
remote:   scripts/kconfig/Makefile               |     2 +-
remote:   scripts/kconfig/menu.c                 |    35 +-
remote:   scripts/setlocalversion                |     2 +
remote:   security/keys/process_keys.c           |     1 +
remote:   tools/testing/brcmstb/gpio-api/Kbuild  |     1 +
remote:   .../testing/brcmstb/gpio-api/Makefile  |    17 +
remote:   tools/testing/brcmstb/gpio-api/README  |     7 +
remote:   .../brcmstb/gpio-api/test-gpio-api.c   |    62 +
remote:   tools/testing/brcmstb/irq-api/Kbuild   |     1 +
remote:   tools/testing/brcmstb/irq-api/Makefile |    17 +
remote:   tools/testing/brcmstb/irq-api/README   |     7 +
remote:   .../brcmstb/irq-api/test-irq-api.c     |    33 +
remote:   .../brcmstb/memory-api/.gitignore      |     1 +
remote:   .../testing/brcmstb/memory-api/Kbuild  |     1 +
remote:   .../brcmstb/memory-api/Makefile        |    17 +
remote:   .../testing/brcmstb/memory-api/README  |     7 +
remote:   .../memory-api/test-memory-api.c       |    90 +
remote:   tools/testing/brcmstb/reg-api/Kbuild   |     1 +
remote:   tools/testing/brcmstb/reg-api/Makefile |    17 +
remote:   tools/testing/brcmstb/reg-api/README   |     7 +
remote:   .../brcmstb/reg-api/test-reg-api.c     |    95 +
remote:   tools/thermal/tmon/.gitignore          |     1 +
remote:   tools/thermal/tmon/Makefile            |    12 +-
remote:   tools/thermal/tmon/makefile            |    22 +
remote:   tools/thermal/tmon/tmon.c              |    14 +-
remote:   tools/thermal/tmon/tui.c               |    42 +-
remote:   790 files changed, 26587 insertions(+), 752064 deletions(-)
remote:  ;skern@broadcom.com;2016-05-25 20:31:29 -0700;24715e3ece347c91e3ebbe9abde367b2021f9863;SWRGROUTER-4514: Perform periodic develop to feat_PowerManagement merges;
remote:  Perform periodic develop to feat_PowerManagement merges
remote:
remote:  refs #SWRGROUTER-4514
remote:
remote:
remote:   arch/arm/include/asm/buzzz.h           |  18 +-
remote:   arch/arm/mach-bcm/Makefile             |   1 -
remote:   arch/arm/mach-bcm/buzzz.c              | 227 ++++++-------
remote:   drivers/bcm_media_gw/fpm/fpm_core.c    |   4 +-
remote:   kernel/irq/handle.c                    |   2 +-
remote:   kernel/sched/core.c                    |  18 +-
remote:   kernel/workqueue.c                     |   2 +-
remote:   net/ipv6/netfilter/Kconfig             |   4 -
remote:   net/ipv6/netfilter/Makefile            |   6 -
remote:   .../nf_defrag_ipv6_hooks_notrack.c     |  96 ------
remote:   10 files changed, 136 insertions(+), 242 deletions(-)
remote:  ;ptimariu@broadcom.com;2016-05-25 17:05:41 -0700;e11a2479a3590f957328bad7f8e182f39113670f;SWRGROUTER-4754: WiFi: buzz merge checkpatch fixes;
remote:  - run checkpatch.pl with --fix-inplace and review
remote:  - fixed ws/tab, indentation, line length
remote:  - auto-fix linux kernel style issues
remote:  - add updated BCM copyright header in Makefile
remote:
remote:  refs #SWRGROUTER-4754
remote:
remote:
remote:   arch/arm/include/asm/buzzz.h        |  18 +-
remote:   arch/arm/mach-bcm/buzzz.c           | 216 ++++++++--------
remote:   drivers/bcm_media_gw/fpm/fpm_core.c |   2 +-
remote:   kernel/irq/handle.c                 |   2 +-
remote:   kernel/sched/core.c                 |  18 +-
remote:   kernel/workqueue.c                  |   2 +-
remote:   6 files changed, 129 insertions(+), 129 deletions(-)
remote:  ;skern@broadcom.com;2016-05-25 16:54:27 -0700;558195273c437bc50818080baa7962d050e18754;SWRGROUTER-4514: Perform periodic develop to feat_PowerManagement merges;
remote:  Perform periodic develop to feat_PowerManagement merges
remote:
remote:  refs #SWRGROUTER-4514
remote:
remote:  Conflicts:
remote:  	arch/arm/boot/dts/rg.3390-base.dtsi
remote:  	arch/arm/boot/dts/rg.3390-wifi.dtsi
remote:  	arch/arm/boot/dts/rg.3390b0-moca.dtsi
remote:  	arch/mips/boot/dts/bcm33843mwvg_mgw_zephyr.dtsi
remote:  	arch/mips/boot/dts/bcm3384_mgw_zephyr.dtsi
remote:  	drivers/bcm_media_gw/Kconfig
remote:  	drivers/bcm_media_gw/Makefile
remote:  	drivers/bcm_media_gw/fpm/fpm_core.c
remote:  	drivers/i2c/busses/i2c-brcmstb.c
remote:  	drivers/watchdog/bcm7038_wdt.c
remote:  	net/ipv6/netfilter/Kconfig
remote:
remote:
remote:   .../bindings/arm/brcm-brcmstb.txt      |    11 +
remote:   .../clock/multiplier-clock.txt         |    84 +
remote:   .../gpio/brcm,brcmstb-gpio.txt         |    24 +-
remote:   .../bindings/i2c/i2c-brcmstb.txt       |     2 +-
remote:   .../bindings/net/fixed-link.txt        |    30 +
remote:   .../devicetree/bindings/net/phy.txt    |     3 +
remote:   .../bindings/pci/brcmstb-pci.txt       |    10 +
remote:   .../bindings/pwm/brcm,bcm7038-pwm.txt  |     2 +-
remote:   .../spi/brcm,spi-brcmstb-mspi.txt      |    88 +
remote:   .../thermal/brcmstb-thermal.txt        |    20 +
remote:   .../bindings/usb/bdc-udc.txt           |    16 +
remote:   Documentation/kernel-parameters.txt    |    31 +-
remote:   .../power/basic-pm-debugging.txt       |    10 +-
remote:   arch/arm/Kconfig.debug                 |    11 +-
remote:   arch/arm/boot/dts/rg.3390b0.dts        |    10 +-
remote:   arch/arm/boot/dts/rg.7145a0.dts        |   382 -
remote:   arch/arm/boot/dts/rg.7145b0.dts        |  1080 -
remote:   arch/arm/boot/dts/rgvm.7145a0.dts      |   422 -
remote:   arch/arm/boot/dts/rgvm.7145b0.dts      |   482 -
remote:   arch/arm/boot/dts/stbvm.7145a0.dts     |   332 -
remote:   arch/arm/boot/dts/stbvm.7145b0.dts     |   401 -
remote:   arch/arm/boot/dts/svm.7145a0.dts       |   470 -
remote:   arch/arm/boot/dts/svm.7145b0.dts       |   146 -
remote:   arch/arm/configs/brcmstb_defconfig     |     9 +-
remote:   .../configs/brcmstb_hardened_defconfig |   182 +
remote:   arch/arm/include/asm/bug.h             |     3 -
remote:   arch/arm/include/asm/buzzz.h           |   846 +
remote:   arch/arm/include/asm/cacheflush.h      |     2 +-
remote:   arch/arm/include/asm/glue-cache.h      |     4 +
remote:   arch/arm/include/asm/hardirq.h         |     2 +-
remote:   .../asm/hardware/cache-b15-rac.h       |    12 +
remote:   arch/arm/include/asm/smp.h             |    13 +
remote:   arch/arm/kernel/devtree.c              |    40 +
remote:   arch/arm/kernel/smp.c                  |    93 +-
remote:   arch/arm/mach-bcm/Kconfig              |   114 +-
remote:   arch/arm/mach-bcm/Makefile             |    13 +-
remote:   arch/arm/mach-bcm/aon_defs.h           |    98 -
remote:   arch/arm/mach-bcm/brcmstb.c            |   490 +-
remote:   arch/arm/mach-bcm/brcmstb.h            |    67 -
remote:   arch/arm/mach-bcm/buzzz.c              |  4000 ++
remote:   arch/arm/mach-bcm/cma_driver.c         |  1231 -
remote:   arch/arm/mach-bcm/gisb-brcmstb.c       |   329 -
remote:   arch/arm/mach-bcm/headsmp-brcmstb.S    |    33 -
remote:   arch/arm/mach-bcm/headsmp-brcmstb.h    |    23 +
remote:   arch/arm/mach-bcm/hotplug-brcmstb.c    |   349 -
remote:   arch/arm/mach-bcm/pci-brcmstb.c        |   375 +-
remote:   arch/arm/mach-bcm/platsmp-brcmstb.c    |   382 +
remote:   arch/arm/mach-bcm/pm-brcmstb.c         |   892 -
remote:   arch/arm/mach-bcm/pm-brcmstb.h         |    40 -
remote:   arch/arm/mach-bcm/regsave.c            |   148 -
remote:   arch/arm/mach-bcm/s2-brcmstb.S         |    73 -
remote:   arch/arm/mach-bcm/srpd-brcmstb.c       |   155 -
remote:   arch/arm/mach-bcm/wktmr-brcmstb.c      |   245 -
remote:   arch/arm/mach-bcm/xpt_dma.c            |   318 -
remote:   arch/arm/mach-bcm/xpt_dma.h            |    60 -
remote:   arch/arm/mach-imx/headsmp.S            |     1 -
remote:   arch/arm/mach-prima2/headsmp.S         |     1 -
remote:   arch/arm/mach-shmobile/headsmp-scu.S   |     4 +-
remote:   arch/arm/mach-shmobile/headsmp.S       |     5 -
remote:   arch/arm/mach-shmobile/platsmp-apmu.c  |     2 +-
remote:   arch/arm/mach-socfpga/core.h           |     1 -
remote:   arch/arm/mach-socfpga/headsmp.S        |     5 -
remote:   arch/arm/mach-socfpga/platsmp.c        |     6 +-
remote:   arch/arm/mach-sunxi/Makefile           |     2 +-
remote:   arch/arm/mach-sunxi/headsmp.S          |     9 -
remote:   arch/arm/mach-sunxi/platsmp.c          |     2 +-
remote:   arch/arm/mach-tegra/Makefile           |     2 +-
remote:   arch/arm/mach-tegra/headsmp.S          |    12 -
remote:   arch/arm/mach-tegra/reset.c            |     2 +-
remote:   arch/arm/mach-tegra/reset.h            |     1 -
remote:   arch/arm/mach-zynq/common.h            |     2 -
remote:   arch/arm/mach-zynq/headsmp.S           |     5 -
remote:   arch/arm/mach-zynq/platsmp.c           |     5 +-
remote:   arch/arm/mm/Kconfig                    |     8 +
remote:   arch/arm/mm/Makefile                   |     1 +
remote:   arch/arm/mm/cache-b15-rac.c            |   368 +
remote:   arch/arm/mm/cache-v7.S                 |    24 +-
remote:   arch/arm/mm/dma-mapping.c              |     7 +-
remote:   arch/arm/mm/init.c                     |    17 +
remote:   arch/arm/mm/mmu.c                      |    25 +-
remote:   arch/arm/mm/proc-macros.S              |    11 -
remote:   arch/arm/mm/proc-v7-2level.S           |    11 -
remote:   arch/arm/mm/proc-v7.S                  |     8 +-
remote:   arch/powerpc/kvm/book3s_hv_builtin.c   |     3 +-
remote:   arch/x86/include/asm/bug.h             |     3 -
remote:   arch/x86/kernel/setup.c                |     2 +-
remote:   drivers/Kconfig                        |     2 +
remote:   drivers/Makefile                       |     3 +
remote:   drivers/ata/ahci.h                     |     6 +
remote:   drivers/ata/ahci_platform.c            |    13 +
remote:   drivers/ata/libahci.c                  |    52 +
remote:   drivers/ata/libata-core.c              |     4 +-
remote:   drivers/ata/sata_brcmstb.c             |    78 +-
remote:   drivers/ata/sata_brcmstb.h             |    19 +-
remote:   drivers/ata/sata_brcmstb_phy.c         |    59 +-
remote:   drivers/base/Kconfig                   |    13 +-
remote:   drivers/base/dma-contiguous.c          |   285 +-
remote:   drivers/bcm_media_gw/ethsw/ethsw.h     |     1 +
remote:   .../bcm_media_gw/ethsw/ethsw_core.c    |    73 +-
remote:   .../bcm_media_gw/ethsw/ethsw_core.h    |    11 +
remote:   .../ethsw/ethsw_init_plat.c            |     2 +-
remote:   drivers/bcm_media_gw/fpm/fpm_core.c    |    20 +-
remote:   drivers/bcm_media_gw/fpm/fpm_priv.h    |     2 +
remote:   drivers/bus/Kconfig                    |     8 +
remote:   drivers/bus/Makefile                   |     1 +
remote:   drivers/bus/brcmstb_gisb.c             |   326 +
remote:   drivers/char/bmoca.c                   |   185 +-
remote:   drivers/clk/Makefile                   |     1 +
remote:   drivers/clk/clk-brcmstb.c              |     2 +
remote:   drivers/clk/clk-divider.c              |    10 +-
remote:   drivers/clk/clk-multiplier.c           |   550 +
remote:   drivers/clk/clk.c                      |     6 +
remote:   drivers/gpio/Kconfig                   |     5 +-
remote:   drivers/gpio/gpiolib.c                 |   369 +-
remote:   drivers/gpio/gpiolib.h                 |     3 +
remote:   drivers/hwmon/lm75.c                   |     9 +-
remote:   drivers/hwmon/tmp102.c                 |     6 +-
remote:   drivers/i2c/busses/i2c-brcmstb.c       |     4 +-
remote:   drivers/input/input.c                  |     6 +-
remote:   drivers/irqchip/irq-bcm7120-l2.c       |    52 +-
remote:   drivers/mmc/card/block.c               |     7 +
remote:   drivers/mmc/core/core.c                |     7 +-
remote:   drivers/mmc/core/mmc.c                 |    17 +-
remote:   drivers/mmc/core/sd.c                  |    35 +-
remote:   drivers/mmc/core/sdio.c                |    45 +-
remote:   drivers/mmc/host/sdhci-brcmstb.c       |   228 +-
remote:   drivers/mmc/host/sdhci.c               |    23 +
remote:   drivers/mmc/host/sdhci.h               |     5 +
remote:   drivers/mtd/devices/m25p80.c           |    72 +-
remote:   drivers/mtd/nand/brcmstb_nand.c        |   138 +-
remote:   drivers/net/dsa/bcm_sf2.c              |   175 +-
remote:   drivers/net/dsa/bcm_sf2.h              |    11 +-
remote:   drivers/net/dsa/bcm_sf2_regs.h         |    15 +
remote:   .../net/ethernet/broadcom/bcmsysport.c |   114 +-
remote:   .../net/ethernet/broadcom/bcmsysport.h |     6 +-
remote:   .../ethernet/broadcom/genet/bcmgenet.c |   362 +-
remote:   .../ethernet/broadcom/genet/bcmgenet.h |    28 +-
remote:   .../broadcom/genet/bcmgenet_wol.c      |     6 +-
remote:   .../ethernet/broadcom/genet/bcmmii.c   |   177 +-
remote:   drivers/net/phy/bcm7xxx.c              |    14 +-
remote:   drivers/net/phy/ethsw.c                |    15 +-
remote:   drivers/net/phy/mdio-bitbang.c         |     7 +-
remote:   drivers/net/phy/mdio-unimac.c          |    45 +-
remote:   drivers/net/phy/mdio_bus.c             |    14 +-
remote:   drivers/net/phy/phy.c                  |    39 +-
remote:   drivers/net/phy/phy_device.c           |    18 +-
remote:   drivers/of/fdt.c                       |     3 +
remote:   drivers/of/of_mdio.c                   |    44 +-
remote:   drivers/of/of_reserved_mem.c           |    29 +
remote:   drivers/phy/Makefile                   |     1 +
remote:   drivers/phy/phy-brcm-usb.c             |   216 +
remote:   drivers/pwm/pwm-brcmstb.c              |     0
remote:   drivers/soc/Kconfig                    |     5 +
remote:   drivers/soc/Makefile                   |     5 +
remote:   drivers/soc/brcmstb/Kconfig            |    80 +
remote:   drivers/soc/brcmstb/Makefile           |    12 +
remote:   drivers/soc/brcmstb/biuctrl.c          |    96 +
remote:   drivers/soc/brcmstb/bmem.c             |   301 +
remote:   drivers/soc/brcmstb/cma_driver.c       |   918 +
remote:   drivers/soc/brcmstb/common.c           |   103 +
remote:   drivers/soc/brcmstb/irq0-stub.c        |    44 +
remote:   drivers/soc/brcmstb/memory.c           |   687 +
remote:   drivers/soc/brcmstb/nexus/Makefile     |     3 +
remote:   drivers/soc/brcmstb/nexus/gpio.c       |   266 +
remote:   drivers/soc/brcmstb/nexus/gpio.h       |    10 +
remote:   drivers/soc/brcmstb/nexus/irq.c        |   148 +
remote:   drivers/soc/brcmstb/nexus/reg.c        |    31 +
remote:   drivers/soc/brcmstb/pm/Makefile        |     2 +
remote:   drivers/soc/brcmstb/pm/aon_defs.h      |   100 +
remote:   drivers/soc/brcmstb/pm/pm.c            |   942 +
remote:   drivers/soc/brcmstb/pm/pm.h            |    40 +
remote:   drivers/soc/brcmstb/pm/regsave.c       |   148 +
remote:   drivers/soc/brcmstb/pm/s2.S            |    73 +
remote:   drivers/soc/brcmstb/pm/xpt_dma.c       |   318 +
remote:   drivers/soc/brcmstb/pm/xpt_dma.h       |    60 +
remote:   drivers/soc/brcmstb/srpd.c             |   169 +
remote:   drivers/soc/brcmstb/wktmr.c            |   427 +
remote:   drivers/spi/Kconfig                    |     7 +
remote:   drivers/spi/Makefile                   |     1 +
remote:   drivers/spi/spi-brcmstb-mspi.c         |   806 +
remote:   drivers/spi/spi-brcmstb.c              |   302 +-
remote:   drivers/thermal/Kconfig                |     7 +-
remote:   drivers/thermal/Makefile               |     1 +
remote:   drivers/thermal/brcmstb_thermal.c      |   427 +
remote:   drivers/thermal/fair_share.c           |    12 +
remote:   drivers/thermal/intel_powerclamp.c     |    93 +-
remote:   drivers/thermal/of-thermal.c           |   251 +-
remote:   drivers/thermal/step_wise.c            |     7 +-
remote:   drivers/thermal/thermal_core.c         |   197 +-
remote:   drivers/thermal/thermal_core.h         |    18 +
remote:   .../ti-soc-thermal/ti-thermal-common.c |    33 +-
remote:   drivers/thermal/user_space.c           |    21 +-
remote:   drivers/tty/serial/8250/8250_core.c    |    31 -
remote:   drivers/tty/serial/of_serial.c         |    15 -
remote:   drivers/usb/core/hub.c                 |    16 +-
remote:   drivers/usb/gadget/Kconfig             |     2 +
remote:   drivers/usb/gadget/Makefile            |     1 +
remote:   drivers/usb/gadget/bdc/Kconfig         |    21 +
remote:   drivers/usb/gadget/bdc/Makefile        |     8 +
remote:   drivers/usb/gadget/bdc/bdc.h           |   490 +
remote:   drivers/usb/gadget/bdc/bdc_cmd.c       |   376 +
remote:   drivers/usb/gadget/bdc/bdc_cmd.h       |    29 +
remote:   drivers/usb/gadget/bdc/bdc_core.c      |   556 +
remote:   drivers/usb/gadget/bdc/bdc_dbg.c       |   123 +
remote:   drivers/usb/gadget/bdc/bdc_dbg.h       |    37 +
remote:   drivers/usb/gadget/bdc/bdc_ep.c        |  2025 +
remote:   drivers/usb/gadget/bdc/bdc_ep.h        |    22 +
remote:   drivers/usb/gadget/bdc/bdc_pci.c       |   132 +
remote:   drivers/usb/gadget/bdc/bdc_udc.c       |   587 +
remote:   drivers/usb/gadget/udc-core.c          |    15 +
remote:   drivers/usb/host/ehci-brcm.c           |     1 +
remote:   drivers/usb/host/ohci-brcm.c           |     1 +
remote:   .../usb/host/usb-brcm-common-init.c    |   315 +-
remote:   .../usb/host/usb-brcm-common-init.h    |    48 +-
remote:   drivers/usb/host/usb-brcm.c            |    53 +-
remote:   drivers/usb/host/xhci-brcm.c           |     1 +
remote:   drivers/watchdog/bcm7038_wdt.c         |     1 +
remote:   fs/proc/meminfo.c                      |    15 +-
remote:   fs/pstore/ram.c                        |    22 +-
remote:   fs/xfs/xfs_attr.c                      |    24 +-
remote:   fs/xfs/xfs_attr_leaf.c                 |    21 +-
remote:   fs/xfs/xfs_attr_list.c                 |     1 +
remote:   fs/xfs/xfs_attr_remote.c               |     8 +-
remote:   fs/xfs/xfs_da_btree.h                  |     2 +
remote:   include/asm-generic/bug.h              |     5 +-
remote:   include/asm-generic/vmlinux.lds.h      |    21 +
remote:   include/dt-bindings/thermal/thermal.h  |     2 +-
remote:   include/linux/bmoca.h                  |     2 +
remote:   include/linux/brcmphy.h                |     5 +
remote:   .../linux/brcmstb/3390b0/bchp_bspi.h   |     8 +-
remote:   .../linux/brcmstb/3390b0/bchp_ebi.h    |     8 +-
remote:   .../brcmstb/3390b0/bchp_hif_intr2.h    |     8 +-
remote:   .../brcmstb/3390b0/bchp_hif_mspi.h     |     8 +-
remote:   .../linux/brcmstb/3390b0/bchp_irq0.h   |     8 +-
remote:   .../linux/brcmstb/3390b0/bchp_nand.h   |     8 +-
remote:   .../brcmstb/3390b0/bchp_sdio_0_cfg.h   |     8 +-
remote:   .../brcmstb/3390b0/bchp_switch_acb.h   |     8 +-
remote:   .../brcmstb/3390b0/bchp_switch_fcb.h   |     8 +-
remote:   .../brcmstb/3390b0/bchp_switch_reg.h   |     8 +-
remote:   .../brcmstb/3390b0/bchp_usb_ctrl.h     |     8 +-
remote:   .../brcmstb/7145a0/bchp_aon_ctrl.h     |  1911 -
remote:   .../brcmstb/7145a0/bchp_aon_pin_ctrl.h |   481 -
remote:   .../brcmstb/7145a0/bchp_aon_pm_l2.h    |  1346 -
remote:   .../linux/brcmstb/7145a0/bchp_bspi.h   |   443 -
remote:   .../brcmstb/7145a0/bchp_bspi_raf.h     |   160 -
remote:   .../linux/brcmstb/7145a0/bchp_clkgen.h | 11632 ----
remote:   .../linux/brcmstb/7145a0/bchp_common.h |  6163 --
remote:   .../brcmstb/7145a0/bchp_control_gfap.h |  2091 -
remote:   .../bchp_ddr34_phy_byte_lane_0_0.h     |  2101 -
remote:   .../bchp_ddr34_phy_byte_lane_0_1.h     |  2101 -
remote:   .../bchp_ddr34_phy_byte_lane_1_0.h     |  2101 -
remote:   .../bchp_ddr34_phy_byte_lane_1_1.h     |  2101 -
remote:   .../bchp_ddr34_phy_byte_lane_2_0.h     |  2101 -
remote:   .../bchp_ddr34_phy_byte_lane_2_1.h     |  2101 -
remote:   .../bchp_ddr34_phy_byte_lane_3_0.h     |  2101 -
remote:   .../bchp_ddr34_phy_byte_lane_3_1.h     |  2101 -
remote:   .../bchp_ddr34_phy_control_regs_0.h    |  4234 --
remote:   .../bchp_ddr34_phy_control_regs_1.h    |  4234 --
remote:   .../brcmstb/7145a0/bchp_dmahi0_gfap.h  |   139 -
remote:   .../brcmstb/7145a0/bchp_dpe_hw_gfap.h  |   443 -
remote:   .../linux/brcmstb/7145a0/bchp_ebi.h    |  2005 -
remote:   .../brcmstb/7145a0/bchp_fpm_ctrl_fpm.h |   592 -
remote:   .../brcmstb/7145a0/bchp_fpm_pool_fpm.h |   201 -
remote:   .../linux/brcmstb/7145a0/bchp_gio.h    |   474 -
remote:   .../brcmstb/7145a0/bchp_gio_aon.h      |   258 -
remote:   .../7145a0/bchp_hif_continuation.h     |   158 -
remote:   .../7145a0/bchp_hif_cpubiuctrl.h       |  3222 --
remote:   .../brcmstb/7145a0/bchp_hif_intr2.h    |  1188 -
remote:   .../brcmstb/7145a0/bchp_hif_mspi.h     |  1289 -
remote:   .../7145a0/bchp_hif_spi_intr2.h        |   564 -
remote:   .../brcmstb/7145a0/bchp_hif_top_ctrl.h |   579 -
remote:   .../linux/brcmstb/7145a0/bchp_irq0.h   |   174 -
remote:   .../linux/brcmstb/7145a0/bchp_irq1.h   |   174 -
remote:   .../brcmstb/7145a0/bchp_mbdma_uni0.h   |    88 -
remote:   .../brcmstb/7145a0/bchp_mbdma_uni1.h   |    88 -
remote:   .../brcmstb/7145a0/bchp_mbdma_uni2.h   |    88 -
remote:   .../brcmstb/7145a0/bchp_mbdma_uni3.h   |   916 -
remote:   .../brcmstb/7145a0/bchp_memc_arb_1.h   |  8093 ---
remote:   .../brcmstb/7145a0/bchp_memc_ddr_0.h   |  4679 --
remote:   .../brcmstb/7145a0/bchp_memc_ddr_1.h   |  4679 --
remote:   .../brcmstb/7145a0/bchp_memc_misc_1.h  |   131 -
remote:   .../7145a0/bchp_moca_hostmisc.h        |   511 -
remote:   .../linux/brcmstb/7145a0/bchp_nand.h   |  3594 --
remote:   .../7145a0/bchp_natc_reg_gfap.h        |   727 -
remote:   .../brcmstb/7145a0/bchp_pcie_0_dma.h   |   735 -
remote:   .../7145a0/bchp_pcie_0_ext_cfg.h       |   116 -
remote:   .../brcmstb/7145a0/bchp_pcie_0_intr2.h |  2016 -
remote:   .../brcmstb/7145a0/bchp_pcie_0_misc.h  |   974 -
remote:   .../7145a0/bchp_pcie_0_misc_perst.h    |    85 -
remote:   .../7145a0/bchp_pcie_0_rc_cfg_pcie.h   |   644 -
remote:   .../7145a0/bchp_pcie_0_rc_cfg_type1.h  |   526 -
remote:   .../7145a0/bchp_pcie_0_rc_cfg_vendor.h |   173 -
remote:   .../brcmstb/7145a0/bchp_pcie_0_rgr1.h  |   134 -
remote:   .../7145a0/bchp_shimphy_addr_cntl_0.h  |   547 -
remote:   .../7145a0/bchp_shimphy_addr_cntl_1.h  |   547 -
remote:   .../brcmstb/7145a0/bchp_sun_top_ctrl.h |  6899 ---
remote:   .../brcmstb/7145a0/bchp_switch_acb.h   |  3151 -
remote:   .../brcmstb/7145a0/bchp_switch_core.h  | 31972 ----------
remote:   .../brcmstb/7145a0/bchp_switch_fcb.h   |   404 -
remote:   .../7145a0/bchp_switch_indir_rw.h      |   140 -
remote:   .../7145a0/bchp_switch_intrl2_0.h      |  1164 -
remote:   .../7145a0/bchp_switch_intrl2_1.h      |  1944 -
remote:   .../brcmstb/7145a0/bchp_switch_mdio.h  |   117 -
remote:   .../brcmstb/7145a0/bchp_switch_reg.h   |   837 -
remote:   .../brcmstb/7145a0/bchp_token_gfap.h   |    52 -
remote:   .../7145a0/bchp_unimac_core0_uni0.h    |    75 -
remote:   .../7145a0/bchp_unimac_core0_uni1.h    |    75 -
remote:   .../7145a0/bchp_unimac_core0_uni2.h    |    75 -
remote:   .../7145a0/bchp_unimac_core0_uni3.h    |   566 -
remote:   .../bchp_unimac_interface0_uni0.h      |   106 -
remote:   .../bchp_unimac_interface0_uni1.h      |   106 -
remote:   .../bchp_unimac_interface0_uni2.h      |   106 -
remote:   .../bchp_unimac_interface0_uni3.h      |  1235 -
remote:   .../brcmstb/7145a0/bchp_usb_ctrl.h     |  1154 -
remote:   .../brcmstb/7145b0/bchp_aon_ctrl.h     |  1782 -
remote:   .../brcmstb/7145b0/bchp_aon_pin_ctrl.h |   500 -
remote:   .../brcmstb/7145b0/bchp_aon_pm_l2.h    |  1706 -
remote:   .../linux/brcmstb/7145b0/bchp_bspi.h   |   445 -
remote:   .../brcmstb/7145b0/bchp_bspi_raf.h     |   162 -
remote:   .../linux/brcmstb/7145b0/bchp_clkgen.h | 11565 ----
remote:   .../linux/brcmstb/7145b0/bchp_common.h |  6885 ---
remote:   .../brcmstb/7145b0/bchp_control_gfap.h |  2091 -
remote:   .../bchp_ddr34_phy_byte_lane_0_0.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_0_1.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_1_0.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_1_1.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_2_0.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_2_1.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_3_0.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_3_1.h     |  2482 -
remote:   .../bchp_ddr34_phy_control_regs_0.h    |  4441 --
remote:   .../bchp_ddr34_phy_control_regs_1.h    |  4441 --
remote:   .../linux/brcmstb/7145b0/bchp_ebi.h    |  2007 -
remote:   .../brcmstb/7145b0/bchp_fpm_ctrl_fpm.h |   706 -
remote:   .../brcmstb/7145b0/bchp_fpm_pool_fpm.h |   201 -
remote:   .../linux/brcmstb/7145b0/bchp_gio.h    |   474 -
remote:   .../brcmstb/7145b0/bchp_gio_aon.h      |   258 -
remote:   .../brcmstb/7145b0/bchp_gpio_per.h     |  2243 -
remote:   .../7145b0/bchp_hif_continuation.h     |   158 -
remote:   .../7145b0/bchp_hif_cpubiuctrl.h       |  3437 --
remote:   .../brcmstb/7145b0/bchp_hif_intr2.h    |  1250 -
remote:   .../brcmstb/7145b0/bchp_hif_mspi.h     |  1291 -
remote:   .../7145b0/bchp_hif_spi_intr2.h        |   566 -
remote:   .../brcmstb/7145b0/bchp_hif_top_ctrl.h |   605 -
remote:   .../linux/brcmstb/7145b0/bchp_irq0.h   |   176 -
remote:   .../linux/brcmstb/7145b0/bchp_irq1.h   |   176 -
remote:   .../brcmstb/7145b0/bchp_mbdma_uni0.h   |   915 -
remote:   .../brcmstb/7145b0/bchp_mbdma_uni1.h   |   915 -
remote:   .../brcmstb/7145b0/bchp_mbdma_uni2.h   |   915 -
remote:   .../brcmstb/7145b0/bchp_mbdma_uni3.h   |   915 -
remote:   .../brcmstb/7145b0/bchp_memc_arb_1.h   |  8208 ---
remote:   .../brcmstb/7145b0/bchp_memc_ddr_0.h   |  4799 --
remote:   .../brcmstb/7145b0/bchp_memc_ddr_1.h   |  4799 --
remote:   .../brcmstb/7145b0/bchp_memc_misc_1.h  |   133 -
remote:   .../7145b0/bchp_moca_hostmisc.h        |   513 -
remote:   .../linux/brcmstb/7145b0/bchp_nand.h   |  3757 --
remote:   .../brcmstb/7145b0/bchp_pcie_0_dma.h   |   737 -
remote:   .../7145b0/bchp_pcie_0_ext_cfg.h       |   118 -
remote:   .../brcmstb/7145b0/bchp_pcie_0_intr2.h |  2018 -
remote:   .../brcmstb/7145b0/bchp_pcie_0_misc.h  |   995 -
remote:   .../7145b0/bchp_pcie_0_misc_perst.h    |    87 -
remote:   .../7145b0/bchp_pcie_0_rc_cfg_pcie.h   |   646 -
remote:   .../7145b0/bchp_pcie_0_rc_cfg_type1.h  |   528 -
remote:   .../7145b0/bchp_pcie_0_rc_cfg_vendor.h |   175 -
remote:   .../brcmstb/7145b0/bchp_pcie_0_rgr1.h  |   136 -
remote:   .../brcmstb/7145b0/bchp_sdio_0_cfg.h   |   836 -
remote:   .../7145b0/bchp_shimphy_addr_cntl_0.h  |   631 -
remote:   .../7145b0/bchp_shimphy_addr_cntl_1.h  |   631 -
remote:   .../brcmstb/7145b0/bchp_sun_top_ctrl.h |  7452 ---
remote:   .../brcmstb/7145b0/bchp_switch_acb.h   |  4438 --
remote:   .../brcmstb/7145b0/bchp_switch_core.h  | 32008 -----------
remote:   .../brcmstb/7145b0/bchp_switch_fcb.h   |   424 -
remote:   .../7145b0/bchp_switch_indir_rw.h      |   140 -
remote:   .../7145b0/bchp_switch_intrl2_0.h      |  1226 -
remote:   .../7145b0/bchp_switch_intrl2_1.h      |  1944 -
remote:   .../brcmstb/7145b0/bchp_switch_mdio.h  |   119 -
remote:   .../brcmstb/7145b0/bchp_switch_reg.h   |   775 -
remote:   .../7145b0/bchp_unimac_core0_uni0.h    |   795 -
remote:   .../7145b0/bchp_unimac_core0_uni1.h    |   795 -
remote:   .../7145b0/bchp_unimac_core0_uni2.h    |   795 -
remote:   .../7145b0/bchp_unimac_core0_uni3.h    |   795 -
remote:   .../bchp_unimac_interface0_uni0.h      |  1402 -
remote:   .../bchp_unimac_interface0_uni1.h      |  1402 -
remote:   .../bchp_unimac_interface0_uni2.h      |  1402 -
remote:   .../bchp_unimac_interface0_uni3.h      |  1402 -
remote:   .../brcmstb/7145b0/bchp_usb_ctrl.h     |  1490 -
remote:   .../brcmstb/7250b0/bchp_aon_ctrl.h     |  1684 -
remote:   .../brcmstb/7250b0/bchp_aon_pin_ctrl.h |   661 -
remote:   .../brcmstb/7250b0/bchp_aon_pm_l2.h    |   980 -
remote:   .../linux/brcmstb/7250b0/bchp_clkgen.h |  9389 ---
remote:   .../bchp_ddr34_phy_byte_lane_0_0.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_1_0.h     |  2482 -
remote:   .../bchp_ddr34_phy_control_regs_0.h    |  4441 --
remote:   .../linux/brcmstb/7250b0/bchp_gio.h    |   474 -
remote:   .../brcmstb/7250b0/bchp_gio_aon.h      |   258 -
remote:   .../7250b0/bchp_hif_continuation.h     |    94 -
remote:   .../7250b0/bchp_hif_cpubiuctrl.h       |  3422 --
remote:   .../brcmstb/7250b0/bchp_hif_top_ctrl.h |   605 -
remote:   .../linux/brcmstb/7250b0/bchp_irq1.h   |   156 -
remote:   .../brcmstb/7250b0/bchp_memc_ddr_0.h   |  4579 --
remote:   .../brcmstb/7250b0/bchp_pcie_0_dma.h   |   737 -
remote:   .../7250b0/bchp_pcie_0_ext_cfg.h       |   118 -
remote:   .../brcmstb/7250b0/bchp_pcie_0_intr2.h |  2018 -
remote:   .../brcmstb/7250b0/bchp_pcie_0_misc.h  |  1044 -
remote:   .../7250b0/bchp_pcie_0_misc_perst.h    |    87 -
remote:   .../7250b0/bchp_pcie_0_rc_cfg_pcie.h   |   646 -
remote:   .../7250b0/bchp_pcie_0_rc_cfg_type1.h  |   528 -
remote:   .../7250b0/bchp_pcie_0_rc_cfg_vendor.h |   175 -
remote:   .../brcmstb/7250b0/bchp_pcie_0_rgr1.h  |   136 -
remote:   .../7250b0/bchp_shimphy_addr_cntl_0.h  |   631 -
remote:   .../brcmstb/7364a0/bchp_aon_ctrl.h     |  1736 -
remote:   .../brcmstb/7364a0/bchp_aon_pin_ctrl.h |   484 -
remote:   .../brcmstb/7364a0/bchp_aon_pm_l2.h    |  1340 -
remote:   .../linux/brcmstb/7364a0/bchp_clkgen.h |  9414 ---
remote:   .../bchp_ddr34_phy_control_regs_0.h    |  4441 --
remote:   .../linux/brcmstb/7364a0/bchp_gio.h    |   474 -
remote:   .../brcmstb/7364a0/bchp_gio_aon.h      |   258 -
remote:   .../7364a0/bchp_hif_continuation.h     |    94 -
remote:   .../7364a0/bchp_hif_cpubiuctrl.h       |  3437 --
remote:   .../brcmstb/7364a0/bchp_hif_top_ctrl.h |   605 -
remote:   .../linux/brcmstb/7364a0/bchp_irq1.h   |   166 -
remote:   .../brcmstb/7364a0/bchp_memc_ddr_0.h   |  4579 --
remote:   .../7364a0/bchp_moca_hostmisc.h        |   511 -
remote:   .../7364a0/bchp_shimphy_addr_cntl_0.h  |   631 -
remote:   .../brcmstb/7366b0/bchp_aon_ctrl.h     |  1791 -
remote:   .../brcmstb/7366b0/bchp_aon_pin_ctrl.h |   541 -
remote:   .../brcmstb/7366b0/bchp_aon_pm_l2.h    |  1406 -
remote:   .../linux/brcmstb/7366b0/bchp_bspi.h   |   443 -
remote:   .../brcmstb/7366b0/bchp_bspi_raf.h     |   160 -
remote:   .../linux/brcmstb/7366b0/bchp_clkgen.h | 11392 ----
remote:   .../linux/brcmstb/7366b0/bchp_common.h |  4373 --
remote:   .../bchp_ddr34_phy_byte_lane_0_0.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_1_0.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_2_0.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_3_0.h     |  2482 -
remote:   .../bchp_ddr34_phy_control_regs_0.h    |  4441 --
remote:   .../linux/brcmstb/7366b0/bchp_ebi.h    |  2005 -
remote:   .../linux/brcmstb/7366b0/bchp_gio.h    |   546 -
remote:   .../brcmstb/7366b0/bchp_gio_aon.h      |   258 -
remote:   .../7366b0/bchp_hif_continuation.h     |   114 -
remote:   .../7366b0/bchp_hif_cpubiuctrl.h       |  3437 --
remote:   .../brcmstb/7366b0/bchp_hif_intr2.h    |  1610 -
remote:   .../brcmstb/7366b0/bchp_hif_mspi.h     |  1289 -
remote:   .../7366b0/bchp_hif_spi_intr2.h        |   564 -
remote:   .../brcmstb/7366b0/bchp_hif_top_ctrl.h |   603 -
remote:   .../linux/brcmstb/7366b0/bchp_irq0.h   |   196 -
remote:   .../linux/brcmstb/7366b0/bchp_irq1.h   |   196 -
remote:   .../brcmstb/7366b0/bchp_memc_ddr_0.h   |  4799 --
remote:   .../7366b0/bchp_moca_hostmisc.h        |   511 -
remote:   .../linux/brcmstb/7366b0/bchp_nand.h   |  3757 --
remote:   .../brcmstb/7366b0/bchp_pcie_0_dma.h   |   735 -
remote:   .../7366b0/bchp_pcie_0_ext_cfg.h       |   116 -
remote:   .../brcmstb/7366b0/bchp_pcie_0_intr2.h |  2016 -
remote:   .../brcmstb/7366b0/bchp_pcie_0_misc.h  |   995 -
remote:   .../7366b0/bchp_pcie_0_misc_perst.h    |    85 -
remote:   .../7366b0/bchp_pcie_0_rc_cfg_pcie.h   |   644 -
remote:   .../7366b0/bchp_pcie_0_rc_cfg_type1.h  |   526 -
remote:   .../7366b0/bchp_pcie_0_rc_cfg_vendor.h |   173 -
remote:   .../brcmstb/7366b0/bchp_pcie_0_rgr1.h  |   134 -
remote:   .../brcmstb/7366b0/bchp_sdio_0_cfg.h   |   836 -
remote:   .../7366b0/bchp_shimphy_addr_cntl_0.h  |   631 -
remote:   .../brcmstb/7366b0/bchp_sun_top_ctrl.h |  8932 ---
remote:   .../brcmstb/7366b0/bchp_usb_ctrl.h     |  1524 -
remote:   .../brcmstb/7366b0/bchp_xpt_bus_if.h   |   738 -
remote:   .../linux/brcmstb/7366b0/bchp_xpt_fe.h | 11836 ----
remote:   .../7366b0/bchp_xpt_memdma_mcpb.h      |  4737 --
remote:   .../7366b0/bchp_xpt_memdma_mcpb_ch0.h  |  2319 -
remote:   .../brcmstb/7366b0/bchp_xpt_pmu.h      |   397 -
remote:   .../7366b0/bchp_xpt_security_ns.h      |   593 -
remote:   .../bchp_xpt_security_ns_intr2_0.h     |   866 -
remote:   .../brcmstb/7366c0/bchp_aon_ctrl.h     |  1789 -
remote:   .../brcmstb/7366c0/bchp_aon_pin_ctrl.h |   539 -
remote:   .../brcmstb/7366c0/bchp_aon_pm_l2.h    |  1404 -
remote:   .../linux/brcmstb/7366c0/bchp_clkgen.h | 11390 ----
remote:   .../bchp_ddr34_phy_byte_lane_0_0.h     |  2480 -
remote:   .../bchp_ddr34_phy_byte_lane_1_0.h     |  2480 -
remote:   .../bchp_ddr34_phy_byte_lane_2_0.h     |  2480 -
remote:   .../bchp_ddr34_phy_byte_lane_3_0.h     |  2480 -
remote:   .../bchp_ddr34_phy_control_regs_0.h    |  4439 --
remote:   .../linux/brcmstb/7366c0/bchp_gio.h    |   544 -
remote:   .../brcmstb/7366c0/bchp_gio_aon.h      |   256 -
remote:   .../7366c0/bchp_hif_continuation.h     |   114 -
remote:   .../7366c0/bchp_hif_cpubiuctrl.h       |  3435 --
remote:   .../brcmstb/7366c0/bchp_hif_top_ctrl.h |   603 -
remote:   .../linux/brcmstb/7366c0/bchp_irq1.h   |   194 -
remote:   .../brcmstb/7366c0/bchp_memc_ddr_0.h   |  4797 --
remote:   .../7366c0/bchp_moca_hostmisc.h        |   511 -
remote:   .../brcmstb/7366c0/bchp_pcie_0_dma.h   |   735 -
remote:   .../7366c0/bchp_pcie_0_ext_cfg.h       |   116 -
remote:   .../brcmstb/7366c0/bchp_pcie_0_intr2.h |  2016 -
remote:   .../brcmstb/7366c0/bchp_pcie_0_misc.h  |   993 -
remote:   .../7366c0/bchp_pcie_0_misc_perst.h    |    85 -
remote:   .../7366c0/bchp_pcie_0_rc_cfg_pcie.h   |   644 -
remote:   .../7366c0/bchp_pcie_0_rc_cfg_type1.h  |   526 -
remote:   .../7366c0/bchp_pcie_0_rc_cfg_vendor.h |   173 -
remote:   .../brcmstb/7366c0/bchp_pcie_0_rgr1.h  |   134 -
remote:   .../7366c0/bchp_shimphy_addr_cntl_0.h  |   629 -
remote:   .../brcmstb/7366c0/bchp_usb_ctrl.h     |   132 +-
remote:   .../brcmstb/74371a0/bchp_aon_ctrl.h    |  1663 -
remote:   .../74371a0/bchp_aon_pin_ctrl.h        |   524 -
remote:   .../brcmstb/74371a0/bchp_aon_pm_l2.h   |  1044 -
remote:   .../brcmstb/74371a0/bchp_clkgen.h      |  7808 ---
remote:   .../bchp_ddr34_phy_byte_lane_0_0.h     |  2099 -
remote:   .../bchp_ddr34_phy_byte_lane_1_0.h     |  2099 -
remote:   .../bchp_ddr34_phy_byte_lane_2_0.h     |  2099 -
remote:   .../bchp_ddr34_phy_byte_lane_3_0.h     |  2099 -
remote:   .../bchp_ddr34_phy_control_regs_0.h    |  4232 --
remote:   .../linux/brcmstb/74371a0/bchp_gio.h   |   472 -
remote:   .../brcmstb/74371a0/bchp_gio_aon.h     |   256 -
remote:   .../74371a0/bchp_hif_continuation.h    |   114 -
remote:   .../74371a0/bchp_hif_cpubiuctrl.h      |  3311 --
remote:   .../74371a0/bchp_hif_top_ctrl.h        |   589 -
remote:   .../linux/brcmstb/74371a0/bchp_irq1.h  |   184 -
remote:   .../brcmstb/74371a0/bchp_memc_ddr_0.h  |  4762 --
remote:   .../74371a0/bchp_moca_hostmisc.h       |   511 -
remote:   .../brcmstb/74371a0/bchp_pcie_0_dma.h  |   735 -
remote:   .../74371a0/bchp_pcie_0_ext_cfg.h      |   116 -
remote:   .../74371a0/bchp_pcie_0_intr2.h        |  2016 -
remote:   .../brcmstb/74371a0/bchp_pcie_0_misc.h |   969 -
remote:   .../74371a0/bchp_pcie_0_misc_perst.h   |    85 -
remote:   .../74371a0/bchp_pcie_0_rc_cfg_pcie.h  |   644 -
remote:   .../74371a0/bchp_pcie_0_rc_cfg_type1.h |   526 -
remote:   .../bchp_pcie_0_rc_cfg_vendor.h        |   173 -
remote:   .../brcmstb/74371a0/bchp_pcie_0_rgr1.h |   134 -
remote:   .../74371a0/bchp_shimphy_addr_cntl_0.h |   556 -
remote:   .../brcmstb/74371a0/bchp_usb_xhci_ec.h |   384 +
remote:   .../brcmstb/7439a0/bchp_aon_ctrl.h     |  1639 -
remote:   .../brcmstb/7439a0/bchp_aon_pin_ctrl.h |   524 -
remote:   .../brcmstb/7439a0/bchp_aon_pm_l2.h    |  1044 -
remote:   .../linux/brcmstb/7439a0/bchp_bspi.h   |   443 -
remote:   .../brcmstb/7439a0/bchp_bspi_raf.h     |   160 -
remote:   .../linux/brcmstb/7439a0/bchp_clkgen.h |  7808 ---
remote:   .../linux/brcmstb/7439a0/bchp_common.h |  3483 --
remote:   .../bchp_ddr34_phy_byte_lane_0_0.h     |  2099 -
remote:   .../bchp_ddr34_phy_byte_lane_1_0.h     |  2099 -
remote:   .../bchp_ddr34_phy_byte_lane_2_0.h     |  2099 -
remote:   .../bchp_ddr34_phy_byte_lane_3_0.h     |  2099 -
remote:   .../bchp_ddr34_phy_control_regs_0.h    |  4232 --
remote:   .../linux/brcmstb/7439a0/bchp_ebi.h    |  2005 -
remote:   .../linux/brcmstb/7439a0/bchp_gio.h    |   472 -
remote:   .../brcmstb/7439a0/bchp_gio_aon.h      |   256 -
remote:   .../7439a0/bchp_hif_continuation.h     |   114 -
remote:   .../7439a0/bchp_hif_cpubiuctrl.h       |  3311 --
remote:   .../brcmstb/7439a0/bchp_hif_intr2.h    |  1536 -
remote:   .../brcmstb/7439a0/bchp_hif_mspi.h     |  1289 -
remote:   .../7439a0/bchp_hif_spi_intr2.h        |   564 -
remote:   .../brcmstb/7439a0/bchp_hif_top_ctrl.h |   589 -
remote:   .../linux/brcmstb/7439a0/bchp_irq0.h   |   184 -
remote:   .../linux/brcmstb/7439a0/bchp_irq1.h   |   184 -
remote:   .../brcmstb/7439a0/bchp_memc_ddr_0.h   |  4762 --
remote:   .../7439a0/bchp_moca_hostmisc.h        |   511 -
remote:   .../linux/brcmstb/7439a0/bchp_nand.h   |  3594 --
remote:   .../brcmstb/7439a0/bchp_pcie_0_dma.h   |   735 -
remote:   .../7439a0/bchp_pcie_0_ext_cfg.h       |   116 -
remote:   .../brcmstb/7439a0/bchp_pcie_0_intr2.h |  2016 -
remote:   .../brcmstb/7439a0/bchp_pcie_0_misc.h  |   969 -
remote:   .../7439a0/bchp_pcie_0_misc_perst.h    |    85 -
remote:   .../7439a0/bchp_pcie_0_rc_cfg_pcie.h   |   644 -
remote:   .../7439a0/bchp_pcie_0_rc_cfg_type1.h  |   526 -
remote:   .../7439a0/bchp_pcie_0_rc_cfg_vendor.h |   173 -
remote:   .../brcmstb/7439a0/bchp_pcie_0_rgr1.h  |   134 -
remote:   .../7439a0/bchp_shimphy_addr_cntl_0.h  |   556 -
remote:   .../brcmstb/7439a0/bchp_sun_top_ctrl.h |  7278 ---
remote:   .../brcmstb/7439a0/bchp_usb_ctrl.h     |  1296 -
remote:   .../brcmstb/7439b0/bchp_aon_ctrl.h     |  1731 -
remote:   .../brcmstb/7439b0/bchp_aon_pin_ctrl.h |   443 -
remote:   .../brcmstb/7439b0/bchp_aon_pm_l2.h    |  1166 -
remote:   .../linux/brcmstb/7439b0/bchp_clkgen.h |  8323 ---
remote:   .../bchp_ddr34_phy_byte_lane_0_0.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_1_0.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_2_0.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_3_0.h     |  2482 -
remote:   .../bchp_ddr34_phy_control_regs_0.h    |  4441 --
remote:   .../linux/brcmstb/7439b0/bchp_gio.h    |   474 -
remote:   .../brcmstb/7439b0/bchp_gio_aon.h      |   258 -
remote:   .../7439b0/bchp_hif_continuation.h     |   116 -
remote:   .../7439b0/bchp_hif_cpubiuctrl.h       |  3437 --
remote:   .../brcmstb/7439b0/bchp_hif_top_ctrl.h |   616 -
remote:   .../linux/brcmstb/7439b0/bchp_irq1.h   |   176 -
remote:   .../brcmstb/7439b0/bchp_memc_ddr_0.h   |  4091 --
remote:   .../7439b0/bchp_moca_hostmisc.h        |   511 -
remote:   .../brcmstb/7439b0/bchp_pcie_0_dma.h   |   737 -
remote:   .../7439b0/bchp_pcie_0_ext_cfg.h       |   118 -
remote:   .../brcmstb/7439b0/bchp_pcie_0_intr2.h |  2018 -
remote:   .../brcmstb/7439b0/bchp_pcie_0_misc.h  |  1044 -
remote:   .../7439b0/bchp_pcie_0_misc_perst.h    |    87 -
remote:   .../7439b0/bchp_pcie_0_rc_cfg_pcie.h   |   646 -
remote:   .../7439b0/bchp_pcie_0_rc_cfg_type1.h  |   528 -
remote:   .../7439b0/bchp_pcie_0_rc_cfg_vendor.h |   175 -
remote:   .../brcmstb/7439b0/bchp_pcie_0_rgr1.h  |   136 -
remote:   .../7439b0/bchp_shimphy_addr_cntl_0.h  |   703 -
remote:   .../brcmstb/7439b0/bchp_usb_ctrl.h     |    42 +-
remote:   .../brcmstb/7445d0/bchp_aon_ctrl.h     |  1685 -
remote:   .../brcmstb/7445d0/bchp_aon_pin_ctrl.h |   442 -
remote:   .../brcmstb/7445d0/bchp_aon_pm_l2.h    |  1106 -
remote:   .../linux/brcmstb/7445d0/bchp_clkgen.h |  9432 ---
remote:   .../bchp_ddr34_phy_byte_lane_0_0.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_0_1.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_0_2.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_1_0.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_1_1.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_1_2.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_2_0.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_2_1.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_2_2.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_3_0.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_3_1.h     |  2482 -
remote:   .../bchp_ddr34_phy_byte_lane_3_2.h     |  2482 -
remote:   .../bchp_ddr34_phy_control_regs_0.h    |  4441 --
remote:   .../bchp_ddr34_phy_control_regs_1.h    |  4441 --
remote:   .../bchp_ddr34_phy_control_regs_2.h    |  4441 --
remote:   .../linux/brcmstb/7445d0/bchp_gio.h    |   370 -
remote:   .../brcmstb/7445d0/bchp_gio_aon.h      |   258 -
remote:   .../7445d0/bchp_hif_continuation.h     |   158 -
remote:   .../7445d0/bchp_hif_cpubiuctrl.h       |  3431 --
remote:   .../brcmstb/7445d0/bchp_hif_top_ctrl.h |   589 -
remote:   .../linux/brcmstb/7445d0/bchp_irq1.h   |   216 -
remote:   .../brcmstb/7445d0/bchp_memc_arb_1.h   |  8194 ---
remote:   .../brcmstb/7445d0/bchp_memc_ddr_0.h   |  4799 --
remote:   .../brcmstb/7445d0/bchp_memc_ddr_1.h   |  4799 --
remote:   .../brcmstb/7445d0/bchp_memc_ddr_2.h   |  4799 --
remote:   .../brcmstb/7445d0/bchp_memc_misc_1.h  |   131 -
remote:   .../7445d0/bchp_moca_hostmisc.h        |   511 -
remote:   .../brcmstb/7445d0/bchp_pcie_0_dma.h   |   735 -
remote:   .../7445d0/bchp_pcie_0_ext_cfg.h       |   116 -
remote:   .../brcmstb/7445d0/bchp_pcie_0_intr2.h |  2016 -
remote:   .../brcmstb/7445d0/bchp_pcie_0_misc.h  |   995 -
remote:   .../7445d0/bchp_pcie_0_misc_perst.h    |    85 -
remote:   .../7445d0/bchp_pcie_0_rc_cfg_pcie.h   |   644 -
remote:   .../7445d0/bchp_pcie_0_rc_cfg_type1.h  |   526 -
remote:   .../7445d0/bchp_pcie_0_rc_cfg_vendor.h |   173 -
remote:   .../brcmstb/7445d0/bchp_pcie_0_rgr1.h  |   134 -
remote:   .../7445d0/bchp_shimphy_addr_cntl_0.h  |   631 -
remote:   .../7445d0/bchp_shimphy_addr_cntl_1.h  |   631 -
remote:   .../7445d0/bchp_shimphy_addr_cntl_2.h  |   631 -
remote:   include/linux/brcmstb/bmem.h           |    34 +
remote:   include/linux/brcmstb/brcmstb.h        |   567 +-
remote:   include/linux/brcmstb/cma_driver.h     |    25 +-
remote:   include/linux/brcmstb/gpio_api.h       |    24 +
remote:   include/linux/brcmstb/irq_api.h        |    47 +
remote:   include/linux/brcmstb/memory_api.h     |    97 +
remote:   .../brcmstb/nexus_version_check.h      |    43 +
remote:   include/linux/brcmstb/reg_api.h        |    23 +
remote:   include/linux/clk-provider.h           |    82 +
remote:   include/linux/cma.h                    |    37 +
remote:   include/linux/dma-contiguous.h         |    25 +-
remote:   include/linux/gfp.h                    |     7 +
remote:   include/linux/gpio.h                   |     2 +-
remote:   include/linux/gpio/consumer.h          |     8 -
remote:   include/linux/gpio/driver.h            |    53 +-
remote:   include/linux/irq.h                    |     6 +
remote:   include/linux/libata.h                 |     5 +
remote:   include/linux/memblock.h               |     2 +
remote:   include/linux/mmc/card.h               |     1 +
remote:   include/linux/mmc/host.h               |     5 +-
remote:   include/linux/mmzone.h                 |    33 +-
remote:   include/linux/netdevice.h              |     9 +
remote:   include/linux/of_mdio.h                |     7 +
remote:   include/linux/of_reserved_mem.h        |    32 +
remote:   include/linux/page-isolation.h         |     8 +
remote:   include/linux/pageblock-flags.h        |    33 +-
remote:   include/linux/phy.h                    |     5 +
remote:   include/linux/serial_core.h            |     1 -
remote:   include/linux/soc/brcmstb/brcmstb.h    |    13 +
remote:   include/linux/spi/spi.h                |     6 +
remote:   include/linux/thermal.h                |   158 +-
remote:   include/linux/usb/gadget.h             |    14 +
remote:   include/net/dsa.h                      |     8 +
remote:   include/soc/brcmstb/common.h           |    25 +
remote:   include/trace/events/thermal.h         |    83 +
remote:   include/uapi/linux/Kbuild              |     1 +
remote:   include/uapi/linux/brcmstb/Kbuild      |     2 +
remote:   include/uapi/linux/serial_core.h       |     3 +-
remote:   kernel/irq/handle.c                    |    14 +
remote:   kernel/irq/manage.c                    |    28 +-
remote:   kernel/irq/resend.c                    |    10 +
remote:   kernel/irq/spurious.c                  |     4 +
remote:   kernel/power/suspend.c                 |    13 +-
remote:   kernel/sched/core.c                    |    32 +
remote:   kernel/softirq.c                       |    10 +
remote:   kernel/workqueue.c                     |    10 +
remote:   lib/show_mem.c                         |     6 +
remote:   mm/Kconfig                             |    11 +
remote:   mm/Makefile                            |     1 +
remote:   mm/cma.c                               |   429 +
remote:   mm/internal.h                          |    25 +
remote:   mm/memblock.c                          |    21 +-
remote:   mm/memory.c                            |    50 +-
remote:   mm/page_alloc.c                        |   220 +-
remote:   mm/page_isolation.c                    |    43 +-
remote:   net/bridge/br_if.c                     |     8 +-
remote:   net/bridge/br_netlink.c                |     2 +-
remote:   net/bridge/br_private.h                |     1 +
remote:   net/bridge/br_stp.c                    |    19 +-
remote:   net/bridge/br_stp_if.c                 |     4 +-
remote:   net/bridge/br_stp_timer.c              |     4 +-
remote:   net/dsa/dsa.c                          |     2 +
remote:   net/dsa/dsa_priv.h                     |    18 +
remote:   net/dsa/slave.c                        |   174 +-
remote:   net/dsa/tag_brcm.c                     |     3 +
remote:   net/dsa/tag_dsa.c                      |     3 +
remote:   net/dsa/tag_edsa.c                     |     3 +
remote:   net/dsa/tag_trailer.c                  |     4 +
remote:   net/ipv4/ping.c                        |     1 +
remote:   net/ipv6/netfilter/Makefile            |     1 +
remote:   packaging/Makefile                     |    13 +
remote:   packaging/linux-src-rpmlintrc          |     5 +
remote:   packaging/linux-src.spec               |    29 +
remote:   scripts/.gitignore                     |     1 +
remote:   scripts/analyze_oom.py                 |   203 +
remote:   scripts/decode_gfpmask.py              |    75 +
remote:   scripts/kconfig/Makefile               |     2 +-
remote:   scripts/kconfig/menu.c                 |    35 +-
remote:   scripts/setlocalversion                |     2 +
remote:   security/keys/process_keys.c           |     1 +
remote:   tools/testing/brcmstb/gpio-api/Kbuild  |     1 +
remote:   .../testing/brcmstb/gpio-api/Makefile  |    17 +
remote:   tools/testing/brcmstb/gpio-api/README  |     7 +
remote:   .../brcmstb/gpio-api/test-gpio-api.c   |    62 +
remote:   tools/testing/brcmstb/irq-api/Kbuild   |     1 +
remote:   tools/testing/brcmstb/irq-api/Makefile |    17 +
remote:   tools/testing/brcmstb/irq-api/README   |     7 +
remote:   .../brcmstb/irq-api/test-irq-api.c     |    33 +
remote:   .../brcmstb/memory-api/.gitignore      |     1 +
remote:   .../testing/brcmstb/memory-api/Kbuild  |     1 +
remote:   .../brcmstb/memory-api/Makefile        |    17 +
remote:   .../testing/brcmstb/memory-api/README  |     7 +
remote:   .../memory-api/test-memory-api.c       |    90 +
remote:   tools/testing/brcmstb/reg-api/Kbuild   |     1 +
remote:   tools/testing/brcmstb/reg-api/Makefile |    17 +
remote:   tools/testing/brcmstb/reg-api/README   |     7 +
remote:   .../brcmstb/reg-api/test-reg-api.c     |    95 +
remote:   tools/thermal/tmon/.gitignore          |     1 +
remote:   tools/thermal/tmon/Makefile            |    12 +-
remote:   tools/thermal/tmon/makefile            |    22 +
remote:   tools/thermal/tmon/tmon.c              |    14 +-
remote:   tools/thermal/tmon/tui.c               |    42 +-
remote:   737 files changed, 25002 insertions(+), 751496 deletions(-)
remote:  ;tross@broadcom.com;2016-05-25 17:21:21 -0400;61885f434af839372f49072e04568fb7e547b0e8;SWRGROUTER-4755: Update gpio-brcmstb.c to latest version from STBLinux 3.14-1.14.;
remote:  Update gpio-brcmstb.c to STBLinux version 3.14-1.14.
remote:  Update wps and gpio-irqt drivers to workaround SWLINUX-4071.
remote:  Fix compiler warnings in wps driver.
remote:
remote:  refs #SWRGROUTER-4755
remote:
remote:
remote:   .../test/gpio_irqt/gpio_irqt_core.c    |  24 +-
remote:   .../bcm_media_gw/wps/wps_gpio_core.c   |  49 +-
remote:   drivers/gpio/gpio-brcmstb.c            | 408 ++++++++-----
remote:   3 files changed, 311 insertions(+), 170 deletions(-)
remote:  ;ptimariu@broadcom.com;2016-05-25 13:57:28 -0700;4d3a88409f12f66d26945ffae7dd1234e9819f14;SWRGROUTER-4752: WiFi: remove BUZZZ dependency on userspace headers;
remote:  - change <typedefs.h> into <linux/types.h>
remote:  - remove dependency on typedefs.h from wl path in Makefile
remote:  - change TRUE/FALSE to standard bool types;
remote:  - switch to uint32_t where uint32 was being used.
remote:
remote:  refs #SWRGROUTER-4752
remote:
remote:
remote:   arch/arm/mach-bcm/Makefile |  1 -
remote:   arch/arm/mach-bcm/buzzz.c  | 11 +++++------
remote:   2 files changed, 5 insertions(+), 7 deletions(-)
remote:  ;csoto@broadcom.com;2016-05-25 16:05:57 -0400;7aaa02c4c7209844c757f3c0d871482d1d773aca;Merge tag 'stblinux-3.14-1.14' into develop;
remote:  Merge STB Linux branch stb-3.14 at tag stblinux-3.14-1.14
remote:
remote:  Merge consists of rebased commits so hash IDs are not compatible with
remote:  STB Linux repository
remote:
remote:  Corresponding commit ID on STB Linux repository: 5cd2b551970f2a0
remote:
remote:  refs #SWRGROUTER-4677
remote:
remote:  ;alexchu@broadcom.com;2016-05-24 17:15:44 -0400;dff89cedfde86a0dd0aff1cd0914e41c33ce07ef;Bump version to stblinux-3.14-1.14;
remote:  Signed-off-by: Alex Chu <alexchu@broadcom.com>
remote:  (cherry picked from commit 5cd2b551970f2a0d3b1d1a9f9f7b36c637e8ad66)
remote:
remote:
remote:   Makefile | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;doug.berger@broadcom.com;2016-05-24 17:15:43 -0400;8e2a80171f590d0fe29d94f3099f7e845ca4e36c;gpio: brcmstb: assume all instances are wakup sources;
remote:  This commit uses the existance of a second interrupt in any gpio device
remote:  tree node as an indication that the second interrupt should be used by
remote:  all driver instances as the wakeup interrupt.
remote:
remote:  refs #SWLINUX-4046
remote:
remote:  Signed-off-by: Doug Berger <doug.berger@broadcom.com>
remote:  (cherry picked from commit d141f6cb0152562a209006417d995ac3fe2d1ef3)
remote:
remote:
remote:   drivers/gpio/gpio-brcmstb.c | 31 ++++++++++++++++++-------
remote:   1 file changed, 22 insertions(+), 9 deletions(-)
remote:  ;florian.fainelli@broadcom.com;2016-05-24 17:15:43 -0400;bf429cebbe1c0ca902ec0875e7a2d48218691437;brcmstb_defconfig: Compress kernel with XZ instead of GZIP;
remote:  GZIP is the default kernel compression method, while it is a good tradeoff
remote:  between compression ratio and speed, recent additions to the default kernel
remote:  have made us get too close from the 4MB size, which is the typical "kernel"
remote:  partition provided by BOLT. Until we can afford not caring about size, switch
remote:  to the strongest compression algorithm that is supported: XZ, putting us back
remote:  into the safe zone for a while.
remote:
remote:  refs #SWLINUX-4051
remote:
remote:  Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:  (cherry picked from commit 4c3dd042a8fc83e3157ee0448e7d3c9888772d8f)
remote:
remote:
remote:   arch/arm/configs/brcmstb_defconfig | 1 +
remote:   1 file changed, 1 insertion(+)
remote:  ;florian.fainelli@broadcom.com;2016-05-24 17:15:42 -0400;035d24c4efe7112391c4860a9d1e9202c5ae1990;Bump version to 3.14-1.14pre;
remote:  Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:  (cherry picked from commit e12b228d40df0c85ecc1b8bf46f95fef1f29b8ed)
remote:
remote:
remote:   Makefile | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;florian.fainelli@broadcom.com;2016-05-24 17:15:42 -0400;6f39dde6c4e9286f6fb2163544256acc7aa4fba3;gpio: brcmstb: Save and restore registers for non wake-up banks;
remote:  GPIO banks which are not capable of acting as wake-up source for the system
remote:  will lose their register contents upon S3 (deep sleep) suspend/resume
remote:  sequences. Make sure that we save a copy of their register contents during
remote:  suspend to restore them during resume.
remote:
remote:  refs #SWLINUX-4046
remote:
remote:  Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:  (cherry picked from commit cfddd0ad3f3595634cb0d2f928d61aab62d78575)
remote:
remote:
remote:   drivers/gpio/gpio-brcmstb.c | 58 +++++++++++++++++++------
remote:   1 file changed, 44 insertions(+), 14 deletions(-)
remote:  ;florian.fainelli@broadcom.com;2016-05-24 17:15:41 -0400;b2393948e253235a20014d02cb408b21199717de;gpio: brcmstb: Fix wake-up on GPIO interrupts;
remote:  The current driver was missing a few key things to allow GPIO interrupts to be
remote:  properly used as wake-up sources as intended:
remote:
remote:  - the IRQCHIP_MASK_ON_SUSPEND should only apply to the non wake-up capable
remote:    controllers
remote:  - we need to know which GPIO interrupt line is requested to be a
remote:    wake-up source, and program its interrupt mask accordingly to make it able to
remote:    wake-up the system
remote:
remote:  In order to accomplish that, we introduce a per-GPIO bank bitmask of active
remote:  sources (wake_active) and program it into GIO_MASK when we are about to
remote:  suspend.
remote:
remote:  refs #SWLINUX-4046
remote:
remote:  Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:  (cherry picked from commit 1e5d87cb14500501e2370584c42c4c0118d52034)
remote:
remote:
remote:   drivers/gpio/gpio-brcmstb.c | 77 ++++++++++++++++++++++++-
remote:   1 file changed, 74 insertions(+), 3 deletions(-)
remote:  ;dchinner@redhat.com;2016-05-24 17:14:04 -0400;5946d41e2e38dd182a63e85f86eddc5bfb9c8034;xfs: remote attribute overwrite causes transaction overrun;
remote:  [Upstream commit 8275cdd0e7ac550dcce2b3ef6d2fb3b808c1ae59]
remote:
remote:  Commit e461fcb ("xfs: remote attribute lookups require the value
remote:  length") passes the remote attribute length in the xfs_da_args
remote:  structure on lookup so that CRC calculations and validity checking
remote:  can be performed correctly by related code. This, unfortunately has
remote:  the side effect of changing the args->valuelen parameter in cases
remote:  where it shouldn't.
remote:
remote:  That is, when we replace a remote attribute, the incoming
remote:  replacement stores the value and length in args->value and
remote:  args->valuelen, but then the lookup which finds the existing remote
remote:  attribute overwrites args->valuelen with the length of the remote
remote:  attribute being replaced. Hence when we go to create the new
remote:  attribute, we create it of the size of the existing remote
remote:  attribute, not the size it is supposed to be. When the new attribute
remote:  is much smaller than the old attribute, this results in a
remote:  transaction overrun and an ASSERT() failure on a debug kernel:
remote:
remote:  XFS: Assertion failed: tp->t_blk_res_used <= tp->t_blk_res, file: fs/xfs/xfs_trans.c, line: 331
remote:
remote:  Fix this by keeping the remote attribute value length separate to
remote:  the attribute value length in the xfs_da_args structure. The enables
remote:  us to pass the length of the remote attribute to be removed without
remote:  overwriting the new attribute's length.
remote:
remote:  Also, ensure that when we save remote block contexts for a later
remote:  rename we zero the original state variables so that we don't confuse
remote:  the state of the attribute to be removes with the state of the new
remote:  attribute that we just added. [Spotted by Brain Foster.]
remote:
remote:  refs #SWLINUX-3896
remote:
remote:  Signed-off-by: Dave Chinner <dchinner@redhat.com>
remote:  Reviewed-by: Brian Foster <bfoster@redhat.com>
remote:  Signed-off-by: Dave Chinner <david@fromorbit.com>
remote:  Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:  (cherry picked from commit 2b7073db4e7c87c7188c9a2296852cdb2c94d32e)
remote:
remote:
remote:   fs/xfs/xfs_attr.c        | 24 +++++++++++++++++++++++-
remote:   fs/xfs/xfs_attr_leaf.c   | 21 +++++++++++----------
remote:   fs/xfs/xfs_attr_list.c   |  1 +
remote:   fs/xfs/xfs_attr_remote.c |  8 +++++---
remote:   fs/xfs/xfs_da_btree.h    |  2 ++
remote:   5 files changed, 42 insertions(+), 14 deletions(-)
remote:  ;kdasu@broadcom.com;2016-05-24 17:14:03 -0400;b99ca3e74a4e309bd0a44ad6fcf327d305f17a25;spi: brcmstb: Reading status register inconsistency;
remote:  Remove checks for case OPCODE_RDSR and calls to
remote:  bcmspi_emulate_flash_rdsr().
remote:
remote:  refs #SWLINUX-4016
remote:
remote:  Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:  (cherry picked from commit 1617a463beafa16cb98d433d32fea3f26fce256c)
remote:
remote:
remote:   drivers/spi/spi-brcmstb.c | 33 ---------------------------
remote:   1 file changed, 33 deletions(-)
remote:  ;florian.fainelli@broadcom.com;2016-05-24 17:14:03 -0400;feca8e2988af108fc0c11838d13d4212296e7049;soc: brcmstb: nexus: Update IRQ API with additional BSC channels (F, G);
remote:  While we are at it bump the API version to indicate these additions, and
remote:  re-arrange the enum so all iic channels are ordered.
remote:
remote:  refs #SWLINUX-4030
remote:
remote:  Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:  (cherry picked from commit 0b5bb03055cf992d7d2e1a77148a3aa68f17282d)
remote:
remote:
remote:   drivers/soc/brcmstb/nexus/irq.c | 8 +++++---
remote:   include/linux/brcmstb/brcmstb.h | 4 ++--
remote:   include/linux/brcmstb/irq_api.h | 8 +++++---
remote:   3 files changed, 12 insertions(+), 8 deletions(-)
remote:  ;edwin.chan@broadcom.com;2016-05-24 17:14:02 -0400;d52343722816e8ae28f6b66ff752e5e9d4ce3f71;bcmgenet: add begin/complete ethtool ops;
remote:  Make sure clock is enabled for ethtool ops.
remote:
remote:  refs #SWLINUX-4000
remote:
remote:  Signed-off-by: Edwin Chan <edwin.chan@broadcom.com>
remote:  (cherry picked from commit 1e844268df6cc71885f43550b350e464d8764c34)
remote:
remote:
remote:   .../ethernet/broadcom/genet/bcmgenet.c | 18 ++++++++++++++
remote:   1 file changed, 18 insertions(+)
remote:  ;florian.fainelli@broadcom.com;2016-05-24 17:14:02 -0400;85ec5782216eb7fe8da5ce2a854d7d3b85435e0d;Bump version to 3.14-1.13;
remote:  Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:  (cherry picked from commit 594cc49e5069ca97bf7ab2cf54f91ea6860605d4)
remote:
remote:
remote:   Makefile | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;florian.fainelli@broadcom.com;2016-05-24 17:14:01 -0400;5fc45747d45be7e8d3dbd51dd4fe9ad020dbf488;bsp: Select CONFIG_BCM7120_L2_IRQ;
remote:  Now that the Nexus APIs are enabled, we can use the irq-bcm7120-l2 interrupt
remote:  controller which provides L2 interrupts for a different number of peripherals
remote:  and replaces the irq0-stub driver.
remote:
remote:  refs #SWLINUX-3979
remote:
remote:  Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:  (cherry picked from commit 9e60a07595cb4e47578e2f76211e227770ca5f26)
remote:
remote:
remote:   arch/arm/mach-bcm/Kconfig | 1 +
remote:   1 file changed, 1 insertion(+)
remote:  ;doug.berger@broadcom.com;2016-05-24 17:14:01 -0400;d6fbffa994ee12a1ae4125ab61a2471b363e1088;BCMGENET: Power up the internal PHY before probing the MII;
remote:  When using the internal PHY it must be powered up when the MII is probed
remote:  or the PHY will not be detected.  Since the PHY is powered up at reset
remote:  this has not been a problem.  However, when the kernel is restarted with
remote:  kexec the PHY will likely be powered down when the kernel starts so it
remote:  will not be detected and the Ethernet link will not be established.
remote:
remote:  This commit explicitly powers up the internal PHY when the GENET driver
remote:  is probed to correct this behavior.
remote:
remote:  refs #SWLINUX-3829
remote:
remote:  Signed-off-by: Doug Berger <doug.berger@broadcom.com>
remote:  (cherry picked from commit bc40c11305e23ebf37b344f35c751b5d8eeb82ea)
remote:
remote:
remote:   drivers/net/ethernet/broadcom/genet/bcmgenet.c | 6 ++++++
remote:   1 file changed, 6 insertions(+)
remote:  ;florian.fainelli@broadcom.com;2016-05-24 17:14:00 -0400;569397d467e55a7962ebd5c8c449097e363281f4;defconfig: Turn on CONFIG_GPIO_SYSFS;
remote:  Makes it easier for people testing GPIOs to access them from user space.
remote:
remote:  refs #SWLINUX-3979
remote:
remote:  Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:  (cherry picked from commit 74f5ab05041a09bbd306af614a8d05a30972f9a3)
remote:
remote:
remote:   arch/arm/configs/brcmstb_defconfig | 1 +
remote:   1 file changed, 1 insertion(+)
remote:  ;zhang@broadcom.com;2016-05-24 17:14:00 -0400;6e322f4ae283d2e95bc50532c3678eaae9b1ac39;irq: ipi: added support to set/clear IPI handlers.;
remote:  Add support for definining custom IPI handlers, which is needed for supporting
remote:  a Trusted OS scheme.
remote:
remote:  refs #SWLINUX-3917
remote:
remote:  Signed-off-by: Bo (Andover) Zhang <zhang@broadcom.com>
remote:  Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:  (cherry picked from commit a9a32943976fa92ba5958c0de5bbfe0dd4856e4a)
remote:
remote:
remote:   arch/arm/include/asm/hardirq.h |  2 +-
remote:   arch/arm/include/asm/smp.h     |  3 +
remote:   arch/arm/kernel/smp.c          | 93 ++++++++++++++++++----
remote:   3 files changed, 80 insertions(+), 18 deletions(-)
remote:  ;al.cooper@broadcom.com;2016-05-24 17:13:59 -0400;ddbbffe729fcd1dc6c7e0bd216ad5ac4131575c5;usb: Prevent USB DMA hardware from reading into BMEM;
remote:  A USB hardware bug where the USB DMA engine will prefetch
remote:  beyond the end of the buffer can cause a Memory Range Checker
remote:  error by reading into BMEM. This is being fixed by reserving
remote:  the 4K preceding the start of each BMEM region. NOTE: The
remote:  USB DMA bug may be fixed in the latest chips, the 7271 and
remote:  7268, but this has not been verified.
remote:
remote:  refs #SWLINUX-3996
remote:
remote:  Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:  (cherry picked from commit 47772fa1469bd6e3a16024ee8a2f57fbf71abaab)
remote:
remote:
remote:   drivers/soc/brcmstb/bmem.c | 11 +++++++++++
remote:   1 file changed, 11 insertions(+)
remote:  ;florian.fainelli@broadcom.com;2016-05-24 17:13:59 -0400;875c9c53ae6d045e727c50b160667e018e9518b1;drivers: soc: memory: Switch get_pages() to vmalloc();
remote:  There is no need to be requesting contiguous kernel memory, nor direct mapped
remote:  memory for get_pages(), so switch it to vmalloc() which should lower the
remote:  pressure on high-order allocations.
remote:
remote:  refs #SWLINUX-3991
remote:
remote:  Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:  (cherry picked from commit e8ea32ceeab02515e658f827cd4d06295ddb11e1)
remote:
remote:
remote:   drivers/soc/brcmstb/memory.c | 4 ++--
remote:   1 file changed, 2 insertions(+), 2 deletions(-)
remote:  ;yevgeny@perception-point.io;2016-05-24 17:13:58 -0400;265791e11a836fcef5afaeb87fb379c9e2a2caa0;KEYS: Fix keyring ref leak in join_session_keyring();
remote:  [Upstream commit 23567fd052a9abb6d67fe8e7a9ccdd9800a540f2]
remote:
remote:  This fixes CVE-2016-0728.
remote:
remote:  If a thread is asked to join as a session keyring the keyring that's already
remote:  set as its session, we leak a keyring reference.
remote:
remote:  This can be tested with the following program:
remote:
remote:  	#include <stddef.h>
remote:  	#include <stdio.h>
remote:  	#include <sys/types.h>
remote:  	#include <keyutils.h>
remote:
remote:  	int main(int argc, const char *argv[])
remote:  	{
remote:  		int i = 0;
remote:  		key_serial_t serial;
remote:
remote:  		serial = keyctl(KEYCTL_JOIN_SESSION_KEYRING,
remote:  				"leaked-keyring");
remote:  		if (serial < 0) {
remote:  			perror("keyctl");
remote:  			return -1;
remote:  		}
remote:
remote:  		if (keyctl(KEYCTL_SETPERM, serial,
remote:  			   KEY_POS_ALL | KEY_USR_ALL) < 0) {
remote:  			perror("keyctl");
remote:  			return -1;
remote:  		}
remote:
remote:  		for (i = 0; i < 100; i++) {
remote:  			serial = keyctl(KEYCTL_JOIN_SESSION_KEYRING,
remote:  					"leaked-keyring");
remote:  			if (serial < 0) {
remote:  				perror("keyctl");
remote:  				return -1;
remote:  			}
remote:  		}
remote:
remote:  		return 0;
remote:  	}
remote:
remote:  If, after the program has run, there something like the following line in
remote:  /proc/keys:
remote:
remote:  3f3d898f I--Q---   100 perm 3f3f0000     0     0 keyring   leaked-keyring: empty
remote:
remote:  with a usage count of 100 * the number of times the program has been run,
remote:  then the kernel is malfunctioning.  If leaked-keyring has zero usages or
remote:  has been garbage collected, then the problem is fixed.
remote:
remote:  refs #SWLINUX-3989
remote:
remote:  Reported-by: Yevgeny Pats <yevgeny@perception-point.io>
remote:  Signed-off-by: David Howells <dhowells@redhat.com>
remote:  Acked-by: Don Zickus <dzickus@redhat.com>
remote:  Acked-by: Prarit Bhargava <prarit@redhat.com>
remote:  Acked-by: Jarod Wilson <jarod@redhat.com>
remote:  Signed-off-by: James Morris <james.l.morris@oracle.com>
remote:  Signed-off-by: Danesh Petigara <danesh.petigara@broadcom.com>
remote:  (cherry picked from commit 263bc053a5c03269e1bb36792b2ac4d721af6ef8)
remote:
remote:
remote:   security/keys/process_keys.c | 1 +
remote:   1 file changed, 1 insertion(+)
remote:  ;wsa@the-dreams.de;2016-05-24 17:13:58 -0400;1765076cba2d422f93f8aee6a037eb2e742fe865;i2c: brcmstb: allocate correct amount of memory for regmap;
remote:  We want the size of the struct, not of a pointer to it. To be future
remote:  proof, just dereference the pointer to get the desired type.
remote:
remote:  [patch: https://patchwork.ozlabs.org/patch/585828/]
remote:
remote:  refs #SWLINUX-3986
remote:
remote:  Signed-off-by: Wolfram Sang <wsa@the-dreams.de>
remote:  Acked-by: Gregory Fong <gregory.0xf0@gmail.com>
remote:  Acked-by: Florian Fainelli <f.fainelli@gmail.com>
remote:  Reviewed-by: Kamal Dasu <kdasu.kdev@gmail.com>
remote:  (cherry picked from commit 625491a972f08d2e31b03d6de6a5156ab92ddf93)
remote:
remote:
remote:   drivers/i2c/busses/i2c-brcmstb.c | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;florian.fainelli@broadcom.com;2016-05-24 17:13:57 -0400;8c17c3070c78c842b816efb3090634052aa407e2;brcmstb: bmem: correct bmem behavior in brcmstb_get_page();
remote:  When generating an address for bmem_find_region() from a pfn value we
remote:  must promote the unsigned long pfn value to the phy_addr_t type expected
remote:  by the bmem_find_region() function before performing the left shift.
remote:
remote:  Otherwise, there is a risk that the PAGE_SHIFT to the left will cause
remote:  meaningful bits of the pfn value to overflow the unsigned long data
remote:  type causing the address to unintentionally wrap.  This in turn can
remote:  cause a highmem address above 4GB to wrap back into the 4GB range and
remote:  be mistaken for being within a BMEM/BRCMSTB_CMA region.
remote:
remote:  refs #SWLINUX-3980
remote:
remote:  Signed-off-by: Doug Berger <doug.berger@broadcom.com>
remote:  Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:  (cherry picked from commit 41daa14b328fdc490847918663545c11fa43b8bc)
remote:
remote:
remote:   mm/memory.c | 3 ++-
remote:   1 file changed, 2 insertions(+), 1 deletion(-)
remote:  ;florian.fainelli@broadcom.com;2016-05-24 17:13:57 -0400;bc5db38900e92e046db38c547e6046d715516e3a;defconfig: Turn on CONFIG_BRCMSTB_NEXUS_API;
remote:  Turn on CONFIG_BRCMSTB_NEXUS_API=y by default, allowing Nexus to use the
remote:  different GPIO, virtual L1 and other APIs defined by the Linux kernel.
remote:
remote:  refs #SWLINUX-3979
remote:
remote:  Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:  (cherry picked from commit f16217635322a8ca071d0d67c1c3c604badadfe6)
remote:
remote:
remote:   arch/arm/configs/brcmstb_defconfig | 1 +
remote:   1 file changed, 1 insertion(+)
remote:  ;justin.chen@broadcom.com;2016-05-24 17:13:56 -0400;c44f72ddbe4c82da5f4192eca3aef56a1526d9ca;bsp: add SoC device with family id, product id and revision.;
remote:  Added SoC driver at drivers/soc/brcmstb/common.c. Added two
remote:  helper functions for getting family/product ID located at
remote:  include/linux/soc/brcmstb/brcmstb.h.
remote:
remote:  Assigned the values of soc_dev_attribute accordingly:
remote:  family = chip family id
remote:  soc_id = product id
remote:  revision = product revision
remote:
remote:  refs #SWLINUX-3946
remote:
remote:  Signed-off-by: Justin Chen <justin.chen@broadcom.com>
remote:  (cherry picked from commit 4fdfcd2a0a5c1c7b6f5d64e179c9705ec814e816)
remote:
remote:
remote:   arch/arm/mach-bcm/Kconfig           |  1 +
remote:   drivers/soc/brcmstb/common.c        | 70 +++++++++++++++++
remote:   include/linux/soc/brcmstb/brcmstb.h |  7 ++
remote:   3 files changed, 78 insertions(+)
remote:  ;james.quinlan@broadcom.com;2016-05-24 17:13:56 -0400;cde6f9b12aa48d9e49e660613d4d22954f0f623b;pci: confirm that SSC is on if it is indeed on;
remote:  Before this commit, nothing would be printed if we successfully
remote:  entered SSC (spread spectrum clocking) mode.  Now, when we
remote:  successfully enter SSC, the link status line will have '(SSC)'
remote:  appended to it.
remote:
remote:  refs #SWLINUX-3954
remote:
remote:  Signed-off-by: Jim Quinlan <james.quinlan@broadcom.com>
remote:  (cherry picked from commit d3f8ce55a6d7339ba5586d51a39303ce7891918e)
remote:
remote:
remote:   arch/arm/mach-bcm/pci-brcmstb.c | 16 +++++++++++-----
remote:   1 file changed, 11 insertions(+), 5 deletions(-)
remote:  ;james.quinlan@broadcom.com;2016-05-24 17:13:55 -0400;a27efa98933167a672efde7f759146d99ef7a691;pci: enable PCIe advanced error reporting;
remote:  refs #SWLINUX-3953
remote:
remote:  Signed-off-by: Jim Quinlan <james.quinlan@broadcom.com>
remote:  (cherry picked from commit f684909500fe307d953974eac5fee999e2ec6f82)
remote:
remote:
remote:   arch/arm/configs/brcmstb_defconfig          | 2 +-
remote:   arch/arm/configs/brcmstb_hardened_defconfig | 2 +-
remote:   2 files changed, 2 insertions(+), 2 deletions(-)
remote:  ;jquinlan@broadcom.com;2016-05-24 17:13:55 -0400;8dd49b84a5d737cda08604dcffb52f04d1bc4037;pci: add MSI functionality;
remote:  This commit adds MSI functionality to the BrcmSTB PCIe hardware.  The
remote:  code is influenced by the MSI implementation as seen in pcie-rcar.c.
remote:
remote:  This MSI implementation is complicated by two factors:
remote:
remote:  1. we have multiple root controllers (RC), each with their own MSI
remote:
remote:  2. we have some chips implemented where the PCIe interrupt is shared
remote:  with the MSI interrupt.  In addition, the MSI interrupt bits do
remote:  not have their own register; there are 8 bits starting at position
remote:  24 in the L2 interrupt register.
remote:
remote:  refs #SWLINUX-3571
remote:
remote:  Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:  (cherry picked from commit db87c836e1db2082783fd3f2d6ac00a747c040bb)
remote:
remote:
remote:   arch/arm/mach-bcm/pci-brcmstb.c | 338 +++++++++++++++++++-
remote:   1 file changed, 323 insertions(+), 15 deletions(-)
remote:  ;jquinlan@broadcom.com;2016-05-24 17:13:54 -0400;26ea36f3da53f63ea642ac45ba027e701242b1cc;pci: fix L2 interrupt initialization;
remote:  The interrupt initialization code has been funky since day 0.
remote:  It doesn't really matter because the current code doesn't
remote:  handle interrupts.  Change the code to be more sensible.
remote:
remote:  refs #SWLINUX-3571
remote:
remote:  Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:  (cherry picked from commit e2cd4a303deb656b7808e64ccec7b0b741dcd986)
remote:
remote:
remote:   arch/arm/mach-bcm/pci-brcmstb.c | 12 +++++++-----
remote:   1 file changed, 7 insertions(+), 5 deletions(-)
remote:  ;florian.fainelli@broadcom.com;2016-05-24 17:13:54 -0400;b3771a905d5593993e79716dcc72f2bbf0306efe;of: fdt: Export initial_boot_params
remote:  Some proprietary modules might be willing to get access to the flattened Device
remote:  Tree blob and extract information they care about, make that possible, but
remote:  surround the change with a CONFIG_BRCMSTB ifdef to make it obvious this is
remote:  specific to our kernel.
remote:
remote:  refs #SWLINUX-3951
remote:
remote:  Signed-off-by: Florian Fainelli <florian.fainelli@broadcom.com>
remote:  (cherry picked from commit 7987e11d9bb34cdb230c5f132a543541a2b25f10)
remote:
remote:
remote:   drivers/of/fdt.c | 3 +++
remote:   1 file changed, 3 insertions(+)
remote:  ;douglasb@broadcom.com;2016-05-24 17:13:53 -0400;134d98387ae969942f93d09a94cbc00e22168ab2;soc: brcmstb: nexus: add brcmstb_gpio_remove() to API;
remote:  The function brcmstb_gpio_remove() was added to the internal Nexus API to
remote:  allow the GPIO reservations to be released by Nexus.  This allows a Nexus
remote:  module to be removed without continuing to hold GPIO resources.
remote:
remote:  refs #SWLINUX-3922
remote:
remote:  Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:  (cherry picked from commit da9cb2747c30f61ce59e30d13b9469586cb823d0)
remote:
remote:
remote:   drivers/soc/brcmstb/nexus/gpio.c | 25 +++++++++++++++++---
remote:   drivers/soc/brcmstb/nexus/gpio.h |  2 --
remote:   include/linux/brcmstb/brcmstb.h  |  4 ++--
remote:   include/linux/brcmstb/gpio_api.h |  3 ++-
remote:   4 files changed, 26 insertions(+), 8 deletions(-)
remote:  ;douglasb@broadcom.com;2016-05-24 17:13:53 -0400;4ad474550a92a2f6869d92d96acfeec6956c8180;soc: brcmstb: nexus: brcmstb_update32() access is properly synchronized;
remote:  The implementation of the brcmstb_update32() function of the Nexus API has
remote:  been revised to use the same basic memory-mapped GPIO controllers as the
remote:  gpio-brcmstb driver.
remote:
remote:  The function is now merely a shell to preserve the API that calls a new
remote:  function (brcmstb_gpio_update32) located in the implementation of the Nexus
remote:  GPIO API that can use the same locks and accessors used by the gpio-brcmstb
remote:  driver.
remote:
remote:  refs #SWLINUX-3922
remote:
remote:  Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:  (cherry picked from commit db7c2b0f2fc778ccf00053f3bf7a1c6cc7fd117a)
remote:
remote:
remote:   drivers/soc/brcmstb/nexus/gpio.c | 117 +++++++++++++++++--
remote:   drivers/soc/brcmstb/nexus/gpio.h |   1 +
remote:   drivers/soc/brcmstb/nexus/reg.c  |  64 +---------
remote:   3 files changed, 109 insertions(+), 73 deletions(-)
remote:  ;douglasb@broadcom.com;2016-05-24 17:13:52 -0400;6484a6a041487ed8b31809682f78c3e007395e9c;soc: brcmstb: nexus: introduce GPIO_PER_BANK define;
remote:  The symbol GIO_BANK_SIZE defines the byte-aligned address space occupied by
remote:  the registers of one bank within a GIO block.
remote:
remote:  The new symbol GPIO_PER_BANK defines the number of GPIO pins controlled by
remote:  a bank of GIO registers.
remote:
remote:  They both happen to equal 32 at the moment, but that should not be relied
remote:  upon, so they should not be used interchangeably like they were prior to
remote:  this commit.
remote:
remote:  refs #SWLINUX-3922
remote:
remote:  Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:  (cherry picked from commit b9769d8b40a9ff8a8dd026de003b9bace64b54cc)
remote:
remote:
remote:   drivers/soc/brcmstb/nexus/gpio.c               | 2 +-
remote:   drivers/soc/brcmstb/nexus/gpio.h               | 1 +
remote:   tools/testing/brcmstb/gpio-api/test-gpio-api.c | 3 ++-
remote:   3 files changed, 4 insertions(+), 2 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 17:13:52 -0400;d0a7a70219020c06d964e3d836e0c6b0d1fb7955;soc: brcmstb: Report DDR controller frequency through sysfs;
remote:  Expose a "frequency" sysfs atrribute which returns the DDR controller frequency
remote:  it is operating at. If the attribute is not found, 0 is reported, which should
remote:  be treated as an invalid frequency anyway.
remote:
remote:  refs #SWLINUX-3637
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 1129a940601c23739d2f4dfbe6966b06e944b361)
remote:
remote:
remote:   drivers/soc/brcmstb/srpd.c | 14 ++++++++++++++
remote:   1 file changed, 14 insertions(+)
remote:  ;douglasb@broadcom.com;2016-05-24 17:13:51 -0400;7bfa3ca649a9c14cfe6eb3d5b6c9769509e48dc8;gpio: brcmstb: enable masking of interrupts when changing type;
remote:  Mask the GPIO interrupt while its type is being changed, just in case
remote:  it can prevent a spurious interrupt.
remote:
remote:  refs #SWLINUX-3931
remote:
remote:  Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:  (cherry picked from commit b97e54657d93b4329f089774c618e2a0c3f9ed7f)
remote:
remote:
remote:   drivers/gpio/gpio-brcmstb.c | 3 ++-
remote:   1 file changed, 2 insertions(+), 1 deletion(-)
remote:  ;fainelli@broadcom.com;2016-05-24 17:13:45 -0400;b66bedd51d0883c0c6f078e380a1018557ddb268;bsp: Remove 7145B0 BCHP headers;
remote:  refs #SWLINUX-3935
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 82adf567a749f811db5bc4f25d4b9e179ce05e7c)
remote:
remote:
remote:   .../brcmstb/7145a0/bchp_control_gfap.h |   103 -
remote:   .../brcmstb/7145a0/bchp_dmahi0_gfap.h  |   139 -
remote:   .../brcmstb/7145a0/bchp_dpe_hw_gfap.h  |   443 -
remote:   .../brcmstb/7145a0/bchp_mbdma_uni0.h   |    88 -
remote:   .../brcmstb/7145a0/bchp_mbdma_uni1.h   |    88 -
remote:   .../brcmstb/7145a0/bchp_mbdma_uni2.h   |    88 -
remote:   .../brcmstb/7145a0/bchp_mbdma_uni3.h   |   916 -
remote:   .../7145a0/bchp_natc_reg_gfap.h        |   727 -
remote:   .../brcmstb/7145a0/bchp_token_gfap.h   |    52 -
remote:   .../7145a0/bchp_unimac_core0_uni0.h    |    75 -
remote:   .../7145a0/bchp_unimac_core0_uni1.h    |    75 -
remote:   .../7145a0/bchp_unimac_core0_uni2.h    |    75 -
remote:   .../7145a0/bchp_unimac_core0_uni3.h    |   566 -
remote:   .../bchp_unimac_interface0_uni0.h      |   106 -
remote:   .../bchp_unimac_interface0_uni1.h      |   106 -
remote:   .../bchp_unimac_interface0_uni2.h      |   106 -
remote:   .../bchp_unimac_interface0_uni3.h      |  1235 -
remote:   .../linux/brcmstb/7145b0/bchp_bspi.h   |   445 -
remote:   .../brcmstb/7145b0/bchp_bspi_raf.h     |   162 -
remote:   .../linux/brcmstb/7145b0/bchp_common.h |  6885 ---
remote:   .../brcmstb/7145b0/bchp_control_gfap.h |  2091 -
remote:   .../linux/brcmstb/7145b0/bchp_ebi.h    |  2007 -
remote:   .../brcmstb/7145b0/bchp_hif_intr2.h    |  1250 -
remote:   .../brcmstb/7145b0/bchp_hif_mspi.h     |  1291 -
remote:   .../7145b0/bchp_hif_spi_intr2.h        |   566 -
remote:   .../linux/brcmstb/7145b0/bchp_irq0.h   |   176 -
remote:   .../brcmstb/7145b0/bchp_mbdma_uni0.h   |   915 -
remote:   .../brcmstb/7145b0/bchp_mbdma_uni1.h   |   915 -
remote:   .../brcmstb/7145b0/bchp_mbdma_uni2.h   |   915 -
remote:   .../brcmstb/7145b0/bchp_mbdma_uni3.h   |   915 -
remote:   .../linux/brcmstb/7145b0/bchp_nand.h   |  3757 --
remote:   .../brcmstb/7145b0/bchp_sdio_0_cfg.h   |   836 -
remote:   .../brcmstb/7145b0/bchp_sun_top_ctrl.h |  7452 ---
remote:   .../brcmstb/7145b0/bchp_switch_acb.h   |  4438 --
remote:   .../brcmstb/7145b0/bchp_switch_core.h  | 32008 -----------
remote:   .../brcmstb/7145b0/bchp_switch_fcb.h   |   424 -
remote:   .../7145b0/bchp_switch_indir_rw.h      |   140 -
remote:   .../7145b0/bchp_switch_intrl2_0.h      |  1226 -
remote:   .../7145b0/bchp_switch_intrl2_1.h      |  1944 -
remote:   .../brcmstb/7145b0/bchp_switch_mdio.h  |   119 -
remote:   .../brcmstb/7145b0/bchp_switch_reg.h   |   775 -
remote:   .../7145b0/bchp_unimac_core0_uni0.h    |   795 -
remote:   .../7145b0/bchp_unimac_core0_uni1.h    |   795 -
remote:   .../7145b0/bchp_unimac_core0_uni2.h    |   795 -
remote:   .../7145b0/bchp_unimac_core0_uni3.h    |   795 -
remote:   .../bchp_unimac_interface0_uni0.h      |  1402 -
remote:   .../bchp_unimac_interface0_uni1.h      |  1402 -
remote:   .../bchp_unimac_interface0_uni2.h      |  1402 -
remote:   .../bchp_unimac_interface0_uni3.h      |  1402 -
remote:   .../brcmstb/7145b0/bchp_usb_ctrl.h     |  1490 -
remote:   50 files changed, 86918 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 17:09:40 -0400;29e2ce40e86fb6447d9094802c4c16b85a802809;bsp: Remove support for 7145B0;
remote:  refs #SWLINUX-3935
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 17c5a0d8e0c02686bfa05bca8badb95dc7f5f5b5)
remote:
remote:
remote:   arch/arm/Kconfig.debug    |  2 --
remote:   arch/arm/mach-bcm/Kconfig | 14 +-------------
remote:   2 files changed, 1 insertion(+), 15 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 17:05:36 -0400;f1f233784ca27af29ed0774a169e719b313c1519;drivers: Remove support for 7145B0;
remote:  refs #SWLINUX-3935
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 761d5bb4e05d4afa0e897b5e587bec01813864ba)
remote:
remote:
remote:   drivers/mmc/host/sdhci-brcmstb.c | 5 ++---
remote:   1 file changed, 2 insertions(+), 3 deletions(-)
remote:  ;douglasb@broadcom.com;2016-05-24 17:05:36 -0400;0798c502f23d9d08400eb17fe284d07ccbb0b93b;gpio: brcmstb: release the bgc lock when invoking irq handlers;
remote:  The basic memory-mapped GPIO controller lock must be released before calling
remote:  the registered GPIO interrupt handlers to allow the interrupt handlers to
remote:  access the hardware.  Otherwise, the hardware accesses will deadlock when
remote:  they attempt to grab the lock.
remote:
remote:  refs #SWLINUX-3931
remote:
remote:  Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:  (cherry picked from commit db8b1c7b15b5bcf6b1be2421bdf561474d0c9887)
remote:
remote:
remote:   drivers/gpio/gpio-brcmstb.c | 3 +++
remote:   1 file changed, 3 insertions(+)
remote:  ;douglasb@broadcom.com;2016-05-24 17:05:35 -0400;16b70de17ef162fdacb244dd72e9c30d615d5a79;gpio: brcmstb: correct the configuration of level interrupts;
remote:  This commit corrects a bug when configuring the GPIO hardware for
remote:  IRQ_TYPE_LEVEL_LOW and IRQ_TYPE_LEVEL_HIGH interrupt types. The
remote:  hardware is now correctly configured to support those types.
remote:
remote:  refs #SWLINUX-3934
remote:
remote:  Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:  (cherry picked from commit d56e81de691f7fd92b74a86fe38cc15ed0bba8ec)
remote:
remote:
remote:   drivers/gpio/gpio-brcmstb.c | 4 ++--
remote:   1 file changed, 2 insertions(+), 2 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 17:05:35 -0400;8b6a4c579f6f9036b4ff64951014498201972774;Bump version to 3.14-1.12pre;
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 939a408dd39497fa79f52066b9576071bd6485cf)
remote:
remote:
remote:   Makefile | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;acooper@broadcom.com;2016-05-24 17:04:37 -0400;49fae7f88389c2f5c246fb259ccb991d4557a0fc;usb: USB 3.0 device as rootfs fails to recover after S2 or S3;
remote:  On systems using IPP (Invert Port Power), mounted USB 3.0
remote:  devices will get re-enumerated on S3 resume and the mounted
remote:  filesystem will no longer be accessible. This is happening
remote:  because a system using IPP will power up with USB power
remote:  enabled to the USB devices until the IPP can be set by software.
remote:  This is enough time for 3.0 devices to timeout on the 3.0
remote:  connect attempt (because the 3.0 PHY has not yet been enabled)
remote:  and fall back to a 2.0 device. This shouldn't be a problem
remote:  because the 3.0 devices in 2.0 mode would normally be power
remote:  cycled after the software sets IPP correctly, but the USB driver
remote:  turns on device power so quickly after we set IPP that the device
remote:  doesn't see the power cycle (on a 7445SV board it takes about
remote:  8ms for power to drop to zero). This change adds a 50ms delay
remote:  when IPP is being set. The delay is only added if IPP was not
remote:  already set to avoid delays if BOLT already set IPP.
remote:
remote:  refs #SWLINUX-3919
remote:
remote:  Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:  (cherry picked from commit b08af4b665e38bdcbd2f9511eaa5a107bf619030)
remote:
remote:
remote:   drivers/usb/host/usb-brcm-common-init.c | 11 ++++++++++-
remote:   1 file changed, 10 insertions(+), 1 deletion(-)
remote:  ;douglasb@broadcom.com;2016-05-24 16:41:09 -0400;351905d498f13ff7abd63833c3aae5b57426f797;gpio: brcmstb: define irq_disable service;
remote:  The gpiolib irqchip helpers will use irq_unmask if irq_enable is not
remote:  defined.  However, when using the handle_simple_irq() generic handler
remote:  the irq_disable service will not use irq_mask to disable the interrupt.
remote:
remote:  When using the handle_simple_irq() generic handler it should be enough
remote:  to define irq_enable and irq_disable, but since we are using the flag
remote:  IRQCHIP_MASK_ON_SUSPEND we need to define the irq_mask as well.
remote:
remote:  This commit just defines irq_disabled the same as irq_mask so that
remote:  calls to disable_irq for gpio interrupts will mask the interrupt.
remote:
remote:  refs #SWLINUX-3931
remote:
remote:  Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:  (cherry picked from commit 56ce13556279cdbb64a7ad8760a60871551bf01e)
remote:
remote:
remote:   drivers/gpio/gpio-brcmstb.c | 1 +
remote:   1 file changed, 1 insertion(+)
remote:  ;douglasb@broadcom.com;2016-05-24 16:41:09 -0400;9ac9421d274e1aab21e2583d4ff52cc8774acbd4;gpio: brcmstb: only clear the status bits of serviced gpio;
remote:  Reading and writing the gpio bank status register each time a pending
remote:  interrupt bit is serviced could cause new pending bits to be cleared
remote:  without servicing the associated interrupts.
remote:
remote:  refs #SWLINUX-3931
remote:
remote:  Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:  (cherry picked from commit 5fa8656f3e0673c97052d6be82ee27b618017e07)
remote:
remote:
remote:   drivers/gpio/gpio-brcmstb.c | 9 +++++----
remote:   1 file changed, 5 insertions(+), 4 deletions(-)
remote:  ;kdasu.kdev@gmail.com;2016-05-24 16:41:08 -0400;6e13699b1557723b62dbe36ede599671c3b6b174;i2c: brcmstb: Adding support for CM and DSL SoCs;
remote:  [upstream commit e2e5a2c618373b55bbb2eca2a6e535dddd04412c]
remote:
remote:  Broadcoms DSL, CM (cable modem)and STB I2C core implementation have
remote:  8 data in/out registers that can transfer 8 bytes or 32 bytes max.
remote:  Cable and DSL "Peripheral" i2c cores use single byte per data
remote:  register and the STB can use 4 byte per data register transfer.
remote:  Adding support to take care of this difference. Accordingly added
remote:  the compatible string for SoCs using the "Peripheral" I2C block.
remote:
remote:  Signed-off-by: Kamal Dasu <kdasu.kdev@gmail.com>
remote:  Reviewed-by: Florian Fainelli <f.fainelli@gmail.com>
remote:  Signed-off-by: Wolfram Sang <wsa@the-dreams.de>
remote:  (cherry picked from commit b32cfef3df73449725a4406c3fb84c81bbcc4889)
remote:
remote:
remote:   .../bindings/i2c/i2c-brcmstb.txt       |  2 +-
remote:   drivers/i2c/busses/i2c-brcmstb.c       | 80 ++++++++++----
remote:   2 files changed, 57 insertions(+), 25 deletions(-)
remote:  ;kdasu@broadcom.com;2016-05-24 16:41:07 -0400;cae0660dc6938a01b7bd42b4db515cb82ebad53c;i2c: brcmstb: Merge code with upstream commit;
remote:  Merging upstream code changes to the current driver.
remote:  [upstream commit: b96bcbdd i2c: brcmstb: Add Broadcom settop SoC i2c
remote:  controller driver]
remote:
remote:  refs #SWLINUX-3897
remote:
remote:  Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:  (cherry picked from commit 5c9733b6fe579b0df515b50dd63dd3d888ad2c63)
remote:
remote:
remote:   drivers/i2c/busses/i2c-brcmstb.c | 243 +++++++++----------
remote:   1 file changed, 117 insertions(+), 126 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 16:40:59 -0400;c64a9ad3551c23a706313c7ef9cd52c2fc15a25d;defconfig: Turn on CONFIG_IP_MROUTE;
remote:  Turn on Linux's multicast IP router feature and support for PIM v1 and
remote:  v2, useful for building wireless routers.
remote:
remote:  refs #SWLINUX-3885
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 009ed9fa7ecb22e65b66d1721e3d9f664987dd1c)
remote:
remote:
remote:   arch/arm/configs/brcmstb_hardened_defconfig | 3 +++
remote:   1 file changed, 3 insertions(+)
remote:  ;dpetigara@broadcom.com;2016-05-24 16:39:55 -0400;949081c4592c813ba6e0d3dde467ded1711aef75;soc: brcmstb: preserve pstore buffer on panic;
remote:  Writes a magic value to an AON sram register on panic
remote:  to preserve the pstore/ramoops buffer on reboot.
remote:
remote:  refs #SWLINUX-3908
remote:
remote:  Signed-off-by: Danesh Petigara <dpetigara@broadcom.com>
remote:  (cherry picked from commit ee0841dc812a7cc7385792398f2c48849293d367)
remote:
remote:
remote:   drivers/soc/brcmstb/pm/aon_defs.h |  2 ++
remote:   drivers/soc/brcmstb/pm/pm.c       | 19 +++++++++++++++++++
remote:   2 files changed, 21 insertions(+)
remote:  ;jquinlan@broadcom.com;2016-05-24 16:39:55 -0400;194911d971d40666a32d02b3dc7970ff4855b15e;pci: fix how the DT property "interrupt-map" is handled;
remote:  Currently, Bolt's DT has a PCIe property called "interrupt-map"
remote:  which is malformed.  Coming with SWBOLT-1718, the node will
remote:  be properly formatted.  This commit handles both cases; the
remote:  old "legacy" format and the new proper format.
remote:
remote:  The 4.1 branch PCI host driver will only handle the new format.
remote:
remote:  refs #SWLINUX-3836
remote:
remote:  Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:  (cherry picked from commit d653c3f04485480b21581fd9be59ea04b9c5d6d4)
remote:
remote:
remote:   arch/arm/mach-bcm/pci-brcmstb.c | 22 +++++++++++++++++----
remote:   1 file changed, 18 insertions(+), 4 deletions(-)
remote:  ;benzh@chromium.org;2016-05-24 16:39:54 -0400;96a21ba74fbf82847d5a4aa31ec9ad267817c1a6;pstore/ram: Strip ramoops header for correct decompression;
remote:  [Upstream commit a28726b4fb624f81d637a8afb9ea12fc16500f61]
remote:
remote:  pstore compression/decompression was added during 3.12.
remote:  The ramoops driver prepends a "====timestamp.timestamp-C|D\n"
remote:  header to the compressed record before handing it over to pstore
remote:  driver which doesn't know about the header. In pstore_decompress(),
remote:  the pstore driver reads the first "==" as a zlib header, so the
remote:  decompression always fails. For example, this causes the driver
remote:  to write /dev/pstore/dmesg-ramoops-0.enc.z instead of
remote:  /dev/pstore/dmesg-ramoops-0.
remote:
remote:  This patch makes the ramoops driver remove the header before
remote:  pstore decompression.
remote:
remote:  refs #SWLINUX-3904
remote:
remote:  Signed-off-by: Ben Zhang <benzh@chromium.org>
remote:  Acked-by: Kees Cook <keescook@chromium.org>
remote:  Signed-off-by: Tony Luck <tony.luck@intel.com>
remote:  (cherry picked from commit e5ae22ff6886b50a2879085c6b7db18a92b8fed2)
remote:
remote:
remote:   fs/pstore/ram.c | 22 +++++++++++++++-------
remote:   1 file changed, 15 insertions(+), 7 deletions(-)
remote:  ;jquinlan@broadcom.com;2016-05-24 16:39:50 -0400;0a187f448ee0dbe208a06481cbd5fcd2b35b6f4d;bsp: remove unneeded bchp files;
remote:  Changes made by the script:
remote:
remote:  	/projects/stbgit/scripts/bin/linux_unneed_bchp.pl
remote:
remote:  refs #SWLINUX-3862
remote:
remote:  Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:  (cherry picked from commit 0c639823ca7a0f749bb35189dd9a434c575ef181)
remote:
remote:
remote:   .../brcmstb/3390b0/bchp_aon_pin_ctrl.h |     8 +-
remote:   .../brcmstb/3390b0/bchp_aon_pm_l2.h    |     8 +-
remote:   .../linux/brcmstb/3390b0/bchp_gio.h    |     6 +-
remote:   .../brcmstb/3390b0/bchp_gio_aon.h      |     6 +-
remote:   .../3390b0/bchp_hif_cpubiuctrl.h       |     8 +-
remote:   .../brcmstb/3390b0/bchp_hif_top_ctrl.h |     8 +-
remote:   .../brcmstb/7145b0/bchp_aon_ctrl.h     |  1782 --
remote:   .../brcmstb/7145b0/bchp_aon_pin_ctrl.h |   500 -
remote:   .../brcmstb/7145b0/bchp_aon_pm_l2.h    |  1706 --
remote:   .../linux/brcmstb/7145b0/bchp_clkgen.h | 11565 -----------
remote:   .../bchp_ddr34_phy_byte_lane_0_0.h     |  2482 ---
remote:   .../bchp_ddr34_phy_byte_lane_0_1.h     |  2482 ---
remote:   .../bchp_ddr34_phy_byte_lane_1_0.h     |  2482 ---
remote:   .../bchp_ddr34_phy_byte_lane_1_1.h     |  2482 ---
remote:   .../bchp_ddr34_phy_byte_lane_2_0.h     |  2482 ---
remote:   .../bchp_ddr34_phy_byte_lane_2_1.h     |  2482 ---
remote:   .../bchp_ddr34_phy_byte_lane_3_0.h     |  2482 ---
remote:   .../bchp_ddr34_phy_byte_lane_3_1.h     |  2482 ---
remote:   .../bchp_ddr34_phy_control_regs_0.h    |  4441 ----
remote:   .../bchp_ddr34_phy_control_regs_1.h    |  4441 ----
remote:   .../brcmstb/7145b0/bchp_fpm_ctrl_fpm.h |   706 -
remote:   .../brcmstb/7145b0/bchp_fpm_pool_fpm.h |   201 -
remote:   .../linux/brcmstb/7145b0/bchp_gio.h    |   474 -
remote:   .../brcmstb/7145b0/bchp_gio_aon.h      |   258 -
remote:   .../7145b0/bchp_hif_continuation.h     |   158 -
remote:   .../7145b0/bchp_hif_cpubiuctrl.h       |  3437 ---
remote:   .../brcmstb/7145b0/bchp_hif_top_ctrl.h |   605 -
remote:   .../linux/brcmstb/7145b0/bchp_irq1.h   |   176 -
remote:   .../brcmstb/7145b0/bchp_memc_arb_1.h   |  8208 --------
remote:   .../brcmstb/7145b0/bchp_memc_ddr_0.h   |  4799 -----
remote:   .../brcmstb/7145b0/bchp_memc_ddr_1.h   |  4799 -----
remote:   .../brcmstb/7145b0/bchp_memc_misc_1.h  |   133 -
remote:   .../7145b0/bchp_moca_hostmisc.h        |   513 -
remote:   .../brcmstb/7145b0/bchp_pcie_0_dma.h   |   737 -
remote:   .../7145b0/bchp_pcie_0_ext_cfg.h       |   118 -
remote:   .../brcmstb/7145b0/bchp_pcie_0_intr2.h |  2018 --
remote:   .../brcmstb/7145b0/bchp_pcie_0_misc.h  |   995 -
remote:   .../7145b0/bchp_pcie_0_misc_perst.h    |    87 -
remote:   .../7145b0/bchp_pcie_0_rc_cfg_pcie.h   |   646 -
remote:   .../7145b0/bchp_pcie_0_rc_cfg_type1.h  |   528 -
remote:   .../7145b0/bchp_pcie_0_rc_cfg_vendor.h |   175 -
remote:   .../brcmstb/7145b0/bchp_pcie_0_rgr1.h  |   136 -
remote:   .../7145b0/bchp_shimphy_addr_cntl_0.h  |   631 -
remote:   .../7145b0/bchp_shimphy_addr_cntl_1.h  |   631 -
remote:   .../brcmstb/7250b0/bchp_aon_ctrl.h     |  1684 --
remote:   .../brcmstb/7250b0/bchp_aon_pin_ctrl.h |   661 -
remote:   .../brcmstb/7250b0/bchp_aon_pm_l2.h    |   980 -
remote:   .../linux/brcmstb/7250b0/bchp_clkgen.h |  9389 ---------
remote:   .../bchp_ddr34_phy_byte_lane_0_0.h     |  2482 ---
remote:   .../bchp_ddr34_phy_byte_lane_1_0.h     |  2482 ---
remote:   .../bchp_ddr34_phy_control_regs_0.h    |  4441 ----
remote:   .../linux/brcmstb/7250b0/bchp_gio.h    |   474 -
remote:   .../brcmstb/7250b0/bchp_gio_aon.h      |   258 -
remote:   .../7250b0/bchp_hif_continuation.h     |    94 -
remote:   .../7250b0/bchp_hif_cpubiuctrl.h       |  3422 ---
remote:   .../brcmstb/7250b0/bchp_hif_top_ctrl.h |   605 -
remote:   .../linux/brcmstb/7250b0/bchp_irq1.h   |   156 -
remote:   .../brcmstb/7250b0/bchp_memc_ddr_0.h   |  4579 ----
remote:   .../brcmstb/7250b0/bchp_pcie_0_dma.h   |   737 -
remote:   .../7250b0/bchp_pcie_0_ext_cfg.h       |   118 -
remote:   .../brcmstb/7250b0/bchp_pcie_0_intr2.h |  2018 --
remote:   .../brcmstb/7250b0/bchp_pcie_0_misc.h  |  1044 -
remote:   .../7250b0/bchp_pcie_0_misc_perst.h    |    87 -
remote:   .../7250b0/bchp_pcie_0_rc_cfg_pcie.h   |   646 -
remote:   .../7250b0/bchp_pcie_0_rc_cfg_type1.h  |   528 -
remote:   .../7250b0/bchp_pcie_0_rc_cfg_vendor.h |   175 -
remote:   .../brcmstb/7250b0/bchp_pcie_0_rgr1.h  |   136 -
remote:   .../7250b0/bchp_shimphy_addr_cntl_0.h  |   631 -
remote:   .../brcmstb/7364a0/bchp_aon_ctrl.h     |  1736 --
remote:   .../brcmstb/7364a0/bchp_aon_pin_ctrl.h |   484 -
remote:   .../brcmstb/7364a0/bchp_aon_pm_l2.h    |  1340 --
remote:   .../linux/brcmstb/7364a0/bchp_clkgen.h |  9414 ---------
remote:   .../bchp_ddr34_phy_control_regs_0.h    |  4441 ----
remote:   .../linux/brcmstb/7364a0/bchp_gio.h    |   474 -
remote:   .../brcmstb/7364a0/bchp_gio_aon.h      |   258 -
remote:   .../7364a0/bchp_hif_continuation.h     |    94 -
remote:   .../7364a0/bchp_hif_cpubiuctrl.h       |  3437 ---
remote:   .../brcmstb/7364a0/bchp_hif_top_ctrl.h |   605 -
remote:   .../linux/brcmstb/7364a0/bchp_irq1.h   |   166 -
remote:   .../brcmstb/7364a0/bchp_memc_ddr_0.h   |  4579 ----
remote:   .../7364a0/bchp_moca_hostmisc.h        |   511 -
remote:   .../7364a0/bchp_shimphy_addr_cntl_0.h  |   631 -
remote:   .../brcmstb/7366c0/bchp_aon_ctrl.h     |  1789 --
remote:   .../brcmstb/7366c0/bchp_aon_pin_ctrl.h |   539 -
remote:   .../brcmstb/7366c0/bchp_aon_pm_l2.h    |  1404 --
remote:   .../linux/brcmstb/7366c0/bchp_clkgen.h | 11390 ----------
remote:   .../bchp_ddr34_phy_byte_lane_0_0.h     |  2480 ---
remote:   .../bchp_ddr34_phy_byte_lane_1_0.h     |  2480 ---
remote:   .../bchp_ddr34_phy_byte_lane_2_0.h     |  2480 ---
remote:   .../bchp_ddr34_phy_byte_lane_3_0.h     |  2480 ---
remote:   .../bchp_ddr34_phy_control_regs_0.h    |  4439 ----
remote:   .../linux/brcmstb/7366c0/bchp_gio.h    |   544 -
remote:   .../brcmstb/7366c0/bchp_gio_aon.h      |   256 -
remote:   .../7366c0/bchp_hif_continuation.h     |   114 -
remote:   .../7366c0/bchp_hif_cpubiuctrl.h       |  3435 ---
remote:   .../brcmstb/7366c0/bchp_hif_top_ctrl.h |   603 -
remote:   .../linux/brcmstb/7366c0/bchp_irq1.h   |   194 -
remote:   .../brcmstb/7366c0/bchp_memc_ddr_0.h   |  4797 -----
remote:   .../7366c0/bchp_moca_hostmisc.h        |   511 -
remote:   .../brcmstb/7366c0/bchp_pcie_0_dma.h   |   735 -
remote:   .../7366c0/bchp_pcie_0_ext_cfg.h       |   116 -
remote:   .../brcmstb/7366c0/bchp_pcie_0_intr2.h |  2016 --
remote:   .../brcmstb/7366c0/bchp_pcie_0_misc.h  |   993 -
remote:   .../7366c0/bchp_pcie_0_misc_perst.h    |    85 -
remote:   .../7366c0/bchp_pcie_0_rc_cfg_pcie.h   |   644 -
remote:   .../7366c0/bchp_pcie_0_rc_cfg_type1.h  |   526 -
remote:   .../7366c0/bchp_pcie_0_rc_cfg_vendor.h |   173 -
remote:   .../brcmstb/7366c0/bchp_pcie_0_rgr1.h  |   134 -
remote:   .../7366c0/bchp_shimphy_addr_cntl_0.h  |   629 -
remote:   .../brcmstb/74371a0/bchp_aon_ctrl.h    |  1663 --
remote:   .../74371a0/bchp_aon_pin_ctrl.h        |   524 -
remote:   .../brcmstb/74371a0/bchp_aon_pm_l2.h   |  1044 -
remote:   .../brcmstb/74371a0/bchp_clkgen.h      |  7808 -------
remote:   .../bchp_ddr34_phy_byte_lane_0_0.h     |  2099 --
remote:   .../bchp_ddr34_phy_byte_lane_1_0.h     |  2099 --
remote:   .../bchp_ddr34_phy_byte_lane_2_0.h     |  2099 --
remote:   .../bchp_ddr34_phy_byte_lane_3_0.h     |  2099 --
remote:   .../bchp_ddr34_phy_control_regs_0.h    |  4232 ----
remote:   .../linux/brcmstb/74371a0/bchp_gio.h   |   472 -
remote:   .../brcmstb/74371a0/bchp_gio_aon.h     |   256 -
remote:   .../74371a0/bchp_hif_continuation.h    |   114 -
remote:   .../74371a0/bchp_hif_cpubiuctrl.h      |  3311 ---
remote:   .../74371a0/bchp_hif_top_ctrl.h        |   589 -
remote:   .../linux/brcmstb/74371a0/bchp_irq1.h  |   184 -
remote:   .../brcmstb/74371a0/bchp_memc_ddr_0.h  |  4762 -----
remote:   .../74371a0/bchp_moca_hostmisc.h       |   511 -
remote:   .../brcmstb/74371a0/bchp_pcie_0_dma.h  |   735 -
remote:   .../74371a0/bchp_pcie_0_ext_cfg.h      |   116 -
remote:   .../74371a0/bchp_pcie_0_intr2.h        |  2016 --
remote:   .../brcmstb/74371a0/bchp_pcie_0_misc.h |   969 -
remote:   .../74371a0/bchp_pcie_0_misc_perst.h   |    85 -
remote:   .../74371a0/bchp_pcie_0_rc_cfg_pcie.h  |   644 -
remote:   .../74371a0/bchp_pcie_0_rc_cfg_type1.h |   526 -
remote:   .../bchp_pcie_0_rc_cfg_vendor.h        |   173 -
remote:   .../brcmstb/74371a0/bchp_pcie_0_rgr1.h |   134 -
remote:   .../74371a0/bchp_shimphy_addr_cntl_0.h |   556 -
remote:   .../brcmstb/7439b0/bchp_aon_ctrl.h     |  1731 --
remote:   .../brcmstb/7439b0/bchp_aon_pin_ctrl.h |   443 -
remote:   .../brcmstb/7439b0/bchp_aon_pm_l2.h    |  1166 --
remote:   .../linux/brcmstb/7439b0/bchp_clkgen.h |  8323 --------
remote:   .../bchp_ddr34_phy_byte_lane_0_0.h     |  2482 ---
remote:   .../bchp_ddr34_phy_byte_lane_1_0.h     |  2482 ---
remote:   .../bchp_ddr34_phy_byte_lane_2_0.h     |  2482 ---
remote:   .../bchp_ddr34_phy_byte_lane_3_0.h     |  2482 ---
remote:   .../bchp_ddr34_phy_control_regs_0.h    |  4441 ----
remote:   .../linux/brcmstb/7439b0/bchp_gio.h    |   474 -
remote:   .../brcmstb/7439b0/bchp_gio_aon.h      |   258 -
remote:   .../7439b0/bchp_hif_continuation.h     |   116 -
remote:   .../7439b0/bchp_hif_cpubiuctrl.h       |  3437 ---
remote:   .../brcmstb/7439b0/bchp_hif_top_ctrl.h |   616 -
remote:   .../linux/brcmstb/7439b0/bchp_irq1.h   |   176 -
remote:   .../brcmstb/7439b0/bchp_memc_ddr_0.h   |  4091 ----
remote:   .../7439b0/bchp_moca_hostmisc.h        |   511 -
remote:   .../brcmstb/7439b0/bchp_pcie_0_dma.h   |   737 -
remote:   .../7439b0/bchp_pcie_0_ext_cfg.h       |   118 -
remote:   .../brcmstb/7439b0/bchp_pcie_0_intr2.h |  2018 --
remote:   .../brcmstb/7439b0/bchp_pcie_0_misc.h  |  1044 -
remote:   .../7439b0/bchp_pcie_0_misc_perst.h    |    87 -
remote:   .../7439b0/bchp_pcie_0_rc_cfg_pcie.h   |   646 -
remote:   .../7439b0/bchp_pcie_0_rc_cfg_type1.h  |   528 -
remote:   .../7439b0/bchp_pcie_0_rc_cfg_vendor.h |   175 -
remote:   .../brcmstb/7439b0/bchp_pcie_0_rgr1.h  |   136 -
remote:   .../7439b0/bchp_shimphy_addr_cntl_0.h  |   703 -
remote:   .../brcmstb/7445d0/bchp_aon_ctrl.h     |  1685 --
remote:   .../brcmstb/7445d0/bchp_aon_pin_ctrl.h |   442 -
remote:   .../brcmstb/7445d0/bchp_aon_pm_l2.h    |  1106 -
remote:   .../linux/brcmstb/7445d0/bchp_clkgen.h |  9432 ---------
remote:   .../bchp_ddr34_phy_byte_lane_0_0.h     |  2482 ---
remote:   .../bchp_ddr34_phy_byte_lane_0_1.h     |  2482 ---
remote:   .../bchp_ddr34_phy_byte_lane_0_2.h     |  2482 ---
remote:   .../bchp_ddr34_phy_byte_lane_1_0.h     |  2482 ---
remote:   .../bchp_ddr34_phy_byte_lane_1_1.h     |  2482 ---
remote:   .../bchp_ddr34_phy_byte_lane_1_2.h     |  2482 ---
remote:   .../bchp_ddr34_phy_byte_lane_2_0.h     |  2482 ---
remote:   .../bchp_ddr34_phy_byte_lane_2_1.h     |  2482 ---
remote:   .../bchp_ddr34_phy_byte_lane_2_2.h     |  2482 ---
remote:   .../bchp_ddr34_phy_byte_lane_3_0.h     |  2482 ---
remote:   .../bchp_ddr34_phy_byte_lane_3_1.h     |  2482 ---
remote:   .../bchp_ddr34_phy_byte_lane_3_2.h     |  2482 ---
remote:   .../bchp_ddr34_phy_control_regs_0.h    |  4441 ----
remote:   .../bchp_ddr34_phy_control_regs_1.h    |  4441 ----
remote:   .../bchp_ddr34_phy_control_regs_2.h    |  4441 ----
remote:   .../linux/brcmstb/7445d0/bchp_gio.h    |   370 -
remote:   .../brcmstb/7445d0/bchp_gio_aon.h      |   258 -
remote:   .../7445d0/bchp_hif_continuation.h     |   158 -
remote:   .../7445d0/bchp_hif_cpubiuctrl.h       |  3431 ---
remote:   .../brcmstb/7445d0/bchp_hif_top_ctrl.h |   589 -
remote:   .../linux/brcmstb/7445d0/bchp_irq1.h   |   216 -
remote:   .../brcmstb/7445d0/bchp_memc_arb_1.h   |  8194 --------
remote:   .../brcmstb/7445d0/bchp_memc_ddr_0.h   |  4799 -----
remote:   .../brcmstb/7445d0/bchp_memc_ddr_1.h   |  4799 -----
remote:   .../brcmstb/7445d0/bchp_memc_ddr_2.h   |  4799 -----
remote:   .../brcmstb/7445d0/bchp_memc_misc_1.h  |   131 -
remote:   .../7445d0/bchp_moca_hostmisc.h        |   511 -
remote:   .../brcmstb/7445d0/bchp_pcie_0_dma.h   |   735 -
remote:   .../7445d0/bchp_pcie_0_ext_cfg.h       |   116 -
remote:   .../brcmstb/7445d0/bchp_pcie_0_intr2.h |  2016 --
remote:   .../brcmstb/7445d0/bchp_pcie_0_misc.h  |   995 -
remote:   .../7445d0/bchp_pcie_0_misc_perst.h    |    85 -
remote:   .../7445d0/bchp_pcie_0_rc_cfg_pcie.h   |   644 -
remote:   .../7445d0/bchp_pcie_0_rc_cfg_type1.h  |   526 -
remote:   .../7445d0/bchp_pcie_0_rc_cfg_vendor.h |   173 -
remote:   .../brcmstb/7445d0/bchp_pcie_0_rgr1.h  |   134 -
remote:   .../7445d0/bchp_shimphy_addr_cntl_0.h  |   631 -
remote:   .../7445d0/bchp_shimphy_addr_cntl_1.h  |   631 -
remote:   .../7445d0/bchp_shimphy_addr_cntl_2.h  |   631 -
remote:   include/linux/brcmstb/brcmstb.h        |   352 +-
remote:   207 files changed, 42 insertions(+), 360864 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 16:23:13 -0400;ee629986feb56d674f259a611b33b1ea7799d2fa;Bump version to 3.14-1.11pre;
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit f1e24d8d11a4e0d36478ef9b7bf818250d02a14b)
remote:
remote:
remote:   Makefile | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;douglasb@broadcom.com;2016-05-24 16:23:12 -0400;1980669c65d2ee265eb5c1ec0265b29a22cd8f6c;thermal: brcmstb_thermal: restrict negative temperatures;
remote:  The thermal API in v3.14 of the kernel uses unsigned long values to
remote:  represent temperatures so negative values can not be used.
remote:
remote:  This commit restricts the temperature values reported by the get_temp()
remote:  function of the brcmstb_thermal driver so that negative values are
remote:  reported as 0.
remote:
remote:  refs #SWLINUX-3890
remote:
remote:  Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:  (cherry picked from commit c913fa3535e20921143cc36f42dcf43561377512)
remote:
remote:
remote:   drivers/thermal/brcmstb_thermal.c | 7 ++++++-
remote:   1 file changed, 6 insertions(+), 1 deletion(-)
remote:  ;douglasb@broadcom.com;2016-05-24 16:23:12 -0400;af7e67df454a9433808026d01be067728596be37;thermal: brcmstb_thermal: represent temperatures with int data type;
remote:  The brcmstb_thermal driver was not properly handling computations of
remote:  negative temperatures.  This was partly attributable to inconsistency
remote:  in the v3.14 kernel thermal API which largely defines temperatures to
remote:  be unsigned.
remote:
remote:  Later versions of the kernel have cleaned up the thermal API to always
remote:  represent temperatures with type int.  This commit changes the internal
remote:  representations of temperatures within the driver to use type int and
remote:  corrects the bounds checking and computations accordingly.
remote:
remote:  refs #SWLINUX-3890
remote:
remote:  Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:  (cherry picked from commit 5cedf72ebced61a4be279b916a50565db831192d)
remote:
remote:
remote:   drivers/thermal/brcmstb_thermal.c | 32 +++++++++++++------
remote:   1 file changed, 22 insertions(+), 10 deletions(-)
remote:  ;mmayer@broadcom.com;2016-05-24 16:23:06 -0400;6d64a0ddca4601446c3008f04912a6d0d6052ebc;soc: brcmstb: wktmr: Turn on CONFIG_RTC_CLASS
remote:  Now that we have RTC support in the wakeup-timer, we need to enable the
remote:  corresponding driver in the defconfig.
remote:
remote:  refs #SWLINUX-3802
remote:
remote:  Signed-off-by: Markus Mayer <mmayer@broadcom.com>
remote:  (cherry picked from commit 6e93aa27fc6628db17ae67c077045e7bfaae6570)
remote:
remote:
remote:   arch/arm/configs/brcmstb_defconfig | 1 +
remote:   1 file changed, 1 insertion(+)
remote:  ;mmayer@broadcom.com;2016-05-24 16:21:30 -0400;d806683e51223a2d7d8df663b7e793c834a1944d;soc: brcmstb: wktmr: add RTC support;
remote:  We add basic RTC support to the wake-timer driver.
remote:
remote:  refs #SWLINUX-3802
remote:
remote:  Signed-off-by: Markus Mayer <mmayer@broadcom.com>
remote:  (cherry picked from commit 266befd9a4cfb0946996028d296a4c723bdcfd7c)
remote:
remote:
remote:   drivers/soc/brcmstb/wktmr.c | 144 +++++++++++++++++++++++-
remote:   1 file changed, 139 insertions(+), 5 deletions(-)
remote:  ;acooper@broadcom.com;2016-05-24 16:21:29 -0400;83665c998e86947feeec96b6613090e5161104f4;usb: Add connected retry on resume for non SS devices;
remote:  Currently usb_port_resume waits for up to 2 seconds for CONNECT
remote:  status for SS devices only. This change will do the same thing for
remote:  non-SS devices even though the reason is a little different. This
remote:  will fix an issue where VBUS is turned off during system wide
remote:  "suspend to ram" and some 2.0 devices take greater than the current
remote:  max of 100ms to show connected after VBUS is enabled. This is most
remote:  commonly seen on hard drive based devices and USB3.0 devices plugged
remote:  into a 2.0 only port. This patch has been accepted upstream.
remote:
remote:  refs #SWLINUX-3888
remote:
remote:  Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:  (cherry picked from commit 51bc1a1637c1d9850cf4240e09d707e901c8deea)
remote:
remote:
remote:   drivers/usb/core/hub.c | 16 ++++++++++------
remote:   1 file changed, 10 insertions(+), 6 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 16:21:29 -0400;82cbe3516a2ff1ad2f38fdfc5e593bf4154a7e62;sata_brcmstb: Add a module license to sata_brcmstb_phy.c;
remote:  Fixes missing license issues seen while loading the module:
remote:
remote:  [    3.420411] sata_brcmstb_phy: module license 'unspecified' taints kernel.
remote:
remote:  refs #SWLINUX-3870
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit c6651008bee5dfe3d5a6781eb0f29af802ff2149)
remote:
remote:
remote:   drivers/ata/sata_brcmstb_phy.c | 2 ++
remote:   1 file changed, 2 insertions(+)
remote:  ;fainelli@broadcom.com;2016-05-24 16:21:28 -0400;fc7fea67b1e83b09e65a7879f38fa96760940781;sata_brcmstb: Remove speed limiting code.;
remote:  This code is just parsing Device Tree properties, and locally storing a value,
remote:  we never use, nor program properly.
remote:
remote:  The proper way to limit the SATA speed is to use libata.force=<speed>G as
remote:  documented in Documentation/kernel-parameters.txt.
remote:
remote:  refs #SWLINUX-3870
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit d19d2e9391f54f9668e86c557416a747bf301b43)
remote:
remote:
remote:   drivers/ata/sata_brcmstb.c     | 18 ------------------
remote:   drivers/ata/sata_brcmstb.h     |  9 ---------
remote:   drivers/ata/sata_brcmstb_phy.c | 21 ---------------------
remote:   3 files changed, 48 deletions(-)
remote:  ;srae@broadcom.com;2016-05-24 16:21:28 -0400;e07b585a4bfe62cd3c49a82817fc5a10807f6697;packaging: add spec file;
remote:  Add spec file for use with RPM based distributions.
remote:
remote:  refs #SWSTB-322
remote:
remote:  Signed-off-by: Steve Rae <srae@broadcom.com>
remote:  (cherry picked from commit 29fba957060d322f213c8ef0737ef5f27a6dbd15)
remote:
remote:
remote:   packaging/Makefile            | 13 ++++++++++
remote:   packaging/linux-src-rpmlintrc |  5 ++++
remote:   packaging/linux-src.spec      | 29 +++++++++++++++++++++++
remote:   3 files changed, 47 insertions(+)
remote:  ;fainelli@broadcom.com;2016-05-24 16:21:27 -0400;dbd948dbc379e4894caf1fa245e406a13308cac0;mmc: Fix sdhci_fix_caps() return code for 7445D0;
remote:  The function returns void, not an integer, fix that.
remote:
remote:  refs #SWLINUX-3834
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit bff68ce291b71b95ef6cbb27e4907e970d9cc390)
remote:
remote:
remote:   drivers/mmc/host/sdhci-brcmstb.c | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;kdasu@broadcom.com;2016-05-24 16:21:27 -0400;bbc0ebee08537f1aade2e2deb4fa8da3581a6063;mtd: brcmstb_nand:: Detect sticky ucorrectable ECC errors on DMA reads;
remote:  This change provides a workaround for [refs #CRNAND-32] where nand controller
remote:  could have a possible sticky error after a PIO and a following DMA read. As
remote:  part of [refs #CRNAND-57] we could do a PIO to verify erased page uncorr ecc
remote:  erorr to eliminate false positives.  But this has a side effect of running into
remote:  CRNAND-32. The fix retries a DMA if we see a uncorr_ecc after a DMA read
remote:  transactiion to overcome CRNAND-32 first and then deal with CRNAND-57 as usual.
remote:
remote:  refs #SWLINUX-3675
remote:
remote:  Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:  (cherry picked from commit de6cdddaa3bdc24cbd47734e02f31e76953d8184)
remote:
remote:
remote:   drivers/mtd/nand/brcmstb_nand.c | 18 ++++++++++++++++--
remote:   1 file changed, 16 insertions(+), 2 deletions(-)
remote:  ;dpetigara@broadcom.com;2016-05-24 16:21:26 -0400;a2aa3a147cc89e9e7b4d70afea3adc3e665da4ee;ARM: mmu: fix default vmalloc size for < 1GiB;
remote:  The current default vmalloc size has been bumped up to
remote:  744MiB for platforms with >= 1 GiB (and if more than one
remote:  meminfo bank exists). As the memory banks > 760MiB (the
remote:  maximum lowmem size for a 3:1 kernel split) are split at
remote:  the lowmem/highmem boundary, the automatic bmem reservation
remote:  scheme breaks when 760MiB < memory size < 1GiB.
remote:
remote:  For example, if the bank size is 768MiB, it's split into
remote:  a 760MiB lowmem and 8MiB highmem bank. The bmem reservation
remote:  algorithm keeps all of the 760MiB for the system and only
remote:  ends up reserving 8MiB for bmem.
remote:
remote:  This patch sets the default vmalloc size for memory banks
remote:  > 760MiB to 744MiB. The change ensures the bmem automatic
remote:  reservation algorithm works correctly for 760MiB < memory
remote:  size < 1GiB.
remote:
remote:  refs #SWLINUX-3853
remote:
remote:  Signed-off-by: Danesh Petigara <dpetigara@broadcom.com>
remote:  (cherry picked from commit 174cc928d2fa4c99b6a822cd5d5d9486f2dae892)
remote:
remote:
remote:   arch/arm/mm/mmu.c | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;dpetigara@broadcom.com;2016-05-24 16:21:26 -0400;df01bd0a897d0f31dec77cc79af92fd67cd1f06e;brcmstb: memory: fix default bmem reservation;
remote:  On single memory bank platforms, 20% of the available
remote:  memory is set aside for the system and the rest is reserved
remote:  as bmem. This scheme doesn't work well for very low memory
remote:  profiles (e.g. 256MiB), resulting in OOM conditions.
remote:
remote:  This patches adds the following changes to single memory
remote:  bank configurations:
remote:
remote:  - For bank sizes less than or equal to 128MiB, all memory
remote:  is allocated to the system and bmem reservation is skipped.
remote:
remote:  - For bank sizes larger than 128MiB,
remote:  reserved_bmem = 80% x (bank_size - 128MiB).
remote:
remote:  refs #SWLINUX-3853
remote:
remote:  Signed-off-by: Danesh Petigara <dpetigara@broadcom.com>
remote:  (cherry picked from commit 13f37812e8ae00e0c07e5675ad7c1cf3598752ad)
remote:
remote:
remote:   drivers/soc/brcmstb/memory.c | 11 +++++++++--
remote:   1 file changed, 9 insertions(+), 2 deletions(-)
remote:  ;kdasu@broadcom.com;2016-05-24 16:21:25 -0400;cc208b2b21d00c650b3ae2dcd14641597e897cb0;spi: brcmstb: Fix S3 boot for both read and write;
remote:  S3 warm boot was broken for all 4-byte addressing parts
remote:  for reads as well as write access. Added proper mspi
remote:  reconfiguration on S3. Fix has been tested to work in both
remote:  Flex mode access and override access for reads. Also tested
remote:  writes to upper addresses using rw filesystem.
remote:
remote:  refs #SWLINUX-3755
remote:
remote:  Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:  (cherry picked from commit 16e3b5c136fdf2908b6dfcc9ad380d70c1bebbf8)
remote:
remote:
remote:   drivers/spi/spi-brcmstb.c | 57 +++++++++++++++++++++++++--
remote:   1 file changed, 54 insertions(+), 3 deletions(-)
remote:  ;kdasu@broadcom.com;2016-05-24 16:21:25 -0400;67fec65cfc39ada84676b0eac2ab70efecf94f16;spi: brcmstb: spin_lock msg list when writing to hw;
remote:  Add Program Page opcode dynamic debugging and also fixed
remote:  locking of list manipulatoin during the write operation.
remote:
remote:  refs #SWLINUX-3755
remote:
remote:  Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:  (cherry picked from commit 58e4ad71b7271c1807d51ada2fdd76b7a6d17afa)
remote:
remote:
remote:   drivers/spi/spi-brcmstb.c | 11 ++++++++++-
remote:   1 file changed, 10 insertions(+), 1 deletion(-)
remote:  ;kdasu@broadcom.com;2016-05-24 16:21:24 -0400;468a10a0fa5461c70119d9065355bd215ec997e0;spi: brcmstb: Add support for 4-byte address writes;
remote:  Kernel needs support to enable/disable 4-byte addressing
remote:  by sending opcode EN4B/EX4B to mspi. Currently the
remote:  writes work for 4-byte address parts only when boot loader
remote:  sets it. However on S3 boot we need to resend the mspi
remote:  commands.
remote:
remote:  refs #SWLINUX-3755
remote:
remote:  Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:  (cherry picked from commit 5811d1abab9735f82c03e08852d298b1b571ddbe)
remote:
remote:
remote:   drivers/spi/spi-brcmstb.c | 49 ++++++++++++++++++++++++++-
remote:   1 file changed, 48 insertions(+), 1 deletion(-)
remote:  ;kdasu@broadcom.com;2016-05-24 16:21:24 -0400;56e444fada0f8bbfefbb31b9d20e0275ffb0859b;spi: brcmstb: Fix 4-byte reads in non flex mode;
remote:  When flex mode is disabled driver should still be able to read
remote:  with 4-byte addressing. Fix sets the upper address byte to be
remote:  sent to the mspi in this mode via the tx buffer.
remote:
remote:  refs #SWLINUX-3755
remote:
remote:  Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:  (cherry picked from commit 15c41ad6dc5dbaa6495481998fe761d511f290ef)
remote:
remote:
remote:   drivers/spi/spi-brcmstb.c | 1 +
remote:   1 file changed, 1 insertion(+)
remote:  ;kdasu@broadcom.com;2016-05-24 16:21:23 -0400;6dc0837bf5817045be7b0979178898b01a7702af;spi: brcmstb: Fix override control mode read access;
remote:  Added support for reads in override control mode. We
remote:  set this mode only is the override register is set.
remote:  The use of override registers shall be driven by
remote:  boot loader configuration of the override control
remote:  register. Flex mode read is disabled in this mode.
remote:
remote:  refs #SWLINUX-3755
remote:
remote:  Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:  (cherry picked from commit 7c26092d5591051b133bf9d93b9c0cd5b2ee63cb)
remote:
remote:
remote:   drivers/spi/spi-brcmstb.c | 83 ++++++++++++++++-----------
remote:   1 file changed, 51 insertions(+), 32 deletions(-)
remote:  ;kdasu@broadcom.com;2016-05-24 16:21:23 -0400;b2b0938124951ea73809ac9b0247242285c306c8;spi: brcmstb: Fix flex mode 4byte addressing read commands;
remote:  Use appropriate 4-byte address read commands. These commands
remote:  should work for all spi-nor vendors. Removed spansion specific
remote:  checks. Fixed for all 1-bit, 2-bit, 4-bit data lane access when
remote:  used with spi-nor parts that need 4-byte addressing.
remote:
remote:  refs #SWLINUX-3755
remote:
remote:  Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:  (cherry picked from commit 84508d32249dff34fb337e84378ba5e3e5437900)
remote:
remote:
remote:   drivers/spi/spi-brcmstb.c | 28 +++++++++------------------
remote:   1 file changed, 9 insertions(+), 19 deletions(-)
remote:  ;kdasu@broadcom.com;2016-05-24 16:21:22 -0400;6876b61c4461328d35f4b140d9e281a9733e27cd;spi: brcmstb: Use dynamic debugging in the driver;
remote:  Change the DBG macro to use pr_debug to enable dynamic
remote:  debugging for better runtime debugging.
remote:
remote:  refs #SWLINUX-3755
remote:
remote:  Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:  (cherry picked from commit e7012e7c4edfa79638dde79bc764297525f80c70)
remote:
remote:
remote:   drivers/spi/spi-brcmstb.c | 6 +-----
remote:   1 file changed, 1 insertion(+), 5 deletions(-)
remote:  ;acooper@broadcom.com;2016-05-24 16:21:22 -0400;7bdb2148e9aafb4fd7c75a490c5d3628992f4f9e;usb: Change the way usb-brcm driver is disable for new USB style DT;
remote:  The new style USB Device Tree uses a usb-phy instead of a
remote:  wrapper (the usb-brcm driver) and this changes the way the
remote:  usb-brcm driver is disabled when the new style is detected. The
remote:  driver now returns ENODEV instead of zero which stop any further
remote:  calls to the driver. This makes the previous commit 01f3e893197a,
remote:  which checked for a NULL priv in suspend and resume, un-necessary.
remote:
remote:  refs #SWLINUX-3803
remote:
remote:  Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:  (cherry picked from commit 9b3aa47bd210117b07c175e6868ca5b760503d51)
remote:
remote:
remote:   drivers/usb/host/usb-brcm.c | 8 +-------
remote:   1 file changed, 1 insertion(+), 7 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 16:21:21 -0400;0cbecb1559c08f61eb571487e7628b6eaf525039;Bump version to 3.14-1.10pre;
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit d1177c0efe761e86d9cd7a395349977ca866a7d1)
remote:
remote:
remote:   Makefile | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;fainelli@broadcom.com;2016-05-24 16:21:21 -0400;89a922cd7d4fc48b37458bac6bbf4f8936ed902a;include: brcmstb: Bump BRCMSTB_H_VERSION to 5;
remote:  refs #SWLINUX-3701, refs #SWLINUX-3754, refs #SWLINUX-3776, refs #SWLINUX-3775
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 16fd6c641279cf6ca614b5c61a0e8a86338bd9fd)
remote:
remote:
remote:   include/linux/brcmstb/brcmstb.h | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;fainelli@broadcom.com;2016-05-24 16:21:20 -0400;af3b05289ad600425dc9d99b975319e442511471;soc: brcmstb: nexus: Add atomic register update API;
remote:  Add a brcmstb_update32() function which updates, for now, the GPIO register
remote:  range after getting a successful virtual address to that register, and
remote:  verifying that Linux is not already owning one of the bits inside the mask it
remote:  attempts to modify.
remote:
remote:  If it succeeds, we update the internal GPIO bookeeping bitmap for Nexus to flag
remote:  that this GPIO is requested for Nexus use.
remote:
remote:  refs #SWLINUX-3775
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 2418bdb55be74ed45f3a60cd8d245e5dcf05af9b)
remote:
remote:
remote:   drivers/soc/brcmstb/nexus/Makefile     |  3 +-
remote:   drivers/soc/brcmstb/nexus/reg.c        | 93 +++++++++++++
remote:   include/linux/brcmstb/brcmstb.h        |  1 +
remote:   include/linux/brcmstb/reg_api.h        | 23 ++++
remote:   tools/testing/brcmstb/reg-api/Kbuild   |  1 +
remote:   tools/testing/brcmstb/reg-api/Makefile | 17 +++
remote:   tools/testing/brcmstb/reg-api/README   |  7 +
remote:   .../brcmstb/reg-api/test-reg-api.c     | 95 ++++++++++++++
remote:   8 files changed, 239 insertions(+), 1 deletion(-)
remote:  ;fainelli@broadcom.com;2016-05-24 16:21:20 -0400;baa470ec2462d8ddd902a5affbc9c95ab7f17b79;soc: brcmstb: nexus: Add GPIO interrupt resolution API;
remote:  Add a Nexus API which allows Nexus to specify a GPIO offset and shift, and
remote:  obtain the corresponding virtual interrupt number corresponding to that GPIO
remote:  offset and shift.
remote:
remote:  Linux will do an implicit gpio_request() to guaranteed Nexus with exclusivity
remote:  on that specific GPIO.
remote:
remote:  Since we are adding another function, bump the API version accordingly in
remote:  brcmstb.h.
remote:
remote:  refs #SWLINUX-3776
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 635d50300c6ca2f3235eda287ef036eb10d8445d)
remote:
remote:
remote:   drivers/soc/brcmstb/nexus/Makefile     |   3 +-
remote:   drivers/soc/brcmstb/nexus/gpio.c       | 150 +++++++++++++
remote:   drivers/soc/brcmstb/nexus/gpio.h       |  10 +
remote:   include/linux/brcmstb/brcmstb.h        |   1 +
remote:   include/linux/brcmstb/gpio_api.h       |  23 ++
remote:   tools/testing/brcmstb/gpio-api/Kbuild  |   1 +
remote:   .../testing/brcmstb/gpio-api/Makefile  |  17 ++
remote:   tools/testing/brcmstb/gpio-api/README  |   7 +
remote:   .../brcmstb/gpio-api/test-gpio-api.c   |  61 +++++
remote:   9 files changed, 272 insertions(+), 1 deletion(-)
remote:  ;fainelli@broadcom.com;2016-05-24 16:21:19 -0400;62cefe0072e9bb1df2caf99c9c64882f2771e37d;soc: brcmstb: nexus: Add brcmstb_get_l2_irq_id() API;
remote:  Add a Nexus API under drivers/soc/brcmstb/nexus/irq.c which resolves a given
remote:  IRQ0 or IRQ0_AON L2 interrupt number into its corresponding Linux virtual IRQ
remote:  number that can be passed to request_irq().
remote:
remote:  Also add a selftest/example in tools/testing/brcmstb/irq-api/ which can be used
remote:  to test and verify that this behaves properly.
remote:
remote:  refs #SWLINUX-3754
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 98782ec2f742a11ee48a9efed580f29371ca5caa)
remote:
remote:
remote:   drivers/soc/brcmstb/Kconfig            |   6 +
remote:   drivers/soc/brcmstb/Makefile           |   1 +
remote:   drivers/soc/brcmstb/nexus/Makefile     |   1 +
remote:   drivers/soc/brcmstb/nexus/irq.c        | 146 +++++++++++++
remote:   include/linux/brcmstb/brcmstb.h        |   1 +
remote:   include/linux/brcmstb/irq_api.h        |  45 ++++
remote:   tools/testing/brcmstb/irq-api/Kbuild   |   1 +
remote:   tools/testing/brcmstb/irq-api/Makefile |  17 ++
remote:   tools/testing/brcmstb/irq-api/README   |   7 +
remote:   .../brcmstb/irq-api/test-irq-api.c     |  33 +++
remote:   10 files changed, 258 insertions(+)
remote:  ;douglasb@broadcom.com;2016-05-24 16:21:18 -0400;7048224738bf02eace4cfedddf7302fdac6fbce3;soc: add nexus_version_check.h;
remote:  This header file is not intended to be included by any files within the Linux
remote:  distribution.  It is provided with the distribution to be included by Nexus
remote:  software to provide a compile-time mechanism for communicating that changes
remote:  have been made to the Linux distribution that are known to be incompatible
remote:  with older versions of the Nexus software.
remote:
remote:  When such a change is made to the Linux distribution this file must be updated
remote:  to identify the version of the previous Nexus release that is no longer
remote:  compatible and a brief summary of the incompatibility should be included in
remote:  the error message.
remote:
remote:  refs #SWLINUX-3701
remote:
remote:  Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:  (cherry picked from commit a8fd6b95a68cd6a486428440b582ba9663470edb)
remote:
remote:
remote:   .../brcmstb/nexus_version_check.h      | 43 ++++++++++++++
remote:   1 file changed, 43 insertions(+)
remote:  ;fainelli@broadcom.com;2016-05-24 16:21:18 -0400;18892af60444f546e1c2306eb549be6ef163b91b;usb: Do not de-reference private context during suspend/resume;
remote:  With BOLT v1.07, Device Tree contains a proper USB PHY Device Tree node
remote:  brcm_usb_instance_probe() bails out early because there is such a PHY, and so
remote:  we do not have a valid dev->drvdata pointer by the time we run
remote:  brcm_usb_suspend(), we fetch that private pointer using dev_get_drvadata() and
remote:  de-reference a NULL pointer.
remote:
remote:  Fixes: 2598787ab8c9 ("usb: Change Broadcom USB drivers structure to remove USB
remote:  wrapper driver")
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:
remote:  (cherry picked from commit 01f3e893197a3bfdf860cf3b9f71684cc3a4a8eb)
remote:
remote:
remote:   drivers/usb/host/usb-brcm.c | 6 ++++++
remote:   1 file changed, 6 insertions(+)
remote:  ;davem@davemloft.net;2016-05-24 16:21:17 -0400;defa9767784bdc4ca610992fe8f301715eac6dc1;ipv4: Missing sk_nulls_node_init() in ping_unhash().;
remote:  [Upstream commit a134f083e79fb4c3d0a925691e732c56911b4326]
remote:
remote:  If we don't do that, then the poison value is left in the ->pprev
remote:  backlink.
remote:
remote:  This can cause crashes if we do a disconnect, followed by a connect().
remote:
remote:  refs #SWLINUX-3845
remote:
remote:  Tested-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:  Reported-by: Wen Xu <hotdog3645@gmail.com>
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  (cherry picked from commit 7e5cc14185569c00cde88ed59aad836794faf7ee)
remote:
remote:
remote:   net/ipv4/ping.c | 1 +
remote:   1 file changed, 1 insertion(+)
remote:  ;acooper@broadcom.com;2016-05-24 16:21:17 -0400;724c284dd8a2fecf9f0d1a36d6b79eae89633f75;usb: Change Broadcom USB drivers structure to remove USB wrapper driver;
remote:  The current Broadcom USB drivers (ohci, ehci, xhci and bdc) are setup
remote:  as child drivers to a USB wrapper driver. The wrapper driver handles
remote:  any global USB controller setup and then starts the child drivers. This
remote:  change will replace the wrapper driver with a usb-phy driver that will
remote:  do the global USB controller setup and the child drivers will become
remote:  normal drivers started by the device tree parser. The new functionality
remote:  requires a new style of USB Device Tree node descriptions and will
remote:  only work with a matching version of BOLT. The kernel will also support
remote:  the old style DT entries so it will work correctly with either version
remote:  of BOLT.
remote:
remote:  refs #SWLINUX-3803
remote:
remote:  Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:  (cherry picked from commit 2598787ab8c983ed983a97962c2493a55d05da69)
remote:
remote:
remote:   arch/arm/mach-bcm/Kconfig         |   5 +
remote:   drivers/phy/Makefile              |   1 +
remote:   drivers/phy/phy-brcm-usb.c        | 216 ++++++++++++++++++
remote:   drivers/usb/gadget/bdc/bdc_core.c |   1 +
remote:   drivers/usb/gadget/bdc/bdc_udc.c  |   5 +-
remote:   drivers/usb/host/ehci-brcm.c      |   1 +
remote:   drivers/usb/host/ohci-brcm.c      |   1 +
remote:   drivers/usb/host/usb-brcm.c       |  11 +
remote:   drivers/usb/host/xhci-brcm.c      |   1 +
remote:   9 files changed, 239 insertions(+), 3 deletions(-)
remote:  ;acooper@broadcom.com;2016-05-24 16:21:16 -0400;d10ef318333825a409023232cc82ff8eb59b9715;mmc: Add ability to change driver strength from a Device Tree prop;
remote:  Customers are requesting the ability to change the Host and Card
remote:  Driver Type (drive strength) because they are seeing interference
remote:  with WiFi and having Certification issues. This change allows new
remote:  Device Tree properties to change the default Driver Type for both
remote:  Host and Card. Not all cards support all Driver Types and if the
remote:  requested type is not supported the default will continue to be used.
remote:  The SD spec states that only UHS modes use selectable driver strength,
remote:  but our host controller allows it for HS mode as well. A customer
remote:  has requested support for the HS setting so an additional device
remote:  tree property was added for this.
remote:
remote:  The Device Tree properties that control the drive strength are:
remote:  "host-driver-strength", "host-hs-driver-strength" and
remote:  "card-driver-strength". These properties can have the value
remote:  "A", "B", "C", or "D". Where A is x1.5, B is x1.0 (default),
remote:  C is x0.75 and D is x0.5
remote:
remote:  NOTES
remote:   o Reducing Drive Strength may result in read/write errors
remote:     depending on the board design.
remote:   o The Host side settings are not supported on the 74371, which
remote:     uses the older version of the SDIO core.
remote:
remote:  refs #SWLINUX-3828
remote:
remote:  Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:  (cherry picked from commit d278d4756dec21638667b0198bf3bda7a7924477)
remote:
remote:
remote:   drivers/mmc/host/sdhci-brcmstb.c | 213 ++++++++++++++++---
remote:   drivers/mmc/host/sdhci.h         |   1 +
remote:   2 files changed, 184 insertions(+), 30 deletions(-)
remote:  ;adrian.hunter@intel.com;2016-05-24 16:21:16 -0400;ee6cf7f5c7c6ff53b77b1ec467f060798237b5cc;mmc: sdhci: Add a callback to select drive strength;
remote:  [Upstream commit cb8496482e8886bbd6bd79462d8062db572b0473]
remote:
remote:  Add a callbak to let host drivers select drive
remote:  strength.
remote:
remote:  refs #SWLINUX-3828
remote:
remote:  Signed-off-by: Adrian Hunter <adrian.hunter@intel.com>
remote:  Signed-off-by: Ulf Hansson <ulf.hansson@linaro.org>
remote:  (cherry picked from commit 0a76b2bf55f39c1915a4c71be170313bf8bbe2af)
remote:
remote:
remote:   drivers/mmc/host/sdhci.c | 13 +++++++++++++
remote:   drivers/mmc/host/sdhci.h |  4 ++++
remote:   2 files changed, 17 insertions(+)
remote:  ;pgynther@google.com;2016-05-24 16:21:15 -0400;262767ce998eb52eb6cd58968b31371a4edbd8df;mmc: sdhci: fix driver type B and D handling in sdhci_do_set_ios();
remote:  [Upstream commit 43e943a04049d8f4ee96a940517a5fcb0f558ad2]
remote:
remote:  sdhci_do_set_ios() doesn't currently program SDHCI_HOST_CONTROL2
remote:  register correctly when host->preset_enabled == false.
remote:
remote:  Add code to handle the missing cases MMC_SET_DRIVER_TYPE_B and
remote:  MMC_SET_DRIVER_TYPE_D.
remote:
remote:  refs #SWLINUX-3828
remote:
remote:  Signed-off-by: Petri Gynther <pgynther@google.com>
remote:  Signed-off-by: Ulf Hansson <ulf.hansson@linaro.org>
remote:  (cherry picked from commit 2375f98f63d9119ef9ee854dc94492e10b7140c8)
remote:
remote:
remote:   drivers/mmc/host/sdhci.c | 10 ++++++++++
remote:   1 file changed, 10 insertions(+)
remote:  ;adrian.hunter@intel.com;2016-05-24 16:21:15 -0400;0982e487890f167e4ef4eb02399fc96ed335abf2;mmc: core: Add 'card' to drive strength selection callback;
remote:  [Upstream commit f168359efbb99d6f8591bb666d6510bb78df2d07]
remote:
remote:  In preparation for supporting also eMMC drive strength,
remote:  add the 'card' as a parameter so that the callback can
remote:  distinguish different types of cards if necessary.
remote:
remote:  refs #SWLINUX-3828
remote:
remote:  Signed-off-by: Adrian Hunter <adrian.hunter@intel.com>
remote:  Signed-off-by: Ulf Hansson <ulf.hansson@linaro.org>
remote:  (cherry picked from commit b69ba9ab3834dc5e3cfda05c9d5927b2f294aa42)
remote:
remote:
remote:   drivers/mmc/core/sd.c    | 2 +-
remote:   drivers/mmc/core/sdio.c  | 2 +-
remote:   include/linux/mmc/host.h | 3 ++-
remote:   3 files changed, 4 insertions(+), 3 deletions(-)
remote:  ;adrian.hunter@intel.com;2016-05-24 16:21:14 -0400;60885dc7e97741eb17fcdfcc52c7d10c2c1a609f;mmc: core: Allow card drive strength to be different to host;
remote:  [Upstream commit b4f30a174e1fda8118eda038b5d8d5260db36ad5]
remote:
remote:  Initialization of UHS-I modes for SD and SDIO cards
remote:  employs a callback to allow the host driver to
remote:  choose a drive strength value. Currently that
remote:  assumes the card drive strength and host driver
remote:  type must be the same value. Change to let the
remote:  callback make that decision and return both the
remote:  card drive strength and host driver type.
remote:
remote:  refs #SWLINUX-3828
remote:
remote:  Signed-off-by: Adrian Hunter <adrian.hunter@intel.com>
remote:  Signed-off-by: Ulf Hansson <ulf.hansson@linaro.org>
remote:  (cherry picked from commit c4c8afde60acd7581d5c8148926b1c377a79919c)
remote:
remote:
remote:   drivers/mmc/core/sd.c    | 33 +++++++++------------
remote:   drivers/mmc/core/sdio.c  | 43 ++++++++++++----------------
remote:   include/linux/mmc/host.h |  3 +-
remote:   3 files changed, 33 insertions(+), 46 deletions(-)
remote:  ;Justinc1@broadcom.com;2016-05-24 16:21:14 -0400;9041a96077990a5b71934221bbd512046f8f883b;spi: brcmstb-mspi: Fix 16 bits_per_word transfers;
remote:  The driver was incrementing by bytes when writing 16 bits into the buffer.
remote:  This cause the driver to send twice as much data for 16 bits_per_word
remote:  transfers. Changed driver to increment by 2 bytes if 16 bits_per_word is
remote:  set.
remote:
remote:  refs #SWLINUX-3121
remote:
remote:  Signed-off-by: Justin Chen <Justinc1@broadcom.com>
remote:  (cherry picked from commit 76ca11bbc34dd06a15db4665e38ea33b1870060a)
remote:
remote:
remote:   drivers/spi/spi-brcmstb-mspi.c | 9 ++++++---
remote:   1 file changed, 6 insertions(+), 3 deletions(-)
remote:  ;tross@broadcom.com;2016-05-24 16:21:13 -0400;1976fed6c9e8183f1176a6b8714bfa78bdf153ed;pci: turn off/on/on voltage regulator on suspend/resume/boot;
remote:  Allow the PCIe RC driver to use fixed-voltage regulator(s)
remote:  to control the power of endpoint device(s).
remote:
remote:  refs #SWLINUX-3735
remote:
remote:  Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:  (cherry picked from commit f3c9e7b1cfd81fc7089729517824ca765dc92edf)
remote:
remote:
remote:   .../bindings/pci/brcmstb-pci.txt       | 10 +++
remote:   arch/arm/configs/brcmstb_defconfig     |  2 +
remote:   .../configs/brcmstb_hardened_defconfig |  2 +
remote:   arch/arm/mach-bcm/pci-brcmstb.c        | 56 ++++++++++++++
remote:   4 files changed, 70 insertions(+)
remote:  ;jquinlan@broadcom.com;2016-05-24 16:21:13 -0400;542a9e5956044a909b9685b3b20e83e51085b99b;gpio: brcmstb: have driver register during subsys_initcall();
remote:  Because regulators are started with subsys_initcall(), and gpio
remote:  references may be contained in the regulators, it makes sense
remote:  to start the brcmstb-gpio's with a subsys_initcall().  The
remote:  order within the drivers/Makefile ensures that the gpio
remote:  initialization happens prior to the regulator's initialization.
remote:
remote:  refs #SWLINUX-3735
remote:
remote:  Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:  (cherry picked from commit 9b7fb7601818c773fb2c6e3b037f2b07227a604f)
remote:
remote:
remote:   drivers/gpio/gpio-brcmstb.c | 13 ++++++++++++-
remote:   1 file changed, 12 insertions(+), 1 deletion(-)
remote:  ;jquinlan@broadcom.com;2016-05-24 16:21:12 -0400;4e6c165e7b85bc7b7c498b8c6edc1d50f8e1daa9;pci: change from arch_initcall() to fs_initcall();
remote:  For unknown historical reasons, the PCIe host driver uses
remote:  arch_initcall().  This commit supplants this with fs_initcal().
remote:
remote:  refs #SWLINUX-3735
remote:
remote:  Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:  (cherry picked from commit b3a2e402f94cf9c606f6bb5c791c14a6244e1ccb)
remote:
remote:
remote:   arch/arm/mach-bcm/pci-brcmstb.c | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;jquinlan@broadcom.com;2016-05-24 16:21:12 -0400;fa2cc3486d489bcf9462b3064f8f04e77d7fccf2;clk: Remove ordering restrictions for software clocks;
remote:  After using "kexec" to load and run a new kernel, the new kernel
remote:  doesn't work normally.
remote:  1. It can't detect the plug/unplug of usb disk/ethernet cable.
remote:  2. If run with a usb disk plugged, there will be kernel panic.
remote:
remote:  This is the result of Software Clocks not setting up their parents
remote:  correctly when booting via kexec. The prevents the parent
remote:  clocks of the sw clock from being enabled. This is happening because
remote:  kexec uses /proc/device-tree to reconstruct the FDT that is used
remote:  to boot the new kernel and this changes the original node order to be
remote:  alphabetical and the clock software depends on the parent clock nodes
remote:  being defined before the software clock. This change removes the
remote:  ordering restriction and allows sw clocks and parents to be
remote:  defined in any order.
remote:
remote:  refs #SWLINUX-3829
remote:
remote:  Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:  Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:  (cherry picked from commit 350c3e2ff1ee679ff0afc311c28d6d94d33cdad2)
remote:
remote:
remote:   drivers/clk/clk.c | 6 ++++++
remote:   1 file changed, 6 insertions(+)
remote:  ;acooper@broadcom.com;2016-05-24 16:21:11 -0400;3f5ee7fd224b53dc513766444fb9ef1db3782381;mmc: Allow SDR50 mode for 7439b0 and 7445e0;
remote:  SDR50 mode has been fixed for the 7439b0 and 7445e0 so don't
remote:  disable it.
remote:
remote:  refs #SWLINUX-3834
remote:
remote:  Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:  (cherry picked from commit 2fda787f008a08bb35b424d90437ad7022d74171)
remote:
remote:
remote:   drivers/mmc/host/sdhci-brcmstb.c | 7 ++++++-
remote:   1 file changed, 6 insertions(+), 1 deletion(-)
remote:  ;fainelli@broadcom.com;2016-05-24 16:21:11 -0400;24ff46f94dee1c1f2700310a0d49fb074b1d8ea2;pwm: Add Broadcom BCM7038 PWM controller support;
remote:  Add support for the BCM7038-style PWM controller found in all BCM7xxx STB SoCs.
remote:  This controller has a hardcoded 2 channels per controller, and cascades a
remote:  variable frequency generator on top of a fixed frequency generator which offers
remote:  a range of a 148ns period all the way to ~622ms periods.
remote:
remote:  refs #SWLINUX-3716
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit fa8c0ed0aaaa5de855d99acfdc57abd42aed78b9)
remote:
remote:
remote:   drivers/pwm/Kconfig       |  10 +
remote:   drivers/pwm/Makefile      |   1 +
remote:   drivers/pwm/pwm-brcmstb.c | 345 ++++++++++++++++++++++++++
remote:   3 files changed, 356 insertions(+)
remote:  ;fainelli@broadcom.com;2016-05-24 16:21:10 -0400;de1342d7c69b2f332ace6354749099151714fd97;Documentation: dt: add Broadcom BCM7038 PWM controller binding;
remote:  Add a binding documentation for the Broadcom BCM7038 PWM controller found in
remote:  BCM7xxx chips.
remote:
remote:  refs #SWLINUX-3716
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit a6737e339875b5955cb72cd772f850c5620a0549)
remote:
remote:
remote:   .../bindings/pwm/brcm,bcm7038-pwm.txt  | 20 ++++++++++++++
remote:   1 file changed, 20 insertions(+)
remote:  ;f.fainelli@gmail.com;2016-05-24 16:21:10 -0400;577907c4a5cd63ccb06f1dc8eccfcee508d1675c;net: dsa: bcm_sf2: Fix ageing conditions and operation;
remote:  The comparison check between cur_hw_state and hw_state is currently
remote:  invalid because cur_hw_state is right shifted by G_MISTP_SHIFT, while
remote:  hw_state is not, so we end-up comparing bits 2:0 with bits 7:5, which is
remote:  going to cause an additional aging to occur. Fix this by not shifting
remote:  cur_hw_state while reading it, but instead, mask the value with the
remote:  appropriately shitfted bitmask.
remote:
remote:  The other problem with the fast-ageing process is that we did not set
remote:  the EN_AGE_DYNAMIC bit to request the ageing to occur for dynamically
remote:  learned MAC addresses. Finally, write back 0 to the FAST_AGE_CTRL
remote:  register to avoid leaving spurious bits sets from one operation to the
remote:  other.
remote:
remote:  refs #SWLINUX-3728
remote:
remote:  Fixes: d1adb695f919 ("net: dsa: bcm_sf2: add HW bridging support")
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit ff121a18f798f3bcb64b8cf7f8bb1b8d4086dcf8)
remote:
remote:
remote:   drivers/net/dsa/bcm_sf2.c | 12 ++++++++----
remote:   1 file changed, 8 insertions(+), 4 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 16:21:09 -0400;982417ca5a75aab7fe6487383a69ccc8d6de3191;BCMGENET: Implement RX coalescing control knobs;
remote:  Add support for the ethtool rx-frames coalescing parameter which allows
remote:  defining the number of RX interrupts per frames received. The RDMA
remote:  engine supports a configurable timeout with a resolution of
remote:  approximately 8.192 us.
remote:
remote:  We can no longer enable the BDONE/PDONE interrupts as those would
remote:  fire for each packet/buffer received, which would defeat the MBDONE
remote:  interrupt purpose. The MBDONE interrupt is guaranteed to correspond to a
remote:  PDONE/BDONE interrupt when the threshold is set to 1.
remote:
remote:  refs #SWLINUX-2569
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 5ab371e13f551aa8915e1d030311a7a2007a69d1)
remote:
remote:
remote:   .../ethernet/broadcom/genet/bcmgenet.c | 140 ++++++++++++-
remote:   .../ethernet/broadcom/genet/bcmgenet.h |   1 +
remote:   2 files changed, 137 insertions(+), 4 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 16:21:09 -0400;a2733d1dfc10cba1deba585e11061424faf29b77;BCMGENET: Implement TX coalescing control knobs;
remote:  Configuring the ethtool tx-frames property, which translates into N
remote:  packets before a TX interrupt is the simplest configuration scheme
remote:  because it requires no locking neither at the softare nor hardware
remote:  level, and is completely indepedent from the link speed. Since ethtool
remote:  does not allow per-tx queue coalescing parameters, we apply the same
remote:  setting to any transmit queue.
remote:
remote:  We can no longer enable the BDONE/PDONE interrupts as those would fire
remote:  for each packet/buffer received, which would defeat the MBDONE interrupt
remote:  purpose. The MBDONE interrupt is guaranteed to correspond to a
remote:  PDONE/BDONE interrupt when the threshold is set to 1, but offers
remote:  interrupt coalescing when the value is > 1.
remote:
remote:  Since the HW is configured to generate an interrupt when the ring
remote:  becomes emtpy, we have to deny any timeout/timer settings coming from
remote:  user-space to indicate we can only generate an interrupt very <N>
remote:  packets.
remote:
remote:  While we are at it, fix the DMA_INTR_THRESHOLD_MASK value which was off
remote:  by one bit (0xff vs. 0x1ff).
remote:
remote:  refs #SWLINUX-2569
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 2056ab3bcd954270737ddc6934bb1ea7aedbc71f)
remote:
remote:
remote:   .../ethernet/broadcom/genet/bcmgenet.c | 59 ++++++++++++--
remote:   .../ethernet/broadcom/genet/bcmgenet.h |  4 +-
remote:   2 files changed, 54 insertions(+), 9 deletions(-)
remote:  ;romain.izard.pro@gmail.com;2016-05-24 16:21:08 -0400;3bafecebbcf402026d04d455ff6f49bb0ed8e28c;mmc: Allow forward compatibility for eMMC;
remote:  [Upstream commit 03a59437ef6b6ad7fb0165cb9b96c08d6bf057fc]
remote:
remote:  As stated by the eMMC 5.0 specification, a chip should not be rejected
remote:  only because of the revision stated in the EXT_CSD_REV field of the
remote:  EXT_CSD register.
remote:
remote:  Remove the control on this value, the control of the CSD_STRUCTURE field
remote:  should be sufficient to reject future incompatible changes.
remote:
remote:  refs #SWLINUX-3815
remote:
remote:  Signed-off-by: Romain Izard <romain.izard.pro@gmail.com>
remote:  Signed-off-by: Ulf Hansson <ulf.hansson@linaro.org>
remote:  Signed-off-by: Danesh Petigara <dpetigara@broadcom.com>
remote:  (cherry picked from commit ecdb8cd3a6628830bfc04dbba2816a0489fadb1d)
remote:
remote:
remote:   drivers/mmc/core/mmc.c | 11 +++++------
remote:   1 file changed, 5 insertions(+), 6 deletions(-)
remote:  ;dmitry.torokhov@gmail.com;2016-05-24 16:21:08 -0400;520a1ae86d6964d351f89c823a96bf2282d20db6;Input: do not emit unneeded EV_SYN when suspending;
remote:  [Upstream commit 00159f19a5057cb779146afce1cceede692af346]
remote:
remote:  Do not emit EV_SYN/SYN_REPORT on suspend if there were no keys that are
remote:  still pressed as we are suspending the device (and in all other cases when
remote:  input core is forcibly releasing keys via input_dev_release_keys() call).
remote:
remote:  refs #SWLINUX-3810
remote:
remote:  Reviewed-by: Benson Leung <bleung@chromium.org>
remote:  Signed-off-by: Dmitry Torokhov <dmitry.torokhov@gmail.com>
remote:  Signed-off-by: Danesh Petigara <dpetigara@broadcom.com>
remote:  (cherry picked from commit 38575d26e1bfdfe4e6244d199c440134733ddacb)
remote:
remote:
remote:   drivers/input/input.c | 6 +++++-
remote:   1 file changed, 5 insertions(+), 1 deletion(-)
remote:  ;gregory@broadcom.com;2016-05-24 16:21:07 -0400;5c34b786645623317fe7bfc9b8b70534e1ce9061;spi: brcmstb-mspi: refactor to use MMIO accessors;
remote:  The driver was doing direct manipulation of a pointer to the iomapped region as
remote:  volatile data, which is not considered the "proper" way to do I/O (see
remote:  Documentation/volatile-considered-harmful.txt).  Change to use the MMIO
remote:  accessors, and insert the required memory barriers.
remote:
remote:  refs #SWLINUX-3121
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 868c5b3b47a480421e17cfd6536e4ef83538100e)
remote:
remote:
remote:   drivers/spi/spi-brcmstb-mspi.c | 318 +++++++++++++++------
remote:   1 file changed, 238 insertions(+), 80 deletions(-)
remote:  ;gregory@broadcom.com;2016-05-24 16:21:07 -0400;748d4efdf1bdc1fe9c8e459d5b909f57dccd5fbd;spi: brcmstb-mspi: get base freq and max speed dynamically if possible;
remote:  The hardcoded SPI base frequency should only be used if we don't actually have
remote:  a clk provider.
remote:
remote:  refs #SWLINUX-3121
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 4573187ba1207fe7cd93ad201370bf1885c439db)
remote:
remote:
remote:   drivers/spi/spi-brcmstb-mspi.c | 35 +++++++++++++---------
remote:   1 file changed, 21 insertions(+), 14 deletions(-)
remote:  ;gregory@broadcom.com;2016-05-24 16:21:06 -0400;4d8287cb8975c9e3ff3385fee563bb6a009885af;spi: brcmstb-mspi: remove unnecessary check for new params in spi_transfer;
remote:  The speed, mode, and bits per word should never change in the middle of a
remote:  spi_transfer.  Checking for that in the loop within write_to_hw() was a
remote:  holdover from this function was called from transfer() in the dual bspi/mspi
remote:  driver, where it was necessary because that would handle multiple spi_transfers
remote:  at a time and it was important to know when to break.  Now that we're using
remote:  transfer_one(), remove the unnecessary test.
remote:
remote:  Also, it was misleading to have a function named ..._update_parms when calling
remote:  it one way was actually just a test that wouldn't actually update any
remote:  parameters.  Now it becomes a single-purpose function that fits its name.
remote:
remote:  refs #SWLINUX-3121
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit ef6f4ecc7665f6a49c9857ef7a6080e90a01a19c)
remote:
remote:
remote:   drivers/spi/spi-brcmstb-mspi.c | 46 +++++++++++-----------
remote:   1 file changed, 24 insertions(+), 22 deletions(-)
remote:  ;gregory@broadcom.com;2016-05-24 16:21:06 -0400;e2cf2b190c6ce9562fd262c251e3f0fe7904ed60;spi: brcmstb-mspi: various cleanup;
remote:  - add debug output for >8-bit txfr, more comments
remote:  - don't BUG() on no data in write_to_hw (This really shouldn't be that
remote:    fatal of a case, if we hit this, just report it and don't actually
remote:    submit any data.)
remote:  - move fnb (find_next_byte output) check after write_to_hw loop to make
remote:    it clearer that it only is run at the loop end
remote:  - kill bcmspi_parms member chip_select (this was for bspi)
remote:  - document bcmspi_parms
remote:  - make legacy mspi ifdef naming consistent
remote:
remote:  refs #SWLINUX-3121
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit f5ab7799c83fd6f54c46fe4f923ec17262d64bd7)
remote:
remote:
remote:   drivers/spi/spi-brcmstb-mspi.c | 36 ++++++++++++++--------
remote:   1 file changed, 23 insertions(+), 13 deletions(-)
remote:  ;gregory@broadcom.com;2016-05-24 16:21:05 -0400;e85c983b10fde75824cf6ce20521a4a77d7b0abb;spi: brcmstb-mspi: actually use chip select;
remote:  Use the chip select value from the spidev so we can use something other than
remote:  CS0 and avoid talking to CS0 when we mean to talk to somebody else.
remote:
remote:  refs #SWLINUX-3121
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit caeb7d718778a2dbaabb42a18bf6fa2e52bc1f87)
remote:
remote:
remote:   drivers/spi/spi-brcmstb-mspi.c | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;gregory@broadcom.com;2016-05-24 16:21:05 -0400;91df4a4b7e058f40f948074b900c35a2ccc18b7a;spi: brcmstb-mspi: use defines for cdram;
remote:  Add some defines to make manipulating the CDRAM registers a bit less magic.
remote:
remote:  refs #SWLINUX-3121
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 92cb09dff3095d673574d68abba6f7acf0d69974)
remote:
remote:
remote:   drivers/spi/spi-brcmstb-mspi.c | 16 ++++++++++++++--
remote:   1 file changed, 14 insertions(+), 2 deletions(-)
remote:  ;gregory@broadcom.com;2016-05-24 16:21:04 -0400;6bd48682c86d048ac6f6730a3866c788421dd187;spi: brcmstb-mspi: document find_next_byte, kill defunct loop;
remote:  The 'while' loop could never actually loop, since it breaks out or returns
remote:  beforehand.
remote:
remote:  refs #SWLINUX-3121
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit c442d533d7b473b1a9d4ff078173c2faf686f605)
remote:
remote:
remote:   drivers/spi/spi-brcmstb-mspi.c | 21 ++++++++++++++++++---
remote:   1 file changed, 18 insertions(+), 3 deletions(-)
remote:  ;gregory@broadcom.com;2016-05-24 16:21:04 -0400;ec98255ffda17a805d51a71e29f6d5409cf26f9b;spi: brcmstb-mspi: don't reset waitqueue in bcmspi_transfer_one;
remote:  In bcmspi_transfer_one(), we were calling init_completion on the same
remote:  completion object, which according to Documentation/scheduler/completion.txt is
remote:  "most likely a bug as it re-initializes the queue to an empty queue and
remote:  enqueued tasks could get "lost"".  The way we're currently doing things, we
remote:  never have more than one item in the waitqueue, but it's possible a future
remote:  optimization might do that, so let's change this now to avoid a potential
remote:  future problem.
remote:
remote:  refs #SWLINUX-3121
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 99c49eba182e34eae2af3d80499760fe6ed5389e)
remote:
remote:
remote:   drivers/spi/spi-brcmstb-mspi.c | 4 ++--
remote:   1 file changed, 2 insertions(+), 2 deletions(-)
remote:  ;gregory@broadcom.com;2016-05-24 16:21:03 -0400;38a17a804102fefe87bead45743afe0fdbabfdb4;spi: brcmstb-mspi: fix completion timeout;
remote:  We had the timeout set as msecs_to_jiffies(10), and were seeing bad timeout
remote:  values.  Now, with CONFIG_HZ=100, a jiffy is ~10 ms, so msecs_to_jiffies(10)
remote:  ends up returning 1 jiffy.  Unfortunately, if I understand correctly, waiting
remote:  for a single jiffy isn't that effective, because it means you could be waiting
remote:  for basically no time at all, depending on when your operation is scheduled to
remote:  occur.  This matches up with what we were seeing, which is that when several
remote:  SPI writes were scheduled in sequence, it would consistently fail after several
remote:  ms, which suggests the following:
remote:
remote:  time
remote:   |
remote:   v                                       tick occurs
remote:   |
remote:   v        other things happen
remote:   |
remote:   v        SPI write starts
remote:   |
remote:   v        SPI write finishes
remote:   |
remote:   v        next SPI write starts
remote:   |                                       tick occurs
remote:   v        SPI write is considered to have timed out
remote:
remote:  Increase the timeout to 11 (which will be rounded up to 2 jiffies) seems to
remote:  make this problem go away entirely, which further supports this idea.  But
remote:  looking at a sampling of SPI bus drivers in drivers/spi/ suggests that it's
remote:  probably just best to set a larger timeout value, so let's set it to HZ (will
remote:  result in 1s timeout).
remote:
remote:  refs #SWLINUX-3121
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 17d3cc2abfab6fffb2bef6640060b22ae242859e)
remote:
remote:
remote:   drivers/spi/spi-brcmstb-mspi.c | 3 +--
remote:   1 file changed, 1 insertion(+), 2 deletions(-)
remote:  ;computersforpeace@gmail.com;2016-05-24 16:21:03 -0400;a5ee4859853e8a1a4529c0ec653a6f7b40ac69fa;spi: Add Broadcom MSPI controller driver;
remote:  Some comments that are NOT FOR UPSTREAM, explaining what was changed from
remote:  original spi-brcmstb driver:
remote:
remote:  - removes BSPI support (this should be made into a proper spi-nor framework
remote:    driver), which means we don't poke EBI CS anymore
remote:  - removes EBI CS switching, which is only needed for memory mapping
remote:  - add write lock field for use with BSPI
remote:  - use the BCM7120 L2 driver instead of twiddling L2 directly from here
remote:  - get rid of useless debug prints and unused fields
remote:  - use newer transfer_one spi core API
remote:  - use spi_transfer_is_last() instead of directly checking transfer_list
remote:  - remove unnecessary state and locking
remote:  - add timeout to wait_for_completion
remote:  - request mspi_done IRQ
remote:
remote:  Changes added by Gregory and Florian:
remote:
remote:  Until the spi-nor framework is used to allow using BSPI with this
remote:  driver, the spi-brcmstb driver, if enabled, should be used for HIF SPI
remote:  (MSPI+BSPI) instead.  This will then only be used when the compatible
remote:  string is "brcm,spi-brcmstb-mspi".
remote:
remote:  refs #SWLINUX-3121
remote:
remote:  [gregory: This update was originally made by Brian Norris
remote:  <computersforpeace@gmail.com>.  I have left the authorship intact, and added
remote:  the commit message above describing the changes]
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:  (cherry picked from commit b4718d43bde1165dea2657e4565924804e1729b4)
remote:
remote:
remote:   drivers/spi/Kconfig            |   7 +
remote:   drivers/spi/Makefile           |   1 +
remote:   drivers/spi/spi-brcmstb-mspi.c | 600 +++++++++++++++++++++
remote:   3 files changed, 608 insertions(+)
remote:  ;b.galvani@gmail.com;2016-05-24 16:21:02 -0400;3a35adac4d1b33f8ab450be9f5b183039e519d55;spi: core: Add spi_transfer_is_last() helper;
remote:  This adds the function spi_transfer_is_last() which can be used by
remote:  drivers to know whether a given transfer is the last one in the
remote:  current message.
remote:
remote:  Signed-off-by: Beniamino Galvani <b.galvani@gmail.com>
remote:  Signed-off-by: Mark Brown <broonie@kernel.org>
remote:  (cherry picked from commit 34215f5e8b977d5833a9c187729df95369c20576)
remote:
remote:
remote:   include/linux/spi/spi.h | 6 ++++++
remote:   1 file changed, 6 insertions(+)
remote:  ;gregory@broadcom.com;2016-05-24 16:21:02 -0400;c3f901625bcd27ecea236697b9bfa66f4a6dcc68;dt-bindings: spi: Add Broadcom MSPI binding;
remote:  Add the binding for the Broadcom MSPI SPI master controller, used on various
remote:  Broadcom chips including BRCMSTB (BCM7XXX), Broadcom Cygnus, and more.
remote:
remote:  refs #SWLINUX-3121
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 9140ff6c5d60a19db31252b7da71b910950298ec)
remote:
remote:
remote:   .../spi/brcm,spi-brcmstb-mspi.txt      | 88 ++++++++++++++
remote:   1 file changed, 88 insertions(+)
remote:  ;dpetigara@broadcom.com;2016-05-24 16:21:01 -0400;714d185291fbd389bb4fd8b2c545983166d62b0b;usb: bdc: driver fails after resuming from S3 suspend;
remote:  The BDC driver will fail after resuming from S3 suspend and this
remote:  will cause any upper layer gadget driver to fail.
remote:
remote:  refs #SWLINUX-3799
remote:
remote:  Signed-off-by: Danesh Petigara <dpetigara@broadcom.com>
remote:  Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:  (cherry picked from commit e887b38b61bbc7ace5ecbd46d1784d1bd772541e)
remote:
remote:
remote:   drivers/usb/gadget/bdc/bdc_core.c | 15 +++++++++++++++
remote:   1 file changed, 15 insertions(+)
remote:  ;fainelli@broadcom.com;2016-05-24 16:21:01 -0400;be4fd7fd46df1de18bd3472b609313b8f9491fec;BCMGENET: Fix error path in bcmgenet_mii_new_dt_init();
remote:  In case we parse the 'phy-mode' property, that is, of_get_phy_mode() returned
remote:  an error, we will take the "out" label, call mdiobus_unregister(), and then
remote:  return an error code. bcmgenet_mii_init() will take the "out" label as well and
remote:  call bcmgenet_mii_exit() calling bcmgenet_mii_free() which calls
remote:  mdiobus_unregister() a second time.
remote:
remote:  We would hit the BUG() condition on the mii_bus structure 'state' member and
remote:  crash the kernel.
remote:
remote:  Fix this by removing the mdiobus_unregister() call in
remote:  bcmgenet_mii_new_dt_init() since it duplicates the existing error path.
remote:
remote:  refs #SWLINUX-3792
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 604e06a82739c435d8fe2c3ff9cbe2636eae41b5)
remote:
remote:
remote:   drivers/net/ethernet/broadcom/genet/bcmmii.c | 8 ++------
remote:   1 file changed, 2 insertions(+), 6 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 16:21:00 -0400;c98a2488d204efceb891ee8f385be2437ea6306f;soc: brcmstb: Move Bus Interface Unit code to shared location;
remote:  The code enabling or disabling Write Pairing is shared between all SoCs,
remote:  move this to a common location, and add a function declaration for this
remote:  code to run early: before SMP is initialized.
remote:
remote:  refs #SWLINUX-3579
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 445a3e9f9fd869a3df4e7e76f812ee6f2213918a)
remote:
remote:
remote:   arch/arm/mach-bcm/brcmstb.c         | 83 +-------------
remote:   drivers/soc/brcmstb/Makefile        |  2 +-
remote:   drivers/soc/brcmstb/biuctrl.c       | 96 +++++++++++++++++
remote:   include/linux/soc/brcmstb/brcmstb.h |  6 ++
remote:   4 files changed, 105 insertions(+), 82 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 16:21:00 -0400;6ca86c4e15a0e4e7da423e5d883d5a24b87c89af;Revert "mm: some brcmstb_get_page() cleanup";
remote:  This reverts commit e5308bd82743c1621ce4641a701cb2c07ec46235 since this causes
remote:  regressions O_DIRECT when using Nexus' playback application:
remote:
remote:  *** 00:00:00.603 playback: spdif audio: decoder 0 -> stereo
remote:  *** 00:00:01.604 playback: HDMI not connected
remote:  *** 00:00:01.604 playback: hdmi audio: decoder 0 -> stereo
remote:  *** 00:00:01.782 nexus_video_output: No HDMI Rx connected.. settings will not be applied
remote:  playback>
remote:  [   63.936454] Unable to handle kernel paging request at virtual address 72546f62
remote:  [   63.944243] pgd = da4e7a00
remote:  [   63.946960] [72546f62] *pgd=00000000
remote:  [   63.950561] Internal error: Oops: 205 [#1] SMP ARM
remote:  [   63.955356] Modules linked in: wakeup_drv(O) nexus(PO)
remote:  [   63.960540] CPU: 1 PID: 1460 Comm: nx_io_worker0 Tainted: P           O 3.14.28-1.9 #1
remote:  [   63.968465] task: db11a4c0 ti: d9830000 task.ti: d9830000
remote:  [   63.973879] PC is at nfs_create_request+0x88/0x128
remote:  [   63.978676] LR is at nfs_get_lock_context+0x50/0x110
remote:  [   63.983647] pc : [<c0195b44>]    lr : [<c018fe28>]    psr: 40030013
remote:  [   63.983647] sp : d9831de8  ip : 00000592  fp : db3265c0
remote:  [   63.995135] r10: dad21790  r9 : c0b9d094  r8 : 00000000
remote:  [   64.000365] r7 : da5a9100  r6 : da5a9100  r5 : 72546f62  r4 : db326600
remote:  [   64.006899] r3 : da5a911c  r2 : 00000002  r1 : 00000000  r0 : da5a9100
remote:  [   64.013434] Flags: nZcv  IRQs on  FIQs on  Mode SVC_32  ISA ARM  Segment user
remote:  [   64.020576] Control: 30c5387d  Table: 1a4e7a00  DAC: 55555555
remote:  [   64.026328] Process nx_io_worker0 (pid: 1460, stack limit = 0xd9830238)
remote:  [   64.032949] Stack: (0xd9831de8 to 0xd9832000)
remote:  [   64.037311] 1de0:                   00000000 00001000 0002e000 00000002 00000000 00001000
remote:  [   64.045497] 1e00: 00000000 c0194698 00001000 d99a3600 00000000 00000000 0002e000 ac92c000
remote:  [   64.053683] 1e20: 00001000 0000002f d99a3600 0000002f 00100000 00000001 d9830000 dad21790
remote:  [   64.061869] 1e40: d9831f00 00000001 00000000 00000000 00000000 dace6e48 00000000 dad217a4
remote:  [   64.070056] 1e60: d9831f08 dace6eb8 db3265c0 db3265c0 00000000 00001000 00100000 00000000
remote:  [   64.078242] 1e80: 00000038 dace6e48 c0565774 00000000 00000000 db11a4c0 c0565768 00000000
remote:  [   64.086428] 1ea0: dad21790 00000000 00000000 00000000 00000000 d9831f80 db11a4c0 0002f000
remote:  [   64.094614] 1ec0: ac92b000 00000000 00040088 c018cc04 00000000 00000000 00000001 da4e7980
remote:  [   64.102800] 1ee0: 00000001 00000000 00000000 d9831f80 db11a4c0 c00ce8c4 00000000 00000000
remote:  [   64.110987] 1f00: ac92b000 0002f000 db325840 00000000 00000000 00000000 db11a4c0 00000000
remote:  [   64.119173] 1f20: 00000000 00000000 00000000 00000000 0002f000 00000000 00000000 00000000
remote:  [   64.127359] 1f40: ac92b000 db325840 ac92b000 d9831f80 db325840 c00cef58 5a095f40 0037abb5
remote:  [   64.135544] 1f60: ffffffff 00000000 00000000 db325843 db325840 0002f000 ac92b000 c00cf600
remote:  [   64.143730] 1f80: 00000000 00000000 da478c81 0004104c 0002f000 ac92b000 00000003 c000eea4
remote:  [   64.151917] 1fa0: d9830000 c000ed20 0004104c 0002f000 00000006 ac92b000 0002f000 b6eac50c
remote:  [   64.160104] 1fc0: 0004104c 0002f000 ac92b000 00000003 00000000 b6ead524 b6ead524 00040088
remote:  [   64.168289] 1fe0: 00000000 87f6edc0 b6eedbf9 b6eedc00 80030030 00000006 00000000 00010074
remote:  [   64.176486] [<c0195b44>] (nfs_create_request) from [<c0194698>] (nfs_file_direct_read+0x460/0x834)
remote:  [   64.185457] [<c0194698>] (nfs_file_direct_read) from [<c018cc04>] (nfs_file_read+0x58/0xb4)
remote:  [   64.193823] [<c018cc04>] (nfs_file_read) from [<c00ce8c4>] (do_sync_read+0x80/0xa8)
remote:  [   64.201492] [<c00ce8c4>] (do_sync_read) from [<c00cef58>] (vfs_read+0x90/0x138)
remote:  [   64.208813] [<c00cef58>] (vfs_read) from [<c00cf600>] (SyS_read+0x40/0x94)
remote:  [   64.215701] [<c00cf600>] (SyS_read) from [<c000ed20>] (ret_fast_syscall+0x0/0x30)
remote:  [   64.223193] Code: e1831f92 e3310000 1afffffa e5845008 (e5953000)
remote:  [   64.229336] ---[ end trace 4a585ec805596471 ]---
remote:
remote:  refs #SWLINUX-3769
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 370e9b1d7ea33c50cf49e11fad0d99071e4289a5)
remote:
remote:
remote:   mm/memory.c | 22 +++++++++++-----------
remote:   1 file changed, 11 insertions(+), 11 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 16:20:59 -0400;a51d183e9c8d434bb5b4f0f2d19d05a204d539a6;Bump version to 3.14-1.9pre;
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 996846184fe334a7bbe3a58c3d56b67ff04152e7)
remote:
remote:
remote:   Makefile | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;Justinc1@broadcom.com;2016-05-24 16:20:59 -0400;123501c62645b6a0dba7cde894c8b92f85bc9a06;watchdog_dev: Change watchdog naming to be consistent with alias;
remote:  There isn't a way to differentiate multiple watchdogs because
remote:  the naming scheme is done through watchdog_dev. This change uses
remote:  the alias ID for the watchdog name. This makes it easy to cross
remote:  reference the watchdog with the device tree alias so we can know
remote:  which watchdog we are using.
remote:
remote:  If no alias is defined, the watchdog will use the default naming
remote:  scheme.
remote:
remote:  refs #SWLINUX-3621
remote:
remote:  Signed-off-by: Justin Chen <Justinc1@broadcom.com>
remote:  (cherry picked from commit c218f81d0e8c136d22bbc36f184f42d5f2fa6dc5)
remote:
remote:
remote:   drivers/watchdog/watchdog_dev.c | 9 ++++++++-
remote:   1 file changed, 8 insertions(+), 1 deletion(-)
remote:  ;fainelli@broadcom.com;2016-05-24 16:20:38 -0400;2976a8097c0839eb3076b499545a0f4b14eeaf4d;net: dsa: Add netconsole support;
remote:  Add support for netconsole using DSA slave network devices. We need to do
remote:  something very similar to what the 802.1q driver does: manage our own setup and
remote:  cleanup and hook into the transmit path of the slave devices to transmit
remote:  netpoll packets.
remote:
remote:  refs #SWLINUX-3725
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 41a1515fe34be09a48966d0b0a1eb0a83db5007f)
remote:
remote:
remote:   net/dsa/dsa_priv.h    | 16 +++++++
remote:   net/dsa/slave.c       | 74 +++++++++++++++++++++++++++++++
remote:   net/dsa/tag_brcm.c    |  3 ++
remote:   net/dsa/tag_dsa.c     |  3 ++
remote:   net/dsa/tag_edsa.c    |  3 ++
remote:   net/dsa/tag_trailer.c |  4 ++
remote:   6 files changed, 103 insertions(+)
remote:  ;fainelli@broadcom.com;2016-05-24 16:12:00 -0400;d15dc0afbe57b876a15c0b224cbafff199056193;BCMSYSPORT: Add netconsole support;
remote:  Implement a ndo_poll_controller() callback to allow netconsole to be used with
remote:  the SYSTEMPORT driver.
remote:
remote:  refs #SWLINUX-3725
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 0e5be1bcf88b42da2553049aade4a4a6288e2911)
remote:
remote:
remote:   .../net/ethernet/broadcom/bcmsysport.c | 18 ++++++++++++++
remote:   1 file changed, 18 insertions(+)
remote:  ;fainelli@broadcom.com;2016-05-24 16:11:59 -0400;9299ecc4365d4800fc34f405faa1eb3ca424d640;BCMGENET: Add netconsole support;
remote:  Add netconsole support to the GENET driver by implementing a
remote:  ndo_poll_controller() callback which invokes the RX interrupt handler and
remote:  reclaims transmitted buffers.
remote:
remote:  refs #SWLINUX-3725
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 2e4b3c665765fba1c659c6b8cc0880b9a41a42e6)
remote:
remote:
remote:   .../ethernet/broadcom/genet/bcmgenet.c | 16 ++++++++++++++
remote:   1 file changed, 16 insertions(+)
remote:  ;rmk+kernel@arm.linux.org.uk;2016-05-24 16:11:59 -0400;0b750a7f98f9fa10c1c0ffe234d47899f9b50027;ARM: v7 setup function should invalidate L1 cache;
remote:  All ARMv5 and older CPUs invalidate their caches in the early assembly
remote:  setup function, prior to enabling the MMU.  This is because the L1
remote:  cache should not contain any data relevant to the execution of the
remote:  kernel at this point; all data should have been flushed out to memory.
remote:
remote:  This requirement should also be true for ARMv6 and ARMv7 CPUs - indeed,
remote:  these typically do not search their caches when caching is disabled (as
remote:  it needs to be when the MMU is disabled) so this change should be safe.
remote:
remote:  ARMv7 allows there to be CPUs which search their caches while caching is
remote:  disabled, and it's permitted that the cache is uninitialised at boot;
remote:  for these, the architecture reference manual requires that an
remote:  implementation specific code sequence is used immediately after reset
remote:  to ensure that the cache is placed into a sane state.  Such
remote:  functionality is definitely outside the remit of the Linux kernel, and
remote:  must be done by the SoC's firmware before _any_ CPU gets to the Linux
remote:  kernel.
remote:
remote:  Changing the data cache clean+invalidate to a mere invalidate allows us
remote:  to get rid of a lot of platform specific hacks around this issue for
remote:  their secondary CPU bringup paths - some of which were buggy.
remote:
remote:  refs #SWLINUX-3778
remote:
remote:  Reviewed-by: Florian Fainelli <f.fainelli@gmail.com>
remote:  Tested-by: Florian Fainelli <f.fainelli@gmail.com>
remote:  Tested-by: Heiko Stuebner <heiko@sntech.de>
remote:  Tested-by: Dinh Nguyen <dinguyen@opensource.altera.com>
remote:  Acked-by: Sebastian Hesselbarth <sebastian.hesselbarth@gmail.com>
remote:  Tested-by: Sebastian Hesselbarth <sebastian.hesselbarth@gmail.com>
remote:  Acked-by: Shawn Guo <shawn.guo@linaro.org>
remote:  Tested-by: Thierry Reding <treding@nvidia.com>
remote:  Acked-by: Thierry Reding <treding@nvidia.com>
remote:  Tested-by: Geert Uytterhoeven <geert+renesas@glider.be>
remote:  Tested-by: Michal Simek <michal.simek@xilinx.com>
remote:  Tested-by: Wei Xu <xuwei5@hisilicon.com>
remote:  Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
remote:  [gregory: dropped a bunch of changes for archs that aren't in 3.14, and didn't
remote:  check too carefully that this will work for anything but brcmstb]
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:  Conflicts:
remote:  	arch/arm/mach-bcm/Makefile
remote:  	arch/arm/mach-bcm/headsmp-brcmstb.S
remote:  	arch/arm/mach-bcm/platsmp-brcmstb.c
remote:  	arch/arm/mach-berlin/headsmp.S
remote:  	arch/arm/mach-berlin/platsmp.c
remote:  	arch/arm/mach-hisi/Makefile
remote:  	arch/arm/mach-hisi/core.h
remote:  	arch/arm/mach-hisi/platsmp.c
remote:  	arch/arm/mach-mvebu/headsmp-a9.S
remote:  	arch/arm/mach-rockchip/core.h
remote:  	arch/arm/mach-rockchip/headsmp.S
remote:  	arch/arm/mach-rockchip/platsmp.c
remote:  	arch/arm/mach-shmobile/common.h
remote:  	arch/arm/mach-shmobile/headsmp.S
remote:  	arch/arm/mach-socfpga/core.h
remote:  	arch/arm/mach-socfpga/platsmp.c
remote:
remote:  (cherry picked from commit f89d9c7ec86c2205b159e3d5dd8132084039bbff)
remote:
remote:
remote:   arch/arm/mach-bcm/Makefile            |  2 +-
remote:   arch/arm/mach-bcm/headsmp-brcmstb.S   | 33 ---------------
remote:   arch/arm/mach-bcm/platsmp-brcmstb.c   |  2 +-
remote:   arch/arm/mach-imx/headsmp.S           |  1 -
remote:   arch/arm/mach-prima2/headsmp.S        |  1 -
remote:   arch/arm/mach-shmobile/headsmp-scu.S  |  4 +-
remote:   arch/arm/mach-shmobile/headsmp.S      |  5 ---
remote:   arch/arm/mach-shmobile/platsmp-apmu.c |  2 +-
remote:   arch/arm/mach-socfpga/core.h          |  1 -
remote:   arch/arm/mach-socfpga/headsmp.S       |  5 ---
remote:   arch/arm/mach-socfpga/platsmp.c       |  6 +--
remote:   arch/arm/mach-tegra/Makefile          |  2 +-
remote:   arch/arm/mach-tegra/headsmp.S         | 12 ------
remote:   arch/arm/mach-tegra/reset.c           |  2 +-
remote:   arch/arm/mach-tegra/reset.h           |  1 -
remote:   arch/arm/mach-zynq/common.h           |  2 -
remote:   arch/arm/mach-zynq/headsmp.S          |  5 ---
remote:   arch/arm/mach-zynq/platsmp.c          |  5 +--
remote:   arch/arm/mm/proc-v7.S                 |  2 +-
remote:   19 files changed, 13 insertions(+), 80 deletions(-)
remote:  ;arnd@arndb.de;2016-05-24 16:11:58 -0400;713e7071ca3454818e528eb7f20389ac32fb0111;ARM: sunxi: fix build for THUMB2_KERNEL;
remote:  Building an SMP kernel for the sunxi platform with THUMB2 instructions
remote:  fails with this error at the moment:
remote:
remote:  headsmp.S:7: Error: Thumb encoding does not support an immediate here -- `msr cpsr_fsxc,#0xd3'
remote:
remote:  Since the generic secondary_startup function already does
remote:  the same thing in a safe way, we can just drop the private
remote:  sunxi implementation and jump straight to secondary_startup.
remote:
remote:  refs #SWLINUX-3778
remote:
remote:  Signed-off-by: Arnd Bergmann <arnd@arndb.de>
remote:  Cc: Maxime Ripard <maxime.ripard@free-electrons.com>
remote:  [gregory: we need this for secondary_startup]
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:  (cherry picked from commit 4f0ea929d10a429b37ae8707e1d9b55177f64a60)
remote:
remote:
remote:   arch/arm/include/asm/smp.h    | 1 +
remote:   arch/arm/mach-sunxi/Makefile  | 2 +-
remote:   arch/arm/mach-sunxi/headsmp.S | 9 ---------
remote:   arch/arm/mach-sunxi/platsmp.c | 2 +-
remote:   4 files changed, 3 insertions(+), 11 deletions(-)
remote:  ;gregory@broadcom.com;2016-05-24 16:11:58 -0400;a36639635a1c15ae7bf84bd76f7412202fd06c6a;ARM: brcmstb: backport upstream platsmp cleanups;
remote:  The following were changes made by Brian during the upstream submission of the
remote:  SMP code:
remote:  - Add some more comments explaining what we have to do to bring down secondary
remote:    CPUs
remote:  - Get rid of some unnecessary tests
remote:  - Correct per_cpu_sw_state_wr() by moving the dmb() to before setting the
remote:    state and eliminating the dmb_sev(),
remote:  - Check in brcmstb_boot_secondary that we actually had the required DT nodes
remote:
remote:  (Yes, there's a typo in one of the comments, I'm keeping it to be consistent
remote:  with upstream for now)
remote:
remote:  refs #SWLINUX-3778
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 850979dd90baaaf6491eb9dc2cf0ec5707f5933b)
remote:
remote:
remote:   arch/arm/mach-bcm/platsmp-brcmstb.c | 29 ++++++++++-------
remote:   1 file changed, 17 insertions(+), 12 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 16:11:57 -0400;8a2943d5af7bc80fac91a9178467cd0e853cd334;soc: brcmstb: wktmr: Resolve section mismatch;
remote:  register_persistent_clock() is annotated with __init and called from
remote:  brcmstb_wktmr_probe() which is not, causing a section mismatch.
remote:
remote:  Unwind module_platform_driver() to introduce separate module_init()/exit()
remote:  entry points and allowing using to call platform_driver_probe() with a specific
remote:  function annotated with __init.
remote:
remote:  refs #SWLINUX-3721
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit affa5c913eb69fd9221a1970fc28199e2bb8c976)
remote:
remote:
remote:   drivers/soc/brcmstb/wktmr.c | 20 ++++++++++++++++----
remote:   1 file changed, 16 insertions(+), 4 deletions(-)
remote:  ;gregory@broadcom.com;2016-05-24 16:11:57 -0400;4cf80c5e57f7fa81f5f3426c0037cdde9d9e8bdf;ARM: brcmstb: add earlyprintk UART address for 74371a0;
remote:  We were missing an explicit setting for DEBUG_UART_PHYS and
remote:  DEBUG_UART_VIRT for 74371a0, and was instead relying on the default
remote:  value being the right one.  Since this might not be the case, and we
remote:  know what it ought to be, just add the correct values.
remote:
remote:  refs #SWLINUX-3780
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 7664fd8a8e6ac403a5d81525e1fa16302376948f)
remote:
remote:
remote:   arch/arm/Kconfig.debug | 2 ++
remote:   1 file changed, 2 insertions(+)
remote:  ;gregory@broadcom.com;2016-05-24 16:11:56 -0400;54528351505e6b2a0b39fc511ca0e701cdf00e11;mm: some brcmstb_get_page() cleanup;
remote:  brcmstb_get_page() does not actually use its vma argument, so get rid of that.
remote:  We still need to check that we actually have a vma beforehand though.  Also,
remote:  the next_page label in __get_user_pages() (GUP) already handles accounting so we'd
remote:  like to just jump there and not duplicate the logic.  While looking at that, I
remote:  realized that we were unnecessarily re-finding the current vma every iteration,
remote:  which should only be necessary when first calling GUP or when crossing a vma
remote:  bound, so by changing to jump to next_page and instead also calling
remote:  brcmstb_get_page() in the inner loop, that should help to optimize GUP for BMEM
remote:  and CMA.
remote:
remote:  refs #SWLINUX-3769
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit e5308bd82743c1621ce4641a701cb2c07ec46235)
remote:
remote:
remote:   mm/memory.c | 22 +++++++++++-----------
remote:   1 file changed, 11 insertions(+), 11 deletions(-)
remote:  ;Justinc1@broadcom.com;2016-05-24 16:11:56 -0400;29e8384551f2d0caf337ab70d6ef6685963abc17;watchdog: add support for brcmstb;
remote:  Added documentation for device tree binding.
remote:
remote:  refs #SWLINUX-3621
remote:
remote:  Signed-off-by: Justin Chen <Justinc1@broadcom.com>
remote:  (cherry picked from commit 8f71e0e602d57377069c15db0150827548d6b10c)
remote:
remote:
remote:   .../watchdog/brcm,bcm7038-wdt.txt      |  19 +
remote:   drivers/watchdog/Kconfig               |   8 +
remote:   drivers/watchdog/Makefile              |   1 +
remote:   drivers/watchdog/bcm7038_wdt.c         | 250 +++++++++++++
remote:   4 files changed, 278 insertions(+)
remote:  ;ben.hutchings@codethink.co.uk;2016-05-24 16:11:55 -0400;7b6f69d7669535d88b6d56efaf124c41255823c6;net: phy: Invalidate LP advertising flags when restarting or disabling AN;
remote:  [Upstream commit 9b3320ef702d1c7daf165d5c72c945f0be6b2bed]
remote:
remote:  It is possible to see the old value of the LP advertising flags
remote:  through ethtool after reconfiguring the PHY and before autonegotiation
remote:  completes.  If autonegotiation is turned off then the last value seen
remote:  will persist indefinitely.
remote:
remote:  refs #SWLINUX-3766
remote:
remote:  Signed-off-by: Ben Hutchings <ben.hutchings@codethink.co.uk>
remote:  Acked-by: Florian Fainelli <f.fainelli@gmail.com>
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 250be9fa7511092e2c38e6d60b7de2f9ce03534b)
remote:
remote:
remote:   drivers/net/phy/phy.c | 3 +++
remote:   1 file changed, 3 insertions(+)
remote:  ;brian@houston-radar.com;2016-05-24 16:11:55 -0400;552528490df40c5bff8a3370e153cf1c9bc74e43;net: phy: Correctly handle MII ioctl which changes autonegotiation.;
remote:  [Upstream commit 79ce0477ffe82e7e49e55179cd176a1c33382744]
remote:
remote:  When advertised capabilities are changed with mii-tool, such as:
remote:  mii-tool -A 10baseT
remote:  the existing handler has two errors.
remote:
remote:  - An actual PHY register value is provided by mii-tool, and this
remote:    must be mapped to internal state with mii_adv_to_ethtool_adv_t().
remote:  - The PHY state machine needs to be told that autonegotiation has
remote:    again been performed.  If not, the MAC will not be notified of
remote:    the new link speed and duplex, resulting in a possible config
remote:    mismatch.
remote:
remote:  refs #SWLINUX-3766
remote:
remote:  Signed-off-by: Brian Hill <Brian@houston-radar.com>
remote:  Acked-by: Florian Fainelli <f.fainelli@gmail.com>
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 9e4788657f319b030b04e8fe42b8c15791b478fb)
remote:
remote:
remote:   drivers/net/phy/phy.c | 36 ++++++++++++++++++++-----------
remote:   1 file changed, 24 insertions(+), 12 deletions(-)
remote:  ;douglasb@broadcom.com;2016-05-24 16:11:54 -0400;f86024647c7c79e02e1dc4287054c2cc6875176f;thermal: brcmstb_thermal: maintain consistency of the private data;
remote:  Set the regtype member of the private data structure before setting the
remote:  thermal member of the structure so that it will always be valid when
remote:  thermal is non-zero. This ensures consistency of the private data structure.
remote:
remote:  refs #SWLINUX-3756
remote:
remote:  Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:  (cherry picked from commit 595f818a922fa0c41ca183c7e0502a5d43adc49a)
remote:
remote:
remote:   drivers/thermal/brcmstb_thermal.c | 31 +++++++++++++------
remote:   1 file changed, 21 insertions(+), 10 deletions(-)
remote:  ;douglasb@broadcom.com;2016-05-24 16:11:54 -0400;8ee6f43ff88811f0ec0d7d26f8560a04a6635ddc;thermal: brcmstb_thermal: fix unregister call;
remote:  Thermal drivers registered thermal_zone_of_sensor_register() should be
remote:  deregistered with thermal_zone_of_sensor_unregister() instead of
remote:  thermal_zone_device_unregister().
remote:
remote:  refs #SWLINUX-3756
remote:
remote:  Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:  (cherry picked from commit e39fdf8743dbc6d6e12ae946d47d22a1cb5a163a)
remote:
remote:
remote:   drivers/thermal/brcmstb_thermal.c | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;douglasb@broadcom.com;2016-05-24 16:11:53 -0400;a0080894b07afb1a8810e7526270a2bb5e66e5dc;thermal: brcmstb_thermal: add device pointer to private data;
remote:  The Broadcom Set-Top Box Thermal driver now retains a pointer to its device
remote:  structure in its private data structure so that it is available for use with
remote:  device logging methods.  The previous version used a pointer to the
remote:  thermal_zone_device to locate its device structure, but the attempt to log an
remote:  error on the first attempt to read the thermal monitor before the pointer to
remote:  the thermal_zone_device had been established caused a NULL pointer dereference
remote:  and a kernel panic.
remote:
remote:  refs #SWLINUX-3756
remote:
remote:  Signed-off-by: Doug Berger <douglasb@broadcom.com>
remote:  (cherry picked from commit ba8c19749253c3a55cb0faf81b138befa8de1e35)
remote:
remote:
remote:   drivers/thermal/brcmstb_thermal.c | 7 +++++--
remote:   1 file changed, 5 insertions(+), 2 deletions(-)
remote:  ;kdasu@broadcom.com;2016-05-24 16:11:52 -0400;8d96ae09c9ba94b7b7b70d66113e62d026ce6ce5;spi: brcmstb: Add QOR cmd support for quad io;
remote:  brcmstb spi driver can use bspi hardware to read
remote:  Added QOR command support for reads to succeed.
remote:
remote:  refs #SWLINUX-3618
remote:
remote:  Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:  (cherry picked from commit 4fe6465d2fd00c7f47b24c4e41617a3cc8b10e77)
remote:
remote:
remote:   drivers/spi/spi-brcmstb.c | 4 ++++
remote:   1 file changed, 4 insertions(+)
remote:  ;dpetigara@broadcom.com;2016-05-24 16:11:52 -0400;6e9198d55f90741302d93113a584b84fa520327b;libata: skip debounce delay on link resume
remote:  The link resume logic uses a 200msec delay while debouncing
remote:  the SControl register. The rationale behind that delay is
remote:  to accomodate some PHYs that behave badly if their SStatus/
remote:  SControl registers are pounded immediately on resume.
remote:  The Broadcom STB SATA PHY does not seem to have this issue.
remote:  This patch introduces a new link flag that allows platforms
remote:  to skip the debounce delay if it isn't needed.
remote:
remote:  refs #SWLINUX-3745
remote:
remote:  Signed-off-by: Danesh Petigara <dpetigara@broadcom.com>
remote:  (cherry picked from commit a4c2d1939fdf58839db899f4d708b9f4394ef302)
remote:
remote:
remote:   drivers/ata/ahci_platform.c | 1 +
remote:   drivers/ata/libata-core.c   | 3 ++-
remote:   include/linux/libata.h      | 1 +
remote:   3 files changed, 4 insertions(+), 1 deletion(-)
remote:  ;pgynther@google.com;2016-05-24 16:11:51 -0400;489c054dda54c16024c0537a3bd06200a422aecb;BCMGENET: enable MoCA link state change detection;
remote:  [Upstream commit 8d88c6ebb34c3e54debe81e9b0d81b60411f8179]
remote:
remote:  Currently, MoCA fixed PHYs are always in link-up state, regardless of
remote:  whether the link is actually up or not.
remote:
remote:  Add code to properly detect MoCA link state changes and to reflect the
remote:  new state in MoCA fixed PHY. Only GENET V3 and V4 MACs are capable of
remote:  detecting MoCA link state changes.
remote:
remote:  The code works as follows:
remote:  1. GENET MAC detects MoCA link state change and issues UMAC_IRQ_LINK_UP
remote:     or UMAC_IRQ_LINK_DOWN interrupt.
remote:  2. Link up/down interrupt is processed in bcmgenet_irq_task(), which
remote:     calls phy_mac_interrupt().
remote:  3. phy_mac_interrupt() updates the fixed PHY phydev->link and kicks
remote:     the PHY state machine.
remote:  4. PHY state machine proceeds to read the fixed PHY link status
remote:     register.
remote:  5. When the fixed PHY link status register is being read, the new
remote:     function bcmgenet_fixed_phy_link_update() gets called. It copies
remote:     the fixed PHY phydev->link value to the fixed PHY status->link.
remote:  6. PHY state machine receives the new link state of the fixed PHY.
remote:  7. MoCA fixed PHY link state now correctly reflects the real MoCA
remote:     hardware link state.
remote:
remote:  refs #SWLINUX-3744
remote:
remote:  Signed-off-by: Petri Gynther <pgynther@google.com>
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 415d214ad82b7e86a1fe38aa84f7876fb2b856ed)
remote:
remote:
remote:   .../ethernet/broadcom/genet/bcmgenet.c | 43 ++++----------
remote:   .../ethernet/broadcom/genet/bcmgenet.h |  1 +
remote:   .../ethernet/broadcom/genet/bcmmii.c   | 24 +++++++-
remote:   3 files changed, 37 insertions(+), 31 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 16:11:51 -0400;154469a0fd30d57448389ebef9cf8da6a864cabb;BCMGENET: Fold bcmgenet_mii_config() in bcmgenet_mii_probe();
remote:  This is required for bcmgenet_mii_config() to know about the kind of PHY device
remote:  we are bound to (internal, MoCA, external etc...) and do either the appropriate
remote:  PHY and hardware setup in case we need.
remote:
remote:  Doing this during the driver probe time forced us to call this again during
remote:  bcmgenet_open() in case we never brought up the interface.
remote:
remote:  In order for bcmgenet_mii_config() to have full knowledge about the PHY device,
remote:  make sure we do assign priv->phydev with a correct PHY device pointer before
remote:  calling bcmgenet_mii_config().
remote:
remote:  refs #SWLINUX-3744
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 5e0f094a403062ffcb09b2e032f5ee3325448f00)
remote:
remote:
remote:   .../ethernet/broadcom/genet/bcmgenet.c |  4 +--
remote:   .../ethernet/broadcom/genet/bcmgenet.h |  2 +-
remote:   .../ethernet/broadcom/genet/bcmmii.c   | 22 ++++++++------
remote:   3 files changed, 14 insertions(+), 14 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 16:11:50 -0400;bf2dd34e7eeb00cc36a60437de1298321706e879;BCMGENET: Move check for MoCA PHY later;
remote:  of_get_phy_mode() understands "moca" as a valid PHY mode, such that we will
remote:  never enter the < 0 condition and we will fail to assign priv->phy_type
remote:  correctly.
remote:
remote:  refs #SWLINUX-3744
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 8b4e790c6462c6a0955f8c92330498c91731f8b5)
remote:
remote:
remote:   drivers/net/ethernet/broadcom/genet/bcmmii.c | 5 +++--
remote:   1 file changed, 3 insertions(+), 2 deletions(-)
remote:  ;pgynther@google.com;2016-05-24 16:11:50 -0400;51266fc3959c2283d25549295b7c89f72be4ddfb;BCMGENET: fix the call to phy_mac_interrupt()
remote:  [Upstream commit 451e1ca2ab68b9184379fde7867f278c4b3efc61]
remote:
remote:  On phy_mac_interrupt() call, the new_link parameter should be 0 or 1.
remote:
remote:  refs #SWLINUX-3744
remote:
remote:  Signed-off-by: Petri Gynther <pgynther@google.com>
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit f7f14969611a2426754f63750ab71f6d9d256067)
remote:
remote:
remote:   drivers/net/ethernet/broadcom/genet/bcmgenet.c | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;pgynther@google.com;2016-05-24 16:11:49 -0400;31c036155105fd0d0412a24accae7f67ffadc350;BCMGENET: add UMAC_IRQ_LINK_EVENT;
remote:  [Upstream commit e122966dd9aedb666df93f5ee6007e1688194611]
remote:
remote:  Add #define UMAC_IRQ_LINK_EVENT to simplify link event handling code.
remote:
remote:  refs #SWLINUX-3744
remote:
remote:  Signed-off-by: Petri Gynther <pgynther@google.com>
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 23e76393abd93803ad24a8a1d7e0043404e33577)
remote:
remote:
remote:   .../ethernet/broadcom/genet/bcmgenet.c    | 11 +++++------
remote:   .../ethernet/broadcom/genet/bcmgenet.h    |  1 +
remote:   2 files changed, 6 insertions(+), 6 deletions(-)
remote:  ;dpetigara@broadcom.com;2016-05-24 16:11:49 -0400;227ac3c7abaaa7aea3773266b9b0272bd7f3059f;drivers: ata: wake port before DMA stop for ALPM;
remote:  The AHCI driver code stops and starts port DMA engines at will
remote:  without considering the power state of the particular port. The
remote:  AHCI specification isn't very clear on how to handle this scenario,
remote:  leaving implementation open to interpretation.
remote:
remote:  Broadcom's STB SATA host controller is unable to handle port DMA
remote:  controller restarts when the port in question is in low power mode.
remote:  When a port enters partial or slumber mode, it's PHY is powered down.
remote:  When a controller restart is requested, the controller's internal
remote:  state machine expects the PHY to be brought back up by software which
remote:  never happens in this case, resulting in failures.
remote:
remote:  To avoid this situation, logic is added to manually wake up the port
remote:  just before it's DMA engine is stopped, if the port happens to be in
remote:  a low power state. HBA initiated power management ensures that the port
remote:  eventually returns to it's configured low power state, when the link is
remote:  idle (as per the conditions listed in the spec). A new host flag is also
remote:  added to ensure this logic is only exercised for hosts with the above
remote:  limitation.
remote:
remote:  refs #SWLINUX-3620
remote:
remote:  Signed-off-by: Danesh Petigara <dpetigara@broadcom.com>
remote:  (cherry picked from commit bf8508c4eea6dad6ade28c7d6ddb79109608b68f)
remote:
remote:
remote:   drivers/ata/ahci.h          |  6 +++
remote:   drivers/ata/ahci_platform.c |  1 +
remote:   drivers/ata/libahci.c       | 52 +++++++++++++++++++++++++
remote:   drivers/ata/libata-core.c   |  1 +
remote:   include/linux/libata.h      |  4 ++
remote:   5 files changed, 64 insertions(+)
remote:  ;dpetigara@broadcom.com;2016-05-24 16:11:48 -0400;efb51ce4f3b53346fd7c194127e1cc8a8cc6328d;ahci: disable DIPM on brcmstb SATA controller;
remote:  The Broadcom STB SATA host controller does not support device
remote:  initiated power management. Disable support for this feature
remote:  so the driver never sends SETFEATURES commands to the device
remote:  to enable/disable DIPM.
remote:
remote:  refs #SWLINUX-3620
remote:
remote:  Signed-off-by: Danesh Petigara <dpetigara@broadcom.com>
remote:  (cherry picked from commit f553564eff4da88a7fb70c449c27abf9d770fa1d)
remote:
remote:
remote:   drivers/ata/ahci_platform.c | 11 +++++++++++
remote:   drivers/ata/sata_brcmstb.c  |  2 +-
remote:   2 files changed, 12 insertions(+), 1 deletion(-)
remote:  ;dpetigara@broadcom.com;2016-05-24 16:11:48 -0400;7fd3ddacd797ce345710bf0224b36cc8c8faede8;sata_brcmstb: enable support for ALPM;
remote:  Enable support for ALPM in the host controller's capabilities
remote:  register. Also adjust the PLL  timeout to give it enough time
remote:  to lock when the port exits slumber mode.
remote:
remote:  refs #SWLINUX-3620
remote:
remote:  Signed-off-by: Danesh Petigara <dpetigara@broadcom.com>
remote:  (cherry picked from commit f5b9f3772cf060bd8327474ca114a9d69e20b1e8)
remote:
remote:
remote:   drivers/ata/sata_brcmstb.c | 22 +++++++++++++++++++---
remote:   drivers/ata/sata_brcmstb.h |  4 ++++
remote:   2 files changed, 23 insertions(+), 3 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 16:11:47 -0400;bf5a1e73e066b6571a56c3f987276d7e9cc631e4;soc: brcmstb: wktmr: Implement persistent clock for sleep;
remote:  In order to have the core kernel timekeeping code to work and be able to
remote:  account for time spent during sleep states, implement a persistent clock device
remote:  which utilizes the WKTMR.
remote:
remote:  ARM offers the ability to dynamically register such a device using
remote:  register_persistent_clock(), so we utilize this to provide a working
remote:  implementation.
remote:
remote:  While at it, fix the typo on the prescaler register define.
remote:
remote:  Note that the wktmr is now a singleton, and we will return -EBUSY if we find an
remote:  existing wake-timer instance while probing.
remote:
remote:  refs #SWLINUX-3721
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 2e72031aad74bd0f050e4034c91fa7413a187897)
remote:
remote:
remote:   drivers/soc/brcmstb/wktmr.c | 58 ++++++++++++++++++++-----
remote:   1 file changed, 48 insertions(+), 10 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 16:11:47 -0400;9e6474d2823ac845dbe04d9bca75566bdc814e55;irqchip: bcm7120-l2: Fix interrupt status reads for multiple L1;
remote:  Our irq-bcm7120-l2 interrupt controller driver utilizes the same handler
remote:  function for the different parent interrupts it services: UPG_MAIN, UPG_BSC for
remote:  instance.
remote:
remote:  The problem is that function reads the IRQSTAT register which can combine
remote:  interrupt causes for different parent interrupts, such that we can end-up in the
remote:  following situation:
remote:
remote:  - CPU takes an interrupt
remote:  - bcm7120_l2_intc_irq_handle() reads IRQSTAT
remote:  - generic_handle_irq() is invoked
remote:  - there are still pending interrupts flagged in IRQSTAT from a different parent
remote:  - handle_bad_irq() is invoked
remote:
remote:  In order to fix this, make sure that we always mask IRQSTAT with the
remote:  appropriate bits that correspond go the parent interrupt source this is coming
remote:  from. To simplify things, associate an unique structure per parent interrupt
remote:  handler to avoid multiplying the number of lookups.
remote:
remote:  While at it, remove the unused 'gc' argument from bcm7120_l2_intc_irq_handle().
remote:
remote:  refs #SWLINUX-3747
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 96144b62fac9aeff32f35a8e8260d9833cebf06c)
remote:
remote:
remote:   drivers/irqchip/irq-bcm7120-l2.c | 50 +++++++++++++++-----
remote:   1 file changed, 38 insertions(+), 12 deletions(-)
remote:  ;cernekee@gmail.com;2016-05-24 16:11:46 -0400;996eb6579b80135397fcb4b2e235db885877753d;irqchip: bcm7120-l2: Fix missing nibble in gc->unused mask;
remote:  [Upstream commit 0b5cb32ca5aea14bfcfda380e5da67b0abf35b4b]
remote:
remote:  This mask should have been 0xffff_ffff, not 0x0fff_ffff.
remote:
remote:  The change should not have an effect on current users (STB) because bits
remote:  31:27 are unused.
remote:
remote:  refs #SWLINUX-3747
remote:
remote:  Signed-off-by: Kevin Cernekee <cernekee@gmail.com>
remote:  Acked-by: Arnd Bergmann <arnd@arndb.de>
remote:  Acked-by: Florian Fainelli <f.fainelli@gmail.com>
remote:  Link: https://lkml.kernel.org/r/1415342669-30640-10-git-send-email-cernekee@gmail.com
remote:  Signed-off-by: Jason Cooper <jason@lakedaemon.net>
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit ffae1a1724b00e15db51db27d97d6b2f1f0215f8)
remote:
remote:
remote:   drivers/irqchip/irq-bcm7120-l2.c | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;cernekee@gmail.com;2016-05-24 16:11:46 -0400;c52a979dc7a33d409b8ddb9386d1c6603cc27dcc;irqchip: bcm7120-l2: Eliminate bad IRQ check;
remote:  [Upstream commit f668f074ff58dea540d83bbed1b2c1171b0dd764]
remote:
remote:  This check may be prone to race conditions, e.g.
remote:
remote:  1) Some external event (e.g. GPIO level) causes an IRQ to become pending
remote:  2) Peripheral asserts the L2 IRQ
remote:  3) CPU takes an interrupt
remote:  4) The event from #1 goes away
remote:  5) bcm7120_l2_intc_irq_handle() reads back a 0 status
remote:
remote:  Unlike the hardware supported by brcmstb-l2, the bcm7120-l2 controller
remote:  does not latch the IRQ status.  Bits can change if the inputs to the
remote:  controller change.  Also, do_bad_IRQ() is an ARM-specific macro.
remote:
remote:  So let's just nuke it.
remote:
remote:  refs #SWLINUX-3747
remote:
remote:  Signed-off-by: Kevin Cernekee <cernekee@gmail.com>
remote:  Acked-by: Florian Fainelli <f.fainelli@gmail.com>
remote:  Acked-by: Arnd Bergmann <arnd@arndb.de>
remote:  Link: https://lkml.kernel.org/r/1415342669-30640-7-git-send-email-cernekee@gmail.com
remote:  Signed-off-by: Jason Cooper <jason@lakedaemon.net>
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 66d853d61ee613ad7825d71bfa6ef1e757cbd0bf)
remote:
remote:
remote:   drivers/irqchip/irq-bcm7120-l2.c | 13 ++-----------
remote:   1 file changed, 2 insertions(+), 11 deletions(-)
remote:  ;gregory@broadcom.com;2016-05-24 16:11:45 -0400;fb5ba779f2fc6bee4630d37974571fa9f65470ff;brcmstb: memory: add special vmap() for BMEM
remote:  vmap(), by default, checks to see that the number of pages is not larger than
remote:  the total number of pages managed by Linux.  Usually, this is a nice sanity
remote:  check, and we want to keep that for any of the kernel's vmap() invocations.
remote:  However, this is a problem for our use case because we actually want to vmap()
remote:  pages that are _not_ managed by Linux.  This essentially copies vmap() but
remote:  removes the check against totalram_pages.
remote:
remote:  refs #SWLINUX-3730
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 7b55ad0cce0e19d6e05c0a503b7e14d5e6b193c1)
remote:
remote:
remote:   drivers/soc/brcmstb/memory.c | 26 +++++++++++++++++++++++-
remote:   1 file changed, 25 insertions(+), 1 deletion(-)
remote:  ;gregory@broadcom.com;2016-05-24 16:11:45 -0400;2fb3622542183ea37adc2f802afb7a1c78612ed6;brcmstb: memory: add function to kva map based on phys addr;
remote:  Add function brcmstb_memory_kva_map_phys() to take in a physical address
remote:  instead of a page.  This API will be used by refsw, which was just converting
remote:  to a struct page * to call our function.
remote:
remote:  Bump BRCMSTB_H_VERSION to 4.
remote:
remote:  refs #SWLINUX-3730
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 27015fd335fbae37a08b1e73cbf4e68e9337ec64)
remote:
remote:
remote:   drivers/soc/brcmstb/memory.c       | 32 ++++++++++++++++++
remote:   include/linux/brcmstb/brcmstb.h    |  2 +-
remote:   include/linux/brcmstb/memory_api.h |  1 +
remote:   3 files changed, 34 insertions(+), 1 deletion(-)
remote:  ;gregory@broadcom.com;2016-05-24 16:11:44 -0400;ccec1782e60cc8a7f8f772af7edcaf059a57f289;soc: brcmstb: move kva_(un)map functions to memory API;
remote:  The kernel VA map and unmap functions are not really just for CMA and will also
remote:  be used for BMEM, so move there.  Also modify cma_driver.h so that it will
remote:  continue to be possible to use the names cma_dev_kva_{map,unmap}.
remote:
remote:  Bump BRCMSTB_H_VERSION to 3.
remote:
remote:  refs #SWLINUX-3730
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 8a7fb96af0f302c4f242ab485b926b4a9014d459)
remote:
remote:
remote:   drivers/soc/brcmstb/cma_driver.c   | 158 -----------------
remote:   drivers/soc/brcmstb/memory.c       | 158 +++++++++++++++++
remote:   include/linux/brcmstb/brcmstb.h    |   2 +-
remote:   include/linux/brcmstb/cma_driver.h |  14 +-
remote:   include/linux/brcmstb/memory_api.h |   2 +
remote:   5 files changed, 173 insertions(+), 161 deletions(-)
remote:  ;acooper@broadcom.com;2016-05-24 16:11:44 -0400;3996e3208028c185a2771367e78559617304de77;usb: bdc: Fix compiler error when CONFIG_USB_GADGET_VERBOSE is enabled;
remote:  Fix compiler error in the USB BDC driver when the config options
remote:  CONFIG_USB_GADGET_DEBUG and CONFIG_USB_GADGET_VERBOSE are enabled
remote:  in the defconfig.
remote:
remote:  refs #SWLINUX-3746
remote:
remote:  Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:  (cherry picked from commit b1847e591c96fd7fbcf3460250df11a2556c4761)
remote:
remote:
remote:   drivers/usb/gadget/bdc/bdc_dbg.c | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;fainelli@broadcom.com;2016-05-24 16:11:43 -0400;12d49c9f15dd64b020b549efde7a71775dc18c80;Bump version to 3.14-1.8pre;
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit cde111bd52a20199a26d1173f2cdd7cac7bd885f)
remote:
remote:
remote:   Makefile | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;fainelli@broadcom.com;2016-05-24 16:11:43 -0400;c9424976df5425e77f004b5786af33b213d9af3b;BCMGENET: Delay PHY initialization to bcmgenet_open();
remote:  We are currently doing a full PHY initialization and starting the PHY state
remote:  machine during bcmgenet_mii_init() which is executed in the probe function.
remote:  This is convenient to determine whether we can attach to a proper PHY device
remote:  but comes with expense of spending up to 10ms per MDIO transaction, which
remote:  slows things down.
remote:
remote:  This also creates a situation where we end-up attaching twice to the PHY,
remote:  which is not quite correct either.
remote:
remote:  Fix this by moving bcmgenet_mii_probe() into bcmgenet_open().
remote:
remote:  refs #SWLINUX-3743
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 5043be0c54365e785a08a97ecbc24968927ec051)
remote:
remote:
remote:   .../ethernet/broadcom/genet/bcmgenet.c |  7 +++++--
remote:   .../ethernet/broadcom/genet/bcmgenet.h |  1 +
remote:   .../ethernet/broadcom/genet/bcmmii.c   | 14 +-------------
remote:   3 files changed, 7 insertions(+), 15 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 16:11:42 -0400;ae56714f97bfa4392863bf95cd94962c9e78ac1c;BCMGENET: Use correct dev_id for free_irq;
remote:  bcmgenet_open()'s error path calls free_irq() with a dev_id argument different
remote:  from the one we used to call request_irq() with, this will make us trip over
remote:  the warning in kernel/irq/manage.c::__free_irq() against "action" since we
remote:  cannot find a corresponding action mapped to this interrupt.
remote:
remote:  refs #SWLINUX-3743
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 97b0f4c5c25bb208fdca9eed8e76c77c415d9191)
remote:
remote:
remote:   drivers/net/ethernet/broadcom/genet/bcmgenet.c | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;gregory@broadcom.com;2016-05-24 16:11:42 -0400;95c018426f3fc0ff3d5f83307298cead43e01cb3;brcmstb_defconfig: enable CONFIG_HZ_1000;
remote:  Timer latency is too high with the default of 100, so increase to 1000.
remote:
remote:  Tested using nexus baseline with the following change:
remote:
remote:  --- a/nexus/platforms/common/src/nexus_platform.c
remote:  +++ b/nexus/platforms/common/src/nexus_platform.c
remote:  @@ -681,6 +681,14 @@ NEXUS_Error NEXUS_Platform_Init_tagged( const NEXUS_PlatformSettings *pSettings,
remote:       preInitState = NEXUS_Platform_P_PreInit();
remote:       if (!preInitState) {errCode = -1; goto err_preinit;} /* no BERR_TRACE possible */
remote:
remote:  +    {
remote:  +        unsigned loops = 50;
remote:  +        while (loops--) {
remote:  +            BKNI_Sleep(1);
remote:  +            BDBG_WRN(("here"));
remote:  +        }
remote:  +    }
remote:  +
remote:       NEXUS_Platform_GetReleaseVersion(g_platformSwVersion,100);
remote:       BDBG_WRN(("%s boxmode %d",g_platformSwVersion, preInitState->boxMode));
remote:
remote:  refs #SWLINUX-3443
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 149b9b1da0e6f384f7e5f83d20a9bc6f50edc8d2)
remote:
remote:
remote:   arch/arm/configs/brcmstb_defconfig | 1 +
remote:   1 file changed, 1 insertion(+)
remote:  ;acooper@broadcom.com;2016-05-24 16:11:41 -0400;2a0e01144059562bddf0a3e127276b9a9b29b643;usb: gadget: bdc: Add device-tree binding document for BDC driver;
remote:  refs #SWLINUX-3630
remote:
remote:  Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:  (cherry picked from commit a8a40ea7cd00637b77cae19cf2a23734b037d5b5)
remote:
remote:
remote:   .../bindings/usb/bdc-udc.txt           | 16 ++++++++++++++
remote:   1 file changed, 16 insertions(+)
remote:  ;acooper@broadcom.com;2016-05-24 16:11:35 -0400;cc240b7e8dfd65129c5c9cde2598d704fdfaa6e9;usb: gadget: bdc: Add additional configuration setup for BDC;
remote:  This will enable the BDC base driver that can be used by any
remote:  Gadget driver. To test this driver a Gadget driver can be enabled
remote:  in the defconfig file.
remote:  Storage support:
remote:  CONFIG_USB_F_MASS_STORAGE=y
remote:  CONFIG_USB_MASS_STORAGE=y
remote:  Ethernet dongle support:
remote:  CONFIG_USB_ETH=y
remote:
remote:  refs #SWLINUX-3630
remote:
remote:  Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:  (cherry picked from commit e202e40f6a42042e00a7b98b3d80de136db16e27)
remote:
remote:
remote:   arch/arm/configs/brcmstb_defconfig | 2 ++
remote:   1 file changed, 2 insertions(+)
remote:  ;acooper@broadcom.com;2016-05-24 16:08:00 -0400;c78d52a396dc150e8a62154119d89caf16201136;usb: gadget: bdc: Minor cleanup in usb-brcm.c;
remote:  refs #SWLINUX-3630
remote:
remote:  Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:  (cherry picked from commit 91d47c93a6b289db8ba1b6e848af2994917c0427)
remote:
remote:
remote:   drivers/usb/host/usb-brcm.c | 5 +----
remote:   1 file changed, 1 insertion(+), 4 deletions(-)
remote:  ;acooper@broadcom.com;2016-05-24 16:08:00 -0400;d70e04fb176a66a76d4e614aabfe5ae23da7b53b;usb: gadget: bdc: Fix a driver crash on disconnect;
remote:  ep_dequeue() in bdc_ep.c was capturing the hw dequeue pointer
remote:  incorrectly by reading the wrong register for the upper 32 bits.
remote:
remote:  refs #SWLINUX-3630
remote:
remote:  Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:  (cherry picked from commit 1d3ef38aedc034914b3b2f4930a9be58a8f7af72)
remote:
remote:
remote:   drivers/usb/gadget/bdc/bdc.h     | 16 ++++++++--------
remote:   drivers/usb/gadget/bdc/bdc_dbg.c | 16 ++++++++--------
remote:   drivers/usb/gadget/bdc/bdc_ep.c  |  4 ++--
remote:   3 files changed, 18 insertions(+), 18 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 16:07:59 -0400;ebecdffa99d4748524d311a0ba38845eb87b56c1;usb: gadget: bdc: hook a quick Device Tree compatible string;
remote:  Allows Device Tree probing
remote:
remote:  refs #SWLINUX-3630
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:  (cherry picked from commit e8f5f48012969e6f10e0636f4e6dfd43eb4ee934)
remote:
remote:
remote:   drivers/usb/gadget/bdc/bdc_core.c | 9 ++++++++-
remote:   1 file changed, 8 insertions(+), 1 deletion(-)
remote:  ;fainelli@broadcom.com;2016-05-24 16:07:59 -0400;db4b478cf1e02d1e64478f9c4b7703b729a63055;usb: gadget: bdc: fix bdc_stop function prototype;
remote:  refs #SWLINUX-3630
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit f3f765fc7129c00c8c1d9991eb89fb7aa8b77067)
remote:
remote:
remote:   drivers/usb/gadget/bdc/bdc_udc.c | 3 ++-
remote:   1 file changed, 2 insertions(+), 1 deletion(-)
remote:  ;fainelli@broadcom.com;2016-05-24 16:07:58 -0400;b9577f103f12e9ebe37b72c57500d7ecfd6ea4dc;usb: gadget: Introduce usb_gadget_giveback_request();
remote:  All USB peripheral controller drivers call completion routines directly.
remote:  This patch adds usb_gadget_giveback_request() which will be used instead
remote:  of direct invocation in the next patch. The goal here is to have a place
remote:  where common functionality can be added.
remote:
remote:  refs #SWLINUX-3630
remote:
remote:  Signed-off-by: Michal Sojka <sojka@merica.cz>
remote:  Acked-by: Felipe Balbi <balbi@ti.com>
remote:  Tested-by: Felipe Balbi <balbi@ti.com>
remote:  Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
remote:  [fainelli: make it apply to 3.14]
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:
remote:  (cherry picked from commit 39163dad04c3649770bcb73534bd0f02d5ac4eef)
remote:
remote:
remote:   drivers/usb/gadget/udc-core.c | 15 +++++++++++++++
remote:   include/linux/usb/gadget.h    | 14 ++++++++++++++
remote:   2 files changed, 29 insertions(+)
remote:  ;linville@tuxdriver.com;2016-05-24 16:07:58 -0400;ef02a1622ed64b3ade2396d5218cfb0a2bbc2021;usb: gadget: udc: avoid dereference before NULL check in ep_queue;
remote:  Coverity: CID 1260069
remote:
remote:  refs #SWLINUX-3630
remote:
remote:  Signed-off-by: John W. Linville <linville@tuxdriver.com>
remote:  Cc: Felipe Balbi <balbi@ti.com>
remote:  Cc: stable <stable@vger.kernel.org>
remote:  Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit bfce096be610f6d4f5f1ce2acc0e1547a638f746)
remote:
remote:
remote:   drivers/usb/gadget/bdc/bdc_ep.c | 3 ++-
remote:   1 file changed, 2 insertions(+), 1 deletion(-)
remote:  ;dan.carpenter@oracle.com;2016-05-24 16:07:57 -0400;91e74ab695553888ca43c4b5409986e01de67522;usb: gadget: udc: missing curly braces;
remote:  There were curly braces intended here.
remote:
remote:  refs #SWLINUX-3630
remote:
remote:  Signed-off-by: Dan Carpenter <dan.carpenter@oracle.com>
remote:  Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit d9d74cba7958bd1570cde46edf5d19e8d6d9ea52)
remote:
remote:
remote:   drivers/usb/gadget/bdc/bdc_ep.c | 3 ++-
remote:   1 file changed, 2 insertions(+), 1 deletion(-)
remote:  ;fainelli@broadcom.com;2016-05-24 16:07:56 -0400;35b86185202ec2e50aababd87bf9adac14cbaed2;usb: gadget: Add UDC driver for Broadcom USB3.0 device controller IP BDC;
remote:  This patch adds a UDC driver for Broadcom's USB3.0 Peripheral core named BDC.
remote:  BDC supports control traffic on ep0 and bulk/Int/Isoch traffic on all other
remote:  endpoints.
remote:
remote:  [ balbi@ti.com : fix build error on randconfig due to lack of
remote:  	<linux/dmapool.h> ]
remote:
remote:  refs #SWLINUX-3630
remote:
remote:  Signed-off-by: Ashwini Pahuja <ashwini.linux@gmail.com>
remote:  Signed-off-by: Felipe Balbi <balbi@ti.com>
remote:  [fainelli: resolve file move to be in drivers/usb/gadget/]
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:
remote:  (cherry picked from commit 992aae1084928a4acd14918035d84837219a10d4)
remote:
remote:
remote:   drivers/usb/gadget/Kconfig        |    2 +
remote:   drivers/usb/gadget/Makefile       |    1 +
remote:   drivers/usb/gadget/bdc/Kconfig    |   21 +
remote:   drivers/usb/gadget/bdc/Makefile   |    8 +
remote:   drivers/usb/gadget/bdc/bdc.h      |  490 ++++
remote:   drivers/usb/gadget/bdc/bdc_cmd.c  |  376 +++
remote:   drivers/usb/gadget/bdc/bdc_cmd.h  |   29 +
remote:   drivers/usb/gadget/bdc/bdc_core.c |  533 +++++
remote:   drivers/usb/gadget/bdc/bdc_dbg.c  |  123 +
remote:   drivers/usb/gadget/bdc/bdc_dbg.h  |   37 +
remote:   drivers/usb/gadget/bdc/bdc_ep.c   | 2023 +++++++++++++++++
remote:   drivers/usb/gadget/bdc/bdc_ep.h   |   22 +
remote:   drivers/usb/gadget/bdc/bdc_pci.c  |  132 ++
remote:   drivers/usb/gadget/bdc/bdc_udc.c  |  587 +++++
remote:   14 files changed, 4384 insertions(+)
remote:  ;gregory@broadcom.com;2016-05-24 16:07:55 -0400;d5c92b893188bab5c93e08f5ec90cba9168adea3;soc: brcmstb: default to bmem;
remote:  Change default reservation type from CMA to BMEM.
remote:
remote:  refs #SWLINUX-3730
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit b2a60a30c3f3be3c72b34ed59e79d2dadf74bf3d)
remote:
remote:
remote:   drivers/soc/brcmstb/memory.c | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;fainelli@broadcom.com;2016-05-24 16:07:55 -0400;2a379b7b48c975336d27518909e0ee639f19ea12;BCMGENET: Remove excessive PHY reset;
remote:  We are currently issuing multiple PHY resets during a suspend/resume,
remote:  first during bcmgenet_power_up() which does a hardware reset, then a
remote:  software reset by calling bcmgenet_mii_reset(). This is both unnecessary
remote:  and can take as long as 10ms per MDIO transactions while we re-apply
remote:  workarounds because we do not yet have MDIO interrupts enabled.
remote:
remote:  phy_resume() takes care of re-apply our workarounds in case we need any,
remote:  and bcmgenet_power_up() does a PHY hardware reset, all of this is more
remote:  than enough to guarantee that the PHY operates correctly.
remote:
remote:  refs #SWLINUX-3736
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 52ed8d25f2e4065adc92b32949f3a671f52d11a6)
remote:
remote:
remote:   .../net/ethernet/broadcom/genet/bcmgenet.c   | 1 -
remote:   .../net/ethernet/broadcom/genet/bcmgenet.h   | 1 -
remote:   drivers/net/ethernet/broadcom/genet/bcmmii.c | 9 ---------
remote:   3 files changed, 11 deletions(-)
remote:  ;acooper@broadcom.com;2016-05-24 16:07:54 -0400;f40a3a4b87c68720f13bfc89c1ecfce48c6ddcaf;usb: Enable USB 3.0 SSC on both ports;
remote:  Currently, USB 3.0 SSC is enabled via port 0 MDIO registers, which
remote:  should have been adequate. However, due to a bug in the USB 3.0 PHY,
remote:  it must be enabled via both ports.
remote:
remote:  refs #SWLINUX-3722
remote:
remote:  Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:  (cherry picked from commit ea1d8977994f57427209158f6ca966933904f004)
remote:
remote:
remote:   drivers/usb/host/usb-brcm-common-init.c | 8 ++++++++
remote:   1 file changed, 8 insertions(+)
remote:  ;gregory@broadcom.com;2016-05-24 16:07:54 -0400;c48e34663e4f7d32a42f3744a423479e000fb472;soc: brcmstb: memory: fix regression in memblock reserve adjustment;
remote:  When updating the default reservation code to handle reserved-memory[1]
remote:  DT entries in addition to memreserve, I made an off-by-one error when
remote:  checking for the unhandled 'split region' case and could also set the
remote:  incorrect size for memreserve at the end of a region.  Fix that,
remote:  simplify the logic a bit, and add some (hopefully) clarifying comments.
remote:
remote:  [1] https://www.kernel.org/doc/Documentation/devicetree/bindings/reserved-memory/reserved-memory.txt
remote:      http://jira.broadcom.com/browse/SWLINUX-3647
remote:
remote:  fixes #SWLINUX-3713
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit a40e62fd2bb44796523518ddbacd45940439a449)
remote:
remote:
remote:   drivers/soc/brcmstb/memory.c | 9 +++++----
remote:   1 file changed, 5 insertions(+), 4 deletions(-)
remote:  ;acooper@broadcom.com;2016-05-24 16:07:53 -0400;d2dc9d30834d9ea858076abba945e715f7063088;mmc: Some Micron eMMC devices cause reboot to hang;
remote:  When using eMMC as the boot device, some Micron eMMC devices will
remote:  cause reboot to hang. This is a result of the eMMC device not going
remote:  into boot mode after the hardware sends CMD0 to reset the eMMC
remote:  device. This only happens if the kernel driver sends CMD5 (SLEEP_WAKE),
remote:  to put the device into sleep state, before restarting the system.
remote:  The fix is to add a quirk that avoids sending the SLEEP command
remote:  and to use MMC_FIXUP to set the quirk for these Micron devices.
remote:
remote:  refs #SWLINUX-3720
remote:
remote:  Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:  (cherry picked from commit 58a56945f7ab3bbe17a9ed15ce9f15763210a42f)
remote:
remote:
remote:   drivers/mmc/card/block.c | 7 +++++++
remote:   drivers/mmc/core/mmc.c   | 3 ++-
remote:   include/linux/mmc/card.h | 1 +
remote:   3 files changed, 10 insertions(+), 1 deletion(-)
remote:  ;fainelli@broadcom.com;2016-05-24 16:07:53 -0400;3e1773226be12696891208e7ed7cc94c3d2a0c7e;net: phy: mdio-bcm-unimac: workaround initial read failures for integrated PHYs;
remote:  All BCM7xxx integrated Gigabit PHYs have an issue in their MDIO
remote:  management controller which will make the initial read or write to them
remote:  to fail and return 0xffff. This is a real issue as the typical first
remote:  thing we do is read from MII_PHYSID1 and MII_PHYSID2 from get_phy_id()
remote:  to register a driver for these PHYs.
remote:
remote:  Coupled with the workaround in drivers/net/phy/bcm7xxx.c, this
remote:  workaround for the MDIO bus controller consists in scanning the list of
remote:  PHYs to do this initial read workaround for as part of the MDIO bus
remote:  reset routine which is invoked prior to mdiobus_scan().
remote:
remote:  Once we have a proper PHY driver/device registered, all workarounds are
remote:  located there (e.g: power management suspend/resume calls).
remote:
remote:  refs #SWLINUX-3684
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit fb4d51ba013462d04625080420c4316d35df03a0)
remote:
remote:
remote:   drivers/net/phy/mdio-unimac.c | 43 +++++++++++++++++++++++
remote:   1 file changed, 43 insertions(+)
remote:  ;fainelli@broadcom.com;2016-05-24 16:07:52 -0400;6d8da89cdacdb42b1c249c69df71b1b4c4a6d3d7;net: bcmgenet: workaround initial read failures for integrated PHYs;
remote:  All BCM7xxx integrated Gigabit PHYs have an issue in their MDIO
remote:  management controller which will make the initial read or write to them
remote:  to fail and return 0xffff. This is a real issue as the typical first
remote:  thing we do is read from MII_PHYSID1 and MII_PHYSID2 from get_phy_id()
remote:  to register a driver for these PHYs.
remote:
remote:  Coupled with the workaround in drivers/net/phy/bcm7xxx.c, this
remote:  workaround for the MDIO bus controller consists in scanning the list of
remote:  PHYs to do this initial read workaround for as part of the MDIO bus
remote:  reset routine which is invoked prior to mdiobus_scan().
remote:
remote:  Once we have a proper PHY driver/device registered, all workarounds are
remote:  located there (e.g: power management suspend/resume calls).
remote:
remote:  refs #SWLINUX-3684
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 030f1f1693718d481c5023045acb2416dbb3d962)
remote:
remote:
remote:   .../ethernet/broadcom/genet/bcmgenet.h |  1 +
remote:   .../ethernet/broadcom/genet/bcmmii.c   | 54 +++++++++++++-
remote:   2 files changed, 51 insertions(+), 4 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 16:07:52 -0400;1d23399fbac172e3b5f8a2159ab5b714b52a5a0e;net: phy: bcm7xxx: workaround MDIO management controller initial read;
remote:  The initial MDIO read or write towards the BCM7xxx integrated PHY may
remote:  fail, workaround this by inserting a dummy MII_BMSR read to force the
remote:  MDIO management controller to see at least one valid transaction and get
remote:  out of stuck state out of reset.
remote:
remote:  refs #SWLINUX-3684
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 35f9349943c8d96764266158478f495a05452e8d)
remote:
remote:
remote:   drivers/net/phy/bcm7xxx.c | 7 +++++++
remote:   1 file changed, 7 insertions(+)
remote:  ;zonque@gmail.com;2016-05-24 16:07:51 -0400;780f24696e5e9f2c6114114025c654b54310fb96;net: of_mdio: use int type for address variable;
remote:  Use int rather than u32 to fix the following warning:
remote:
remote:  drivers/of/of_mdio.c:147 of_mdiobus_register() warn: unsigned 'addr' is
remote:  never less than zero.
remote:
remote:  refs #SWLINUX-3684
remote:
remote:  Signed-off-by: Daniel Mack <zonque@gmail.com>
remote:  Fixes: 8f8382888cba ("net: of_mdio: factor out code to parse a phy's 'reg' property")
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 98956aadf44a33fee23199151c2622aa1fa85c91)
remote:
remote:
remote:   drivers/of/of_mdio.c | 3 +--
remote:   1 file changed, 1 insertion(+), 2 deletions(-)
remote:  ;zonque@gmail.com;2016-05-24 16:07:51 -0400;db6ad47c825196103c6863ed3de7a87954236400;net: of_mdio: don't store the length of a property if we don't need to;
remote:  of_get_property() can be called with NULL as 2nd argument if the caller
remote:  is not interested in the length of a property. Use that here so we can
remote:  get rid of a variable.
remote:
remote:  refs #SWLINUX-3684
remote:
remote:  Signed-off-by: Daniel Mack <zonque@gmail.com>
remote:  Reviewed-by: Florian Fainelli <f.fainelli@gmail.com>
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 84367958b3592bf433f29e2c3f7975998be37788)
remote:
remote:
remote:   drivers/of/of_mdio.c | 4 ++--
remote:   1 file changed, 2 insertions(+), 2 deletions(-)
remote:  ;f.fainelli@gmail.com;2016-05-24 16:07:50 -0400;0d669d7e9c0da6e8ca4f0dea5007437bd51b6ab3;of: mdio: export of_mdio_parse_addr;
remote:  [Upstream commit 33d6737761ea425d43f3b6e4561573a4020982f2]
remote:
remote:  Export of_mdio_parse_addr() which allows parsing a given Ethernet PHY
remote:  node MDIO address, verify it is within the allowed range, and return
remote:  its value. This is going to be useful for the DSA code which needs to
remote:  deal with multiple layers of MDIO buses.
remote:
remote:  refs #SWLINUX-3684
remote:
remote:  Acked-by: Rob Herring <robh@kernel.org>
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit cc7db93f3633d497a1af7f7091d53039082bad68)
remote:
remote:
remote:   drivers/of/of_mdio.c    | 3 ++-
remote:   include/linux/of_mdio.h | 7 +++++++
remote:   2 files changed, 9 insertions(+), 1 deletion(-)
remote:  ;zonque@gmail.com;2016-05-24 16:07:50 -0400;c1f8193c858618124e0948b251381de1725f8b45;net: of_mdio: factor out code to parse a phy's 'reg' property;
remote:  [Upstream commit 8f8382888cbaf6de13046437d41a1c3d1394d51f]
remote:
remote:  Factor out some logic into of_mdio_parse_addr() so it can be reused
remote:  later. While at it, use of_property_read_u32() rather than open-coding
remote:  the same logic again.
remote:
remote:  refs #SWLINUX-3684
remote:
remote:  Signed-off-by: Daniel Mack <zonque@gmail.com>
remote:  Reviewed-by: Florian Fainelli <f.fainelli@gmail.com>
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit d29685d835ccd606c0d0b4eb71e6cf0e674414ac)
remote:
remote:
remote:   drivers/of/of_mdio.c | 35 +++++++++++++++++++++-----------
remote:   1 file changed, 23 insertions(+), 12 deletions(-)
remote:  ;acooper@broadcom.com;2016-05-24 16:07:49 -0400;37941d56b7216831bac56df07917474529d54635;usb: BDC: Configure Host/Device mode port sharing based on DT;
remote:  The "device" property in the ""brcm,usb-instance" node will
remote:  specify how a port will be shared between USB Host and Device
remote:  controllers. "off" will will be host only, "on" will be device
remote:  only and "dual" will be the DRD (Dual Role Device) mode.
remote:  This property will be used by the USB wrapper driver to configure
remote:  the USB ctrl registers properly.
remote:  NOTES:
remote:  - "dual" mode is broken on the 7439bx but will be fixed in
remote:    future chips.
remote:  - The combination of enabled DT nodes for ohci ehic xhci and bdc
remote:    are expected to be correct for the chosen mode.
remote:
remote:  refs #SWLINUX-3693
remote:
remote:  Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:  (cherry picked from commit 26fceffcef460a225dba612a7f7eef6008ea7c21)
remote:
remote:
remote:   .../usb/host/usb-brcm-common-init.c    | 18 +++++++++++++
remote:   .../usb/host/usb-brcm-common-init.h    |  5 ++++
remote:   drivers/usb/host/usb-brcm.c            | 19 +++++++++++---
remote:   3 files changed, 38 insertions(+), 4 deletions(-)
remote:  ;acooper@broadcom.com;2016-05-24 16:07:49 -0400;7aa6f8164bbb326f54968ccc93cca26bf4d6a935;usb: Update bchp_usb_ctrl.h for 7439b0;
remote:  refs #SWLINUX-3693
remote:
remote:  Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:  (cherry picked from commit 7d843e13e369df6f9847e3eb331b49faec46e400)
remote:
remote:
remote:   .../brcmstb/7439b0/bchp_usb_ctrl.h     | 42 +++++++-------
remote:   1 file changed, 21 insertions(+), 21 deletions(-)
remote:  ;shyi@broadcom.com;2016-05-24 16:07:48 -0400;682473a472b4e017619304b8b74cb9dc407cbaf5;bsp: added Kconfig entries for 3390b0;
remote:  refs #SWLINUX-3667
remote:
remote:  Signed-off-by: Shane Yi <shyi@broadcom.com>
remote:  (cherry picked from commit f5c9027e13632712873b5f729d0c2c50507f12be)
remote:
remote:
remote:   arch/arm/Kconfig.debug    | 2 ++
remote:   arch/arm/mach-bcm/Kconfig | 9 +++++++++
remote:   2 files changed, 11 insertions(+)
remote:  ;shyi@broadcom.com;2016-05-24 16:07:47 -0400;a0af8af67219ec6d78becb182bf23579e3f091e2;bsp: added bchp headers for 3390b0;
remote:  refs #SWLINUX-3667
remote:
remote:  Signed-off-by: Shane Yi <shyi@broadcom.com>
remote:  (cherry picked from commit db6855767a0885b735df38bd63df99e87a07de78)
remote:
remote:
remote:   .../brcmstb/3390b0/bchp_aon_ctrl.h     |  1817 +
remote:   .../brcmstb/3390b0/bchp_aon_pin_ctrl.h |   439 +
remote:   .../brcmstb/3390b0/bchp_aon_pm_l2.h    |  1697 +
remote:   .../linux/brcmstb/3390b0/bchp_bspi.h   |   436 +
remote:   .../brcmstb/3390b0/bchp_bspi_raf.h     |   153 +
remote:   .../linux/brcmstb/3390b0/bchp_clkgen.h |  6264 ++
remote:   .../linux/brcmstb/3390b0/bchp_common.h |  6254 ++
remote:   .../linux/brcmstb/3390b0/bchp_ebi.h    |  1998 +
remote:   .../linux/brcmstb/3390b0/bchp_gio.h    |   465 +
remote:   .../brcmstb/3390b0/bchp_gio_aon.h      |   249 +
remote:   .../3390b0/bchp_hif_continuation.h     |   151 +
remote:   .../3390b0/bchp_hif_cpubiuctrl.h       |  3428 ++
remote:   .../brcmstb/3390b0/bchp_hif_intr2.h    |  1241 +
remote:   .../brcmstb/3390b0/bchp_hif_mspi.h     |  1282 +
remote:   .../3390b0/bchp_hif_spi_intr2.h        |   557 +
remote:   .../brcmstb/3390b0/bchp_hif_top_ctrl.h |   596 +
remote:   .../linux/brcmstb/3390b0/bchp_irq0.h   |   157 +
remote:   .../linux/brcmstb/3390b0/bchp_irq1.h   |   157 +
remote:   .../3390b0/bchp_moca_hostmisc.h        |   504 +
remote:   .../linux/brcmstb/3390b0/bchp_nand.h   |  3748 ++
remote:   .../brcmstb/3390b0/bchp_pcie_0_dma.h   |   728 +
remote:   .../3390b0/bchp_pcie_0_ext_cfg.h       |   109 +
remote:   .../brcmstb/3390b0/bchp_pcie_0_intr2.h |  2009 +
remote:   .../brcmstb/3390b0/bchp_pcie_0_misc.h  |  1079 +
remote:   .../3390b0/bchp_pcie_0_misc_perst.h    |    78 +
remote:   .../3390b0/bchp_pcie_0_rc_cfg_pcie.h   |   677 +
remote:   .../3390b0/bchp_pcie_0_rc_cfg_type1.h  |   519 +
remote:   .../3390b0/bchp_pcie_0_rc_cfg_vendor.h |   166 +
remote:   .../brcmstb/3390b0/bchp_pcie_0_rgr1.h  |   127 +
remote:   .../brcmstb/3390b0/bchp_sdio_0_cfg.h   |   814 +
remote:   .../brcmstb/3390b0/bchp_sun_top_ctrl.h |  7157 +++
remote:   .../brcmstb/3390b0/bchp_switch_acb.h   |  4439 ++
remote:   .../brcmstb/3390b0/bchp_switch_core.h  | 31837 +++++++++++
remote:   .../brcmstb/3390b0/bchp_switch_fcb.h   |   415 +
remote:   .../brcmstb/3390b0/bchp_switch_reg.h   |  1478 +
remote:   .../brcmstb/3390b0/bchp_usb_ctrl.h     |  1661 +
remote:   include/linux/brcmstb/brcmstb.h        |    38 +
remote:   37 files changed, 84924 insertions(+)
remote:  ;fainelli@broadcom.com;2016-05-24 16:07:47 -0400;3ebc0a66d873112acaf9030a3a602603aff741f9;Revert "BCMSYSPORT: Switch TX reclaim to NAPI context";
remote:  This reverts commit ac4a2acc2453bccb87e6a16d1fd1313be305b531. This change
remote:  is causing a performance regression as reported by Alex Chu during SQA.
remote:
remote:  3.14 is missing some upstream changes that are required to do less interrupt
remote:  masking while executing NAPI which give a significant performance boost
remote:  this is no longer a problem on 4.1 and newer.
remote:
remote:  refs #SWLINUX-3690
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit b69c20822f4ffed2f2a8f140cb88d15a26b47037)
remote:
remote:
remote:   .../net/ethernet/broadcom/bcmsysport.c | 33 +-------------
remote:   .../net/ethernet/broadcom/bcmsysport.h |  2 -
remote:   2 files changed, 1 insertion(+), 34 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 16:07:46 -0400;07d9e26222a3ae4150c58d8621ff934ab25b4b28;Revert "BCMSYSPORT: rewrite bcm_sysport_rx_refill";
remote:  This reverts commit ced41ec297954d70a43b059bd4f44669e368e1dc. Alex Chu reported
remote:  a noticeable performance drop, ranging from ~940Mbits/sec to ~760Mbits/sec.
remote:
remote:  These changes were tested against an upstream kernel which contains some
remote:  improvements on how SKB allocation in NAPI context operate, and these changes
remote:  are not in 3.14 yet and way too invasive to backport.
remote:
remote:  Revert back to the previous behavior which consists in invalidating data cache
remote:  lines after DMA, processing the packet, and then re-allocating it during the
remote:  refill operation.
remote:
remote:  refs #SWLINUX-3690
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit d41e2147419f44920bfbb2c555f08cda7b5ceabd)
remote:
remote:
remote:   .../net/ethernet/broadcom/bcmsysport.c | 90 +++++++-------
remote:   1 file changed, 47 insertions(+), 43 deletions(-)
remote:  ;gregory@broadcom.com;2016-05-24 16:07:46 -0400;b8d163fb102b52854aa5b824ff66fa5a78f45d1f;soc: brcmstb: memory: fix up default reserve alignment;
remote:  When moving the default reservation logic, I accidentally left out a
remote:  crucial change for the 512M DRAM case: alignment fixing.  While this
remote:  should _hopefully_ only be required for 512M, we actually want to be
remote:  pageblock-aligned all the time (well, it's not pageblock for transparent
remote:  hugepages, but it's easier to just say pageblock), and it's certainly
remote:  possible that some memory reservations might not be so aligned.  So just
remote:  do the alignment all of the time like we were doing in cma_driver
remote:  before.
remote:
remote:  Tested on 73649a0 (512M RAM) that default boot-time CMA reserve works
remote:  and 'cmatool unittest' passes all tests after this change.
remote:
remote:  refs #SWLINUX-3504
remote:
remote:  Reported-by: Alex Chu <alexchu@broadcom.com>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 8f699ad52a5c50d3409a638bee874d117b3b7ec7)
remote:
remote:
remote:   drivers/soc/brcmstb/memory.c | 27 ++++++++++++++++++++++--
remote:   1 file changed, 25 insertions(+), 2 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 16:07:45 -0400;f4b8ca8305bbc0b9d4a441a40add70a0acfb5525;net: dsa: bcm_sf2: do not use indirect reads and writes for 7445E0;
remote:  7445E0 contains an ECO (HW7445-1526) which disconnected the internal SF2
remote:  pseudo-PHY which was known to conflict with the external pseudo-PHY of
remote:  BCM53125 switches. This motivated the need to utilize the internal SF2
remote:  MDIO controller via indirect register reads/writes to control external
remote:  Broadcom switches due to this address conflict (both responded at
remote:  address 30d).
remote:
remote:  For 7445E0, the internal pseudo-PHY of the SF2 switch got disconnected,
remote:  and as a consequence this prevents the internal SF2 MDIO bus controller
remote:  from reading data (reads back everything as 0) since the MDI line is
remote:  tied low.
remote:
remote:  Fix this by making the indirect register reads and writes conditional to
remote:  7445D0, on 7445E0 we can utilize the SWITCH_MDIO controller (backed by
remote:  mdio-unimac and not the DSA created slave MII bus).
remote:
remote:  refs #SWLINUX-3699
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 09d5d3e8bc3be21072000ee3098f7edc5b0cfea9)
remote:
remote:
remote:   drivers/net/dsa/bcm_sf2.c | 15 +++++++++++++--
remote:   net/dsa/slave.c           |  5 +++--
remote:   2 files changed, 16 insertions(+), 4 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 16:07:45 -0400;5205378f2f92d9742162e4ffe50afc26d43cfaae;net: phy: mdio-unimac: handle broken turn-around for specific PHYs;
remote:  Some Ethernet PHYs/switches such as Broadcom's BCM53125 have a hardware bug
remote:  which makes them not release the MDIO line during turn-around time.  This gets
remote:  flagged by the UniMAC MDIO controller as a read failure, and we fail the read
remote:  transaction.
remote:
remote:  Check the MDIO bus phy_ignore_ta_mask bitmask for the PHY we are reading
remote:  from and if it is listed in this bitmask, ignore the read failure and proceed
remote:  with returning the data we read out of the controller.
remote:
remote:  refs #SWLINUX-2863
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 7656d1c266a4e3b1d9ecb55521e74d92990ed524)
remote:
remote:
remote:   drivers/net/phy/mdio-unimac.c | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;fainelli@broadcom.com;2016-05-24 16:07:44 -0400;0446e75742f218e2263cf277ff39a7d109ad5ab9;BCMGENET: handle broken turn-around for specific PHYs;
remote:  Some Ethernet PHYs/switches such as Broadcom's BCM53125 have a hardware bug
remote:  which makes them not release the MDIO line during turn-around time.  This gets
remote:  flagged by the GENET MDIO controller as a read failure, and we fail the read
remote:  transaction.
remote:
remote:  Check the MDIO bus phy_ignore_ta_mask bitmask for the PHY we are reading from
remote:  and if it is listed in this bitmask, ignore the read failure and proceed with
remote:  returning the data we read out of the controller.
remote:
remote:  refs #SWLINUX-2863
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit a43d720e7d282ea8f1d3c8668eb09c5ea132eb7a)
remote:
remote:
remote:   drivers/net/ethernet/broadcom/genet/bcmmii.c | 3 ++-
remote:   1 file changed, 2 insertions(+), 1 deletion(-)
remote:  ;fainelli@broadcom.com;2016-05-24 16:07:44 -0400;825881565770b4e5798f4c1d67236466b24b9c00;net: phy: ethsw: flag switch pseudo-PHY as having broken turn-around;
remote:  We will able to successfully detect switches since we typically use address 0
remote:  to read the switch's MII_PHYSID1/2 register, therefore ethsw_probe() will be
remote:  invoked and we use it to tell the MDIO bus controller that the switch
remote:  pseudo-PHY (30d) has a broken turn-around and that it should ignore read
remote:  failures at this address.
remote:
remote:  refs #SWLINUX-2863
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit acf19dab2df595c3daf67d24eee1bf519adc7b9d)
remote:
remote:
remote:   drivers/net/phy/ethsw.c | 6 ++++++
remote:   1 file changed, 6 insertions(+)
remote:  ;fainelli@broadcom.com;2016-05-24 16:07:43 -0400;cbb740c79596ba9cc3bd6fe961c82f678fb66fc4;net: dsa: bcm_sf2: Utilized BRCM_PSEUDO_PHY_ADDR;
remote:  Replace the open-coded constant 30 with its definition from brcmphy.h
remote:
remote:  refs #SWLINUX-2863
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 73b2ae6459fc70bc95a9d30788c93bdc8597393f)
remote:
remote:
remote:   drivers/net/dsa/bcm_sf2.c | 7 ++++---
remote:   1 file changed, 4 insertions(+), 3 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 16:07:43 -0400;dc5d071fdf513c93addf5ceafa9eef7027f20d3b;net: phy: ethsw: Utilize BRCM_PSEUDO_PHY_ADDR;
remote:  Replace our local constant with the shared header constant.
remote:
remote:  refs #SWLINUX-2863
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 9ac13a3c4baefe90835c0de7a28bd01fc19f912c)
remote:
remote:
remote:   drivers/net/phy/ethsw.c | 9 ++++-----
remote:   1 file changed, 4 insertions(+), 5 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 16:07:42 -0400;b41a796cdd86356bb033be2c6a6379e0252adf04;net: phy: define Broadcom pseudo-PHY address in brcmphy.h;
remote:  Define the pseudo-PHY address (30) which is used by all Broadcom Ethernet
remote:  switches in a shared header file.
remote:
remote:  refs #SWLINUX-2863
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 0ece811de6e2fbb4e58f01211051f986262f3612)
remote:
remote:
remote:   include/linux/brcmphy.h | 5 +++++
remote:   1 file changed, 5 insertions(+)
remote:  ;fainelli@broadcom.com;2016-05-24 16:07:42 -0400;8fbc3dcd066002ff814c92eea4a5f3c1ecc3c690;net: phy: mdio-gpio: Handle phy_ignore_ta_mask;
remote:  [Upstream commit ea48b2b8ada594e985b86da98b0c966d1ae23a4b]
remote:
remote:  Update mdiobb_read() to read whether the PHY has a broken turn-around,
remote:  and if it does, ignore it to make the read succeeed.
remote:
remote:  refs #SWLINUX-2863
remote:
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit dd44b091601a6b97fd64954b7fe9207fb387d700)
remote:
remote:
remote:   drivers/net/phy/mdio-bitbang.c | 7 +++++--
remote:   1 file changed, 5 insertions(+), 2 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 16:07:41 -0400;697ec7f944116fed5a271bcd32e7dd190258cad0;of: mdio: Add a "broken-turn-around" property;
remote:  [Upstream commit ab6016e0c134c3a564e6750f5b246ba17ada4686]
remote:
remote:  Some Ethernet PHY devices/switches may not properly release the MDIO bus
remote:  during turn-around time, and fail to drive it low, which can be seen by
remote:  some controllers as a read failure, while the data clocked in is still
remote:  correct.
remote:
remote:  Add a boolean property "broken-turn-around" which is parsed by the
remote:  generic MDIO bus probing code and will set the corresponding bit in the
remote:  MDIO bus phy_ignore_ta_mask bitmask for MDIO bus drivers to utilize that
remote:  information.
remote:
remote:  refs #SWLINUX-2863
remote:
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 1d051efb5c36128c6ba2243dab04308882a73aaf)
remote:
remote:
remote:   Documentation/devicetree/bindings/net/phy.txt | 3 +++
remote:   drivers/of/of_mdio.c                          | 3 +++
remote:   2 files changed, 6 insertions(+)
remote:  ;fainelli@broadcom.com;2016-05-24 16:07:41 -0400;3d712815623c55197feeeeb5c6c16aa8b79d504b;net: phy: Add phy_ignore_ta_mask to account for broken turn-around;
remote:  [Upstream commit 922f2dd1b65a888e34c472979460dc23211750a2]
remote:
remote:  Some PHY devices/switches will not release the turn-around line as they
remote:  should do at the end of a MDIO transaction. To help with such
remote:  situations, allow MDIO bus drivers to be made aware of such
remote:  restrictions.
remote:
remote:  refs #SWLINUX-2863
remote:
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 85912a596952be41f883db2b6c043add5e01ccc6)
remote:
remote:
remote:   include/linux/phy.h | 3 +++
remote:   1 file changed, 3 insertions(+)
remote:  ;fainelli@broadcom.com;2016-05-24 16:07:40 -0400;ff988f8816d6d3f78b1f786820f4f335d52bd23c;Bump version to 3.14-1.7pre;
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit a86f1185be47c7821055d910b5c1e21ffdb51d1a)
remote:
remote:
remote:   Makefile | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;acooper@broadcom.com;2016-05-24 16:07:39 -0400;95085b4f94a51dd53d1a94b1123ae517f17ed803;usb: Fix usb-brcm-common-init module license.;
remote:  This module is used by both BOLT and the Linux kernel so it
remote:  needs a license that works for both. Fix this by replacing the
remote:  GPLv2 license with the BSD license.
remote:
remote:  refs #SWLINUX-3693
remote:
remote:  Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:  (cherry picked from commit ba25d115e58f9498777faeb8a6bdc85aca194359)
remote:
remote:
remote:   .../usb/host/usb-brcm-common-init.c    | 30 +++++++++----
remote:   .../usb/host/usb-brcm-common-init.h    | 32 ++++++++++----
remote:   2 files changed, 45 insertions(+), 17 deletions(-)
remote:  ;gregory@broadcom.com;2016-05-24 16:07:39 -0400;921295c9cb440c0d5210957bc8568d864f31f5b0;cma: brcm-cma: change brcm_cma=0 to disable brcm cma;
remote:  Before, we would just return 0 as an invalid size.  While it is invalid, this
remote:  will a) be caught later and b) the value should be used like the bmem code to
remote:  indicate that we want to disable using this entirely, since there isn't another
remote:  easy way to do that.
remote:
remote:  refs #SWLINUX-3504
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit b0426ccecd3c73a7b83663a84f8dd31d12d91d34)
remote:
remote:
remote:   drivers/soc/brcmstb/cma_driver.c | 17 ++++++++++++-----
remote:   1 file changed, 12 insertions(+), 5 deletions(-)
remote:  ;gregory@broadcom.com;2016-05-24 16:07:38 -0400;9026bcf80ddaf976f016fffe1c1f46baca392181;soc: brcmstb: add back default CMA reservation, allow BMEM via switch;
remote:  Introduces two shared variables, brcmstb_default_reserve and
remote:  brcmstb_memory_override_defaults, for the reserve functions to determine
remote:  whether to set up the default reservations for CMA or BMEM.  In order to change
remote:  the default, modify the value of brcmstb_default_reserve and recompile.
remote:  Specifying any brcm_cma or bmem parameter on the kernel boot line will result
remote:  in the selected default being overridden with manual reservations.
remote:
remote:  Bump memory API version to 2 for the additions.
remote:
remote:  refs #SWLINUX-3504
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 4e9707e26c1f18a239672201ae91759cad5189bb)
remote:
remote:
remote:   drivers/soc/brcmstb/bmem.c         | 49 +++++++++------
remote:   drivers/soc/brcmstb/cma_driver.c   | 59 +++++++++++++-----
remote:   drivers/soc/brcmstb/memory.c       |  9 +++
remote:   include/linux/brcmstb/brcmstb.h    |  2 +-
remote:   include/linux/brcmstb/memory_api.h | 12 ++++
remote:   5 files changed, 95 insertions(+), 36 deletions(-)
remote:  ;gregory@broadcom.com;2016-05-24 16:07:38 -0400;acba179a68ef6853e2782296eed2bc993023404e;soc: brcmstb: move default reserve from bmem to memory API;
remote:  This is prep for sharing this code back to cma_driver.  Introduces a dependency
remote:  on BRCMSTB_MEMORY_API so update Kconfig accordingly.
remote:
remote:  refs #SWLINUX-3504
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit cf23bd03500ce52f9585e106290f0df625651a8d)
remote:
remote:
remote:   drivers/soc/brcmstb/Kconfig        |   4 +-
remote:   drivers/soc/brcmstb/bmem.c         | 106 +++--------------
remote:   drivers/soc/brcmstb/memory.c       | 105 +++++++++++++++-
remote:   include/linux/brcmstb/memory_api.h |   3 +
remote:   4 files changed, 124 insertions(+), 94 deletions(-)
remote:  ;jquinlan@broadcom.com;2016-05-24 16:07:37 -0400;d29f3419186ab3a8dfe909ab2a4e0def086415fe;pci: issue warning when dma-ranges prop is observed;
remote:  Recently, Bolt began adding optionally the "dma-ranges" property
remote:  to the PCIe nodes.  This property instructs Linux how to massage
remote:  the dma_addr_t values obtained when allocating DMA memory for
remote:  use with PCIe drivers.  Currently, this Linux functionality is
remote:  a WIP so just issue a warning for now when we see the property.
remote:
remote:  refs #SWLINUX-3694
remote:
remote:  Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:  (cherry picked from commit aad79cdaa0c65c2fd3b0ce81a5579286de24e207)
remote:
remote:
remote:   arch/arm/mach-bcm/pci-brcmstb.c | 13 ++++++++++++-
remote:   1 file changed, 12 insertions(+), 1 deletion(-)
remote:  ;jquinlan@broadcom.com;2016-05-24 16:07:37 -0400;e0336cd031e3a642aec991dfc02d187c44213bf6;pci: make use of 'brcm,log2-scb-sizes' property if present;
remote:  The 'brcm,log2-scb-sizes' property indicates how large the SCB window
remote:  must be to project an inbound region to PCIe space.  This commit
remote:  reads the property if present and overrides the default value
remote:  for the window size.
remote:
remote:  refs #SWLINUX-3694
remote:
remote:  Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:  (cherry picked from commit 4d9f5f63c4aadf3781b89110e450fe752ef7f545)
remote:
remote:
remote:   arch/arm/mach-bcm/pci-brcmstb.c | 42 ++++++++++++++++-----
remote:   1 file changed, 33 insertions(+), 9 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 16:07:36 -0400;54464a1e93827190ac63802980a7112a0fd1b4ab;net: phy: bcm7xxx: Update E0+ GPHY workaround based on HW7445-1949;
remote:  A new workaround to solve marginal 100BaseT rise/fall time has been provided in
remote:  HW7445-1949, update the AFE_TX_CONFIG register parameters based on the hardware
remote:  group recommendations. This workaround applies to all E0 and newer GPHY
remote:  revisions.
remote:
remote:  refs #SWLINUX-3697
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 3602ca04a3db83b3c947acf9c336a4184aa442e5)
remote:
remote:
remote:   drivers/net/phy/bcm7xxx.c | 3 +++
remote:   1 file changed, 3 insertions(+)
remote:  ;fainelli@broadcom.com;2016-05-24 16:07:36 -0400;28fb74d573f6b067ce82f1d9733b420458399370;net: phy: bcm7xxx: Update D0 GPHY workaround based on HW7445-1804;
remote:  A new workaround to solve marginal 100BaseT rise/fall time has been provided in
remote:  HW7445-1804, update the AFE_TX_CONFIG register parameters based on the hardware
remote:  group recommendations.
remote:
remote:  refs #SWLINUX-3697
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 7419ba64b840c3135aa4fa114e9570f793c76867)
remote:
remote:
remote:   drivers/net/phy/bcm7xxx.c | 4 ++--
remote:   1 file changed, 2 insertions(+), 2 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 16:07:35 -0400;11428cdcdb0a2733fa79cb26d370c2bf4abf31d2;BCMGENET: Power on MII block for all MII modes;
remote:  The RGMII block is currently only powered on when using RGMII or RGMII_NO_ID,
remote:  which is not correct when using the GENET interface in MII or Reverse MII
remote:  modes. We always need to power on the RGMII interface for this block to
remote:  properly work.
remote:
remote:  refs #SWLINUX-3683
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 113502e0d8c39483f6d2da0e381cd297de6f1919)
remote:
remote:
remote:   .../net/ethernet/broadcom/genet/bcmmii.c | 12 +++++++++---
remote:   1 file changed, 9 insertions(+), 3 deletions(-)
remote:  ;gregory@broadcom.com;2016-05-24 16:07:35 -0400;3a899c7135ef7706fc9e1cff629250bb53a452ff;dt-bindings: brcmstb-gpio: remove interrupt-names, update examples;
remote:  We don't actually use the "interrupt-names" property, so remove it from
remote:  the listed optional properties and from the examples.  And since we're
remote:  modifying the examples, also follow Brian's suggestions to:
remote:
remote:  - change #gpio-cells, #interrupt-cells, and brcm,gpio-bank-widths from
remote:    hex to dec
remote:  - use phandles
remote:
remote:  refs #SWLINUX-3604
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 139bc47f8f2649e183283c994be139d0044aa6d4)
remote:
remote:
remote:   .../gpio/brcm,brcmstb-gpio.txt         | 24 ++++++--------
remote:   1 file changed, 10 insertions(+), 14 deletions(-)
remote:  ;gregory@broadcom.com;2016-05-24 16:07:34 -0400;4bb440271fb87bea35c141289862511fea9f217a;gpio: brcmstb: support wakeup from S5 cold boot;
remote:  For wake from S5, we need to:
remote:  - register a reboot handler
remote:  - set wakeup capability before requesting IRQ so wakeup count is incremented
remote:  - mask all GPIO IRQs and clear any pending interrupts during driver probe to
remote:    since no driver will yet be registered to handle any IRQs carried over from
remote:    boot at that time, and it's possible that the booted kernel does not request
remote:    the same IRQ anyway.
remote:
remote:  This means that /sys/.../power/wakeup_count is valid at boot time,
remote:  and we can properly account for S5 wakeup stats. e.g.:
remote:
remote:    ### After waking from S5 from a GPIO key
remote:    # cat /sys/bus/platform/drivers/brcmstb-gpio/f04172c0.gpio/power/wakeup
remote:    enabled
remote:    # cat /sys/bus/platform/drivers/brcmstb-gpio/f04172c0.gpio/power/wakeup_count
remote:    1
remote:
remote:  refs #SWLINUX-3604
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit c6c609b5e17b3d12bd68d3c85a642e297a1b0854)
remote:
remote:
remote:   drivers/gpio/gpio-brcmstb.c | 56 ++++++++++++++++++++++---
remote:   1 file changed, 50 insertions(+), 6 deletions(-)
remote:  ;gregory@broadcom.com;2016-05-24 16:07:34 -0400;fe446931a14190ae615eb642bfaaeee4be4901cb;gpio: brcmstb: switch to using gpiolib irqchip helpers;
remote:  Switches the BRCMSTB UPG GIO driver to using the gpiolib irqchip helpers
remote:  in the gpiolib core.  This lets us reduce the amount of duplicated code
remote:  a bit.  For this to work, the irq setup function is changed to be called
remote:  once per bank instead of once per device.
remote:
remote:  What wasn't obvious to me before: you can have multiple chained irqchips
remote:  and associated IRQ domains for a single parent IRQ, and as long as the
remote:  xlate function is written correctly, a GPIO IRQ request end up checking
remote:  the correct domain and will get associated with the correct IRQ.  What
remote:  helps make this clear is to read
remote:    drivers/gpio/gpiolib-of.c:
remote:     - of_gpiochip_find_and_xlate()
remote:     - of_get_named_gpiod_flags()
remote:    drivers/gpio/gpiolib.c:
remote:     - gpiochip_find()
remote:
remote:  refs #SWLINUX-3604
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit bd08857fde1fc4c2bd2b05aced340f85a721059e)
remote:
remote:
remote:   drivers/gpio/Kconfig        |   2 +-
remote:   drivers/gpio/gpio-brcmstb.c | 184 +++++++-----------------
remote:   2 files changed, 49 insertions(+), 137 deletions(-)
remote:  ;gregory@broadcom.com;2016-05-24 16:07:33 -0400;867e5302deb87ae36296b48b018f90bee8b3e320;gpio: brcmstb: add missing sanity checks;
remote:  Check the return values of {enable,disable}_irq_wake, check for
remote:  brcmstb_gpio_irq_handler being called before anything can actually
remote:  handle the IRQ, and add a missing newline.  Also return IRQ_NONE in
remote:  irq_set_wake if we didn't get called with the right irq.
remote:
remote:  While we're at it, make a trivial change from of_find_property() to
remote:  of_property_read_bool() when checking for "interrupt-controller".
remote:
remote:  refs #SWLINUX-3604
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 31fd5393318751c6e8abe8e1c6d19d79b3e436b8)
remote:
remote:
remote:   drivers/gpio/gpio-brcmstb.c | 20 +++++++++++++++-----
remote:   1 file changed, 15 insertions(+), 5 deletions(-)
remote:  ;gregory@broadcom.com;2016-05-24 16:07:33 -0400;722eccbca53020f47fe9e77de566936caf05cc77;gpio: brcmstb: fix null ptr dereference in driver remove;
remote:  If a failure occurs during probe, brcmstb_gpio_remove() is called. In remove,
remote:  we call platform_get_drvdata(), but at the time of failure in the probe the
remote:  driver data hadn't yet been set which leads to a NULL ptr dereference in the
remote:  remove's list_for_each.  Call platform_set_drvdata() and set up list head right
remote:  after allocating the priv struct to both avoid the null pointer dereference
remote:  that could occur today.  To guard against potential future changes, check for
remote:  null pointer in remove.
remote:
remote:  refs #SWLINUX-3604
remote:
remote:  Reported-by: Tim Ross <tross@broadcom.com>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 6db5d7318424b75086bd041a3ee135444dd7d501)
remote:
remote:
remote:   drivers/gpio/gpio-brcmstb.c | 14 +++++++++++---
remote:   1 file changed, 11 insertions(+), 3 deletions(-)
remote:  ;gregory@broadcom.com;2016-05-24 16:07:32 -0400;c72340f6d1e3ed4efcfd2074104e8ed6f98f666c;gpio: brcmstb: temporarily demote missing IRQ from err to warn;
remote:  Since we are using the IRQ0 stub by default, the attempt to get the IRQ for the
remote:  GPIO controller will fail.  So for now, don't fail probe, only warn and tell
remote:  the user how they can get GPIO interrupt support in linux.
remote:
remote:  Revert me when BCM7120_L2_IRQ=y is the default.
remote:
remote:  refs #SWLINUX-3604
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit ab1c7246da1447879a5168885ebf87abaf4a568a)
remote:
remote:
remote:   drivers/gpio/gpio-brcmstb.c | 5 +++++
remote:   1 file changed, 5 insertions(+)
remote:  ;jarkko.nikula@linux.intel.com;2016-05-24 16:07:32 -0400;e349df58bde5d5354040633e57b8d5a5c3c3ee8e;gpio: Fix potential NULL handler data in chained irqchip handler;
remote:  [Upstream commit 324b0398781e7afb846378dd2d8a4374faaf236b]
remote:
remote:  There is possibility with misconfigured pins that interrupt occurs instantly
remote:  after setting irq_set_chained_handler() in gpiochip_set_chained_irqchip().
remote:  Now if handler gets called before irq_set_handler_data() the handler gets
remote:  NULL handler data.
remote:
remote:  Fix this by moving irq_set_handler_data() call before
remote:  irq_set_chained_handler() in gpiochip_set_chained_irqchip().
remote:
remote:  refs #SWLINUX-3604
remote:
remote:  Cc: Stable <stable@vger.kernel.org> # 3.15+
remote:  Reviewed-by: Alexandre Courbot <acourbot@nvidia.com>
remote:  Signed-off-by: Jarkko Nikula <jarkko.nikula@linux.intel.com>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit afcedf4920729e2019f0054c87d018e214a14b0b)
remote:
remote:
remote:   drivers/gpio/gpiolib.c | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;pebolle@tiscali.nl;2016-05-24 16:07:31 -0400;e566ea8ee679a8da1d00ce744a5c8d44e1fd14c7;gpio: fix 'CONFIG_GPIO_IRQCHIP' comments;
remote:  [Upstream commit 7d75a871888e3f5e1a7c99bf240d1cd67d8bdfa0]
remote:
remote:  These two typos were introduced in commit 1425052097b5 ("gpio: add IRQ
remote:  chip helpers in gpiolib").
remote:
remote:  The correct symbol name is CONFIG_GPIOLIB_IRQCHIP.
remote:
remote:  refs #SWLINUX-3604
remote:
remote:  [jkosina@suse.cz: add changelog]
remote:  Signed-off-by: Paul Bolle <pebolle@tiscali.nl>
remote:  Signed-off-by: Jiri Kosina <jkosina@suse.cz>
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit ee7331e7cbb3c94db9f02633208047aff86e3b7d)
remote:
remote:
remote:   include/linux/gpio/driver.h | 4 ++--
remote:   1 file changed, 2 insertions(+), 2 deletions(-)
remote:  ;treding@nvidia.com;2016-05-24 16:07:31 -0400;badde22c79c9f7f8911852d092beee19d24d78e3;gpio: of: Remove unneeded dummy function;
remote:  [Upstream commit 47a95fe71662fa38ff3abe9956f1ca1451fa6e70]
remote:
remote:  of_find_gpio() is always called under an IS_ENABLED(CONFIG_OF), so the
remote:  dummy implementation provided for !OF configurations is not needed.
remote:
remote:  refs #SWLINUX-3604
remote:
remote:  Signed-off-by: Thierry Reding <treding@nvidia.com>
remote:  Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 014059ea2f474a91e70e7cd6074ccb85174c9bcb)
remote:
remote:
remote:   drivers/gpio/gpiolib.c | 9 ---------
remote:   1 file changed, 9 deletions(-)
remote:  ;linus.walleij@linaro.org;2016-05-24 16:07:30 -0400;cca139d3fb54d0a56277cd3e2caf05b4e7a5f4c9;gpio: do not set up hardware for IRQ_TYPE_NONE;
remote:  [Upstream commit 1333b90f33623cdc4028a3523bc186330573990a]
remote:
remote:  Some GPIO irqchip drivers exploit the irqdomain mapping
remote:  function to set up the IRQ default type in the hardware,
remote:  make sure that if we pass IRQ_TYPE_NONE, no hardware setup
remote:  whatsoever takes place (this should be the norm) until
remote:  later when the IRQ gets utilized.
remote:
remote:  refs #SWLINUX-3604
remote:
remote:  Cc: Ezequiel Garcia <ezequiel.garcia@free-electrons.com>
remote:  Cc: Santosh Shilimkar <santosh.shilimkar@ti.com>
remote:  Cc: linux-omap <linux-omap@vger.kernel.org>
remote:  Tested-by: Peter Ujfalusi <peter.ujfalusi@ti.com>
remote:  Tested-by: Javier Martinez Canillas <javier@dowhile0.org>
remote:  Tested-by: Nishanth Menon <nm@ti.com>
remote:  Acked-by: Nishanth Menon <nm@ti.com>
remote:  Tested-by: Tony Lindgren <tony@atomide.com>
remote:  Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit c859e437358baa7e95a5cf502be11edae5793797)
remote:
remote:
remote:   drivers/gpio/gpiolib.c | 10 ++++++++--
remote:   1 file changed, 8 insertions(+), 2 deletions(-)
remote:  ;linus.walleij@linaro.org;2016-05-24 16:07:30 -0400;30d929b5cf97760475dd94621f2f6efb25697474;gpio: put GPIO IRQs into their own lock class;
remote:  [Upstream commit e45d1c80c0eee88e82751461e9cac49d9ed287bc]
remote:
remote:  Another feature that is duplicated in a number of GPIO irqchips
remote:  is that these cascades IRQs are assigned their own lock class
remote:  so as to avoid warnings about lockdep recursions. Do this also
remote:  in the generic GPIO irqchip helpers for smooth transition to
remote:  this core infrastructure.
remote:
remote:  refs #SWLINUX-3604
remote:
remote:  Cc: Thomas Gleixner <tglx@linutronix.de>
remote:  Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 714a2554d38f3601320db081b41cfee68589ab70)
remote:
remote:
remote:   drivers/gpio/gpiolib.c | 7 +++++++
remote:   1 file changed, 7 insertions(+)
remote:  ;linus.walleij@linaro.org;2016-05-24 16:07:29 -0400;9b8d755ab24d244f393c64ff290cfc7f43f7f324;gpio: support threaded interrupts in irqchip helpers;
remote:  [Upstream commit 1c8732bb0355b929b09173464cdca7df4d516f89]
remote:
remote:  Some off-chip GPIO expanders need to be communicated by I2C or
remote:  SPI traffic, but may still support IRQs. By the sleeping nature
remote:  of such buses, such IRQ handlers need to be threaded. Support
remote:  such handlers in the gpiochip irqchip helpers by flagging IRQs
remote:  as threaded if the .can_sleep property of the gpiochip is
remote:  true.
remote:
remote:  Helpfully deny registration of chained IRQ handlers if the
remote:  .can_sleep property is set, as such chips will invariably need
remote:  a nested handler rather than a chained handler.
remote:
remote:  refs #SWLINUX-3604
remote:
remote:  Cc: Thomas Gleixner <tglx@linutronix.de>
remote:  Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit df749dcfb45e74fd739cb35a2e033adf501535e3)
remote:
remote:
remote:   drivers/gpio/gpiolib.c      | 12 ++++++++++++
remote:   include/linux/gpio/driver.h |  5 ++++-
remote:   2 files changed, 16 insertions(+), 1 deletion(-)
remote:  ;linus.walleij@linaro.org;2016-05-24 16:07:29 -0400;87a2eadd092b292b26265b35fe65409c0bfed109;gpio: set data first, then chip and handler;
remote:  [Upstream commit 7633fb959b711a8d91548911eb087fb931c7b8e4]
remote:
remote:  During irq mapping, in irq_set_chip_and_handler() the process
remote:  of setting this up may incur calls to lock the irqchip, which
remote:  in turn may need to dereference and use the chip data. So set
remote:  the data first, then set the chip and handler.
remote:
remote:  refs #SWLINUX-3604
remote:
remote:  Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 36bd53062d57cab74fc1e7a2345bef4acfc66539)
remote:
remote:
remote:   drivers/gpio/gpiolib.c | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;linus.walleij@linaro.org;2016-05-24 16:07:28 -0400;e44c42bd3215540e48a20e9b03a2d6c4a29a5897;gpio: unmap gpio irqs properly;
remote:  [Upstream commit c3626fdea044cc97bfc035ebb048f7619acb6736]
remote:
remote:  When using the irqchip helper inside the gpiolib, make sure
remote:  the IRQs are unmapped/disposed before the irqdomain is removed
remote:  as part of removing the gpiochip.
remote:
remote:  refs #SWLINUX-3604
remote:
remote:  Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit d462aefdead8ea30054e1d561f2570fe10d76b02)
remote:
remote:
remote:   drivers/gpio/gpiolib.c      | 33 ++++++++++++++++++++++---
remote:   include/linux/gpio/driver.h |  1 +
remote:   2 files changed, 30 insertions(+), 4 deletions(-)
remote:  ;linus.walleij@linaro.org;2016-05-24 16:07:28 -0400;dc8cf272820792f6c9266af2f03cb3824e076a10;gpio: add IRQ chip helpers in gpiolib;
remote:  [Upstream commit 1425052097b53de841e064dc190a9009480c208c]
remote:
remote:  This provides a function gpiochip_irqchip_add() to set
remote:  up an irqchip for a GPIO controller, and a function
remote:  gpiochip_set_chained_irqchip() to chain it to a parent
remote:  irqchip.
remote:
remote:  Most GPIOs are of the type where a number of lines form
remote:  a cascaded interrupt controller chained onto
remote:  the primary system interrupt controller (or further down the
remote:  chain) so let's add this helper and factor the code to
remote:  request the lines to be used as IRQs, the .to_irq() function
remote:  and the irqdomain into the core as well.
remote:
remote:  refs #SWLINUX-3604
remote:
remote:  Acked-by: Thomas Gleixner <tglx@linutronix.de>
remote:  Acked-by: Alexandre Courbot <acourbot@nvidia.com>
remote:  Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit ae5165c6bcc91ca129402cc5fffa82656eb4db76)
remote:
remote:
remote:   drivers/gpio/Kconfig        |   3 +
remote:   drivers/gpio/gpiolib.c      | 188 ++++++++++++++++++++++++
remote:   include/linux/gpio/driver.h |  29 ++++
remote:   3 files changed, 220 insertions(+)
remote:  ;tglx@linutronix.de;2016-05-24 16:07:27 -0400;22748012bbaf82b2a765507b1a3804fd7ea7c0eb;genirq: Provide irq_request/release_resources chip callbacks;
remote:  [Upstream commit f438acdf3de8f19ad2789eddbf52e3280292759b]
remote:
remote:  For certain irq types, e.g. gpios, it's necessary to request resources
remote:  before starting up the irq.
remote:
remote:  This might fail so we cannot use the irq_startup() callback because we
remote:  might call the irq_set_type() callback before that which does not make
remote:  sense when the resource is not available. Calling irq_startup() before
remote:  irq_set_type() can lead to spurious interrupts which is not desired
remote:  either.
remote:
remote:  refs #SWLINUX-3604
remote:
remote:  Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
remote:  Cc: Jean-Jacques Hiblot <jjhiblot@traphandler.com>
remote:  Cc: Grant Likely <grant.likely@linaro.org>
remote:  Cc: linux-arm-kernel@lists.infradead.org
remote:  Reviewed-by: Linus Walleij <linus.walleij@linaro.org>
remote:  Link: http://lkml.kernel.org/r/alpine.DEB.2.02.1403080857160.18573@ionos.tec.linutronix.de
remote:  Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit cc8c8e48691674a7b98dda49a8f9461787e608c4)
remote:
remote:
remote:   include/linux/irq.h |  6 ++++++
remote:   kernel/irq/manage.c | 28 +++++++++++++++++++++++++++-
remote:   2 files changed, 33 insertions(+), 1 deletion(-)
remote:  ;mika.westerberg@linux.intel.com;2016-05-24 16:07:27 -0400;1c677ef2ff4406cdcd5d84d03f8ecc7fe4467ca4;gpiolib: Allow GPIO chips to request their own GPIOs;
remote:  [Upstream commit 77c2d7929d7d7f0e391b17f85d2d954912ed0590]
remote:
remote:  Sometimes it is useful to allow GPIO chips themselves to request GPIOs they
remote:  own through gpiolib API. One use case is ACPI ASL code that should be able
remote:  to toggle GPIOs through GPIO operation regions.
remote:
remote:  We can't use gpio_request() because it will pin the module to the kernel
remote:  forever (it calls try_module_get()). To solve this we move module refcount
remote:  manipulation to gpiod_request() and let __gpiod_request() handle the actual
remote:  request. This changes the sequence a bit as now try_module_get() is called
remote:  outside of gpio_lock (I think this is safe, try_module_get() handles
remote:  serialization it needs already).
remote:
remote:  Then we provide gpiolib internal functions gpiochip_request/free_own_desc()
remote:  that do the same as gpio_request() but don't manipulate module refrence
remote:  count. This allows the GPIO chip driver to request and free descriptors it
remote:  owns without being pinned to the kernel forever.
remote:
remote:  refs #SWLINUX-3604
remote:
remote:  Signed-off-by: Mika Westerberg <mika.westerberg@linux.intel.com>
remote:  Reviewed-by: Alexandre Courbot <acourbot@nvidia.com>
remote:  Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit b419a537c1b1c78cb53d9f2e27a1750a08cf8589)
remote:
remote:
remote:   drivers/gpio/gpiolib.c | 100 +++++++++++++++++++++--------
remote:   drivers/gpio/gpiolib.h |   3 +
remote:   2 files changed, 76 insertions(+), 27 deletions(-)
remote:  ;linus.walleij@linaro.org;2016-05-24 16:07:26 -0400;5c26cf1c76917e37b61052a5c24ed130ec237ced;gpio: remove misleading documentation;
remote:  [Upstream commit f438acdf3de8f19ad2789eddbf52e3280292759b]
remote:
remote:  It is currently debated where the functions to lock a certain
remote:  GPIO line as used for IRQs should be called. Delete all
remote:  misleading documentation.
remote:
remote:  refs #SWLINUX-3604
remote:
remote:  Reported-by: Thomas Gleixner <tglx@linutronix.de>
remote:  Cc: Jean-Jacques Hiblot <jjhiblot@traphandler.com>
remote:  Acked-by: Alexandre Courbot <acourbot@nvidia.com>
remote:  Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit ed381afb161cc486015d4df31efa562009e5e51d)
remote:
remote:
remote:   drivers/gpio/gpiolib.c | 5 +----
remote:   1 file changed, 1 insertion(+), 4 deletions(-)
remote:  ;richard.genoud@gmail.com;2016-05-24 16:07:26 -0400;86d3fd3dca70dba137accfcc20e0083441c3ba9c;gpio: update path to documentation;
remote:  [Upstream commit bb1e88ccb771492ac908ac295ec135efa1d53093]
remote:
remote:  ref #SWLINUX-3604
remote:
remote:  Signed-off-by: Richard Genoud <richard.genoud@gmail.com>
remote:  Signed-off-by: Jiri Kosina <jkosina@suse.cz>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit c2d2ef9c6caa06129a22da9c55b93c5cc2e53c75)
remote:
remote:
remote:   include/linux/gpio.h | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;acourbot@nvidia.com;2016-05-24 16:07:25 -0400;01642d0b3a94561cec8f2272ef233d287302532f;gpiolib: add gpiochip_get_desc() driver function;
remote:  [Upstream commit bb1e88ccb771492ac908ac295ec135efa1d53093]
remote:
remote:  Some drivers dealing with a gpio_chip might need to act on its
remote:  descriptors directly; one example is pinctrl drivers that need to lock a
remote:  GPIO for being used as IRQ using gpiod_lock_as_irq().
remote:
remote:  This patch exports a gpiochip_get_desc() function that returns the
remote:  GPIO descriptor at the requested index. It also sweeps the
remote:  gpio_to_chip() function out of the consumer interface since any holder
remote:  of a gpio_chip reference can manipulate its GPIOs way beyond what a
remote:  consumer should be allowed to do.
remote:
remote:  As a result, gpio_chip is not visible anymore to simple GPIO consumers.
remote:
remote:  refs #SWLINUX-3604
remote:
remote:  Signed-off-by: Alexandre Courbot <acourbot@nvidia.com>
remote:  Reviewed-by: Mika Westerberg <mika.westerberg@linux.intel.com>
remote:  Reviewed-by: Jean-Jacques Hiblot <jjhiblot@traphandler.com>
remote:  Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit d3746d7959ee314df2a82453a1aab96b883c21e5)
remote:
remote:
remote:   drivers/gpio/gpiolib.c        | 17 +++++++++--------
remote:   include/linux/gpio/consumer.h |  8 --------
remote:   include/linux/gpio/driver.h   | 18 ++++++++++++++++++
remote:   3 files changed, 27 insertions(+), 16 deletions(-)
remote:  ;gregory@broadcom.com;2016-05-24 16:07:25 -0400;fa4c97c122d76805034c7cb3caf71c47fa189bda;test: add brcmstb memory api tester;
remote:  refs #SWLINUX-3504
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 3daf94837bd8aca3fefdc40c5387ea3b3caa1400)
remote:
remote:
remote:   .../brcmstb/memory-api/.gitignore      |  1 +
remote:   .../testing/brcmstb/memory-api/Kbuild  |  1 +
remote:   .../brcmstb/memory-api/Makefile        | 17 +++
remote:   .../testing/brcmstb/memory-api/README  |  7 ++
remote:   .../memory-api/test-memory-api.c       | 91 ++++++++++++++
remote:   5 files changed, 117 insertions(+)
remote:  ;gregory@broadcom.com;2016-05-24 16:07:24 -0400;bfbd01d8142cc205ac9d49690927ec9ce1ddc000;brcmstb: document brcm_cma and bmem parameters;
remote:  refs #SWLINUX-3504
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit f85d575c72e395ec75abe1da1feb949eeec6b5e8)
remote:
remote:
remote:   Documentation/kernel-parameters.txt | 14 ++++++++++++++
remote:   1 file changed, 14 insertions(+)
remote:  ;gregory@broadcom.com;2016-05-24 16:07:24 -0400;d78d76c9a3e58bdb029c77f758579215e8ec20d2;brcmstb: bmem: Add default reservation;
remote:  The default reservation matches that which was previously the default
remote:  reservation for cma_driver:
remote:
remote:  if only lowmem:
remote:    reserved 80%
remote:  else:
remote:    reserve all but 256 MiB in 32-bit space
remote:    in >32-bit space, reserve 64 MiB per bank
remote:
remote:  refs #SWLINUX-3504
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 66dc387e14502334c6da14c77f059de11d909624)
remote:
remote:
remote:   drivers/soc/brcmstb/bmem.c | 105 +++++++++++++++++++++++++
remote:   1 file changed, 105 insertions(+)
remote:  ;gregory@broadcom.com;2016-05-24 16:07:20 -0400;4ae6fa06fd9535d0e0542218d5d7921fe0ca23c3;cma: brcm-cma: no default reserve, add brcm_cma boot param;
remote:  We no longer create any CMA reserved areas by default, as they will be bmem
remote:  instead.  Add a brcm_cma parameter that allows specifying locations where a cma
remote:  region should be created.
remote:
remote:  Example: passing in 'brcm_cma=512M@1024M brcm_cma=512M@1536M' will result in
remote:  two CMA regions 512 MiB in size, one at 0x40000000 and one at 0x60000000.
remote:
remote:  refs #SWLINUX-3504
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 1b4fc982f75080a83fd5c3a8813d072702b9877c)
remote:
remote:
remote:   drivers/soc/brcmstb/cma_driver.c | 239 +++++--------------
remote:   1 file changed, 64 insertions(+), 175 deletions(-)
remote:  ;gregory@broadcom.com;2016-05-24 16:02:51 -0400;67858446a7cb12a5b6ec65e697e40139f5fe86ba;mach-bcm: rename brcmstb.h to headsmp-brcmstb.h;
remote:  Since brcmstb.h only contains a single declaration for headsmp-brcmstb.h,
remote:  rename accordingly.
remote:
remote:  refs #SWLINUX-3504
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 2ed1e3eec72c5dace11debba141d7c4efe59fef2)
remote:
remote:
remote:   arch/arm/mach-bcm/brcmstb.h         | 23 -----------------
remote:   arch/arm/mach-bcm/headsmp-brcmstb.h | 23 +++++++++++++++++
remote:   arch/arm/mach-bcm/platsmp-brcmstb.c |  2 +-
remote:   3 files changed, 24 insertions(+), 24 deletions(-)
remote:  ;gregory@broadcom.com;2016-05-24 16:02:47 -0400;e550ad175f2639b760375040f30c28d240e1432a;brcmstb: move cma/bmem reserve and register decls to their headers;
remote:  Since cma_driver and bmem are both outside of arch code, move the declarations
remote:  for their _reserve (and for cma, _register) functions into their respective
remote:  header files.
remote:
remote:  refs #SWLINUX-3611, refs #SWLINUX-3504
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit dc095fb8f347606c6720125187528a738ed2f437)
remote:
remote:
remote:   arch/arm/mach-bcm/brcmstb.c        | 103 +----------------
remote:   arch/arm/mach-bcm/brcmstb.h        |  14 ---
remote:   include/linux/brcmstb/bmem.h       |   8 ++
remote:   include/linux/brcmstb/cma_driver.h |  11 ++
remote:   4 files changed, 20 insertions(+), 116 deletions(-)
remote:  ;gregory@broadcom.com;2016-05-24 15:54:35 -0400;b182c2dc41123396b34eeb49c2cfa3a4667f4bc1;soc: brcmstb: Add memory API for middleware;
remote:  Adds a way for the Broadcom middleware (nexus) to be able to get the
remote:  information it needs about how memory is placed on the system.  This is done by
remote:  the ability to populate a struct brcmstb_memory with info on
remote:  - PA ranges for each memory controller
remote:  - static "bmem" ranges
remote:  - dynamic (CMA in this case) reserved ranges
remote:  - reserved areas unavailable to middleware
remote:
remote:  We use libfdt to read the device tree for info on what memory should actually
remote:  be visible.
remote:
remote:  Moves phys_addr_to_memc from cma_driver to memory API and renames as
remote:  brcmstb_memory_phys_addr_to_memc, since it is now shared by cma_driver and this
remote:  code.
remote:
remote:  This also adds to the platform reserve code in order to grab the memblock
remote:  reserve info during early boot, as the memblock info isn't discarded later.
remote:
remote:  refs #SWLINUX-3504
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit e2beab5376997fbdf8bb14df1b5a0ff079f4b092)
remote:
remote:
remote:   arch/arm/configs/brcmstb_defconfig |   1 +
remote:   arch/arm/mach-bcm/brcmstb.c        |   1 +
remote:   drivers/soc/brcmstb/Kconfig        |  12 +-
remote:   drivers/soc/brcmstb/Makefile       |   3 +
remote:   drivers/soc/brcmstb/cma_driver.c   |  61 +--
remote:   drivers/soc/brcmstb/memory.c       | 330 +++++++++++++++++
remote:   include/linux/brcmstb/brcmstb.h    |  20 +-
remote:   include/linux/brcmstb/memory_api.h |  79 ++++
remote:   8 files changed, 443 insertions(+), 64 deletions(-)
remote:  ;gregory@broadcom.com;2016-05-24 15:54:32 -0400;f39f776af91971af7eab12fd4a8e655ae43abd21;soc: brcmstb: Add option BRCMSTB_CMA;
remote:  Adds a config knob for the brcmstb platform-specific reserve/register
remote:  functions, ioctls, kernel API, and O_DIRECT on CMA pages.  This code used to be
remote:  enabled for BRCMSTB && CMA, but these interfaces are probably only wanted when
remote:  using brcmstb middleware, so it'd be good to be able to easily disable it.
remote:
remote:  Enables the new option in brcmstb_defconfig so that we keep the same behavior
remote:  as before.
remote:
remote:  refs #SWLINUX-3611
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 516073dc666b23cff305bca148d98ca1f5c5c1e5)
remote:
remote:
remote:   arch/arm/configs/brcmstb_defconfig |  1 +
remote:   arch/arm/mach-bcm/brcmstb.h        |  4 ++--
remote:   drivers/soc/brcmstb/Kconfig        | 11 +++++++++++
remote:   drivers/soc/brcmstb/Makefile       |  3 ++-
remote:   mm/memory.c                        |  4 ++--
remote:   5 files changed, 18 insertions(+), 5 deletions(-)
remote:  ;gregory@broadcom.com;2016-05-24 15:49:03 -0400;a1bc48164c7a05409db696633780f0f1445b930f;soc: brcmstb: Move cma_driver from arch/arm/mach-bcm;
remote:  Move brcmstb platform CMA driver from arch/arm/mach-bcm/cma_driver.c to its new
remote:  home at drivers/platform/brcmstb/brcmstb-cma.c.  Note that there are still some
remote:  ARM-specific parts and those parts rely on meminfo which goes away in 3.16.
remote:
remote:  refs #SWLINUX-3611
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 3482ca7f452e553c26e674be1d7b20cec15ce509)
remote:
remote:
remote:   arch/arm/mach-bcm/Makefile       |    2 +-
remote:   arch/arm/mach-bcm/cma_driver.c   | 1210 ------------------
remote:   drivers/soc/brcmstb/Makefile     |    2 +-
remote:   drivers/soc/brcmstb/cma_driver.c | 1210 ++++++++++++++++++
remote:   4 files changed, 1212 insertions(+), 1212 deletions(-)
remote:  ;gregory@broadcom.com;2016-05-24 15:49:02 -0400;321b2618a550b42fbfdbc100a00e4aacdc9f126c;ARM: mm: move fdt reservedmem scan before platform reserve;
remote:  This change makes it possible to see what memory was marked as reserved (both
remote:  memreserve entries and reserved-memory nodes) in devicetree before doing
remote:  platform-specific reserve, which is necessary for the brcmstb memory API.
remote:
remote:  refs #SWLINUX-3504
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit d2de3f34701317175164095f794c0678d9d46c70)
remote:
remote:
remote:   arch/arm/mm/init.c | 13 +++++++++++++
remote:   1 file changed, 13 insertions(+)
remote:  ;gregory@broadcom.com;2016-05-24 15:49:02 -0400;7c817d7ce47927e63108b2a3e50593bf12bd9406;bmem: Add brcmstb platform_device and populate with bmem entries;
remote:  Just putting this in bmem.c for now since the bmem entries will be the only
remote:  things under /sys/devices/platform/brcmstb .
remote:
remote:  refs #SWLINUX-3504
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit e3fca12bc50ed83df77389401c65ff7a5f24882d)
remote:
remote:
remote:   drivers/soc/brcmstb/bmem.c | 69 ++++++++++++++++++++++++++
remote:   1 file changed, 69 insertions(+)
remote:  ;gregory@broadcom.com;2016-05-24 15:48:51 -0400;53a317e5f430024452bf7a7b22d3889aee335565;brcmstb: Allow bmem to be used for boot-time reserve;
remote:  Also some minor whitespace changes and comments for readability.
remote:
remote:  refs #SWLINUX-3504
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 09b00075a0172d50cf508b0e63f4da28f16dfdf9)
remote:
remote:
remote:   arch/arm/mach-bcm/brcmstb.c | 19 ++-----------------
remote:   arch/arm/mach-bcm/brcmstb.h | 11 ++++++++++-
remote:   drivers/soc/brcmstb/bmem.c  | 14 +++++++++++++-
remote:   3 files changed, 25 insertions(+), 19 deletions(-)
remote:  ;gregory@broadcom.com;2016-05-24 15:40:57 -0400;d601eba4d2d8622d4d0c5fedd4c2f59a9df31791;mm: Allow O_DIRECT for bmem-managed regions;
remote:  Rename cma_get_page to brcmstb_get_page and use it for checking whether the
remote:  underlying page is in either a CMA or BMEM region.
remote:
remote:  refs #SWLINUX-3504
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 04886ea315824ed5321ed2c965b7b7c5ca554b14)
remote:
remote:
remote:   mm/memory.c | 49 ++++++++++++++++++++++++++++++-----------
remote:   1 file changed, 36 insertions(+), 13 deletions(-)
remote:  ;gregory@broadcom.com;2016-05-24 15:40:57 -0400;b8f9d9b145e9c98cada4c5b65f3501da75e00965;brcmstb: port bmem from stblinux-3.3-3.5 release;
remote:  Changes include:
remote:
remote:  - Place in drivers/soc/brcmstb
remote:  - Use new Kconfig entry to enable: CONFIG_BRCMSTB_BMEM
remote:  - No default allocation (must specify everything manually).
remote:  - Does not assume that address 0 means "put at end of memc0".  It'll put the
remote:    reserved regions wherever you want.
remote:  - No safeties: you can reserve all of lowmem if you want to watch the kernel
remote:    crash and burn.
remote:  - No special handling for memc1: not needed since we're not overriding the
remote:    default free_bootmem like on mips, but rather providing a saner means via
remote:    bmem_reserve which uses memblock and will be called from arch code.
remote:  - MAX_BMEM_REGIONS bumped from 4 to 8.
remote:  - Uses phys_addr_t instead of unsigned long so we can use >32-bit addresses
remote:    where appropriate.
remote:  - Don't BUG on pud_none in bmem_get_page because we've seen this unnecessarily
remote:    crashes the kernel on ARM when called from GUP (see SWLINUX-3350)
remote:  - Use phys_addr_t for bmem functions
remote:
remote:  refs #SWLINUX-3504
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 0d0c2367c11afe4e956b0327a31502ee03c51576)
remote:
remote:
remote:   arch/arm/configs/brcmstb_defconfig |   1 +
remote:   drivers/soc/brcmstb/Kconfig        |  12 ++
remote:   drivers/soc/brcmstb/Makefile       |   1 +
remote:   drivers/soc/brcmstb/bmem.c         | 171 +++++++++++++++++
remote:   include/linux/brcmstb/bmem.h       |  26 +++
remote:   5 files changed, 211 insertions(+)
remote:  ;jquinlan@broadcom.com;2016-05-24 15:40:56 -0400;ba3eb6f07e248304b5d85935a481774b04ad39aa;clk: add configurable clock multiplier;
remote:  This defines a clock multiplier.  It is essentially a mirror of
remote:  clk-divider.c.
remote:
remote:  refs #SWLINUX-3650
remote:
remote:  Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:  (cherry picked from commit 8da3c075ec07d2a583f4397808ed99a3f2c9c884)
remote:
remote:
remote:   .../clock/multiplier-clock.txt         |  84 ++
remote:   drivers/clk/Makefile                   |   1 +
remote:   drivers/clk/clk-brcmstb.c              |   2 +
remote:   drivers/clk/clk-multiplier.c           | 550 +++++++++++++
remote:   include/linux/clk-provider.h           |  82 ++
remote:   5 files changed, 719 insertions(+)
remote:  ;fainelli@broadcom.com;2016-05-24 15:40:55 -0400;8c4d0ad834c3f403df591038cbf59e11573952c8;BCMSYSPORT: fix software maintained statistics;
remote:  [Upstream commit 55ff4ea9a853f5ec9a8290c0ccc1d00c97e49f82]
remote:
remote:  Commit 60b4ea1781fd ("net: systemport: log RX buffer allocation and RX/TX DMA
remote:  failures") added a few software maintained statistics using
remote:  BCM_SYSPORT_STAT_MIB_RX and BCM_SYSPORT_STAT_MIB_TX. These statistics are read
remote:  from the hardware MIB counters, such that bcm_sysport_update_mib_counters() was
remote:  trying to read from a non-existing MIB offset for these counters.
remote:
remote:  Fix this by introducing a special type: BCM_SYSPORT_STAT_SOFT, similar to
remote:  BCM_SYSPORT_STAT_NETDEV, such that bcm_sysport_get_ethtool_stats will read from
remote:  the software mib.
remote:
remote:  refs #SWLINUX-3690
remote:
remote:  Fixes: 60b4ea1781fd ("net: systemport: log RX buffer allocation and RX/TX DMA failures")
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 838aed6af382ec702d872701eee3a3b9ec5da913)
remote:
remote:
remote:   drivers/net/ethernet/broadcom/bcmsysport.c | 7 ++++---
remote:   drivers/net/ethernet/broadcom/bcmsysport.h | 2 ++
remote:   2 files changed, 6 insertions(+), 3 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 15:40:55 -0400;50f4a00113764c6d7ceba5c09b87f7bf42cf3c50;BCMSYSPORT: Add a check for oversized packets;
remote:  We might occasionally receive oversized packets which will make us invoke
remote:  skb_over_panic() since the length of the packet exceeds the nominal size of
remote:  2KiB we allocated space for. Avoid crashing the kernel, but instead just
remote:  discard this packet and move on to process the next one.
remote:
remote:  refs #SWLINUX-3690
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit deaba2d5df1605260e76f438c8b3ba3e61dcfe21)
remote:
remote:
remote:   drivers/net/ethernet/broadcom/bcmsysport.c | 8 ++++++++
remote:   1 file changed, 8 insertions(+)
remote:  ;fainelli@broadcom.com;2016-05-24 15:40:54 -0400;2d79c64b2ad9fb411996bdd240cfc93fd4f85530;BCMSYSPORT: Switch TX reclaim to NAPI context;
remote:  Matches the upstream driver and provides a small relief on CPU load by allowing
remote:  per-TX queue softirq contexts to be scheduled.
remote:
remote:  refs #SWLINUX-3690
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit ac4a2acc2453bccb87e6a16d1fd1313be305b531)
remote:
remote:
remote:   .../net/ethernet/broadcom/bcmsysport.c | 33 +++++++++++++-
remote:   .../net/ethernet/broadcom/bcmsysport.h |  2 +
remote:   2 files changed, 34 insertions(+), 1 deletion(-)
remote:  ;fainelli@broadcom.com;2016-05-24 15:40:54 -0400;de3eb0ad550f3e2d26be3f9dbd5af01324fe7003;BCMSYSPORT: rewrite bcm_sysport_rx_refill;
remote:  Currently, bcm_sysport_desc_rx() calls bcm_sysport_rx_refill() at the end of Rx
remote:  packet processing loop, after the current Rx packet has already been passed to
remote:  napi_gro_receive(). However, bcm_sysport_rx_refill() might fail to allocate a new
remote:  Rx skb, thus leaving a hole on the Rx queue where no valid Rx buffer exists.
remote:
remote:  To eliminate this situation:
remote:
remote:  1. Rewrite bcm_sysport_rx_refill() to retain the current Rx skb on the
remote:  Rx queue if a new replacement Rx skb can't be allocated and DMA-mapped.
remote:  In this case, the data on the current Rx skb is effectively dropped.
remote:
remote:  2. Modify bcm_sysport_desc_rx() to call bcm_sysport_rx_refill() at the
remote:  top of Rx packet processing loop, so that the new replacement Rx skb is
remote:  already in place before the current Rx skb is processed.
remote:
remote:  This is loosely inspired from d6707bec5986 ("net: bcmgenet: rewrite
remote:  bcmgenet_rx_refill()")
remote:
remote:  refs #SWLINUX-3690
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit ced41ec297954d70a43b059bd4f44669e368e1dc)
remote:
remote:
remote:   .../net/ethernet/broadcom/bcmsysport.c | 88 +++++++-------
remote:   1 file changed, 42 insertions(+), 46 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 15:40:53 -0400;af4726e8f62d9e31e9ad0fb090a849f7cc322981;BCMSYSPORT: Pre-calculate and utilize cb->bd_addr;
remote:  There is a 1:1 mapping between the software maintained control block in
remote:  priv->rx_cbs and the buffer address in priv->rx_bds, such that there is
remote:  no need to keep computing the buffer address when refiling a control
remote:  block.
remote:
remote:  refs #SWLINUX-3690
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit b57bdb42ba9221741206bc197ac8bed6cb885f90)
remote:
remote:
remote:   .../net/ethernet/broadcom/bcmsysport.c | 18 +++++++-------
remote:   .../net/ethernet/broadcom/bcmsysport.h |  2 --
remote:   2 files changed, 9 insertions(+), 11 deletions(-)
remote:  ;gregory@broadcom.com;2016-05-24 15:40:53 -0400;25ba541660ff12a7667eebf05317110db48b9b0f;ARM: brcmstb: Add default gpio number;
remote:  Out of the brcmstb SoCs that I know, BCM3390 has the largest numbers of GPIOs,
remote:  with its
remote:  - 320 "peripheral" GPIOs
remote:  - 5*32 = 160 UPG GPIOs (counting unused lines, which do get counted)
remote:  - 2*32 = 64 UPG AON GPIOs (counting unused lines)
remote:  Total: 544
remote:
remote:  I suspect that the upper limit will only need to be higher in the future, so
remote:  set it to 1024.
remote:
remote:  refs #SWLINUX-3604
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 5c021f12c7401a83cf479a1325476db49a2a259a)
remote:
remote:
remote:   arch/arm/Kconfig | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;gregory@broadcom.com;2016-05-24 15:40:52 -0400;8ed500895539b9d2983d1dfb4001c00ce34f0e44;gpio: brcmstb: Allow GPIOs to be wakeup sources;
remote:  Several drivers (e.g. gpio-keys) allow for GPIOs to be configured as wakeup
remote:  sources, and this GPIO controller supports that through a separate interrupt
remote:  path.
remote:
remote:  The de-facto standard DT property "wakeup-source" is checked, since that
remote:  indicates whether the GPIO controller hardware can wake.  Uses the
remote:  IRQCHIP_MASK_ON_SUSPEND irq_chip flag because UPG GIO doesn't have any of its
remote:  own wakeup source configuration.
remote:
remote:  refs #SWLINUX-3604
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 0effa31c2e127d372b83f8e69f66f8f9653f0c8d)
remote:
remote:
remote:   drivers/gpio/gpio-brcmstb.c | 52 +++++++++++++++++++++++++
remote:   1 file changed, 52 insertions(+)
remote:  ;gregory@broadcom.com;2016-05-24 15:40:52 -0400;1a4e62fd90f18e4556da8e14f8b730093c2ff33d;gpio: brcmstb: Add interrupt support;
remote:  Create an irq_chip for each GIO block.  Uses chained IRQ handling since
remote:  known uses of this block have a BCM7120 L2 interrupt controller as a
remote:  parent.  Supports interrupts for all GPIOs.
remote:
remote:  In the IRQ handler, we check for raised IRQs for invalid GPIOs and warn
remote:  (ratelimited) if they're encountered.
remote:
remote:  refs #SWLINUX-3604
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 2d6323caccbfec3a958ab472980fbc89823f7134)
remote:
remote:
remote:   drivers/gpio/Kconfig        |   1 +
remote:   drivers/gpio/gpio-brcmstb.c | 280 +++++++++++++++++++++++-
remote:   2 files changed, 279 insertions(+), 2 deletions(-)
remote:  ;gregory@broadcom.com;2016-05-24 15:40:51 -0400;79293ac42c9a2577fde6901a71dcc79afbd7a03e;gpio: brcmstb: have GPIOs for invalid lines;
remote:  This will allow for a 1:1 translation of the hardware numberspace to the linux
remote:  IRQ numberspace, i.e.
remote:
remote:  bank0: 0..31
remote:  bank1: 32..63
remote:  ....
remote:  bankN: 32*n..32*n+31
remote:
remote:  so that we can handle and warn on raised IRQs for invalid GPIO lines.
remote:
remote:  refs #SWLINUX-3604
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 9ffdd6a793b573ca6d85cb40ec5cdc6b935c8921)
remote:
remote:
remote:   drivers/gpio/gpio-brcmstb.c | 39 ++++++++++++++++---------
remote:   1 file changed, 26 insertions(+), 13 deletions(-)
remote:  ;gregory@broadcom.com;2016-05-24 15:40:51 -0400;c83fda724ca45f01f6a935a1c702ff7c40ad3b60;dt-bindings: brcmstb-gpio: document properties for wakeup;
remote:  Some brcmstb GPIO controllers can be used to wake from suspend, so use the
remote:  de facto standard property 'wakeup-source' to mark the nodes of controllers
remote:  with that capability.
remote:
remote:  Also document interrupts-extended, which will be used for wakeup handling
remote:  because the interrupt parent for the wake IRQ is different from the regular
remote:  IRQ.
remote:
remote:  refs #SWLINUX-3604
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 573d20080d32975e8075e5094d28476e58a30d77)
remote:
remote:
remote:   .../gpio/brcm,brcmstb-gpio.txt         | 26 +++++++++++++-
remote:   1 file changed, 25 insertions(+), 1 deletion(-)
remote:  ;gregory@broadcom.com;2016-05-24 15:40:50 -0400;cae7a4d450ff7ada0816e858a4d10724635b302a;gpio: brcmstb: fix handling for GPIOs above first bank;
remote:  This ensures that we do a valid GPIO number translation, since the default
remote:  of_gpio_simple_xlate is designed for a 1:1 gpio chip to controller mapping,
remote:  but we have an N:1 mapping.
remote:
remote:  Also brings us to match the initial commit adding brcmstb gpio support
remote:  upstream.
remote:
remote:  refs #SWLINUX-3604
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit ed0db018c1601a1316fe4080ee197e4770aac53a)
remote:
remote:
remote:   drivers/gpio/Kconfig        |  2 +-
remote:   drivers/gpio/gpio-brcmstb.c | 73 ++++++++++++++++++-------
remote:   2 files changed, 54 insertions(+), 21 deletions(-)
remote:  ;johan@kernel.org;2016-05-24 15:40:50 -0400;42f2d306bd6de5b8aee01c52a4fd0725d4ea244e;gpio: fix memory and reference leaks in gpiochip_add error path;
remote:  [Upstream commit 5539b3c938d64a60cb1fc442ac3ce9263d52de0c]
remote:
remote:  Memory allocated and references taken by of_gpiochip_add and
remote:  acpi_gpiochip_add were never released on errors in gpiochip_add (e.g.
remote:  failure to find free gpio range).
remote:
remote:  Fixes: 391c970c0dd1 ("of/gpio: add default of_xlate function if device
remote:  has a node pointer")
remote:  Fixes: 664e3e5ac64c ("gpio / ACPI: register to ACPI events
remote:  automatically")
remote:  Cc: stable <stable@vger.kernel.org>
remote:
remote:  refs #SWLINUX-3604
remote:
remote:  Signed-off-by: Johan Hovold <johan@kernel.org>
remote:  Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 58bbfdac1ba98f05ad26bd2269b2ce849986105f)
remote:
remote:
remote:   drivers/gpio/gpiolib.c | 11 +++++++----
remote:   1 file changed, 7 insertions(+), 4 deletions(-)
remote:  ;acourbot@nvidia.com;2016-05-24 15:40:49 -0400;0135b15a6620672a9cb081f3c86e2948b4f77229;gpio: always compile label support;
remote:  [Upstream commit 9c8318ff7041c8024e3afa22ce77e208138f1da5]
remote:
remote:  Compiling out GPIO labels results in a space gain so small that it can
remote:  hardly be justified. Labels can also be useful for printing debug
remote:  messages, so always keep them around.
remote:
remote:  refs #SWLINUX-3604
remote:
remote:  Signed-off-by: Alexandre Courbot <acourbot@nvidia.com>
remote:  Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 86d92d0568ed08891822b782879d35a95be20ac4)
remote:
remote:
remote:   drivers/gpio/gpiolib.c | 27 ++-------------------------
remote:   1 file changed, 2 insertions(+), 25 deletions(-)
remote:  ;tony@atomide.com;2016-05-24 15:40:49 -0400;3d3576f91c002ae71f8000a4ea1f1ac85301dfd0;gpio: of: Fix handling for deferred probe for -gpio suffix;
remote:  [Upstream commit 06fc3b70f1dc9c53070fa63a528830f54afc3c38]
remote:
remote:  Commit dd34c37aa3e (gpio: of: Allow -gpio suffix for property names)
remote:  added parsing for both -gpio and -gpios suffix but also changed
remote:  the handling for deferred probe unintentionally. Because of the
remote:  looping the second name will now return -ENOENT instead of
remote:  -EPROBE_DEFER. Fix the issue by breaking out of the loop if
remote:  -EPROBE_DEFER is encountered.
remote:
remote:  refs #SWLINUX-3604
remote:
remote:  Signed-off-by: Tony Lindgren <tony@atomide.com>
remote:  Reviewed-by: Thierry Reding <treding@nvidia.com>
remote:  Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit d3dbe79dfd83491e5f0cf08330d1572055441355)
remote:
remote:
remote:   drivers/gpio/gpiolib.c | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;treding@nvidia.com;2016-05-24 15:40:48 -0400;614e65af47e09342ebeca8d0462efac0b69b5bb1;gpio: Fix gpio_get -> gpiod_get typo in kernel-doc;
remote:  [Upstream commit 0879162f33bf8a2fe637a22bb77d20233f486ac4]
remote:
remote:  The function is called gpiod_get(), not gpio_get(). Fix the kernel-doc
remote:  comment to match the name.
remote:
remote:  refs #SWLINUX-3604
remote:
remote:  Signed-off-by: Thierry Reding <treding@nvidia.com>
remote:  Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 3eeedee7fdf9f2398efae0035ae012c7f6b8e45e)
remote:
remote:
remote:   drivers/gpio/gpiolib.c | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;treding@nvidia.com;2016-05-24 15:40:47 -0400;2173365b51eebe65001a06e16ff9655ad6be7cdc;gpio: of: Allow -gpio suffix for property names;
remote:  [Upstream commit dd34c37aa3e81715a1ed8da61fa438072428e188]
remote:
remote:  Many bindings use the -gpio suffix in property names. Support this in
remote:  addition to the -gpios suffix when requesting GPIOs using the new
remote:  descriptor-based API.
remote:
remote:  refs #SWLINUX-3604
remote:
remote:  Signed-off-by: Thierry Reding <treding@nvidia.com>
remote:  Acked-by: Alexandre Courbot <acourbot@nvidia.com>
remote:  Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 1a2b4b125d5f26c9f4102db170ce31ce09e373c3)
remote:
remote:
remote:   drivers/gpio/gpiolib.c | 18 ++++++++++++------
remote:   1 file changed, 12 insertions(+), 6 deletions(-)
remote:  ;acourbot@nvidia.com;2016-05-24 15:40:46 -0400;a7aae731f121987b1f33e22931f133010f28f977;gpio: clamp returned values to the boolean range;
remote:  [Upstream commit 23600969ff137cf4c3bc9098f77e381de334e3f7]
remote:
remote:  Nothing prevents GPIO drivers from returning values outside the
remote:  boolean range, and as it turns out a few drivers are actually doing so.
remote:  These values were passed as-is to unsuspecting consumers and created
remote:  confusion.
remote:
remote:  This patch makes the internal _gpiod_get_raw_value() function return a
remote:  bool, effectively clamping the GPIO value to the boolean range no
remote:  matter what the driver does.
remote:
remote:  While we are at it, we also change the value parameter of
remote:  _gpiod_set_raw_value() to bool type before drivers start doing funny
remote:  things with it as well.
remote:
remote:  Another way to fix this would be to change the prototypes of the driver
remote:  interface to use bool directly, but this would require a huge
remote:  cross-systems patch so this simpler solution is preferred.
remote:
remote:  Changes since v1:
remote:  - Change local variable type to bool as well, use boolean values in
remote:    code
remote:  - Also change prototype of open drain/open source setting functions
remote:    since they are only called from _gpiod_set_raw_value()
remote:
remote:  This probably calls for a larger booleanization of gpiolib, but let's
remote:  keep that for a latter change - right now we need to address the issue
remote:  of non-boolean values returned by drivers.
remote:
remote:  refs #SWLINUX-3604
remote:
remote:  Signed-off-by: Alexandre Courbot <acourbot@nvidia.com>
remote:  Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 1d14edc2834d36306bbdf341231e1fb61d9c1363)
remote:
remote:
remote:   drivers/gpio/gpiolib.c | 12 ++++++------
remote:   1 file changed, 6 insertions(+), 6 deletions(-)
remote:  ;rahulbedarkar89@gmail.com;2016-05-24 15:40:46 -0400;d60eb3d3aa036381a709e8069f1f9d992728819e;GPIO: gpiolib: correct description of gpiod_direction_output;
remote:  [Upstream commit 90df4fe07f9794984bd2dafd1d28acd45318d37f]
remote:
remote:  refs #SWLINUX-3604
remote:
remote:  Signed-off-by: Rahul Bedarkar <rahulbedarkar89@gmail.com>
remote:  Reviewed-by: Alexandre Courbot <acourbot@nvidia.com>
remote:  Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 6e383b9592a35353e4449e6df079510bbf2a80ef)
remote:
remote:
remote:   drivers/gpio/gpiolib.c | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;p.zabel@pengutronix.de;2016-05-24 15:40:45 -0400;1048d9d4a9d9c5ce7a9d5bd7a4969fec87df13a9;gpio: make gpiod_direction_output take a logical value;
remote:  [Upstream commit ef70bbe1aaa612f75360e5df5952fddec50b7ca9]
remote:
remote:  The documentation was not clear about whether
remote:  gpio_direction_output should take a logical value or the physical
remote:  level on the output line, i.e. whether the ACTIVE_LOW status
remote:  would be taken into account.
remote:
remote:  This converts gpiod_direction_output to use the logical level
remote:  and adds a new gpiod_direction_output_raw for the raw value.
remote:
remote:  refs #SWLINUX-3604
remote:
remote:  Signed-off-by: Philipp Zabel <p.zabel@pengutronix.de>
remote:  Reviewed-by: Alexandre Courbot <acourbot@nvidia.com>
remote:  Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 401d2ba97af15ff21f04ec4c1ae4cab2cc261f0d)
remote:
remote:
remote:   Documentation/gpio/consumer.txt |  1 +
remote:   drivers/gpio/gpiolib.c          | 67 +++++++++++++++------
remote:   include/asm-generic/gpio.h      |  2 +-
remote:   include/linux/gpio/consumer.h   |  7 +++
remote:   4 files changed, 57 insertions(+), 20 deletions(-)
remote:  ;jquinlan@broadcom.com;2016-05-24 15:40:45 -0400;ce74f1f8e07a0ddae576f8d3bda693626775bd3d;pci: transition to l23 before turning off power;
remote:  This change modifies slightly the turn off protocol so that it
remote:  is compatible with a Wake-on-LAN configuration.  Although the
remote:  PCIe block does not natively support WOL, the WAKE# of a PCIe
remote:  device may be connected to a GPIO pin and configured to wake
remote:  the device.
remote:
remote:  refs #SWLINUX-3679
remote:
remote:  Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:  (cherry picked from commit 61b126c31a7527aabf9ffe6ae5caf9925b8d3eeb)
remote:
remote:
remote:   arch/arm/mach-bcm/pci-brcmstb.c | 23 +++++++++++++++++++++
remote:   1 file changed, 23 insertions(+)
remote:  ;grmoore@altera.com;2016-05-24 15:40:44 -0400;4b677bcc2fb6b071dda922a4a8cd93cb92de015e;mtd: m25p80: add support for flag status register on Micron chips;
remote:  [Loose backport of commit c14deddec1fbd8c9757c53a49dbfd2dc83265f21,
remote:  "mtd: spi-nor: add support for flag status register on Micron chips"
remote:  adapted to work with old m25p80.c]
remote:
remote:  Some new Micron flash chips require reading the flag status register to
remote:  determine when operations have completed.
remote:
remote:  Furthermore, chips with multi-die stacks of the 65nm 256Mb QSPI also
remote:  require reading the status register before reading the flag status
remote:  register.
remote:
remote:  This patch adds support for the flag status register in the n25q512ax3
remote:  and n25q00 Micron QSPI flash chips.
remote:
remote:  refs #SWLINUX-3686
remote:
remote:  Signed-off-by: Graham Moore <grmoore@altera.com>
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 022825e4c61baa09f8b38ff3001a76a84fdf07a2)
remote:
remote:
remote:   drivers/mtd/devices/m25p80.c | 72 +++++++++++++++++++++++-
remote:   1 file changed, 71 insertions(+), 1 deletion(-)
remote:  ;acooper@broadcom.com;2016-05-24 15:40:44 -0400;e0949b1640a4b004a952c1b3cff543e99c11c1a8;usb: Fix 7366C0 issue with reading ahead into memory holes;
remote:  Setting ESTOP_SCB_REQ for the 7366c0 will prevent the memory
remote:  controller from reading ahead into memory holes. This is fixed
remote:  by getting the latest version of usb-brcm-common-init.c from
remote:  BOLT which has this fix (SWBOLT-1552) along with fixes for
remote:  SWBOLT-1532 and SWBOLT-1531.
remote:
remote:  refs #SWLINUX-3682
remote:
remote:  Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:  (cherry picked from commit 4f0ff0311982fb0c3031e7c492aa57e9b66ebe46)
remote:
remote:
remote:   .../usb/host/usb-brcm-common-init.c    | 17 ++++++++++----
remote:   1 file changed, 13 insertions(+), 4 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 15:40:43 -0400;860bbacf462b1e2fd486fc83c7b7442b2582d6ff;BCMSYSPORT: Implement RX coalescing control knobs;
remote:  [Upstream commit d0634868d30ed2c511b45c63efe8eeb85c62c7f6]
remote:
remote:  Similarly to the TX path, allow the RX path to be configured with both
remote:  'rx-frames' and 'rx-usecs' coalescing parameters.
remote:
remote:  refs #SWLINUX-3664
remote:
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 3091afc302834df2a0bab047e180325402c0e33e)
remote:
remote:
remote:   .../net/ethernet/broadcom/bcmsysport.c | 27 +++++++++++---
remote:   .../net/ethernet/broadcom/bcmsysport.h |  2 +-
remote:   2 files changed, 22 insertions(+), 7 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 15:40:43 -0400;8778ab348f14d1bcb71ed20bcdccd297d8c604da;BCMSYSPORT: Implement TX coalescing control knobs;
remote:  [Upstream commit b1a15e8643c444f9fc185d296e99424618ad1180]
remote:
remote:  Add the ability to configure both 'tx-frames' which controls how many frames
remote:  are doing to trigger a single interrupt and 'tx-usecs' which dictates how long
remote:  to wait before an interrupt should be services.
remote:
remote:  To configure tx-frames and tx-usecs from ethtool:
remote:
remote:  ethtool -C eth0 tx-frames <number>
remote:  ethtool -C eth0 tx-usecs <number>
remote:
remote:  To get the settings:
remote:
remote:  ethtool -c eth0
remote:
remote:  refs #SWLINUX-3664
remote:
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 240b12653f4b0441162aae0360ef85c1503dadc9)
remote:
remote:
remote:   .../net/ethernet/broadcom/bcmsysport.c | 48 ++++++++++++++
remote:   1 file changed, 48 insertions(+)
remote:  ;fainelli@broadcom.com;2016-05-24 15:40:42 -0400;75b1d195a00e2e94172063186a2eba7e9e710f2e;BCMGENET: Remove brcmstb.h inclusion;
remote:  Now that there is no platform code outside of the BCMGENET driver that needs to
remote:  set/access BRCM_PHY_TYPE, move these definitions into bcmgenet.h to keep them
remote:  local to the driver.
remote:
remote:  refs #SWLINUX-3246, refs #SWLINUX-2749
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 4c787d27b25a9f6d674b390afb4a4908a56d84cf)
remote:
remote:
remote:   .../ethernet/broadcom/genet/bcmgenet.h | 14 +++++++++++++-
remote:   include/linux/brcmstb/brcmstb.h        | 12 ------------
remote:   2 files changed, 13 insertions(+), 13 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 15:40:41 -0400;d5c7c393c5ff42344e71c18ae48f6dba3db2709e;bsp: Remove fixed PHY parsing code;
remote:  That code is now deprecated and unused since we have automatic registration of
remote:  these fixed PHYs devices now in drivers using them: SYSTEMPORT, GENET and dsa.
remote:
remote:  refs #SWLINUX-3246
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 2ba52a1c2509dbf6f8cd2d02b54ad899e0aa003d)
remote:
remote:
remote:   arch/arm/mach-bcm/brcmstb.c | 62 -------------------------
remote:   1 file changed, 62 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 15:40:41 -0400;f63a42375beadae4efb8714ca688562d73642d0f;net: phy: update port type for MoCA PHYs;
remote:  [Upstream commit c88838ce89515331ac835a470dc51ddf574770b1]
remote:
remote:  MoCA PHYs are using coaxial (BNC-like) connectors, update the
remote:  transceiver port type when replying to ethtool.
remote:
remote:  refs #SWLINUX-3246
remote:
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit a7da0d6b87a783945fe5cdbc77a0eda4a6283e1a)
remote:
remote:
remote:   drivers/net/phy/phy.c | 5 ++++-
remote:   1 file changed, 4 insertions(+), 1 deletion(-)
remote:  ;fainelli@broadcom.com;2016-05-24 15:40:40 -0400;a447d48760e7e99d52d4cdb1c257b5959a229b04;BCMGENET: Recognize MoCA PHY support;
remote:  We need to match the MoCA PHY type the same way we deal with the internal PHY
remote:  (PHY_INTERFACE_MDOE_NA) in order for the GENET - MoCA instances to probe
remote:  successfully.
remote:
remote:  refs #SWLINUX-3246
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 3659971011150fb38e5b63a327ee19e33322c549)
remote:
remote:
remote:   drivers/net/ethernet/broadcom/genet/bcmmii.c | 1 +
remote:   1 file changed, 1 insertion(+)
remote:  ;fainelli@broadcom.com;2016-05-24 15:40:40 -0400;2adc6806f380ea107b4d8632f51312f54cca0070;net: phy: add MoCA PHY type;
remote:  [Upstream commit fd70f72c66eeada848abaed9eb6bbdbaf57764e9]
remote:
remote:  Some Ethernet MACs are connected to a MoCA PHY which will handle the
remote:  low-level job of sending Ethernet frames on the coaxial cable, these
remote:  Ethernet MACs need to know about it to be properly configured.
remote:  Add a new PHY mode "moca" and update the Device Tree parsing logic to
remote:  look for it.
remote:
remote:  refs #SWLINUX-3246
remote:
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 4881b735da3f57eca0bcd44b9f296b97afea77a1)
remote:
remote:
remote:   drivers/of/of_net.c | 1 +
remote:   include/linux/phy.h | 1 +
remote:   2 files changed, 2 insertions(+)
remote:  ;fainelli@broadcom.com;2016-05-24 15:40:39 -0400;aedb8310607bc8a3c6b56c46604bba37696a81f0;BCMGENET: use the new fixed PHY helpers;
remote:  [Upstream commit 9abf0c2b717a7b59d351c2a15e917f1a78cfca02]
remote:
remote:  of_phy_connect_fixed_link() is becoming obsolete, and also required
remote:  platform code to register the fixed PHYs at the specified addresses for
remote:  those to be usable. Get rid of it and use the new of_phy_is_fixed_link()
remote:  plus of_phy_register_fixed_link() helpers to transition over the new
remote:  scheme.
remote:
remote:  refs #SWLINUX-3246
remote:
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 02d9d49ae3be73a96d07b5d39344835692ddf0fc)
remote:
remote:
remote:   .../ethernet/broadcom/genet/bcmmii.c   | 21 +++++---------
remote:   1 file changed, 7 insertions(+), 14 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 15:40:39 -0400;99acf81c622d883fc19bfef6b08f7746d110d2df;net: dsa: Utilize new fixed PHY helpers;
remote:  In order to remove some of our fixed PHY Device Tree parsing code in
remote:  arch/arm/mach-bcm/brcmstb.c, convert DSA to use the new helper functions
remote:  recently backported and resynchronize dsa_slave_phy_setup() to make it look
remote:  more like its upstream version.
remote:
remote:  This essentially brings some of the changes introduced in:
remote:
remote:  0d8bcdd383b8 net: dsa: allow for more complex PHY setups
remote:  ce31b31c68e7 net: dsa: allow updating fixed PHY link information
remote:
remote:  refs #SWLINUX-3246
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit b5e555dbe84f0082ca80a246b0811bd190f521ba)
remote:
remote:
remote:   net/dsa/slave.c | 32 ++++++++++++++++++++++----------
remote:   1 file changed, 22 insertions(+), 10 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 15:40:38 -0400;1516f97bc33d149655fccc93e4b2f31d0ff302e7;BCMSYSPORT: use the new fixed PHY helpers;
remote:  [Upstream commit 186534a3f83261e4d509ed7721e6a6fdb85ab380]
remote:
remote:  of_phy_connect_fixed_link() is becoming obsolete, and also required
remote:  platform code to register the fixed PHYs at the specified addresses for
remote:  those to be usable. Get rid of it and use the new of_phy_is_fixed_link()
remote:  plus of_phy_register_fixed_link() helpers to transition over the new
remote:  scheme.
remote:
remote:  refs #SWLINUX-3246
remote:
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 1d1315aaca02c218b3d12073f4b0a862bafb92f6)
remote:
remote:
remote:   .../net/ethernet/broadcom/bcmsysport.c | 17 ++++++++++++--
remote:   .../net/ethernet/broadcom/bcmsysport.h |  1 +
remote:   2 files changed, 16 insertions(+), 2 deletions(-)
remote:  ;bergo.torino@gmail.com;2016-05-24 15:40:38 -0400;fe6bb2a01eedfdc1a6ce8e9224c61a2f7cab182b;net: phy: fix sparse warning in fixed.c;
remote:  [Upstream commit 46cfd6ea23b0a207c87269d86457727dc4485708]
remote:
remote:  This commit fixes the following sparse warning:
remote:
remote:  drivers/net/phy/fixed.c:207
remote:      - warning: symbol 'fixed_phy_del' was not declared.
remote:        Should it be static?
remote:
remote:  by adding symbol definition to the phy_fixed.h API file. It is ok to do
remote:  because the function in question is an exported symbol.
remote:
remote:  refs #SWLINUX-3246
remote:
remote:  Signed-off-by: Konrad Zapalowicz <bergo.torino@gmail.com>
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit b2cb3e950fa1669fc1d25deaff2f5cc51a52f41d)
remote:
remote:
remote:   include/linux/phy_fixed.h | 5 +++++
remote:   1 file changed, 5 insertions(+)
remote:  ;rretanubun.work@gmail.com;2016-05-24 15:40:37 -0400;39762e9e85cb938bf03ddb957a0546b18247aee3;of: mdio: fixup of_phy_register_fixed_link parsing of new bindings;
remote:  [Upstream commit a72e154107340b868e69e0afeb418c9ec0994317]
remote:
remote:  Fixes commit 3be2a49e5c08 ("of: provide a binding for fixed link PHYs")
remote:
remote:  Fix the parsing of the new fixed link dts bindings for duplex,
remote:  pause, and asym_pause by using the correct device node pointer.
remote:
remote:  refs #SWLINUX-3246
remote:
remote:  Signed-off-by: Richard Retanubun <rretanubun.work@gmail.com>
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit e839d7ce2cf0a64683717c4faae018f1635dadee)
remote:
remote:
remote:   drivers/of/of_mdio.c | 8 +++++---
remote:   1 file changed, 5 insertions(+), 3 deletions(-)
remote:  ;thomas.petazzoni@free-electrons.com;2016-05-24 15:40:37 -0400;fba2eb68a811a6814add1b455856ae6fd34fd7a2;of: provide a binding for fixed link PHYs;
remote:  [Upstream commit 3be2a49e5c08d268f8af0dd4fe89a24ea8cdc339]
remote:
remote:  Some Ethernet MACs have a "fixed link", and are not connected to a
remote:  normal MDIO-managed PHY device. For those situations, a Device Tree
remote:  binding allows to describe a "fixed link" using a special PHY node.
remote:
remote:  This patch adds:
remote:
remote:   * A documentation for the fixed PHY Device Tree binding.
remote:
remote:   * An of_phy_is_fixed_link() function that an Ethernet driver can call
remote:     on its PHY phandle to find out whether it's a fixed link PHY or
remote:     not. It should typically be used to know if
remote:     of_phy_register_fixed_link() should be called.
remote:
remote:   * An of_phy_register_fixed_link() function that instantiates the
remote:     fixed PHY into the PHY subsystem, so that when the driver calls
remote:     of_phy_connect(), the PHY device associated to the OF node will be
remote:     found.
remote:
remote:  These two additional functions also support the old fixed-link Device
remote:  Tree binding used on PowerPC platforms, so that ultimately, the
remote:  network device drivers for those platforms could be converted to use
remote:  of_phy_is_fixed_link() and of_phy_register_fixed_link() instead of
remote:  of_phy_connect_fixed_link(), while keeping compatibility with their
remote:  respective Device Tree bindings.
remote:
remote:  refs #SWLINUX-3246
remote:
remote:  Signed-off-by: Thomas Petazzoni <thomas.petazzoni@free-electrons.com>
remote:  Reviewed-by: Florian Fainelli <f.fainelli@gmail.com>
remote:  Tested-by: Florian Fainelli <f.fainelli@gmail.com>
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 177729ec47d6123d68414fb8f9d9318df98ff808)
remote:
remote:
remote:   .../bindings/net/fixed-link.txt        | 30 ++++++
remote:   drivers/of/of_mdio.c                   | 67 ++++++++++++++
remote:   include/linux/of_mdio.h                | 15 +++
remote:   3 files changed, 112 insertions(+)
remote:  ;thomas.petazzoni@free-electrons.com;2016-05-24 15:40:36 -0400;585bb80a5e98fb2ce41865c5e7967c7d8d98bdd8;net: phy: extend fixed driver with fixed_phy_register();
remote:  [Upstream commit a75951217472c522c324adb0a4de3ba69d656ef5]
remote:
remote:  The existing fixed_phy_add() function has several drawbacks that
remote:  prevents it from being used as is for OF-based declaration of fixed
remote:  PHYs:
remote:
remote:   * The address of the PHY on the fake bus needs to be passed, while a
remote:     dynamic allocation is desired.
remote:
remote:   * Since the phy_device instantiation is post-poned until the next
remote:     mdiobus scan, there is no way to associate the fixed PHY with its
remote:     OF node, which later prevents of_phy_connect() from finding this
remote:     fixed PHY from a given OF node.
remote:
remote:  To solve this, this commit introduces fixed_phy_register(), which will
remote:  allocate an available PHY address, add the PHY using fixed_phy_add()
remote:  and instantiate the phy_device structure associated with the provided
remote:  OF node.
remote:
remote:  refs #SWLINUX-3246
remote:
remote:  Signed-off-by: Thomas Petazzoni <thomas.petazzoni@free-electrons.com>
remote:  Acked-by: Florian Fainelli <f.fainelli@gmail.com>
remote:  Acked-by: Grant Likely <grant.likely@linaro.org>
remote:  Tested-by: Florian Fainelli <f.fainelli@gmail.com>
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit ddf67252a34999f7a7435935ddaf2845ba3a522c)
remote:
remote:
remote:   drivers/net/phy/fixed.c   | 61 +++++++++++++++++++++++++++
remote:   include/linux/phy_fixed.h | 11 +++++
remote:   2 files changed, 72 insertions(+)
remote:  ;thomas.petazzoni@free-electrons.com;2016-05-24 15:40:35 -0400;8f8d3d9d9f1711c50249960fd2e5b47ee0f8d1a9;net: phy: decouple PHY id and PHY address in fixed PHY driver;
remote:  [Upstream commit 9b744942290c168287013f0a19ff7392f65c8107]
remote:
remote:  Until now, the fixed_phy_add() function was taking as argument
remote:  'phy_id', which was used both as the PHY address on the fake fixed
remote:  MDIO bus, and as the PHY id, as available in the MII_PHYSID1 and
remote:  MII_PHYSID2 registers. However, those two informations are completely
remote:  unrelated.
remote:
remote:  This patch decouples them. The PHY id of fixed PHYs is hardcoded to be
remote:  0x0. Ideally, a really reserved value would be nicer, but there
remote:  doesn't seem to be an easy of making sure a dummy value can be
remote:  assigned to the Linux kernel for such usage.
remote:
remote:  The PHY address remains passed by the caller of phy_fixed_add().
remote:
remote:  refs #SWLINUX-3246
remote:
remote:  Signed-off-by: Thomas Petazzoni <thomas.petazzoni@free-electrons.com>
remote:  Reviewed-by: Florian Fainelli <f.fainelli@gmail.com>
remote:  Tested-by: Florian Fainelli <f.fainelli@gmail.com>
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit a94f131c208243c7d287222e23f11ba92145d718)
remote:
remote:
remote:   drivers/net/phy/fixed.c | 20 ++++++++++----------
remote:   1 file changed, 10 insertions(+), 10 deletions(-)
remote:  ;gregory@broadcom.com;2016-05-24 15:40:35 -0400;34b0fd6307e8d7ffbc3a129705a603693f76a217;scripts: analyze_oom.py: account for minimum highmem too;
remote:  When looking whether an allocation that's allowed to use highmem should
remote:  succeed, make sure to account for highmem's min watermark.
remote:
remote:  refs #SWLINUX-3677
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit b6964c389a1d0404e2c1c0ed0426e8dd674506c1)
remote:
remote:
remote:   scripts/analyze_oom.py | 19 +++++++++++++++----
remote:   1 file changed, 15 insertions(+), 4 deletions(-)
remote:  ;jquinlan@broadcom.com;2016-05-24 15:40:34 -0400;2bdbaefa3b5680428c205b1fdbdc8adc74b3888e;pci: enable aspm;
remote:  This commit enables PCIe ASPM power states L0s and L1.  However,
remote:  their activation is not turned on by default.  The user
remote:  may override the default ASPM setting by either setting the
remote:  boot parameter 'pcie_aspm.policy' at boot or setting
remote:  '/sys/module/pcie_aspm/parameters/policy' at runtime.
remote:
remote:  refs #SWLINUX-3673
remote:
remote:  Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:  (cherry picked from commit 978edaf832a784fdb786b8008364dc81792e2762)
remote:
remote:
remote:   arch/arm/configs/brcmstb_defconfig          | 2 ++
remote:   arch/arm/configs/brcmstb_hardened_defconfig | 2 ++
remote:   2 files changed, 4 insertions(+)
remote:  ;gregory@broadcom.com;2016-05-24 15:40:34 -0400;f95e42af80f4fb03ff39dbc576aea9b829a08b12;scripts: analyze_oom.py incorrectly ignores highmem CMA;
remote:  The has_cma variable is used to determine whether there is a need to account
remote:  for CMA in the OOM analysis (i.e. whether it has to worry about movable vs
remote:  unmovable pages).  Unfortunately, since it wasn't reporting for highmem, the
remote:  resulting analysis is wrong if the only free cma pages are in highmem.  Fix
remote:  that.
remote:
remote:  fixes #SWLINUX-3677
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 60330933099e7ad1fe4a76c96fe0e26d42c72869)
remote:
remote:
remote:   scripts/analyze_oom.py | 3 ++-
remote:   1 file changed, 2 insertions(+), 1 deletion(-)
remote:  ;fainelli@broadcom.com;2016-05-24 15:40:33 -0400;d8883f50801ca08bddb37b69cd92028dfd520a4f;net: dsa: bcm_sf2: propagate carrier down states;
remote:  There is currently a complex race condition with fixed PHYs utilizing a
remote:  link_update callback in how they propagate link down notifications. We may, or
remote:  may not, under certain circumstances reach the PHY_NOLINK state in the PHY state
remote:  machine, which means that we will never call netif_carrier_off() for that
remote:  interface. This is a problem for link monitoring applications since they will
remote:  never learn about the "NO-CARRIER" flag.
remote:
remote:  Fix that by explicitly calling netif_carrier_off() in our link_update callback
remote:  to propagate carrier state changes accordingly.
remote:
remote:  refs #SWLINUX-3672
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 50bc6335ed5d2731ffd77c20a9c5f6fe5482480a)
remote:
remote:
remote:   drivers/net/dsa/bcm_sf2.c | 2 ++
remote:   1 file changed, 2 insertions(+)
remote:  ;fainelli@broadcom.com;2016-05-24 15:40:33 -0400;b11ba395efe71a90ef9e75c92f93c805eed6b12d;bsp: Remove 7366b0 BCHP headers;
remote:  refs #SWLINUX-3669
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit d0aeb968ef123f943a5e46de99ee4d3ffc4bba5c)
remote:
remote:
remote:   .../brcmstb/7366b0/bchp_aon_ctrl.h     |  1791 --
remote:   .../brcmstb/7366b0/bchp_aon_pin_ctrl.h |   541 -
remote:   .../brcmstb/7366b0/bchp_aon_pm_l2.h    |  1406 --
remote:   .../linux/brcmstb/7366b0/bchp_bspi.h   |   443 -
remote:   .../brcmstb/7366b0/bchp_bspi_raf.h     |   160 -
remote:   .../linux/brcmstb/7366b0/bchp_clkgen.h | 11392 ----------
remote:   .../linux/brcmstb/7366b0/bchp_common.h |  4373 ----
remote:   .../bchp_ddr34_phy_byte_lane_0_0.h     |  2482 ---
remote:   .../bchp_ddr34_phy_byte_lane_1_0.h     |  2482 ---
remote:   .../bchp_ddr34_phy_byte_lane_2_0.h     |  2482 ---
remote:   .../bchp_ddr34_phy_byte_lane_3_0.h     |  2482 ---
remote:   .../bchp_ddr34_phy_control_regs_0.h    |  4441 ----
remote:   .../linux/brcmstb/7366b0/bchp_ebi.h    |  2005 --
remote:   .../linux/brcmstb/7366b0/bchp_gio.h    |   546 -
remote:   .../brcmstb/7366b0/bchp_gio_aon.h      |   258 -
remote:   .../7366b0/bchp_hif_continuation.h     |   114 -
remote:   .../7366b0/bchp_hif_cpubiuctrl.h       |  3437 ---
remote:   .../brcmstb/7366b0/bchp_hif_intr2.h    |  1610 --
remote:   .../brcmstb/7366b0/bchp_hif_mspi.h     |  1289 --
remote:   .../7366b0/bchp_hif_spi_intr2.h        |   564 -
remote:   .../brcmstb/7366b0/bchp_hif_top_ctrl.h |   603 -
remote:   .../linux/brcmstb/7366b0/bchp_irq0.h   |   196 -
remote:   .../linux/brcmstb/7366b0/bchp_irq1.h   |   196 -
remote:   .../brcmstb/7366b0/bchp_memc_ddr_0.h   |  4799 -----
remote:   .../7366b0/bchp_moca_hostmisc.h        |   511 -
remote:   .../linux/brcmstb/7366b0/bchp_nand.h   |  3757 ----
remote:   .../brcmstb/7366b0/bchp_pcie_0_dma.h   |   735 -
remote:   .../7366b0/bchp_pcie_0_ext_cfg.h       |   116 -
remote:   .../brcmstb/7366b0/bchp_pcie_0_intr2.h |  2016 --
remote:   .../brcmstb/7366b0/bchp_pcie_0_misc.h  |   995 -
remote:   .../7366b0/bchp_pcie_0_misc_perst.h    |    85 -
remote:   .../7366b0/bchp_pcie_0_rc_cfg_pcie.h   |   644 -
remote:   .../7366b0/bchp_pcie_0_rc_cfg_type1.h  |   526 -
remote:   .../7366b0/bchp_pcie_0_rc_cfg_vendor.h |   173 -
remote:   .../brcmstb/7366b0/bchp_pcie_0_rgr1.h  |   134 -
remote:   .../brcmstb/7366b0/bchp_sdio_0_cfg.h   |   836 -
remote:   .../7366b0/bchp_shimphy_addr_cntl_0.h  |   631 -
remote:   .../brcmstb/7366b0/bchp_sun_top_ctrl.h |  8932 --------
remote:   .../brcmstb/7366b0/bchp_usb_ctrl.h     |  1524 --
remote:   .../brcmstb/7366b0/bchp_xpt_bus_if.h   |   738 -
remote:   .../linux/brcmstb/7366b0/bchp_xpt_fe.h | 11836 -----------
remote:   .../7366b0/bchp_xpt_memdma_mcpb.h      |  4737 -----
remote:   .../7366b0/bchp_xpt_memdma_mcpb_ch0.h  |  2319 --
remote:   .../brcmstb/7366b0/bchp_xpt_pmu.h      |   397 -
remote:   .../7366b0/bchp_xpt_security_ns.h      |   593 -
remote:   .../bchp_xpt_security_ns_intr2_0.h     |   866 -
remote:   include/linux/brcmstb/brcmstb.h        |    48 -
remote:   47 files changed, 93241 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 15:40:32 -0400;8803f370749c7c762ea932c14208232e1621cf05;bsp: Remove support for 7366B0;
remote:  refs #SWLINUX-3669
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit f384e8afc4f48c36d7fffae3a5d6e1456e79e65c)
remote:
remote:
remote:   arch/arm/Kconfig.debug    |  2 --
remote:   arch/arm/mach-bcm/Kconfig | 11 -----------
remote:   2 files changed, 13 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 15:40:32 -0400;52970c030de04ce0c0573ebd3e2c74781fdb46f3;drivers: Remove support for 7366b0;
remote:  refs #SWLINUX-3669
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 67743ca2a13e204b0432f8b76b36ca7917e0df09)
remote:
remote:
remote:   drivers/mmc/host/sdhci-brcmstb.c | 3 +--
remote:   1 file changed, 1 insertion(+), 2 deletions(-)
remote:  ;norris@broadcom.com;2016-05-24 15:40:31 -0400;fb368e62154c57482a8c3124263bbc54bf1cdfe7;soc: brcmstb: wktmr: release wakeup resources on device removal;
remote:  A device can already have wakeup_source info attached to it when it is
remote:  probed (either via sysfs, or due to improper cleanup when
remote:  unbinding/binding). So like every other driver which uses this API,
remote:  let's *not* bail on errors during device_wakeup_enable(). Usually
remote:  (always?) this just means that the device was already wakeup-enabled.
remote:
remote:  Resolves errors like this:
remote:
remote:     # echo f0417480.waketimer > /sys/bus/platform/drivers/brcm-waketimer/unbind
remote:     # echo f0417480.waketimer > /sys/bus/platform/drivers/brcm-waketimer/bind
remote:     [   22.512742] brcm-waketimer: probe of f0417480.waketimer failed with error -17
remote:
remote:  refs #SWLINUX-3638
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit ffe51459c8dcf20398cd32cfac2ea5451a00d839)
remote:
remote:
remote:   drivers/soc/brcmstb/wktmr.c | 4 +---
remote:   1 file changed, 1 insertion(+), 3 deletions(-)
remote:  ;tklauser@distanz.ch;2016-05-24 15:40:31 -0400;1086dec76d44ef49b3e88479687c2714cfa63968;net: bcmgenet: Fix compile warning;
remote:  bcmgenet_wol_resume() is only used in bcmgenet_resume(), which is only
remote:  defined when CONFIG_PM_SLEEP is enabled. This leads to the following
remote:  compile warning when building with !CONFIG_PM_SLEEP:
remote:
remote:  drivers/net/ethernet/broadcom/genet/bcmgenet.c:1967:12: warning: bcmgenet_wol_resume defined but not used [-Wunused-function]
remote:
remote:  Since bcmgenet_resume() is the only user of bcmgenet_wol_resume(), fix
remote:  this by directly inlining the function there.
remote:
remote:  Reported-by: Geert Uytterhoeven <geert@linux-m68k.org>
remote:  Signed-off-by: Tobias Klauser <tklauser@distanz.ch>
remote:  Acked-by: Florian Fainelli <f.fainelli@gmail.com>
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  (cherry picked from commit 0a29b3dafbb2fc46421cc2950523814c7c6c8bfb)
remote:  [Brian: loose cherry-pick; there were a few conflicts]
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:
remote:  (cherry picked from commit 0ac5f8a9cd3e4b84d3ed7f0eadec78741aadbec8)
remote:
remote:
remote:   .../ethernet/broadcom/genet/bcmgenet.c | 21 ++++----------
remote:   1 file changed, 6 insertions(+), 15 deletions(-)
remote:  ;norris@broadcom.com;2016-05-24 15:40:30 -0400;fdf04af2863569bfc8b3ecdba86b7a528b16dd9b;bmoca: compile when !CONFIG_PM;
remote:    CC      drivers/char/bmoca.o
remote:  drivers/char/bmoca.c: In function moca_wol_isr:
remote:  drivers/char/bmoca.c:2589:3: error: implicit declaration of function moca_set_pm_state [-Werror=implicit-function-declaration]
remote:     moca_set_pm_state(priv, MOCA_RESUMING_ASSERT);
remote:     ^
remote:
remote:  To resolve this, just give an empty definition for !CONFIG_PM. This is
remote:  harmless.
remote:
remote:  refs #SWLINUX-3638
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 4f2e99279927e23f7b502936667dc8417e654a5b)
remote:
remote:
remote:   drivers/char/bmoca.c | 9 ++++++++-
remote:   1 file changed, 8 insertions(+), 1 deletion(-)
remote:  ;norris@broadcom.com;2016-05-24 15:40:29 -0400;d5e4aa6b07ebd2fef458677bb7815447195d616d;pci: fix build with !CONFIG_PM;
remote:  Most of the checks in pci-brcmstb.c use C-style checks:
remote:
remote:  	if (IS_ENABLED(CONFIG_PM))
remote:  		...;
remote:
remote:  But these functions are pulled out via the preprocessor, yielding
remote:  compile failures when !defined(CONFIG_PM). Just leave these in
remote:  unconditionally, and the compiler will remove them when they are
remote:  logically unused.
remote:
remote:  refs #SWLINUX-3638
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit ec0a7aa6b98a665ea54c32d09d12338343bb3cc5)
remote:
remote:
remote:   arch/arm/mach-bcm/pci-brcmstb.c | 2 --
remote:   1 file changed, 2 deletions(-)
remote:  ;treding@nvidia.com;2016-05-24 15:40:29 -0400;40d812c66f9987ac710edcbbe4700f756307c8bb;net: dsa: Fix build warning for !PM_SLEEP;
remote:  The dsa_switch_suspend() and dsa_switch_resume() functions are only used
remote:  when PM_SLEEP is enabled, so they need #ifdef CONFIG_PM_SLEEP protection
remote:  to avoid a compiler warning.
remote:
remote:  refs #SWLINUX-3638
remote:
remote:  Signed-off-by: Thierry Reding <treding@nvidia.com>
remote:  Acked-by: Florian Fainelli <f.fainelli@gmail.com>
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  (cherry picked from commit e506d405ac7d34d03996c97ac68aa2ac010be64a)
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit e085ad19e4b4ed94044b8e54eac2ad6161dffb19)
remote:
remote:
remote:   net/dsa/dsa.c | 2 ++
remote:   1 file changed, 2 insertions(+)
remote:  ;norris@broadcom.com;2016-05-24 15:40:28 -0400;cef024f546936a16763477b8704edc50c9fd52bd;bmoca: use devm_*, clean up #ifdefs;
remote:  refs #SWLINUX-3638
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit c137fe7702da3450c6137e25fba9ac0273b67189)
remote:
remote:
remote:   drivers/char/bmoca.c | 81 +++++++++-----------------------
remote:   1 file changed, 23 insertions(+), 58 deletions(-)
remote:  ;ulf.hansson@linaro.org;2016-05-24 15:40:28 -0400;f2fe706f7ae63365fb7409f33ff8c6528ac0905d;mmc: core: Enable MMC_CAP2_CACHE_CTRL as default;
remote:  [Upstream commit 7536d3f83aa42ba1a3b1c6b30c2b6d94a820cbb2]
remote:
remote:  There are no reason to why the use of a non-volatile internal eMMC
remote:  cache should be controlled by a host cap. Instead let's just enable it
remote:  if the eMMC card supports it.
remote:
remote:  refs #SWLINUX-3656
remote:
remote:  Signed-off-by: Ulf Hansson <ulf.hansson@linaro.org>
remote:  Acked-by: Seungwon Jeon <tgih.jun@samsung.com>
remote:  Signed-off-by: Chris Ball <chris@printf.net>
remote:  Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:  (cherry picked from commit 14ac89e5055bcabcb744bb39c61e0786612df90e)
remote:
remote:
remote:   drivers/mmc/core/core.c  | 7 +------
remote:   drivers/mmc/core/mmc.c   | 3 +--
remote:   include/linux/mmc/host.h | 1 -
remote:   3 files changed, 2 insertions(+), 9 deletions(-)
remote:  ;gregory@broadcom.com;2016-05-24 15:40:27 -0400;c13f46ece1460a41c10aed8f6dfa4af833469552;brcmstb_defconfig: Enable GPIOLIB;
remote:  refs #SWLINUX-3604
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit f1367f20f7c0e9f74a6d4a8154b225f9745dcb6a)
remote:
remote:
remote:   arch/arm/configs/brcmstb_defconfig | 1 +
remote:   1 file changed, 1 insertion(+)
remote:  ;gregory@broadcom.com;2016-05-24 15:40:27 -0400;bb7fc2c88ae22c63e32e8dcb96ae37c60a473025;gpio: Add GPIO support for Broadcom STB SoCs
remote:  This adds support for the GPIO IP "UPG GIO" used on Broadcom STB SoCs
remote:  (BCM7XXX and some others).  Uses basic_mmio_gpio to instantiate a
remote:  gpio_chip for each bank.  The driver assumes that it handles the base
remote:  set of GPIOs on the system and that it can start its numbering sequence
remote:  from 0, so any GPIO expanders used with it must dynamically assign GPIO
remote:  numbers after this driver has finished registering its GPIOs.
remote:
remote:  Does not implement the interrupt-controller portion yet, will be done in a
remote:  future commit.
remote:
remote:  refs #SWLINUX-3604
remote:
remote:  List-usage-fixed-by: Brian Norris <norris@broadcom.com>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 7c1aa70d23ede9be118724b88d1fff11da0630b2)
remote:
remote:
remote:   arch/arm/mach-bcm/Kconfig   |   1 +
remote:   drivers/gpio/Kconfig        |   8 +
remote:   drivers/gpio/Makefile       |   1 +
remote:   drivers/gpio/gpio-brcmstb.c | 205 ++++++++++++++++++++++++
remote:   4 files changed, 215 insertions(+)
remote:  ;gregory@broadcom.com;2016-05-24 15:40:26 -0400;7f4f1708bf7351c12785d79243cb10361c46136f;dt-bindings: add brcmstb-gpio GPIO binding;
remote:  Add binding for Broadcom STB "UPG GIO" GPIO controller.
remote:
remote:  refs #SWLINUX-3604
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit f8a0d3737c0056029ef9b8ac20ac11563881a000)
remote:
remote:
remote:   .../gpio/brcm,brcmstb-gpio.txt         | 65 ++++++++++++++
remote:   1 file changed, 65 insertions(+)
remote:  ;heiko.stuebner@bqreaders.com;2016-05-24 15:40:26 -0400;b77372762bc586d9a8c89288cc8cae1ccc9b3f99;of: add functions to count number of elements in a property;
remote:  [Upstream commit ad54a0cfbeb4bd4033d09017557ccbc423f9d5ff]
remote:
remote:  The need to know the number of array elements in a property is
remote:  a common pattern. To prevent duplication of open-coded implementations
remote:  add a helper static function that also centralises strict sanity
remote:  checking and DTB format details, as well as a set of wrapper functions
remote:  for u8, u16, u32 and u64.
remote:
remote:  refs #SWLINUX-3604
remote:
remote:  Suggested-by: Mark Rutland <mark.rutland@arm.com>
remote:  Signed-off-by: Heiko Stuebner <heiko.stuebner@bqreaders.com>
remote:  Acked-by: Rob Herring <robh@kernel.org>
remote:  Acked-by: Grant Likely <grant.likely@linaro.org>
remote:  Acked-by: Mark Rutland <mark.rutland@arm.com>
remote:  Signed-off-by: Mark Brown <broonie@linaro.org>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 7294b41058f32ce6e817d8a823b45cf800a95e2b)
remote:
remote:
remote:   drivers/of/base.c  | 32 ++++++++++++++
remote:   include/linux/of.h | 76 ++++++++++++++++++++++++++++++++++
remote:   2 files changed, 108 insertions(+)
remote:  ;acooper@broadcom.com;2016-05-24 15:40:25 -0400;0f30c197345dc4de9437c36cffe8b17823f1cd1b;USB: Get usb-brcm-common-init.c back in sync with the BOLT version;
remote:  The usb-brcm-common-init.c was written to be shared, without change,
remote:  between BOLT and the kernel. The file has gotten out of sync with
remote:  some new changes added to the kernel version and some new changes
remote:  added to the BOLT version. This will get the file back in sync.
remote:  The changes include a 74371a0 workaround that requires the use
remote:  of the XHCI EX (extended capabilities) register block which
remote:  has been added to the XHCI device tree entry by BOLT.
remote:
remote:  refs #SWLINUX-3624
remote:
remote:  Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:  (cherry picked from commit 0418378bbb5e838d659c6f92c004827888402e76)
remote:
remote:
remote:   .../usb/host/usb-brcm-common-init.c    | 220 ++++---
remote:   .../usb/host/usb-brcm-common-init.h    |  11 +-
remote:   drivers/usb/host/usb-brcm.c            |  27 +-
remote:   .../brcmstb/74371a0/bchp_usb_xhci_ec.h | 384 +++++++++++++
remote:   include/linux/brcmstb/brcmstb.h        |   1 +
remote:   5 files changed, 523 insertions(+), 120 deletions(-)
remote:  ;norris@broadcom.com;2016-05-24 15:40:24 -0400;269ddce30d68cb192d002d04dfa7f007b20df662;uapi: export cma_driver.h;
remote:  In case we want to use 'make headers_install'.
remote:
remote:  refs #SWLINUX-3599
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit f72e3a3bf73527b725e6ee21c0f7d470c2e246c6)
remote:
remote:
remote:   include/uapi/linux/Kbuild         | 1 +
remote:   include/uapi/linux/brcmstb/Kbuild | 2 ++
remote:   2 files changed, 3 insertions(+)
remote:  ;fainelli@broadcom.com;2016-05-24 15:40:24 -0400;eba0bd39c7151c05a00538aeacb2b8380e385a49;Bump version to 3.14-1.6pre;
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit a4b0b0fe1edb64f1f91646a7928440fdf26b54b6)
remote:
remote:
remote:   Makefile | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;fainelli@broadcom.com;2016-05-24 15:40:23 -0400;5fc287fca6b4667036a9377c47868ecf3a35a018;brcmstb_defconfig: Disable KEXEC;
remote:  Kexec is not consistently and reliably working on all platforms, disable it for
remote:  now until it gets properly fixed and safe to get re-enabled.
remote:
remote:  refs #SWLINUX-3639
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 3880908c9b095cb7d30a74f8dc7614a598dabeba)
remote:
remote:
remote:   arch/arm/configs/brcmstb_defconfig | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;fainelli@broadcom.com;2016-05-24 15:40:23 -0400;139d37399b546daf204229d7c5a2d62f4892a957;ARM: B15: Enable read-ahead cache by default;
remote:  Now that our middleware has been migrated to using
remote:  __cpuc_flush_kern_cache_all() which is properly dealing with the B15 RAC
remote:  flushing, we can turn on this option by default
remote:
remote:  refs #SWLINUX-3639
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 8ac0374c06e1488405f0b9dc0c254d99985102a9)
remote:
remote:
remote:   arch/arm/mm/Kconfig | 1 +
remote:   1 file changed, 1 insertion(+)
remote:  ;f.fainelli@gmail.com;2016-05-24 15:40:22 -0400;af5639a2e41922cdc84d61eafbf03534fb78374f;ARM: B15: Register reboot notifier for KEXEC
remote:  During kexec, we will go through kernel_kexec() -> syscore_suspend() if
remote:  CONFIG_KEXEC_JUMP is set, if not, down the road we end-up calling
remote:  kernel_restart_prepare() which invokes reboot notifiers with
remote:  SYS_RESTART.
remote:
remote:  We register a reboot notifier to make sure that the B15 read-ahead cache
remote:  is disabled, since it is another level of instruction and data cache,
remote:  and we want to avoid any potential side effects with booting a new
remote:  kernel with such a cache still turned on.
remote:
remote:  refs #SWLINUX-3639
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 02c05a65e164cf0987b7912b41e03ab5f3947923)
remote:
remote:
remote:   arch/arm/mm/cache-b15-rac.c | 38 +++++++++++++++++++++++++
remote:   1 file changed, 38 insertions(+)
remote:  ;norris@broadcom.com;2016-05-24 15:40:22 -0400;f31d78c8cf92181478601f591144182195a48a8e;brcmstb_defconfig: enable user_space thermal governor by default;
remote:  As of now, it is important to always use the 'user_space' thermal
remote:  policy, so that user-space will receive trip point uevent notifications.
remote:  If it ever comes down to needing to support both a kernel and user-space
remote:  governor, we might need to move the kobject_uevent_env() calls into
remote:  brcmstb_thermal and switch back to, e.g., step_wise.
remote:
remote:  refs #SWLINUX-3599
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 0d11680dbc714b13a53bbd6f8885db6d64b85959)
remote:
remote:
remote:   arch/arm/configs/brcmstb_defconfig | 2 ++
remote:   1 file changed, 2 insertions(+)
remote:  ;norris@broadcom.com;2016-05-24 15:40:21 -0400;be1f699a4419bc5519c1d206e0c6dd3624b7e7bf;thermal: brcmstb_thermal: add of-thermal and hardware trigger support;
remote:  We can make use of the upstream thermal device tree bindings to
remote:  configure trip points for us. We can also make use of the proposed
remote:  .set_trips() callback, which was backported in a previous patch (not
remote:  upstream yet) to utilize our high/low interrupts most economically.
remote:
remote:  Because we supplied some basic support for temperature readins
remote:  previously, where this driver registered its own standalone thermal zone
remote:  (without using the of-thermal framework), I have migrated the existing
remote:  support into a fall-back 'brcmstb_thermal_zone_probe()' option. This
remote:  can help transition between device trees that have the 'thermal-zones'
remote:  node set up and those that don't. We should schedule this to be removed
remote:  quickly in a future release.
remote:
remote:  refs #SWLINUX-3599
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit e48cd6d70081a5ebfc7fafc78be9e22569521be2)
remote:
remote:
remote:   drivers/thermal/brcmstb_thermal.c | 283 ++++++++++++++++--
remote:   1 file changed, 262 insertions(+), 21 deletions(-)
remote:  ;computersforpeace@gmail.com;2016-05-24 15:40:20 -0400;20baf7a19edbc55cd12cc97d88d6e2111d679653;thermal: user_space: add trip point number and temperature to uevent data;
remote:  Now that the thermal core supplies trip notifications when
remote:  *crossing* a trip point, and only for that single trip point, it is
remote:  useful to provide this information in the uevent metadata. That way, a
remote:  user-space governor can figure out this information directly, without
remote:  any guessing. This also eliminates a potential race, where the
remote:  temperature may have changed between the time a hardware trip was fired
remote:  and the time it is received by the governor.
remote:
remote:  This patch should be submitted upstream. It's possible this will not
remote:  suit the general needs of other thermal users, and so we might consider
remote:  integrating this directly into brcmstb_thermal instead.
remote:
remote:  Prior RFC submission, which received no comments (4/17/15):
remote:  http://thread.gmane.org/gmane.linux.kernel/1922796
remote:
remote:  refs #SWLINUX-3599
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 2b2274fd832628edac2714890ddf5076fa886d52)
remote:
remote:
remote:   drivers/thermal/user_space.c | 21 +++++++++++++++++++--
remote:   1 file changed, 19 insertions(+), 2 deletions(-)
remote:  ;computersforpeace@gmail.com;2016-05-24 15:40:20 -0400;b265158fadd2185008ff7691322f2a209b2d1382;thermal: report trips only when crossed;
remote:  For some reason, the existing infrastructure will notify *all* trip
remote:  points whenever any driver calls thermal_zone_device_update_temp(). This
remote:  is unfortunate for users of hardware-backed trip points, since that
remote:  means we lose all information about which trip point triggered the
remote:  update, if any.
remote:
remote:  Instead, let's only call handle_thermal_trip() when we've crossed a
remote:  trip.
remote:
remote:  This should be submitted upstream, possibly with some rework to make it
remote:  more generically useful. If nothing else, it might generate some
remote:  explanation as to why the trip point notifications are currently so
remote:  peculiar, as described above.
remote:
remote:  refs #SWLINUX-3599
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 07bd877f9207c9b39149f8807d18a3e806157698)
remote:
remote:
remote:   drivers/thermal/thermal_core.c | 43 ++++++++++++++++++----
remote:   1 file changed, 36 insertions(+), 7 deletions(-)
remote:  ;computersforpeace@gmail.com;2016-05-24 15:40:19 -0400;a231663b668fcc1b166c39bc3a88a219e7d29a23;thermal: add thermal_zone_device_update_temp() API;
remote:  Allow drivers to report a particular update temperature.
remote:
remote:  This is important for hardware-supported trip points. On such hardware,
remote:  there is a potential for inconstency in the following sequence:
remote:
remote:  (1) hardware interrupt
remote:  (2) themal_zone_device_update(),
remote:  (3) zone->get_temp()
remote:
remote:  Between (1) and (3), the temperature might change a bit.
remote:
remote:  So, rather than add in caching to the sensor driver to record the
remote:  temperature at (1), just allow the driver to pass it directly through.
remote:
remote:  This should be submitted upstream.
remote:
remote:  refs #SWLINUX-3599
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 108133d196afc29f13ad6e78201dd6fc7203cac6)
remote:
remote:
remote:   drivers/thermal/thermal_core.c | 42 ++++++++++++++--------
remote:   include/linux/thermal.h        |  4 +++
remote:   2 files changed, 32 insertions(+), 14 deletions(-)
remote:  ;s.hauer@pengutronix.de;2016-05-24 15:40:19 -0400;5642a16565b7b5f0afe893933b0d265c096eafa1;thermal: of: implement .set_trips for device tree thermal zones;
remote:  [Backported preliminary patch. See thread:
remote:  http://thread.gmane.org/gmane.linux.power-management.general/58483/]
remote:
remote:  refs #SWLINUX-3599
remote:
remote:  Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 3cd4d53f0458e701d176c3437dbba4a5d51a9bbc)
remote:
remote:
remote:   drivers/thermal/of-thermal.c | 12 ++++++++++++
remote:   include/linux/thermal.h      |  1 +
remote:   2 files changed, 13 insertions(+)
remote:  ;s.hauer@pengutronix.de;2016-05-24 15:40:18 -0400;bce42c78595217815ba4cacef4817f020ac21a16;thermal: Add support for hardware-tracked trip points;
remote:  [Backported preliminary patch. See thread:
remote:  http://thread.gmane.org/gmane.linux.power-management.general/58483/]
remote:
remote:  This adds support for hardware-tracked trip points to the device tree
remote:  thermal sensor framework.
remote:
remote:  The framework supports an arbitrary number of trip points. Whenever
remote:  the current temperature is updated, the trip points immediately
remote:  below and above the current temperature are found. A .set_trips
remote:  callback is then called with the temperatures. If there is no trip
remote:  point above or below the current temperature, the passed trip
remote:  temperature will be ULONG_MAX or 0 respectively. In this callback,
remote:  the driver should program the hardware such that it is notified
remote:  when either of these trip points are triggered. When a trip point
remote:  is triggered, the driver should call `thermal_zone_device_update'
remote:  for the respective thermal zone. This will cause the trip points
remote:  to be updated again.
remote:
remote:  If .set_trips is not implemented, the framework behaves as before.
remote:
remote:  This patch is based on an earlier version from Mikko Perttunen
remote:  <mikko.perttunen@kapsi.fi>
remote:
remote:  refs #SWLINUX-3599
remote:
remote:  Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit ea98ecf433f575e8207e92f5f97401cbd4f1d17c)
remote:
remote:
remote:   drivers/thermal/thermal_core.c | 41 ++++++++++++++++++++++
remote:   include/linux/thermal.h        |  3 ++
remote:   2 files changed, 44 insertions(+)
remote:  ;s.hauer@pengutronix.de;2016-05-24 15:40:18 -0400;4732709d808a2a0de81cbc5e10c159136d822a9e;thermal: Make struct thermal_zone_device_ops const;
remote:  [Backported preliminary patch. See thread:
remote:  http://thread.gmane.org/gmane.linux.power-management.general/58483/]
remote:
remote:  Now that the of thermal support no longer changes the
remote:  thermal_zone_device_ops it can be const again.
remote:
remote:  refs #SWLINUX-3599
remote:
remote:  Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 3ca444889b05815ee5cb89b926ca5135b0c7f70d)
remote:
remote:
remote:   drivers/thermal/of-thermal.c   | 2 +-
remote:   drivers/thermal/thermal_core.c | 2 +-
remote:   include/linux/thermal.h        | 6 +++---
remote:   3 files changed, 5 insertions(+), 5 deletions(-)
remote:  ;s.hauer@pengutronix.de;2016-05-24 15:40:17 -0400;e78f447ee16d96866610aec3c06304d55c93c1a8;thermal: of: always set sensor related callbacks;
remote:  [Backported preliminary patch. See thread:
remote:  http://thread.gmane.org/gmane.linux.power-management.general/58483/]
remote:
remote:  Now that the thermal core treats -ENOSYS like the callbacks were
remote:  not present at all we no longer have to overwrite the ops during
remote:  runtime but instead can always set them and return -ENOSYS if no
remote:  sensor is registered.
remote:
remote:  refs #SWLINUX-3599
remote:
remote:  Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit ba9a02a0e014f15e44968c3b72a76db0f5ad94f9)
remote:
remote:
remote:   drivers/thermal/of-thermal.c | 34 +++++++++---------------
remote:   1 file changed, 13 insertions(+), 21 deletions(-)
remote:  ;s.hauer@pengutronix.de;2016-05-24 15:40:17 -0400;0e4cc8f5fd991e390202e498a3a9eefa41b51f7f;thermal: Allow sensor ops to fail with -ENOSYS;
remote:  [Backported preliminary patch. See thread:
remote:  http://thread.gmane.org/gmane.linux.power-management.general/58483/]
remote:
remote:  The thermal core uses the existence of the .get_temp, .get_trend and
remote:  .set_emul_temp to detect whether this operation exists and should be
remote:  used or whether it should be emulated in software. This makes problems
remote:  for of-thermal which has to modify the struct thermal_zone_device_ops
remote:  during runtime whenever a sensor is registered or unregistered.
remote:
remote:  Let the core test for -ENOSYS from these callbacks and treat it like
remote:  if the callbacks were not present.
remote:
remote:  This allows of-thermal to always set the sensor related callbacks and
remote:  to make struct thermal_zone_device_ops const again.
remote:
remote:  refs #SWLINUX-3599
remote:
remote:  Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 8d174873ac9cbd28ddc3dd3f65d991a37c3d6049)
remote:
remote:
remote:   drivers/thermal/thermal_core.c | 26 ++++++++++++++--------
remote:   1 file changed, 17 insertions(+), 9 deletions(-)
remote:  ;s.hauer@pengutronix.de;2016-05-24 15:40:16 -0400;695233c94789d09c7d51d75c10ab02f4a9ed009e;thermal: streamline get_trend callbacks;
remote:  [Backported preliminary patch. See thread:
remote:  http://thread.gmane.org/gmane.linux.power-management.general/58483/]
remote:
remote:  The .get_trend callback in struct thermal_zone_device_ops has the prototype:
remote:
remote:  	int (*get_trend) (struct thermal_zone_device *, int,
remote:  			  enum thermal_trend *);
remote:
remote:  whereas the .get_trend callback in struct thermal_zone_of_device_ops has:
remote:
remote:  	int (*get_trend)(void *, long *);
remote:
remote:  Streamline both prototypes and add the trip argument to the OF callback
remote:  aswell and use enum thermal_trend * instead of an integer pointer.
remote:
remote:  While the OF prototype may be the better one, this should be decided at
remote:  framework level and not on OF level.
remote:
remote:  refs #SWLINUX-3599
remote:
remote:  Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 0c59731c01d4e0e8f5c62e6a94f21cf8f5c19704)
remote:
remote:
remote:   drivers/thermal/of-thermal.c           | 11 +-----
remote:   .../ti-soc-thermal/ti-thermal-common.c | 25 +++++---------
remote:   include/linux/thermal.h                |  2 +-
remote:   3 files changed, 10 insertions(+), 28 deletions(-)
remote:  ;s.hauer@pengutronix.de;2016-05-24 15:40:16 -0400;b65a5e091bfdf7c99fef3e0b631b5827b20fced8;thermal: inline only once used function;
remote:  [Backported preliminary patch. See thread:
remote:  http://thread.gmane.org/gmane.linux.power-management.general/58483/]
remote:
remote:  Inline update_temperature into its only caller to make the code
remote:  more readable.
remote:
remote:  refs #SWLINUX-3599
remote:
remote:  Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit d04ae45a8fb83493160c458ebf6f9fc816c7018e)
remote:
remote:
remote:   drivers/thermal/thermal_core.c | 16 +++++-----------
remote:   1 file changed, 5 insertions(+), 11 deletions(-)
remote:  ;s.hauer@pengutronix.de;2016-05-24 15:40:15 -0400;0c5cded31df332de58cf70b5407a714db16c84c4;thermal: Fix not emulating critical temperatures;
remote:  [Backported preliminary patch. See thread:
remote:  http://thread.gmane.org/gmane.linux.power-management.general/58483/]
remote:
remote:  commit e6e238c38 (thermal: sysfs: Add a new sysfs node emul_temp for
remote:  thermal emulation)  promised not to emulate critical temperatures,
remote:  but the check for critical temperatures is broken in multiple ways:
remote:
remote:  - The code should only accept an emulated temperature when the emulated
remote:    temperature is lower than the critical temperature. Instead the code
remote:    accepts an emulated temperature whenever the real temperature is lower
remote:    than the critical temperature. This makes no sense and trying to
remote:    emulate a temperature higher than the critical temperature halts the
remote:    system.
remote:  - When trying to emulate a higher-than-critical temperature we should either
remote:    limit the emulated temperature to the maximum non critical temperature
remote:    or refuse to emulate this temperature. Instead the code just silently
remote:    ignores the emulated temperature and continues with the real temperature.
remote:
remote:  This patch moves the test for illegal emulated temperature to the sysfs
remote:  write function so that we can properly refuse illegal temperatures here.
remote:  Trying to write illegal temperatures results in an error message. While
remote:  at it use IS_ENABLED() instead of #ifdefs.
remote:
remote:  refs #SWLINUX-3599
remote:
remote:  Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 5fa4d4671626b95262c06e712fb08083d9cfd45d)
remote:
remote:
remote:   drivers/thermal/thermal_core.c | 46 +++++++++++-----------
remote:   1 file changed, 24 insertions(+), 22 deletions(-)
remote:  ;s.hauer@pengutronix.de;2016-05-24 15:40:15 -0400;4ea223753cee2187ca8ab8965aa4e5c4b15fd564;thermal: remove useless call to thermal_zone_device_set_polling;
remote:  [Backported preliminary patch. See thread:
remote:  http://thread.gmane.org/gmane.linux.power-management.general/58483/]
remote:
remote:  When the thermal zone has no get_temp callback then thermal_zone_device_register()
remote:  calls thermal_zone_device_set_polling() with a polling delay of 0. This
remote:  only cancels the poll_queue. Since the poll_queue hasn't been scheduled this
remote:  is a no-op. Remove it.
remote:
remote:  refs #SWLINUX-3599
remote:
remote:  Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 7544f03b28cdb91ec56685ca82f2fdfe439822b6)
remote:
remote:
remote:   drivers/thermal/thermal_core.c | 3 ---
remote:   1 file changed, 3 deletions(-)
remote:  ;nm@ti.com;2016-05-24 15:40:14 -0400;c4a7b97c23fffbaef3a6f2484fff76d4186249d5;thermal: Introduce dummy functions when thermal is not defined;
remote:  When CONFIG_THERMAL is not enabled, it is better to introduce
remote:  equivalent dummy functions in the exported header than to
remote:  introduce #ifdeffery in drivers using the function.
remote:
remote:  This will prevent issues such as that reported in:
remote:  http://www.spinics.net/lists/linux-next/msg31573.html
remote:
remote:  While at it switch over to IS_ENABLED for thermal macros
remote:  to allow for thermal framework to be built as framework
remote:  and relevant APIs be usable by relevant drivers as a result.
remote:
remote:  refs #SWLINUX-3599
remote:
remote:  Reported-by: Guenter Roeck <linux@roeck-us.net>
remote:  Signed-off-by: Nishanth Menon <nm@ti.com>
remote:  Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:  (cherry picked from commit 12ca7188468ee29c4e717f73db4bf43c90954fc7)
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 6895bc8ce3951d034c0bf730755bc8ee743eea93)
remote:
remote:
remote:   include/linux/thermal.h | 56 +++++++++++++++++++++++++++--
remote:   1 file changed, 54 insertions(+), 2 deletions(-)
remote:  ;l.majewski@samsung.com;2016-05-24 15:40:14 -0400;91c463ad83a03f967f66da8972a0f9bf58f4a78a;thermal: of: Enable thermal_zoneX when sensor is correctly added;
remote:  Up till now the thermal_zone mode was by default "disabled". With this
remote:  patch the default behavior was changed to "enable".
remote:
remote:  One can read the mode at:
remote:  /sys/class/thermal/thermal_zone0/mode
remote:
remote:  refs #SWLINUX-3599
remote:
remote:  Tested-by: Javi Merino <javi.merino@arm.com>
remote:  Reported-by: Abhilash Kesavan <a.kesavan@samsung.com>
remote:  Signed-off-by: Lukasz Majewski <l.majewski@samsung.com>
remote:  Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:  (cherry picked from commit 528012c1f4379738c6307b273d20cc3caa7d08af)
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit cfd42749165f47f45ee9eaf8376be6bfdce60cc7)
remote:
remote:
remote:   drivers/thermal/of-thermal.c | 3 +++
remote:   1 file changed, 3 insertions(+)
remote:  ;punit.agrawal@arm.com;2016-05-24 15:40:13 -0400;a7b927f0541208a0c49afab955ab690a1cbc9041;thermal: Fix cdev registration with THERMAL_NO_LIMIT on 64bit;
remote:  The size of unsigned long varies between 32 and 64 bit systems while
remote:  the size of phandle arguments is always 32 bits per parameter.
remote:
remote:  On 64-bit systems, cooling devices registered via of-thermal apis fail
remote:  to bind when the min/max cooling state is specified as
remote:  THERMAL_NO_LIMIT (-1UL) as there is a mis-match between the value read
remote:  from the device tree (32bit) and the pre-processor define (64bit).
remote:
remote:  As we're unlikely to need cooling states larger than 32 bits, and for
remote:  consistency with the size of phandle arguments, explicitly limit
remote:  THERMAL_NO_LIMIT to 32 bits.
remote:
remote:  refs #SWLINUX-3599
remote:
remote:  Reported-by: Hyungwoo Yang <hwoo.yang@gmail.com>
remote:  Acked-by: Zhang Rui <rui.zhang@intel.com>
remote:  Signed-off-by: Punit Agrawal <punit.agrawal@arm.com>
remote:  Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:  (cherry picked from commit a940cb34fed73b2d4809a4575f2981d5927e2c21)
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 6204e0484ab0cf78e158321fe0101c75bd5ac10e)
remote:
remote:
remote:   include/dt-bindings/thermal/thermal.h | 2 +-
remote:   include/linux/thermal.h               | 2 +-
remote:   2 files changed, 2 insertions(+), 2 deletions(-)
remote:  ;l.majewski@samsung.com;2016-05-24 15:40:12 -0400;8706c31c53d61644564b802d3e19c0f8ae83cd31;thermal:core:fix: Check return code of the ->get_max_state() callback;
remote:  The return code from ->get_max_state() callback was not checked during
remote:  binding cooling device to thermal zone device.
remote:
remote:  refs #SWLINUX-3599
remote:
remote:  Signed-off-by: Lukasz Majewski <l.majewski@samsung.com>
remote:  Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:  (cherry picked from commit 9a3031dc3e7a5edfeb52ae8951f8bcd927351854)
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 496089560c948b796c767abf1492bbf3f84d2f57)
remote:
remote:
remote:   drivers/thermal/thermal_core.c | 6 ++++--
remote:   1 file changed, 4 insertions(+), 2 deletions(-)
remote:  ;l.majewski@samsung.com;2016-05-24 15:40:12 -0400;78f7681ea905af99bdf44e7cd4bbb5ae09843683;thermal: of: Extend current of-thermal.c code to allow setting emulated temp;
remote:  Before this change it was only possible to set get_temp() and get_trend()
remote:  methods to be used in the common code handling passing parameters via
remote:  device tree to "cpu-thermal" CPU thermal zone device.
remote:
remote:  Now it is possible to also set emulated value of temperature for debug
remote:  purposes.
remote:
remote:  refs #SWLINUX-3599
remote:
remote:  Signed-off-by: Lukasz Majewski <l.majewski@samsung.com>
remote:  Acked-by: Eduardo Valentin <edubezval@gmail.com>
remote:  Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:  (cherry picked from commit 184a4bf623fa587067851d25435fcb2f41de445b)
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 2948540a0196c83bf5dca855b4812a27fd8fec04)
remote:
remote:
remote:   drivers/thermal/of-thermal.c | 24 ++++++++++++++++++++++++
remote:   include/linux/thermal.h      |  3 +++
remote:   2 files changed, 27 insertions(+)
remote:  ;l.majewski@samsung.com;2016-05-24 15:40:11 -0400;893cb50113ecb0f298ebedae4a36c2fc483f52f8;thermal: of: Extend of-thermal to export table of trip points;
remote:  This patch extends the of-thermal.c to export trip points for a given
remote:  thermal zone.
remote:
remote:  Thermal drivers should use of_thermal_get_trip_points() method to get
remote:  pointer to table of thermal trip points.
remote:
remote:  refs #SWLINUX-3599
remote:
remote:  Signed-off-by: Lukasz Majewski <l.majewski@samsung.com>
remote:  Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:  (cherry picked from commit ce8be7785922de0ef497b20384425ed04f674f9d)
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 26a2a3840e8162a3a15c8d13b6bf6e24afa47e28)
remote:
remote:
remote:   drivers/thermal/of-thermal.c   | 22 ++++++++++++++++++++++
remote:   drivers/thermal/thermal_core.h |  7 +++++++
remote:   2 files changed, 29 insertions(+)
remote:  ;l.majewski@samsung.com;2016-05-24 15:40:11 -0400;7cbd1bdded27d3b7a751affbe2c4aad87925cc3e;thermal: of: Rename struct __thermal_trip to struct thermal_trip;
remote:  This patch changes name of struct __thermal_trip to thermal_trip and moves
remote:  declaration of the latter to ./include/linux/thermal.h for better visibility.
remote:
remote:  refs #SWLINUX-3599
remote:
remote:  Signed-off-by: Lukasz Majewski <l.majewski@samsung.com>
remote:  Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:  (cherry picked from commit ad9914ac3b1f5c12ef2cf1c58a6ddda306fb79d4)
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 25bb1bb3bfeaff95b4424515e6513aea1c8165a9)
remote:
remote:
remote:   drivers/thermal/of-thermal.c | 21 +++------------------
remote:   include/linux/thermal.h      | 15 +++++++++++++++
remote:   2 files changed, 18 insertions(+), 18 deletions(-)
remote:  ;l.majewski@samsung.com;2016-05-24 15:40:10 -0400;32bbefdae6da94bd242f77b6b50a040f751fe283;thermal: of: Extend of-thermal.c to provide check if trip point is valid;
remote:  This patch extends the of-thermal.c to provide check if trip point is
remote:  valid.
remote:
remote:  refs #SWLINUX-3599
remote:
remote:  Signed-off-by: Lukasz Majewski <l.majewski@samsung.com>
remote:  Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:  (cherry picked from commit a9bf2cc49d9030e374edb9cc0389512a1a1c357e)
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 8f350b6cac51fb92147949e808cd210c00638c54)
remote:
remote:
remote:   drivers/thermal/of-thermal.c   | 21 +++++++++++++++++++++
remote:   drivers/thermal/thermal_core.h |  6 ++++++
remote:   2 files changed, 27 insertions(+)
remote:  ;l.majewski@samsung.com;2016-05-24 15:40:09 -0400;526bd667035b24990edccb66d22aacb8b9747b13;thermal: of: Extend of-thermal.c to provide number of trip points;
remote:  This patch extends the of-thermal.c to provide information about number of
remote:  available trip points.
remote:
remote:  refs #SWLINUX-3599
remote:
remote:  Signed-off-by: Lukasz Majewski <l.majewski@samsung.com>
remote:  Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:  (cherry picked from commit 08dab66ec8431a1f744596cfc9f5fb659b623835)
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 25819acb4a1913f4cb36844a9af9ea1dbe5f8bec)
remote:
remote:
remote:   drivers/thermal/of-thermal.c   | 21 +++++++++++++++++++++
remote:   drivers/thermal/thermal_core.h |  5 +++++
remote:   2 files changed, 26 insertions(+)
remote:  ;javi.merino@arm.com;2016-05-24 15:40:09 -0400;b19dc849b5de82c206192e32a8aa9e9364bab005;thermal: lock the thermal zone when switching governors;
remote:  Currently, userspace can request a governor change while the governor
remote:  itself is running.  Grab the thermal zone lock when changing the
remote:  governor to prevent this race.
remote:
remote:  refs #SWLINUX-3599
remote:
remote:  Signed-off-by: Javi Merino <javi.merino@arm.com>
remote:  Signed-off-by: Zhang Rui <rui.zhang@intel.com>
remote:  (cherry picked from commit b6cc772f64ac7d1917770406844b73a94ca5ef06)
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 1575aa1f55957449b53e3303b358844e831b8856)
remote:
remote:
remote:   drivers/thermal/thermal_core.c | 2 ++
remote:   1 file changed, 2 insertions(+)
remote:  ;srinivas.pandruvada@linux.intel.com;2016-05-24 15:40:08 -0400;77ba6056e84aae80a6cb199dd74e773fa7c1ed71;thermal: core: ignore invalid trip temperature;
remote:  Ignore invalid trip temperature less or equal to zero. Some
remote:  buggy systems have invalid trips, causing system shutdown.
remote:
remote:  refs #SWLINUX-3599
remote:
remote:  Signed-off-by: Srinivas Pandruvada <srinivas.pandruvada@linux.intel.com>
remote:  Signed-off-by: Zhang Rui <rui.zhang@intel.com>
remote:  (cherry picked from commit 84ffe3ecc2c8b3effc41c0babd2cc24f1edb2aab)
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 8de4cc52c8f27397206ca543cad07411cd41a36e)
remote:
remote:
remote:   drivers/thermal/thermal_core.c | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;edubezval@gmail.com;2016-05-24 15:40:08 -0400;97f0d05aadee076353770f73afa7e289b1c0af2a;thermal: of: improve of-thermal sensor registration API;
remote:  Different drivers request API extensions in of-thermal. For this reason,
remote:  additional callbacks are required to fit the new drivers needs.
remote:
remote:  The current API implementation expects the registering sensor driver
remote:  to provide a get_temp and get_trend callbacks as function parameters.
remote:  As the amount of callbacks is growing, this patch changes the existing
remote:  implementation to use a .ops field to hold all the of thermal callbacks
remote:  to sensor drivers.
remote:
remote:  This patch also changes the existing of-thermal users to fit the new
remote:  API design. No functional change is introduced in this patch.
remote:
remote:  refs #SWLINUX-3599
remote:
remote:  Cc: Alexandre Courbot <gnurou@gmail.com>
remote:  Cc: devicetree@vger.kernel.org
remote:  Cc: Grant Likely <grant.likely@linaro.org>
remote:  Cc: Guenter Roeck <linux@roeck-us.net>
remote:  Cc: Jean Delvare <jdelvare@suse.de>
remote:  Cc: linux-kernel@vger.kernel.org
remote:  Cc: linux-pm@vger.kernel.org
remote:  Cc: linux-tegra@vger.kernel.org
remote:  Cc: lm-sensors@lm-sensors.org
remote:  Cc: Rob Herring <robh+dt@kernel.org>
remote:  Cc: Stephen Warren <swarren@wwwdotorg.org>
remote:  Cc: Thierry Reding <thierry.reding@gmail.com>
remote:  Cc: Zhang Rui <rui.zhang@intel.com>
remote:  Acked-by: Guenter Roeck <linux@roeck-us.net>
remote:  Tested-by: Mikko Perttunen <mikko.perttunen@kapsi.fi>
remote:  Reviewed-by: Mikko Perttunen <mikko.perttunen@kapsi.fi>
remote:  Reviewed-by: Alexandre Courbot <acourbot@nvidia.com>
remote:  Reviewed-by: Lukasz Majewski <l.majewski@samsung.com>
remote:  Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:  (cherry picked from commit 2251aef64a38db60f4ae7a4a83f9203c6791f196)
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 6f3e452cceabf6667e02c59070b65c3123b4abe1)
remote:
remote:
remote:   drivers/hwmon/lm75.c                   |  9 ++--
remote:   drivers/hwmon/tmp102.c                 |  6 ++-
remote:   drivers/thermal/of-thermal.c           | 39 ++++++--------
remote:   .../ti-soc-thermal/ti-thermal-common.c |  8 ++-
remote:   include/linux/thermal.h                | 24 ++++++---
remote:   5 files changed, 52 insertions(+), 34 deletions(-)
remote:  ;yaodongdong@huawei.com;2016-05-24 15:40:07 -0400;75a69c88a4a3866072091d1bfc7b9f88feae8550;Thermal:Remove usless if(!result) before return tz;
remote:  result is always zero when comes here.
remote:
remote:  refs #SWLINUX-3599
remote:
remote:  Signed-off-by: Yao Dongdong <yaodongdong@huawei.com>
remote:  Acked-by: Eduardo Valentin <edubezval@gmail.com>
remote:  Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:  (cherry picked from commit 14015860565a1464193ddb3fbd3f7253a37dfcf9)
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit c2563873e49c91baeb1a2c703bf57376332329fa)
remote:
remote:
remote:   drivers/thermal/thermal_core.c | 3 +--
remote:   1 file changed, 1 insertion(+), 2 deletions(-)
remote:  ;vz@mleia.com;2016-05-24 15:40:07 -0400;3db74834166d7c543058b18f71d9fbffc87cbda8;thermal: fix multiple disbalanced device node counters;
remote:  Here on function return all temporarily used device nodes shall
remote:  decrement their usage counter. The problems are found with device
remote:  nodes allocated by for_each_child_of_node(), of_parse_phandle()
remote:  and of_find_node_by_name(), fix all problems at once.
remote:
remote:  refs #SWLINUX-3599
remote:
remote:  Signed-off-by: Vladimir Zapolskiy <vz@mleia.com>
remote:  Cc: devicetree@vger.kernel.org
remote:  Cc: Zhang Rui <rui.zhang@intel.com>
remote:  Cc: Eduardo Valentin <edubezval@gmail.com>
remote:  Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:  (cherry picked from commit c2aad93c7edd5e1bc26cc1d80c1c00a954f01946)
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 5056eb8e8ae125b0f60c78ddf83eb6b8939b517c)
remote:
remote:
remote:   drivers/thermal/of-thermal.c | 40 +++++++++++++++++++-----
remote:   1 file changed, 32 insertions(+), 8 deletions(-)
remote:  ;l.majewski@samsung.com;2016-05-24 15:40:06 -0400;1e51740ebf696466fd38620135168738ef3b3cb7;thermal: step_wise: fix: Prevent from binary overflow when trend is dropping;
remote:  It turns out that some boards can have instance->lower greater than 0 and
remote:  when thermal trend is dropping it results with next_target equal to -1.
remote:
remote:  Since the next_target is defined as unsigned long it is interpreted as
remote:  0xFFFFFFFF and larger than instance->upper.
remote:  As a result the next_target is set to instance->upper which ramps up to
remote:  maximal cooling device target when the temperature is steadily decreasing.
remote:
remote:  refs #SWLINUX-3599
remote:
remote:  Signed-off-by: Lukasz Majewski <l.majewski@samsung.com>
remote:  Signed-off-by: Zhang Rui <rui.zhang@intel.com>
remote:  (cherry picked from commit 26bb0e9a1a938ec98ee07aa76533f1a711fba706)
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 2033ac2ff1b2a66846267a14026f8f46ba1467fe)
remote:
remote:
remote:   drivers/thermal/step_wise.c | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;ldewangan@nvidia.com;2016-05-24 15:40:06 -0400;a7d897946806c91f063e1fc7f9e6bd65f91fb8aa;thermal: add support to disable thermal zone from DTS;
remote:  Add support to check status of the thermal zone before registering the
remote:  zone. This will help on disabling some non-existing thermal zone from
remote:  the top level DTS file out of common dtsi thermalzone file.
remote:
remote:  For example,
remote:  we have 3 platforms almost same but thermal zones on this platform are
remote:  little bit different. Platform 1 and 2 have three thermal zones and
remote:  platform 3 has two thermal zones. To avoid duplication of the thermal
remote:  zones entries on each DTS file of platforms,we created one common
remote:  dtsi file for thermal zone and included this dtsi file from these
remote:  3 platform's top level dts file.
remote:
remote:  On common thermal zone com dtsi file, all thermal zone are enabled and
remote:  need to disable one of thermal zone on platform 3 dts file. For this, we
remote:  just added entry status = "disabled" for that thermal zone on platform 3
remote:  dts file and along with this change to make it work.
remote:
remote:  This way, we reuse the common file and control the enable/disable of the
remote:  thermal zone from top level dts file.
remote:
remote:  refs #SWLINUX-3599
remote:
remote:  Signed-off-by: Laxman Dewangan <ldewangan@nvidia.com>
remote:  Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:  (cherry picked from commit a020279ee611c31ac163c00b21b975e7ecbb2e9c)
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit f6e730a5cbc26c99ff88926beab6950611f4d22a)
remote:
remote:
remote:   drivers/thermal/of-thermal.c | 12 ++++++++++++
remote:   1 file changed, 12 insertions(+)
remote:  ;punit.agrawal@arm.com;2016-05-24 15:40:05 -0400;8a123a373086268bd77c239c10ca224f2b460e85;thermal: trace: Trace when temperature is above a trip point;
remote:  Create a new event to trace when the temperature is above a trip
remote:  point. Use the trace-point when handling non-critical and critical
remote:  trip pionts.
remote:
remote:  refs #SWLINUX-3599
remote:
remote:  Cc: Zhang Rui <rui.zhang@intel.com>
remote:  Cc: Eduardo Valentin <edubezval@gmail.com>
remote:  Cc: Steven Rostedt <rostedt@goodmis.org>
remote:  Cc: Frederic Weisbecker <fweisbec@gmail.com>
remote:  Cc: Ingo Molnar <mingo@redhat.com>
remote:  Signed-off-by: Punit Agrawal <punit.agrawal@arm.com>
remote:  Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:  (cherry picked from commit 208cd822a19e683bc890f6708786f2420e172d76)
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 4ca0f150723bd30784dd77ec6381228aaf07f94a)
remote:
remote:
remote:   drivers/thermal/fair_share.c   | 12 ++++++++++
remote:   drivers/thermal/step_wise.c    |  5 ++++-
remote:   drivers/thermal/thermal_core.c |  2 ++
remote:   include/trace/events/thermal.h | 26 ++++++++++++++++++++++
remote:   4 files changed, 44 insertions(+), 1 deletion(-)
remote:  ;punit.agrawal@arm.com;2016-05-24 15:40:05 -0400;00d1bcd363d345e1309ff44fe525fd78fc0415c9;thermal: trace: Trace when a cooling device's state is updated;
remote:  Introduce and use an event to trace when a cooling device's state is
remote:  updated. This is useful to follow the effect of governor decisions on
remote:  cooling devices.
remote:
remote:  refs #SWLINUX-3599
remote:
remote:  Cc: Zhang Rui <rui.zhang@intel.com>
remote:  Cc: Eduardo Valentin <edubezval@gmail.com>
remote:  Cc: Steven Rostedt <rostedt@goodmis.org>
remote:  Cc: Frederic Weisbecker <fweisbec@gmail.com>
remote:  Cc: Ingo Molnar <mingo@redhat.com>
remote:  Signed-off-by: Punit Agrawal <punit.agrawal@arm.com>
remote:  Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:  (cherry picked from commit 39811569e43a81417bc0ddca3d0c7658c3dcd4b0)
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 0d15547fdcdc931033c469434290fb0bdf831369)
remote:
remote:
remote:   drivers/thermal/thermal_core.c |  1 +
remote:   include/trace/events/thermal.h | 19 +++++++++++++++++++
remote:   2 files changed, 20 insertions(+)
remote:  ;punit.agrawal@arm.com;2016-05-24 15:40:04 -0400;25cdcf1ac0aa3d2442c94acb8b991ec7bb401841;thermal: trace: Trace temperature changes;
remote:  Create a new event to trace the temperature of a thermal zone. Using
remote:  this event trace the temperature changes of the thermal zone every-time
remote:  it is updated.
remote:
remote:  refs #SWLINUX-3599
remote:
remote:  Cc: Zhang Rui <rui.zhang@intel.com>
remote:  Cc: Eduardo Valentin <edubezval@gmail.com>
remote:  Cc: Steven Rostedt <rostedt@goodmis.org>
remote:  Cc: Frederic Weisbecker <fweisbec@gmail.com>
remote:  Cc: Ingo Molnar <mingo@redhat.com>
remote:  Signed-off-by: Punit Agrawal <punit.agrawal@arm.com>
remote:  Signed-off-by: Eduardo Valentin <edubezval@gmail.com>
remote:  (cherry picked from commit 100a8fdbf525bb11796692a713c267be6523a890)
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 1c7d60554aeeeb794a75a371f6364c4fea8b4c19)
remote:
remote:
remote:   drivers/thermal/thermal_core.c |  4 +++
remote:   include/trace/events/thermal.h | 38 ++++++++++++++++++++++
remote:   2 files changed, 42 insertions(+)
remote:  ;javi.merino@arm.com;2016-05-24 15:40:03 -0400;0982b5f511eb9399fa7269edb332ab66357e902c;thermal: document struct thermal_zone_device and thermal_governor;
remote:  Document struct thermal_zone_device and struct thermal_governor fields
remote:  and their use by the thermal framework code.
remote:
remote:  refs #SWLINUX-3599
remote:
remote:  Cc: Zhang Rui <rui.zhang@intel.com>
remote:  Cc: Eduardo Valentin <edubezval@gmail.com>
remote:  Signed-off-by: Javi Merino <javi.merino@arm.com>
remote:  Signed-off-by: Zhang Rui <rui.zhang@intel.com>
remote:  (cherry picked from commit c708a98f01068fe07f77448031f9f5317423e777)
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 81562af40c03a641acfe0e9d91792670f1b505b4)
remote:
remote:
remote:   include/linux/thermal.h | 46 +++++++++++++++++++++++++++--
remote:   1 file changed, 44 insertions(+), 2 deletions(-)
remote:  ;punit.agrawal@arm.com;2016-05-24 15:40:03 -0400;17d0cf1b62abe8f7dfe49795df18d224231e5ff6;thermal: Bind cooling devices with the correct arguments;
remote:  When binding cooling devices to thermal zones created from the device
remote:  tree the minimum and maximum cooling states are in the wrong order
remote:  leading to failure to bind.
remote:
remote:  Fix the order of cooling states in the call to
remote:  thermal_zone_bind_cooling_device to fix this.
remote:
remote:  refs #SWLINUX-3599
remote:
remote:  Cc:Zhang Rui <rui.zhang@intel.com>
remote:  Signed-off-by: Punit Agrawal <punit.agrawal@arm.com>
remote:  Reviewed-by: Stephen Boyd <sboyd@codeaurora.org>
remote:  Signed-off-by: Zhang Rui <rui.zhang@intel.com>
remote:  (cherry picked from commit dd354b84d47ec8ca53686bdb3cc1aecdeb75bef5)
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 0f9244b0f10f74b39eeb3cef7d8a6f7ef10ee5e9)
remote:
remote:
remote:   drivers/thermal/of-thermal.c | 4 ++--
remote:   1 file changed, 2 insertions(+), 2 deletions(-)
remote:  ;sboyd@codeaurora.org;2016-05-24 15:40:02 -0400;c6f70dfbc4cca80172839d2e63c1a01f98f2640d;thermal: Add braces around suspect code;
remote:  It looks like this code is missing braces, otherwise the if
remote:  statement shouldn't have been indented. Fix it.
remote:
remote:  refs #SWLINUX-3599
remote:
remote:  Signed-off-by: Stephen Boyd <sboyd@codeaurora.org>
remote:  Signed-off-by: Zhang Rui <rui.zhang@intel.com>
remote:  (cherry picked from commit ca9521b770c988bb6bb8eea1241f7a487dab6ff1)
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 801cf455af25897d0a52bc000fb5165ac61d18d2)
remote:
remote:
remote:   drivers/thermal/of-thermal.c | 3 ++-
remote:   1 file changed, 2 insertions(+), 1 deletion(-)
remote:  ;norris@broadcom.com;2016-05-24 15:40:02 -0400;1dd505957c67d313b0bb29860a518270e6dd6582;clk: divider: handle integer overflow when dividing large clock rates;
remote:  [Backported version of patch from:
remote:  http://article.gmane.org/gmane.linux.power-management.general/59004
remote:  Some discussion at:
remote:  lkml.kernel.org/g/20150413201433.GQ32500@ld-irv-0074]
remote:
remote:  On 32-bit architectures, 'unsigned long' (the type used to hold clock
remote:  rates, in Hz) is often only 32 bits wide. DIV_ROUND_UP() (as used in,
remote:  e.g., commit b11d282dbea2 "clk: divider: fix rate calculation for
remote:  fractional rates") can yield an integer overflow on clock rates that are
remote:  not (by themselves) too large to fit in 32 bits, because it performs
remote:  addition before the division. See for example:
remote:
remote:    DIV_ROUND_UP(3000000000, 1500000000) = (3.0G + 1.5G - 1) / 1.5G
remote:                                         = OVERFLOW / 1.5G
remote:
remote:  This patch fixes such cases by always promoting the dividend to 64-bits
remote:  (unsigned long long) before doing the division. While this patch does
remote:  not resolve the issue with large clock rates across the common clock
remote:  framework nor address the problems with doing full 64-bit arithmetic on
remote:  a 32-bit architecture, it does fix some issues seen when using clock
remote:  dividers on a 3GHz reference clock to produce a 1.5GHz CPU clock for an
remote:  ARMv7 Brahma B15 SoC.
remote:
remote:  refs #SWLINUX-3583
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 329b193a0390d3e1e93bac9e0065c3f682204139)
remote:
remote:
remote:   drivers/clk/clk-divider.c | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;norris@broadcom.com;2016-05-24 15:40:01 -0400;fcad7d6142cdecd202aecfe3e96f1315909fed1e;clk: clk-divider: pass width to _register_divider();
remote:  _register_divider() expects a mask width parameter, not the mask itself.
remote:
remote:  Also add extra sanity checking on the device tree, since we really
remote:  expect a contiguous mask, packed to the low bit position.
remote:
remote:  Note that the code in question has not been merged upstream; the
remote:  original code was just grabbed off the mailing list.
remote:
remote:  Perhaps for an upstream submission, this property should be reworked as
remote:  a 'mask-width' parameter instead? It's not clear to me what we would do
remote:  with a non-contiguous mask, as this binding (and driver) was not really
remote:  designed for it. And I don't think such hardware exists, at least not in
remote:  a sane world.
remote:
remote:  refs #SWLINUX-3583
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 29a7eb5c91224f73d293418e0a96e5aa273799d0)
remote:
remote:
remote:   drivers/clk/clk-divider.c | 8 +++++++-
remote:   1 file changed, 7 insertions(+), 1 deletion(-)
remote:  ;norris@broadcom.com;2016-05-24 15:40:01 -0400;97fb0b6485e8bfa78318f82b7183bfae154bad9c;soc: brcmstb: fixup copyright attributions;
remote:  This is a trivial file, but nearly copied from Nvidia/Tegra. I meant to
remote:  keep the Nvidia/2014 copyright and add a Broadcom/2015 one.
remote:
remote:  refs #SWLINUX-3579
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit b496b8fc5eaa4d709ab3ba3db6d38a7c72192653)
remote:
remote:
remote:   include/soc/brcmstb/common.h | 3 ++-
remote:   1 file changed, 2 insertions(+), 1 deletion(-)
remote:  ;norris@broadcom.com;2016-05-24 15:40:00 -0400;931a3ed02acb6720203a546d814ea524a9bf684f;soc: brcmstb: wktmr: fixup some checkpatch complaints;
remote:  refs #SWLINUX-3579
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 8c76369c67daf044157bfa638a811fea7f67159a)
remote:
remote:
remote:   drivers/soc/brcmstb/wktmr.c | 8 ++++----
remote:   1 file changed, 4 insertions(+), 4 deletions(-)
remote:  ;norris@broadcom.com;2016-05-24 15:39:59 -0400;c4b03e0f8b9baa84355052164e8baf02d410c8b1;ARM: brcmstb_defconfig: add SRPD and wktmr drivers;
remote:  refs #SWLINUX-3579
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 7b63ed88dfad48440434549ecf0ad6be26222a38)
remote:
remote:
remote:   arch/arm/configs/brcmstb_defconfig | 2 ++
remote:   1 file changed, 2 insertions(+)
remote:  ;norris@broadcom.com;2016-05-24 15:39:59 -0400;de9be700667e90e5168f279017c4d475197d00ad;soc: brcmstb: move wake-up timer driver;
remote:  refs #SWLINUX-3579
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit fd284620c13290cde3017b3c6c4baa529e67d6d1)
remote:
remote:
remote:   arch/arm/mach-bcm/Makefile        |   2 +-
remote:   arch/arm/mach-bcm/wktmr-brcmstb.c | 245 ------------------
remote:   drivers/soc/brcmstb/Kconfig       |   3 +
remote:   drivers/soc/brcmstb/Makefile      |   1 +
remote:   drivers/soc/brcmstb/wktmr.c       | 245 ++++++++++++++++++
remote:   5 files changed, 250 insertions(+), 246 deletions(-)
remote:  ;norris@broadcom.com;2016-05-24 15:39:58 -0400;feae3c5a4345b7f4f242afc881f962e61bed093f;soc: brcmstb: move DDR SRPD driver;
remote:  refs #SWLINUX-3579
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 2dafec412e1af7a438d202538ffab93660ebfb7b)
remote:
remote:
remote:   arch/arm/mach-bcm/Makefile       |   2 +-
remote:   arch/arm/mach-bcm/srpd-brcmstb.c | 155 -------------------
remote:   drivers/soc/brcmstb/Kconfig      |   6 +
remote:   drivers/soc/brcmstb/Makefile     |   1 +
remote:   drivers/soc/brcmstb/srpd.c       | 155 +++++++++++++++++++
remote:   5 files changed, 163 insertions(+), 156 deletions(-)
remote:  ;norris@broadcom.com;2016-05-24 15:39:58 -0400;2b7ca13df5bd9aed9d6b9683668abafe34db295d;soc: brcmstb: make IRQ0, PM support configurable;
remote:  refs #SWLINUX-3579
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit b5e73a4fc911072f264e89e9307c90980507f80e)
remote:
remote:
remote:   drivers/soc/brcmstb/Kconfig  | 17 ++++++++++++++++-
remote:   drivers/soc/brcmstb/Makefile |  2 +-
remote:   2 files changed, 17 insertions(+), 2 deletions(-)
remote:  ;norris@broadcom.com;2016-05-24 15:39:57 -0400;2d985f88fd1a59ca83b72e50bad473b09591e9fb;soc: brcmstb: move PM code out of arch/arm/;
remote:  This doesn't quite solve all of our architecture dependencies yet. A few
remote:  remaining issues:
remote:
remote:   * We can't set IRQCHIP_MASK_ON_SUSPEND in gic_arch_extn.flags without a
remote:     machine descriptor
remote:
remote:   * Some of the S2 support code is still written in assembly
remote:
remote:  refs #SWLINUX-3579
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit edf7e9d0cf2c36c242189f90b199f0e98bbd1b00)
remote:
remote:
remote:   arch/arm/mach-bcm/Kconfig         |   4 -
remote:   arch/arm/mach-bcm/Makefile        |   2 -
remote:   arch/arm/mach-bcm/aon_defs.h      |  98 --
remote:   arch/arm/mach-bcm/brcmstb.h       |  10 -
remote:   arch/arm/mach-bcm/pm-brcmstb.c    | 919 ------------------
remote:   arch/arm/mach-bcm/pm-brcmstb.h    |  40 -
remote:   arch/arm/mach-bcm/regsave.c       | 148 ---
remote:   arch/arm/mach-bcm/s2-brcmstb.S    |  73 --
remote:   arch/arm/mach-bcm/xpt_dma.c       | 318 ------
remote:   arch/arm/mach-bcm/xpt_dma.h       |  60 --
remote:   drivers/soc/brcmstb/Kconfig       |   4 +
remote:   drivers/soc/brcmstb/Makefile      |   2 +
remote:   drivers/soc/brcmstb/pm/Makefile   |   2 +
remote:   drivers/soc/brcmstb/pm/aon_defs.h |  98 ++
remote:   drivers/soc/brcmstb/pm/pm.c       | 918 +++++++++++++++++
remote:   drivers/soc/brcmstb/pm/pm.h       |  40 +
remote:   drivers/soc/brcmstb/pm/regsave.c  | 148 +++
remote:   drivers/soc/brcmstb/pm/s2.S       |  73 ++
remote:   drivers/soc/brcmstb/pm/xpt_dma.c  | 318 ++++++
remote:   drivers/soc/brcmstb/pm/xpt_dma.h  |  60 ++
remote:   include/soc/brcmstb/common.h      |  10 +
remote:   21 files changed, 1673 insertions(+), 1672 deletions(-)
remote:  ;norris@broadcom.com;2016-05-24 15:39:56 -0400;7048a8943c4a7ab535a5cd25bb8ac733b5753c2f;soc: brcmstb: move IRQ0 hacks out of arch/arm/;
remote:  To help modularize some more PM code.
remote:
remote:  Give this a new driver, that we can enable only when we can't turn on
remote:  the real IRQ0 driver.
remote:
remote:  refs #SWLINUX-3579
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit e446ea88035a2107166ef200f699020247906bdf)
remote:
remote:
remote:   arch/arm/mach-bcm/brcmstb.c     |  9 -----
remote:   arch/arm/mach-bcm/brcmstb.h     |  2 -
remote:   arch/arm/mach-bcm/pm-brcmstb.c  |  6 ---
remote:   drivers/soc/brcmstb/Kconfig     |  4 ++
remote:   drivers/soc/brcmstb/Makefile    |  1 +
remote:   drivers/soc/brcmstb/irq0-stub.c | 44 +++++++++++++++++++++
remote:   6 files changed, 49 insertions(+), 17 deletions(-)
remote:  ;norris@broadcom.com;2016-05-24 15:39:56 -0400;a0562add79dc76cda47a9561037077c9b6a002ec;pm: update "S2" header comment;
remote:  This file supports S3 and S5 as well.
remote:
remote:  refs #SWLINUX-2749
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 52c31c2353415bfd5d9142bfa9726b3c29a01577)
remote:
remote:
remote:   arch/arm/mach-bcm/pm-brcmstb.c | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;norris@broadcom.com;2016-05-24 15:39:55 -0400;73fed911300315aac955aa092cc4aa39a28d54ab;pm: untie PM code from machine init code;
remote:  In preparation for moving to drivers/soc/brcmstb/, let's make the PM
remote:  init code use arch_initcall(), and imitate the Tegra soc_is_*() guard.
remote:
remote:  refs #SWLINUX-2749
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit c2df895fabb17d4b9c873b7018f1049475f4138b)
remote:
remote:
remote:   arch/arm/mach-bcm/brcmstb.c    |  4 ----
remote:   arch/arm/mach-bcm/brcmstb.h    |  5 -----
remote:   arch/arm/mach-bcm/pm-brcmstb.c | 10 +++++++++-
remote:   3 files changed, 9 insertions(+), 10 deletions(-)
remote:  ;norris@broadcom.com;2016-05-24 15:39:55 -0400;0cbcb294a9310f72cf0b1dd509f06f56027beb31;soc: add brcmstb stub;
remote:  refs #SWLINUX-2749
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 5104f902fe74a892b780f11491fca5fe7c4f4892)
remote:
remote:
remote:   arch/arm/mach-bcm/Kconfig    |  1 +
remote:   drivers/soc/Kconfig          |  2 ++
remote:   drivers/soc/Makefile         |  5 ++++
remote:   drivers/soc/brcmstb/Kconfig  |  7 +++++
remote:   drivers/soc/brcmstb/Makefile |  1 +
remote:   drivers/soc/brcmstb/common.c | 33 ++++++++++++++++++++++++
remote:   include/soc/brcmstb/common.h | 14 ++++++++++
remote:   7 files changed, 63 insertions(+)
remote:  ;santosh.shilimkar@ti.com;2016-05-24 15:39:54 -0400;9db2f7d31570a078e74f5216869b45b889a62765;soc: Introduce drivers/soc place-holder for SOC specific drivers;
remote:  [Upstream commit 3a6e08218f36baa9c49282ad2fe0dfbf001d8f23]
remote:
remote:  Based on earlier thread "https://lkml.org/lkml/2013/10/7/662" and
remote:  discussion at Kernel Summit'2013, it was agreed to create
remote:  'driver/soc' for drivers which are quite SOC specific.
remote:
remote:  Further discussion on the subject is in response to
remote:  the earlier version of the patch is here:
remote:  	http://lwn.net/Articles/588942/
remote:
remote:  Cc: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
remote:  Cc: Kumar Gala <galak@codeaurora.org>
remote:  Cc: Paul Walmsley <paul@pwsan.com>
remote:  Cc: Olof Johansson <olof@lixom.net>
remote:  Cc: Arnd Bergmann <arnd@arndb.de>
remote:  Signed-off-by: Sandeep Nair <sandeep_n@ti.com>
remote:  Signed-off-by: Santosh Shilimkar <santosh.shilimkar@ti.com>
remote:  Signed-off-by: Kumar Gala <galak@codeaurora.org>
remote:
remote:  [Yeah, yeah, it's not bisectable]
remote:
remote:  refs #SWLINUX-2749
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 8457fa799fcdbbf3107d263d2bddf0639f194b86)
remote:
remote:
remote:   drivers/Kconfig     | 2 ++
remote:   drivers/Makefile    | 3 +++
remote:   drivers/soc/Kconfig | 3 +++
remote:   3 files changed, 8 insertions(+)
remote:  ;norris@broadcom.com;2016-05-24 15:39:53 -0400;304df5433a286499e440e7ba6ef45a32ad935478;bsp: update list of drivers using BDEV macros
remote:  This list is not exhaustive, and therefore is misleading.
remote:
remote:  refs #SWLINUX-2749
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 9864ec9b4ff5ac1db200a1f568d2649bc3c22894)
remote:
remote:
remote:   arch/arm/mach-bcm/brcmstb.c | 4 ++++
remote:   1 file changed, 4 insertions(+)
remote:  ;norris@broadcom.com;2016-05-24 15:39:53 -0400;a2972de0055f7506b4bb65b03bb5c14388252765;ARM: brcmstb: combine hotplug/SMP support files;
remote:  We have an unnecessary split of hotplug and SMP code, and that split
remote:  isn't done very well. Let's merge the two to reduce the number of header
remote:  declarations, number of files, and complexity.
remote:
remote:  This also matches upstream better.
remote:
remote:  refs #SWLINUX-3622
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 78897c1b545ddd878821d7aba280568c8ddeacf3)
remote:
remote:
remote:   arch/arm/mach-bcm/Makefile          |   1 -
remote:   arch/arm/mach-bcm/brcmstb.h         |  20 -
remote:   arch/arm/mach-bcm/hotplug-brcmstb.c | 349 ----------------
remote:   arch/arm/mach-bcm/platsmp-brcmstb.c | 341 ++++++++++++++-
remote:   4 files changed, 340 insertions(+), 371 deletions(-)
remote:  ;norris@broadcom.com;2016-05-24 15:39:49 -0400;6f2aa1636cb7284859bb9193467f16ba43ee964e;ARM: brcmstb: initialize SMP ops with CPU_METHOD_OF_DECLARE() helpers;
remote:  This allows the DT initialization framework to dynamically match our CPU
remote:  SMP code with the hardware it should be used on based on the DTB, rather
remote:  than statically determining that in our machine description file. This
remote:  enables the use of PSCI, for instance.
remote:
remote:  While doing this, let's move the code out into a separate mini driver,
remote:  so we can get all the SMP/hotplug code in one place, and to match
remote:  upstream.
remote:
remote:  refs #SWLINUX-3622
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit d7c2d1d80df4b6f4d9fb0a37ca1ec5a463d97810)
remote:
remote:
remote:   arch/arm/mach-bcm/Makefile          |   2 +-
remote:   arch/arm/mach-bcm/brcmstb.c         | 141 ----------------
remote:   arch/arm/mach-bcm/platsmp-brcmstb.c |  38 +++++
remote:   3 files changed, 39 insertions(+), 142 deletions(-)
remote:  ;norris@broadcom.com;2016-05-24 15:35:25 -0400;5d980590e9e534fb1aea73bbd4435489e534cbab;bsp: build only when ARCH_BRCMSTB is enabled;
remote:  Matches upstream a little better and should prevent build errors in odd
remote:  configurations.
remote:
remote:  Also, replace ':=' with '+=' so we don't clobber the contents of $(obj-y).
remote:
remote:  refs #SWLINUX-3622
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 58b889b2cf4f3256729758df95cf969f7389d34f)
remote:
remote:
remote:   arch/arm/mach-bcm/Makefile | 4 +++-
remote:   1 file changed, 3 insertions(+), 1 deletion(-)
remote:  ;norris@broadcom.com;2016-05-24 15:35:22 -0400;1d917f672b7c3257734a5b1da8e9183817bc3e1b;ARM: brcmstb: drop unnecessary SMP 'boot_lock';
remote:  This was just a copy-and-paste job from another implementation. We don't
remote:  have anything extra to synchronize here.
remote:
remote:  refs #SWLINUX-3622
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 7f4fb815144e6278270164bd7b1081ad46e44a9d)
remote:
remote:
remote:   arch/arm/mach-bcm/brcmstb.c | 35 +------------------------
remote:   1 file changed, 1 insertion(+), 34 deletions(-)
remote:  ;sboyd@codeaurora.org;2016-05-24 15:24:15 -0400;d663f2ea2b14f851db67c712c8d9ff593f0a4290;ARM: Introduce CPU_METHOD_OF_DECLARE() for cpu hotplug/smp;
remote:  [Upstream commit 6c3ff8b11a16ec69199ab85b74a5fae6d9c59db7]
remote:
remote:  The goal of multi-platform kernels is to remove the need for mach
remote:  directories and machine descriptors. To further that goal,
remote:  introduce CPU_METHOD_OF_DECLARE() to allow cpu hotplug/smp
remote:  support to be separated from the machine descriptors.
remote:  Implementers should specify an enable-method property in their
remote:  cpus node and then implement a matching set of smp_ops in their
remote:  hotplug/smp code, wiring it up with the CPU_METHOD_OF_DECLARE()
remote:  macro. When the kernel is compiled we'll collect all the
remote:  enable-method smp_ops into one section for use at boot.
remote:
remote:  At boot time we'll look for an enable-method in each cpu node and
remote:  try to match that against all known CPU enable methods in the
remote:  kernel. If there are no enable-methods in the cpu nodes we
remote:  fallback to the cpus node and try to use any enable-method found
remote:  there. If that doesn't work we fall back to the old way of using
remote:  the machine descriptor.
remote:
remote:  Acked-by: Mark Rutland <mark.rutland@arm.com>
remote:  Cc: Russell King <linux@arm.linux.org.uk>
remote:  Cc: <devicetree@vger.kernel.org>
remote:  Signed-off-by: Stephen Boyd <sboyd@codeaurora.org>
remote:  Signed-off-by: Kumar Gala <galak@codeaurora.org>
remote:
remote:  refs #SWLINUX-3622
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit f6fc01917f43d463e15e4adc21215616d686a828)
remote:
remote:
remote:   arch/arm/include/asm/smp.h        |  9 +++++
remote:   arch/arm/kernel/devtree.c         | 40 +++++++++++++++++++
remote:   include/asm-generic/vmlinux.lds.h | 10 +++++
remote:   3 files changed, 59 insertions(+)
remote:  ;fainelli@broadcom.com;2016-05-24 15:24:14 -0400;9e7138b4e0c067675a64cceb2625bb9474811c93;Documentation: DT: Document brcm,write-pairing property;
remote:  Document the hif-cpubiuctrl nodes a bit more, and add a documentation entry for
remote:  the optional "brcm,write-pairing" property.
remote:
remote:  refs #SWLINUX-3600
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 270bf453302e3b15889f934a4fea154d3d9af915)
remote:
remote:
remote:   .../bindings/arm/brcm-brcmstb.txt         | 11 +++++++++++
remote:   1 file changed, 11 insertions(+)
remote:  ;fainelli@broadcom.com;2016-05-24 15:24:14 -0400;59d5d1649d5f1a72ed9723c56fa95b5121ada1a6;bsp: Use brcm,write-pairing from DT to enable MCP write-pairing;
remote:  If we can find a "brcm,write-pairing" boolean property in Device Tree, enable
remote:  MCP write-pairing. disable_mcp_write_pairing() is renamed to
remote:  mcp_write_pairing_set() to illustrate that it can both enable or disable.
remote:
remote:  For Device Tree that do not have this property, the behavior is unchanged, and
remote:  we keep disabling MCP write-pairing.
remote:
remote:  Newer chips which have working MCP write-pairing are expected to place this
remote:  property in the hif_cpubiuctrl node to indicate this.
remote:
remote:  refs #SWLINUX-3600
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 955006c8b475cbc2f7c36cfbfbc61831654f0dbd)
remote:
remote:
remote:   arch/arm/mach-bcm/brcmstb.c | 17 ++++++++++++-----
remote:   1 file changed, 12 insertions(+), 5 deletions(-)
remote:  ;gregory@broadcom.com;2016-05-24 15:24:13 -0400;2a132675c482819b23cab902660caeb27fbebfc3;kconfig: Print full defined and depends for multiply-defined symbols;
remote:  [Upstream submission: https://lkml.org/lkml/2015/4/8/754 ]
remote:
remote:  get_symbol_str() was assuming that symbols would only have a single
remote:  property for the purpose of printing define and depends information.
remote:  This is not true, and one current example is FRAME_POINTER which is
remote:  both in lib/Kconfig.debug and arch/arm/Kconfig.debug.
remote:
remote:  In order to print out the correct Defined and Depends info, iterate
remote:  over all properties associated with the given symbol, similarly to was
remote:  done for selects.  And for depends, rather than iterating over the
remote:  property, just use the direct dependency expression.
remote:
remote:  CONFIG_FRAME_POINTER text, before:
remote:    Defined at lib/Kconfig.debug:323
remote:    Depends on: DEBUG_KERNEL [=y] && (ARM [=y] || CRIS || M68K || FRV || UML || AVR32 || SUPERH || BLACKFIN || MN10300 || METAG) || ARCH_WANT_FRAME_POINTERS [=n]
remote:
remote:  After:
remote:    Defined at lib/Kconfig.debug:323, arch/arm/Kconfig.debug:35
remote:    Depends on: DEBUG_KERNEL [=y] && (ARM [=y] || CRIS || M68K || FRV || UML || AVR32 || SUPERH || BLACKFIN || MN10300 || METAG) || ARCH_WANT_FRAME_POINTERS [=n] || !THUMB2_KERNEL [=n]
remote:
remote:  Removes now-unused function get_symbol_prop().
remote:
remote:  refs #SWLINUX-3631
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 5c97132df8e226445b70965c4018f4d5c59f1588)
remote:
remote:
remote:   scripts/kconfig/menu.c | 35 +++++++++++++-----------------
remote:   1 file changed, 15 insertions(+), 20 deletions(-)
remote:  ;gregory@broadcom.com;2016-05-24 15:24:09 -0400;ec868d8db6de3388d59b443fd139431275d7de4c;cma: brcm-cma: do not use first meminfo bank if >1 bank;
remote:  Since vmalloc is being used in arch/arm/mm/mmu.c to shrink the size of bank 0
remote:  and increase bank 1, we no longer need to place CMA regions in the first bank.
remote:  Now, altering the size of CMA regions on memc0 will be done entirely using the
remote:  'vmalloc' parameter.
remote:
remote:  This eliminates the now-unused "brcm_cma_kern_rsv" parameter which was stored
remote:  in the prm_kern_rsv_mb element of struct cma_region_rsv_data, and removes that
remote:  element from the struct as well.
remote:
remote:  refs #SWLINUX-3625
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 408cf100ea7d759ae045eef0193c6eeab4293c77)
remote:
remote:
remote:   arch/arm/mach-bcm/cma_driver.c | 24 ++--------------------
remote:   1 file changed, 2 insertions(+), 22 deletions(-)
remote:  ;gregory@broadcom.com;2016-05-24 15:18:28 -0400;03db6daa2ae8c9f80d12f520a65fdf4827caec7d;cma: brcm-cma: Do not try to reserve regions of size 0;
remote:  If there is no available space in a bank, we shouldn't try to reserve anything,
remote:  just return -EINVAL from cma_calc_rsv_range so we skip ahead to the next
remote:  segment.
remote:
remote:  refs #SWLINUX-3625
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit ed4ecce47eb7d9b8fefe378b5e9c75835aa059b5)
remote:
remote:
remote:   arch/arm/mach-bcm/cma_driver.c | 5 +++++
remote:   1 file changed, 5 insertions(+)
remote:  ;gregory@broadcom.com;2016-05-24 15:18:28 -0400;d9812945df900194391bac95a951c5e179327122;ARM: mmu: Bump default vmalloc to 744 MiB for BRCMSTB with >=1 GiB RAM;
remote:  If >= 1 GiB RAM is present (or more than one meminfo bank exists), this
remote:  increases the vmalloc area to 744 MiB and thus reduces the default amount of
remote:  lowmem to 256 MiB, which is basically all we were getting anyway with
remote:  cma_driver putting all other memory in CMA regions.  This should eliminate what
remote:  has been referred to as the "CMA barrier" (the split in memory regions on the
remote:  first memory controller because of the lowmem/highmem boundary) without
remote:  negatively impacting the actual amount of memory on the system (kernel
remote:  allocations mostly couldn't use lowmem in CMA regions anyway).
remote:
remote:  It'd be nice if we could just have more lowmem so as not to help alleviate
remote:  lowmem exhaustion, but that's a problem for another day.
remote:
remote:  For systems with < 1GB RAM, there was no CMA barrier, so we keep the default
remote:  vmalloc size the same.
remote:
remote:  This will probably need updating if there are ever any boards with 768 MiB RAM.
remote:  Also, the function relies on meminfo so will need to be updated for 3.16+, which
remote:  no longer uses meminfo.
remote:
remote:  refs #SWLINUX-3625
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 588090becbc4c088b80243950173902603b86a54)
remote:
remote:
remote:   arch/arm/mm/mmu.c | 25 ++++++++++++++++++++++++-
remote:   1 file changed, 24 insertions(+), 1 deletion(-)
remote:  ;jquinlan@broadcom.com;2016-05-24 15:18:27 -0400;323d094a2b8ae53bbd0d71c152d010e78389f60a;pci: gate refclk when ASPM L0s,L1 enabled;
remote:  Refclk from RC should be gated with CLKREQ# input when ASPM L0s,L1
remote:  is enabled =>  setting the CLKREQ_DEBUG_ENABLE field to 1.
remote:
remote:  Note that some boards have unconnected jumpers for PCIE_refclk,
remote:  and said jumpers have to be connected or the PCIe link will not
remote:  come up.  An example of this is the BCM974371SV_V00, which had
remote:  to have J4110 connected before the link came up.  Most other
remote:  boards do not appear to have a problem.
remote:
remote:  refs #SWLINUX-3574
remote:
remote:  Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:  (cherry picked from commit 2b8212b94e13e1cc8220397c256ad33ab9b5bb2f)
remote:
remote:
remote:   arch/arm/mach-bcm/pci-brcmstb.c | 4 ++++
remote:   1 file changed, 4 insertions(+)
remote:  ;fainelli@broadcom.com;2016-05-24 15:18:27 -0400;bcda8e6eba4477992449f58bdc0e0fff563bf99f;bus: brcmstb_gisb: resolve section mismatch
remote:  Upstream commit 2e8a29a1c9aaa41f72a71bb81c3df66da8156c1e]
remote:
remote:  Commit f1bee783dd37 moved the call to hook_fault_code in
remote:  brcmstb_gisb_arb_probe() which now calls a function annotated with __init, so
remote:  this one must also be annotated with __init.
remote:
remote:  In order to avoid introducing another section mismatch, call
remote:  platform_driver_probe() manually and remove the .probe assignment from
remote:  brcmstb_gisb_arb_driver, this is very similar to what
remote:  drivers/pci/host/pci-imx6.c does since we basically have the same constraints
remote:  here.
remote:
remote:  refs #SWLINUX-3579
remote:
remote:  Fixes: f1bee783dd37 ("bus: brcmstb_gisb: register the fault code hook")
remote:  Signed-off-by: Arnd Bergmann <arnd@arndb.de>
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 04ff22cc6998a108cbe1f4c5359663bc00aaffdc)
remote:
remote:
remote:   drivers/bus/brcmstb_gisb.c | 6 +++---
remote:   1 file changed, 3 insertions(+), 3 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 15:18:26 -0400;ba227a72bc7a91fe313180f2774129d4bbfd7592;bus: brcmstb_gisb: hook fault code handler;
remote:  [Upstream commit f1bee783dd37d088a8a7924205476ba1cf675378]
remote:
remote:  Commit 44127b771d9c31 ("bus: add Broadcom GISB bus arbiter timeout/error
remote:  handler") added everything that is required to register an ARM fault handler
remote:  for imprecise external aborts, except that there is nothing calling this
remote:  currently.
remote:
remote:  We do not need to export that specific function and have to update
remote:  arch/arm/mach-bcm/brcmstb.c to call it, simply, register the fault handler
remote:  during the probe() function of the driver.
remote:
remote:  refs #SWLINUX-3579
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 7c35e77beaf512b7597c7d0d188f312f28e591ad)
remote:
remote:
remote:   arch/arm/mach-bcm/brcmstb.c | 1 -
remote:   arch/arm/mach-bcm/brcmstb.h | 2 --
remote:   drivers/bus/brcmstb_gisb.c  | 9 +++------
remote:   3 files changed, 3 insertions(+), 9 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 15:18:25 -0400;14ca80aeab88a290781ba516d22a3379665ec472;bus: relocate GISB bus arbiter driver;
remote:  Relocate the GISB driver from arch/arm/mach-bcm/gisb-brcmstb.c to
remote:  drivers/bus/brcmstb_gisb.c to match the upstream submission done with commit
remote:  44127b771d9c31dcb5ab90d9093a4d48877738bc ("bus: add Broadcom GISB bus arbiter
remote:  timeout/error handler").
remote:
remote:  refs #SWLINUX-3579
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 17fa15e8d54fd18f5c0ac053d5b111a14cb9aa4e)
remote:
remote:
remote:   arch/arm/mach-bcm/Kconfig        |   1 +
remote:   arch/arm/mach-bcm/Makefile       |   2 +-
remote:   arch/arm/mach-bcm/gisb-brcmstb.c | 329 -------------------
remote:   drivers/bus/Kconfig              |   8 +
remote:   drivers/bus/Makefile             |   1 +
remote:   drivers/bus/brcmstb_gisb.c       | 329 +++++++++++++++++++
remote:   6 files changed, 340 insertions(+), 330 deletions(-)
remote:  ;acooper@broadcom.com;2016-05-24 15:18:25 -0400;f437a788aa50ca21dbe3fc5a6519bb7bc1a6ce05;USB: Update 7366c0 USB bchp_usb*_ctrl.h files because they are incorrect;
remote:  The current bchp_usb*_ctrl.h files for the 7366c0 are out of date
remote:  and incorrect and will cause USB S3 failures on resume.
remote:
remote:  refs #SWLINUX-3619
remote:
remote:  Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:  (cherry picked from commit c4abcd62f7e73e7c2cafb363fac041cefce13909)
remote:
remote:
remote:   .../brcmstb/7366c0/bchp_usb_ctrl.h     | 132 ++++++-------
remote:   1 file changed, 60 insertions(+), 72 deletions(-)
remote:  ;jquinlan@broadcom.com;2016-05-24 15:18:24 -0400;77e42c921d813caece9cf50ae4304421b5f268da;pci: remove overly cautious checks for pcie var;
remote:  refs #SWLINUX-3614
remote:
remote:  Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:  (cherry picked from commit cb29e06654154a2aa6d77ceb58680ba55eb40831)
remote:
remote:
remote:   arch/arm/mach-bcm/pci-brcmstb.c | 17 +++--------------
remote:   1 file changed, 3 insertions(+), 14 deletions(-)
remote:  ;jquinlan@broadcom.com;2016-05-24 15:18:24 -0400;1288290cb8c42562503c47a1cfffdb1d18eb2e02;pci: use IS_ENABLED(CONFIG_XXX) instead of #if;
remote:  refs #SWLINUX-3614
remote:
remote:  Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:  (cherry picked from commit b85035c94f4bb41acb7c8c86d1869478d3dc0115)
remote:
remote:
remote:   arch/arm/mach-bcm/pci-brcmstb.c | 12 ++++++------
remote:   1 file changed, 6 insertions(+), 6 deletions(-)
remote:  ;jquinlan@broadcom.com;2016-05-24 15:18:23 -0400;56bc5ae59abfeb826d66613f135ed9de66af1a7f;pci: use list for pcie instead of an array;
remote:  Remove the list and allow an unlimited amount of RC devices.
remote:
remote:  refs #SWLINUX-3614
remote:
remote:  Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:  (cherry picked from commit f48028220d6d1e4ba98208a717456ad9744f03a9)
remote:
remote:
remote:   arch/arm/mach-bcm/pci-brcmstb.c | 57 ++++++++++++++-------
remote:   1 file changed, 39 insertions(+), 18 deletions(-)
remote:  ;jquinlan@broadcom.com;2016-05-24 15:18:23 -0400;f635de01837903343a6013045a3dfbeb85fd39cd;pci: remove explicit scan_bus function;
remote:  The custom scan_bus() function is no longer needed.
remote:
remote:  refs #SWLINUX-3614
remote:
remote:  Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:  (cherry picked from commit 7f37c63938048cb6b136465ae932347ff0e362b6)
remote:
remote:
remote:   arch/arm/mach-bcm/pci-brcmstb.c | 15 +--------------
remote:   1 file changed, 1 insertion(+), 14 deletions(-)
remote:  ;jquinlan@broadcom.com;2016-05-24 15:18:22 -0400;3310e464a0c30cec51c7c641e8fae11ca44717cf;pci: dynamically allocate brcm_pcie structure;
remote:  Before we kept a statically array of two PCIe structures which
remote:  seemed enough at the time.  With this commit we keep the array,
remote:  but make it an array of pointers that will contain dynmically
remote:  allocated PCIe structures.  In a future commit we will dispose
remote:  of the array entirely and use a list.
remote:
remote:  In the process of making this change, we initialize the
remote:  hw_data.private_data structure so that it points to an array
remote:  of our PCIe pointers.  As such, we can use the pci_sys_data
remote:  structure to recover the PCIe pointer of interest.  This
remote:  obsoletes the awkward bus range counting that was done for
remote:  each RC.
remote:
remote:  refs #SWLINUX-3614
remote:
remote:  Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:  (cherry picked from commit 2f0d2b0e3dfc87354fae2734d39b265fcbab5492)
remote:
remote:
remote:   arch/arm/mach-bcm/pci-brcmstb.c | 124 +++++++++-----------
remote:   1 file changed, 56 insertions(+), 68 deletions(-)
remote:  ;jquinlan@broadcom.com;2016-05-24 15:18:22 -0400;a11ebe79cee47aa55cfc3ea8d9407b3300610c01;pci: change use of 'bus' to be 'pcie';
remote:  Since this file existed for MIPs SOCs, the use of the term
remote:  'bus' in this file has been a misnomer.  This commit corrects
remote:  this.  Specifically, 'struct brcm_pci_bus *' is now
remote:  'struct brcm_pcie *', and the variables of this type that were
remote:  named 'bus' are now named 'pcie'.
remote:
remote:  refs #SWLINUX-3614
remote:
remote:  Signed-off-by: Jim Quinlan <jquinlan@broadcom.com>
remote:  (cherry picked from commit 1141b54be7769dc8022d03304ccbb98bfc109f7f)
remote:
remote:
remote:   arch/arm/mach-bcm/pci-brcmstb.c | 168 ++++++++++----------
remote:   1 file changed, 84 insertions(+), 84 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 15:18:21 -0400;ac76baa275ba25171b45979d112493deef58b945;BCMGENET: drop duplicate BMCR-based software reset;
remote:  phy_init_hw() also does a software reset using BMCR.reset, no need to do it
remote:  twice, especially when our own does not even wait for the reset to complete.
remote:
remote:  refs #SWLINUX-3489
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit fcc7ce61d5ea4da983c5f8a2a8bae7dd8940bb85)
remote:
remote:
remote:   drivers/net/ethernet/broadcom/genet/bcmmii.c | 3 ---
remote:   1 file changed, 3 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 15:18:21 -0400;abba12b9716736dbc6780efdfe59df6c2c14bf12;BCMGENET: power down and up GPHY during suspend if unused;
remote:  In case the interface is not used, power down the integrated GPHY during
remote:  suspend. Similarly to bcmgenet_open(), bcmgenet_resume() powers on the GPHY
remote:  prior to any UniMAC activity.
remote:
remote:  refs #SWLINUX-3489
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit ad4f6dcf3235dbea0099d8887b70d57e45284bef)
remote:
remote:
remote:   .../net/ethernet/broadcom/genet/bcmgenet.c    | 8 ++++++++
remote:   1 file changed, 8 insertions(+)
remote:  ;fainelli@broadcom.com;2016-05-24 15:18:20 -0400;a4926f8656e0b8dc1e7a57451ed98175cc0e11f9;BCMGENET: power up and down integrated GPHY when used/unused;
remote:  Power up the GPHY while we are bringing-up the network interface, and
remote:  conversely, upon bring down, power the GPHY down.
remote:
remote:  refs #SWLINUX-3489
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 48a7de6a4d99df5524db11b99717d4af4dd27064)
remote:
remote:
remote:   .../ethernet/broadcom/genet/bcmgenet.c   | 12 +++++++++---
remote:   .../ethernet/broadcom/genet/bcmgenet.h   |  1 +
remote:   .../net/ethernet/broadcom/genet/bcmmii.c |  2 +-
remote:   3 files changed, 11 insertions(+), 4 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 15:18:20 -0400;0745637d011492a9335e2443d4494e4edcb1480a;BCMGENET: implement GPHY power down sequence;
remote:  Implement the GPHY power down sequence by setting all power down bits, putting
remote:  the GPHY in reset, and finally cutting the 25Mhz reference clock.
remote:
remote:  refs #SWLINUX-3489
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 04f7709854ea6294845cf41f0501bec81e683a4b)
remote:
remote:
remote:   drivers/net/ethernet/broadcom/genet/bcmmii.c | 9 +++++++--
remote:   1 file changed, 7 insertions(+), 2 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 15:18:19 -0400;e1cf9b316005e14ce2fc29fd4c43c020ef702cd5;BCMGENET: fix GPHY power-up sequence;
remote:  We were missing a number of extra steps and delays to power-up the GPHY, update
remote:  the sequence to reflect the proper procedure here.
remote:
remote:  refs #SWLINUX-3489
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit f99e887a43a14d205dc83974b97ce457ff0c008b)
remote:
remote:
remote:   .../net/ethernet/broadcom/genet/bcmmii.c   | 10 +++++++---
remote:   1 file changed, 7 insertions(+), 3 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 15:18:19 -0400;a72718f4e37a7d7704666d8681155e18d7d2ea57;BCMGENET: rename bcmgenet_ephy_power_up to bcmgenet_phy_power_set;
remote:  In preparation for implementing the power down GPHY sequence, rename
remote:  bcmgenet_ephy_power_up to illustrate that it can do both, and add an "enable"
remote:  argument.
remote:
remote:  refs #SWLINUX-3489
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit e2e90d05a5056c6beac986a92d3a2ee1c833b6ef)
remote:
remote:
remote:   .../ethernet/broadcom/genet/bcmmii.c   | 24 ++++++++------
remote:   1 file changed, 13 insertions(+), 11 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 15:18:18 -0400;1b09d27a81e50d66ce253e7cfbe969b977e4f882;BCMGENET: update bcmgenet_ephy_power_up to clear CK25_DIS bit;
remote:  The CK25_DIS bit controls whether a 25Mhz clock is fed to the GPHY or not, in
remote:  preparation for powering down the integrated GPHY when relevant, make sure we
remote:  clear that bit.
remote:
remote:  refs #SWLINUX-3489
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 7b5197a347ea616fb2de2a526507768fc08af1db)
remote:
remote:
remote:   drivers/net/ethernet/broadcom/genet/bcmgenet.h | 1 +
remote:   drivers/net/ethernet/broadcom/genet/bcmmii.c   | 2 +-
remote:   2 files changed, 2 insertions(+), 1 deletion(-)
remote:  ;fainelli@broadcom.com;2016-05-24 15:18:18 -0400;1138425a921ae82bce7d0543b78a65dcb26f30f0;BCMGENET: do not fall through when doing Wake-on-LAN power down;
remote:  When preparing GENET for a Wake-on-LAN power down sequence, we will fall
remote:  through the GENET_POWER_PASSIVE power down, which turns off the GPHY, this is
remote:  absolutely not expected and should not be done.
remote:
remote:  While at it, propagate the return code from bcmgenet_power_down() to the
remote:  callers that care about it such as bcmgenet_close() and bcmgenet_suspend().
remote:
remote:  refs #SWLINUX-3489
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit f12cabef40ca999fd74b3e9cbd0d6894fef07beb)
remote:
remote:
remote:   .../ethernet/broadcom/genet/bcmgenet.c | 16 +++++++-------
remote:   1 file changed, 8 insertions(+), 8 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 15:18:17 -0400;3fc4eafd1f629ca7898817c568dff8531468f977;net: phy: avoid suspending twice a PHY;
remote:  [Upstream commit 803dd9c77ac3a08958535f2a1ad5890104e2c235]
remote:
remote:  As part of a call to ndo_close() a netdevice driver may call
remote:  phy_disconnect() -> phy_detach() -> phy_suspend(), such that the PHY is
remote:  suspsended at this point and a netdevice driver may clock gate the
remote:  backing peripheral providing MDIO bus accessses as well.
remote:
remote:  Update mdio_bus_phy_may_suspend() to return whether a PHY is allowed to
remote:  be suspended and conversely resumed if and only if it was not previously
remote:  suspended before while it is currently in detached (netdev pointer is
remote:  NULL) state.
remote:
remote:  This fixes bus errors seen during S2/S3 suspend/resume cycles for
remote:  netdevice drivers such as GENET which clock gates the entire Ethernet
remote:  MAC, including the MDIO bus block.
remote:
remote:  refs #SWLINUX-3489
remote:
remote:  Acked-by: Fugang Duan <B38611@freescale.com>
remote:  Tested-by: Fugang Duan <B38611@freescale.com>
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 009adadd3e09938b20fb77bf17c59f36f3bc8842)
remote:
remote:
remote:   drivers/net/phy/mdio_bus.c | 8 ++++++--
remote:   1 file changed, 6 insertions(+), 2 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 15:18:17 -0400;638b841b494fe09ea7f44d53626349366bd42ef5;net: phy: keep track of the PHY suspend state;
remote:  [Upstream commit 8a477a6fb6a33651adda772360b85fd813569743]
remote:
remote:  In order to avoid double calls to phydev->drv->suspend and resume, keep
remote:  track of whether the PHY has already been suspended as a consequence of
remote:  a successful call to phy_suspend(). We will use this in our MDIO bus
remote:  suspend/resume hooks to avoid a double suspend call.
remote:
remote:  refs #SWLINUX-3489
remote:
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 16efd43e3f630dee48f664c1a06c965115161859)
remote:
remote:
remote:   drivers/net/phy/phy_device.c | 18 ++++++++++++++++--
remote:   include/linux/phy.h          |  2 ++
remote:   2 files changed, 18 insertions(+), 2 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 15:18:16 -0400;ec4a940baf27c226361ea4f844830e0285b35c6b;net: phy: utilize phy_suspend and phy_resume;
remote:  [Upstream commit 9272efa2036f3f06625effc3a709416044578a92]
remote:
remote:  phy_suspend and phy_resume are an abstraction on top of the PHY device
remote:  driver suspend and resume callbacks, utilize those since they are the
remote:  proper interface to suspending and resuming a PHY device.
remote:
remote:  refs #SWLINUX-3489
remote:
remote:  Acked-by: Fugang Duan <B38611@freescale.com>
remote:  Tested-by: Fugang Duan <B38611@freescale.com>
remote:  Signed-off-by: David S. Miller <davem@davemloft.net>
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 54f5d6a68c4d5a514ebc438629ee91ec7b78c3cb)
remote:
remote:
remote:   drivers/net/phy/mdio_bus.c | 6 ++----
remote:   1 file changed, 2 insertions(+), 4 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 15:18:16 -0400;cfba89d7b1135c65be8c31508ac6d282177acb33;brcmstb_defconfig: enable cramfs filesystem support;
remote:  refs #SWLINUX-3555
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit fc9c7d5ef7832173e2015fd1589941180ed54d58)
remote:
remote:
remote:   arch/arm/configs/brcmstb_defconfig | 1 +
remote:   1 file changed, 1 insertion(+)
remote:  ;fainelli@broadcom.com;2016-05-24 15:18:09 -0400;05ba968a592330f6be026b8e99b7783e6d81bb80;bsp: remove MEGA_BARRIER workaround;
remote:  7439a0 was the last chip that required the mega-barrier workaround to be
remote:  enabled, we can now remove that code.
remote:
remote:  refs #SWLINUX-3524, refs #SWLINUX-3591
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 25bf0c803d6a82f3c543280b9f980f1eaf47c56f)
remote:
remote:
remote:   arch/arm/mach-bcm/Kconfig       |  6 --
remote:   arch/arm/mach-bcm/brcmstb.c     | 99 ---------------------
remote:   arch/arm/mach-bcm/cma_driver.c  |  7 --
remote:   arch/arm/mm/cache-v7.S          |  3 -
remote:   arch/arm/mm/proc-macros.S       | 11 ---
remote:   arch/arm/mm/proc-v7-2level.S    | 11 ---
remote:   include/linux/brcmstb/brcmstb.h |  4 -
remote:   7 files changed, 141 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 15:15:55 -0400;6ae0757b49d98c1f726f0d17302d32488efb883c;bsp: remove 7439a0 BCHP headers;
remote:  refs #SWLINUX-3524
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 8d9373b3261c762180285cea89c57db8a91caf3e)
remote:
remote:
remote:   .../brcmstb/7439a0/bchp_aon_ctrl.h     | 1639 ---
remote:   .../brcmstb/7439a0/bchp_aon_pin_ctrl.h |  524 -
remote:   .../brcmstb/7439a0/bchp_aon_pm_l2.h    | 1044 --
remote:   .../linux/brcmstb/7439a0/bchp_bspi.h   |  443 -
remote:   .../brcmstb/7439a0/bchp_bspi_raf.h     |  160 -
remote:   .../linux/brcmstb/7439a0/bchp_clkgen.h | 7808 ------------
remote:   .../linux/brcmstb/7439a0/bchp_common.h | 3483 -----
remote:   .../bchp_ddr34_phy_byte_lane_0_0.h     | 2099 ---
remote:   .../bchp_ddr34_phy_byte_lane_1_0.h     | 2099 ---
remote:   .../bchp_ddr34_phy_byte_lane_2_0.h     | 2099 ---
remote:   .../bchp_ddr34_phy_byte_lane_3_0.h     | 2099 ---
remote:   .../bchp_ddr34_phy_control_regs_0.h    | 4232 ------
remote:   .../linux/brcmstb/7439a0/bchp_ebi.h    | 2005 ---
remote:   .../linux/brcmstb/7439a0/bchp_gio.h    |  472 -
remote:   .../brcmstb/7439a0/bchp_gio_aon.h      |  256 -
remote:   .../7439a0/bchp_hif_continuation.h     |  114 -
remote:   .../7439a0/bchp_hif_cpubiuctrl.h       | 3311 -----
remote:   .../brcmstb/7439a0/bchp_hif_intr2.h    | 1536 ---
remote:   .../brcmstb/7439a0/bchp_hif_mspi.h     | 1289 --
remote:   .../7439a0/bchp_hif_spi_intr2.h        |  564 -
remote:   .../brcmstb/7439a0/bchp_hif_top_ctrl.h |  589 -
remote:   .../linux/brcmstb/7439a0/bchp_irq0.h   |  184 -
remote:   .../linux/brcmstb/7439a0/bchp_irq1.h   |  184 -
remote:   .../brcmstb/7439a0/bchp_memc_ddr_0.h   | 4762 -------
remote:   .../7439a0/bchp_moca_hostmisc.h        |  511 -
remote:   .../linux/brcmstb/7439a0/bchp_nand.h   | 3594 ------
remote:   .../brcmstb/7439a0/bchp_pcie_0_dma.h   |  735 --
remote:   .../7439a0/bchp_pcie_0_ext_cfg.h       |  116 -
remote:   .../brcmstb/7439a0/bchp_pcie_0_intr2.h | 2016 ---
remote:   .../brcmstb/7439a0/bchp_pcie_0_misc.h  |  969 --
remote:   .../7439a0/bchp_pcie_0_misc_perst.h    |   85 -
remote:   .../7439a0/bchp_pcie_0_rc_cfg_pcie.h   |  644 -
remote:   .../7439a0/bchp_pcie_0_rc_cfg_type1.h  |  526 -
remote:   .../7439a0/bchp_pcie_0_rc_cfg_vendor.h |  173 -
remote:   .../brcmstb/7439a0/bchp_pcie_0_rgr1.h  |  134 -
remote:   .../7439a0/bchp_shimphy_addr_cntl_0.h  |  556 -
remote:   .../brcmstb/7439a0/bchp_sun_top_ctrl.h | 7278 -----------
remote:   .../brcmstb/7439a0/bchp_usb_ctrl.h     | 1296 --
remote:   38 files changed, 61628 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 15:15:54 -0400;15c7afef77df3367bf51ae29a658aa77ce82b1e0;bsp: remove 7439a0 from Kconfig;
remote:  refs #SWLINUX-3524
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit bbdc2c2bf83fc3dc84a354071b7edeebeb4079f1)
remote:
remote:
remote:   arch/arm/mach-bcm/Kconfig | 11 -----------
remote:   1 file changed, 11 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 15:15:53 -0400;59b4592c5ec2f9f9721b343039c3d3322192c480;bsp: remove 7439a0 from PM;
remote:  The only remnant of 7439a0 support is within the PM code to deal with the lack
remote:  of PM ack, remove that code.
remote:
remote:  refs #SWLINUX-3524
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 77bc1f828f999e05d7a305ffdb2fe1d72971c7fc)
remote:
remote:
remote:   arch/arm/mach-bcm/pm-brcmstb.c | 3 +--
remote:   1 file changed, 1 insertion(+), 2 deletions(-)
remote:  ;gregory@broadcom.com;2016-05-24 15:15:53 -0400;c1027f4414b6780543f8a0615600a7e9e5f7a946;serial: 8250: Revert buggy DW UART workaround;
remote:  No longer need the workaround added for SWLINUX-2903 because the affected chips
remote:  are no longer supported.  This reverts
remote:  17656e1f6ee5a5b1b6bd7ea6346558a137441ff6 "serial: 8250: Unbreak secondary UARTs"
remote:  and
remote:  a645063d3faa851f6ca84f8d905b2b3478eefc19 "serial: 8250: improve buggy DW UART workaround"
remote:
remote:  refs #SWLINUX-3591
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit a76b4a89fe273c1d9186ee406bb7010d7e9802f3)
remote:
remote:
remote:   drivers/tty/serial/8250/8250_core.c | 24 -----------------
remote:   include/linux/serial_core.h         |  1 -
remote:   2 files changed, 25 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 15:15:52 -0400;080223d099b4b8fdaa0119cf96520bb994d28908;tty: serial: remove BRCM_BUGGY_DW_UART support;
remote:  We no longer require this workaround with 7439a0 being the last chip that used
remote:  this bogus UART core.
remote:
remote:  refs #SWLINUX-3591, refs #SWLINUX-3524
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 646a35489b1ec3abe76db539c3803154dd044855)
remote:
remote:
remote:   drivers/tty/serial/8250/8250_core.c | 7 -------
remote:   drivers/tty/serial/of_serial.c      | 7 -------
remote:   include/uapi/linux/serial_core.h    | 3 +--
remote:   3 files changed, 1 insertion(+), 16 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 15:15:52 -0400;7d3ba6bcc3539f2f8bf486f51401074014032b8a;sata_brcmstb: remove support for quirks;
remote:  We do not support any chips which requires a quirk to be handled by either the
remote:  AHCI wrapper or the SATA PHY driver.
remote:
remote:  refs #SWLINUX-3591
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 5cd1aef2e86081369cc2310e04c8b3902e8d070c)
remote:
remote:
remote:   drivers/ata/sata_brcmstb.c     | 19 ------------
remote:   drivers/ata/sata_brcmstb.h     |  6 ----
remote:   drivers/ata/sata_brcmstb_phy.c | 36 ++--------------------
remote:   3 files changed, 2 insertions(+), 59 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 15:15:51 -0400;ea45633d91501e20b09e3cd82076e8832254e988;drivers: remove 7439a0 support;
remote:  Remove all workarounds for 7439a0 in our drivers: SATA, MMC, serial and USB
remote:  common initialization routine.
remote:
remote:  refs #SWLINUX-3524
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 21651469f02fe5cad313ef6f14bb4f7fa914ff7a)
remote:
remote:
remote:   drivers/ata/sata_brcmstb.c              | 13 -------------
remote:   drivers/mmc/host/sdhci-brcmstb.c        |  4 ++--
remote:   drivers/tty/serial/of_serial.c          |  8 --------
remote:   drivers/usb/host/usb-brcm-common-init.c |  4 ++--
remote:   4 files changed, 4 insertions(+), 25 deletions(-)
remote:  ;norris@broadcom.com;2016-05-24 15:15:51 -0400;5783a52b39b1b8b044fefb26140d342f6a94ffa9;mtd: brcmstb_nand: drop CRNAND-34 workaround;
remote:  refs #SWLINUX-3524
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit f00ecf3788c6a1268f56caa0971084d1a623d151)
remote:
remote:
remote:   drivers/mtd/nand/brcmstb_nand.c | 74 ++++-----------------
remote:   1 file changed, 13 insertions(+), 61 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 15:15:50 -0400;a2d990d62d206ebf4242d083377aa38d1f5d1955;bsp: remove 7145a0 BCHP headers;
remote:  refs #SWLINUX-3591
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 816960e534c96c06e8a504e85a57a96ee3edaff4)
remote:
remote:
remote:   .../brcmstb/7145a0/bchp_aon_ctrl.h     |  1911 -
remote:   .../brcmstb/7145a0/bchp_aon_pin_ctrl.h |   481 -
remote:   .../brcmstb/7145a0/bchp_aon_pm_l2.h    |  1346 -
remote:   .../linux/brcmstb/7145a0/bchp_bspi.h   |   443 -
remote:   .../brcmstb/7145a0/bchp_bspi_raf.h     |   160 -
remote:   .../linux/brcmstb/7145a0/bchp_clkgen.h | 11632 ----
remote:   .../linux/brcmstb/7145a0/bchp_common.h |  6163 --
remote:   .../bchp_ddr34_phy_byte_lane_0_0.h     |  2101 -
remote:   .../bchp_ddr34_phy_byte_lane_0_1.h     |  2101 -
remote:   .../bchp_ddr34_phy_byte_lane_1_0.h     |  2101 -
remote:   .../bchp_ddr34_phy_byte_lane_1_1.h     |  2101 -
remote:   .../bchp_ddr34_phy_byte_lane_2_0.h     |  2101 -
remote:   .../bchp_ddr34_phy_byte_lane_2_1.h     |  2101 -
remote:   .../bchp_ddr34_phy_byte_lane_3_0.h     |  2101 -
remote:   .../bchp_ddr34_phy_byte_lane_3_1.h     |  2101 -
remote:   .../bchp_ddr34_phy_control_regs_0.h    |  4234 --
remote:   .../bchp_ddr34_phy_control_regs_1.h    |  4234 --
remote:   .../linux/brcmstb/7145a0/bchp_ebi.h    |  2005 -
remote:   .../brcmstb/7145a0/bchp_fpm_ctrl_fpm.h |   592 -
remote:   .../brcmstb/7145a0/bchp_fpm_pool_fpm.h |   201 -
remote:   .../linux/brcmstb/7145a0/bchp_gio.h    |   474 -
remote:   .../brcmstb/7145a0/bchp_gio_aon.h      |   258 -
remote:   .../7145a0/bchp_hif_continuation.h     |   158 -
remote:   .../7145a0/bchp_hif_cpubiuctrl.h       |  3222 --
remote:   .../brcmstb/7145a0/bchp_hif_intr2.h    |  1188 -
remote:   .../brcmstb/7145a0/bchp_hif_mspi.h     |  1289 -
remote:   .../7145a0/bchp_hif_spi_intr2.h        |   564 -
remote:   .../brcmstb/7145a0/bchp_hif_top_ctrl.h |   579 -
remote:   .../linux/brcmstb/7145a0/bchp_irq0.h   |   174 -
remote:   .../linux/brcmstb/7145a0/bchp_irq1.h   |   174 -
remote:   .../brcmstb/7145a0/bchp_memc_arb_1.h   |  8093 ---
remote:   .../brcmstb/7145a0/bchp_memc_ddr_0.h   |  4679 --
remote:   .../brcmstb/7145a0/bchp_memc_ddr_1.h   |  4679 --
remote:   .../brcmstb/7145a0/bchp_memc_misc_1.h  |   131 -
remote:   .../7145a0/bchp_moca_hostmisc.h        |   511 -
remote:   .../linux/brcmstb/7145a0/bchp_nand.h   |  3594 --
remote:   .../brcmstb/7145a0/bchp_pcie_0_dma.h   |   735 -
remote:   .../7145a0/bchp_pcie_0_ext_cfg.h       |   116 -
remote:   .../brcmstb/7145a0/bchp_pcie_0_intr2.h |  2016 -
remote:   .../brcmstb/7145a0/bchp_pcie_0_misc.h  |   974 -
remote:   .../7145a0/bchp_pcie_0_misc_perst.h    |    85 -
remote:   .../7145a0/bchp_pcie_0_rc_cfg_pcie.h   |   644 -
remote:   .../7145a0/bchp_pcie_0_rc_cfg_type1.h  |   526 -
remote:   .../7145a0/bchp_pcie_0_rc_cfg_vendor.h |   173 -
remote:   .../brcmstb/7145a0/bchp_pcie_0_rgr1.h  |   134 -
remote:   .../7145a0/bchp_shimphy_addr_cntl_0.h  |   547 -
remote:   .../7145a0/bchp_shimphy_addr_cntl_1.h  |   547 -
remote:   .../brcmstb/7145a0/bchp_sun_top_ctrl.h |  6899 ---
remote:   .../brcmstb/7145a0/bchp_switch_acb.h   |  3151 -
remote:   .../brcmstb/7145a0/bchp_switch_core.h  | 31972 -----------
remote:   .../brcmstb/7145a0/bchp_switch_fcb.h   |   404 -
remote:   .../7145a0/bchp_switch_indir_rw.h      |   140 -
remote:   .../7145a0/bchp_switch_intrl2_0.h      |  1164 -
remote:   .../7145a0/bchp_switch_intrl2_1.h      |  1944 -
remote:   .../brcmstb/7145a0/bchp_switch_mdio.h  |   117 -
remote:   .../brcmstb/7145a0/bchp_switch_reg.h   |   837 -
remote:   .../brcmstb/7145a0/bchp_usb_ctrl.h     |  1154 -
remote:   57 files changed, 134256 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 15:15:50 -0400;f80fdd95b9afaa6b24883018d301371b2866d765;bsp: remove 7145a0 from Kconfig;
remote:  refs #SWLINUX-3591
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit dcf14cc065d7c6bb7870fbe352253c6462696010)
remote:
remote:
remote:   arch/arm/Kconfig.debug    |  2 --
remote:   arch/arm/mach-bcm/Kconfig | 10 ----------
remote:   2 files changed, 12 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 15:15:49 -0400;7777f91bb7fe474215f54c9279b72d8e434025f2;drivers: remove support for 7145a0;
remote:  Remove 7145a0-specific workarounds from the SATA, serial and USB common
remote:  initialization routine.
remote:
remote:  refs #SWLINUX-3591
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit b9dc585f1b8325eb4a131ff7af1d009a4cd54c28)
remote:
remote:
remote:   drivers/ata/sata_brcmstb.c             |  6 +----
remote:   drivers/tty/serial/of_serial.c         |  2 +-
remote:   .../usb/host/usb-brcm-common-init.c    | 19 --------------
remote:   3 files changed, 2 insertions(+), 25 deletions(-)
remote:  ;norris@broadcom.com;2016-05-24 15:15:49 -0400;194cb4267890d483ab8b838929fbb3bb65edfdbb;mtd: brcmstb_nand: drop HW7445_988_WORKAROUND
remote:  refs #SWLINUX-3591
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 2c018b4b02fbe5cc60ac2d1707ae6053c902e153)
remote:
remote:
remote:   drivers/mtd/nand/brcmstb_nand.c | 46 +--------------------
remote:   1 file changed, 1 insertion(+), 45 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 15:15:48 -0400;73185e1524aea656afa6c8f047dd762aa6e05fb4;brcmstb_defconfig: enable FHANDLE and CGROUPS;
remote:  These are the bare minimum kernel configuration options required by systemd
remote:  v215-10 currently used by Debian 8 allowing us to boot to a prompt.
remote:
remote:  refs #SWLINUX-3588
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 509a281858e8ac6f00b186e5827d5ab778ae57ac)
remote:
remote:
remote:   arch/arm/configs/brcmstb_defconfig | 2 ++
remote:   1 file changed, 2 insertions(+)
remote:  ;acooper@broadcom.com;2016-05-24 15:15:48 -0400;bf44d5a6cb1878ae7f9f8d262fd9e96a7b12fac1;usb: Add USB support for 7439B1;
remote:  Keep XHCI hardware in reset if we don't have a XHCI device-tree
remote:  entry. This will allow 3.0 devices to be seen as 2.0 devices.
remote:  This is one of the possible configurations for the 7439B1.
remote:
remote:  refs #SWLINUX-3602
remote:
remote:  Signed-off-by: Al Cooper <acooper@broadcom.com>
remote:  (cherry picked from commit 9224b0f3fe44edb1556db928f72a0d756b5c89f9)
remote:
remote:
remote:   drivers/usb/host/usb-brcm.c | 3 ++-
remote:   1 file changed, 2 insertions(+), 1 deletion(-)
remote:  ;norris@broadcom.com;2016-05-24 15:15:47 -0400;d6cc581cbb007369e6247fba7f514365c8568408;brcmstb_defconfig: add PM_DEBUG;
remote:  To support the new suspend.pm_test_delay parameter.
remote:
remote:  fixes #SWLINUX-3603
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 9276b852119922b05bb0a8f8343ec36333e93208)
remote:
remote:
remote:   arch/arm/configs/brcmstb_defconfig | 1 +
remote:   1 file changed, 1 insertion(+)
remote:  ;computersforpeace@gmail.com;2016-05-24 15:15:46 -0400;a521ec4774e23be0961b04afdfbaef5200b62faa;PM / sleep: add configurable delay for pm_test;
remote:  [Queued upstream]
remote:
remote:  When CONFIG_PM_DEBUG=y, we provide a sysfs file (/sys/power/pm_test) for
remote:  selecting one of a few suspend test modes, where rather than entering a
remote:  full suspend state, the kernel will perform some subset of suspend
remote:  steps, wait 5 seconds, and then resume back to normal operation.
remote:
remote:  This mode is useful for (among other things) observing the state of the
remote:  system just before entering a sleep mode, for debugging or analysis
remote:  purposes. However, a constant 5 second wait is not sufficient for some
remote:  sorts of analysis; for example, on an SoC, one might want to use
remote:  external tools to probe the power states of various on-chip controllers
remote:  or clocks.
remote:
remote:  This patch turns this 5 second delay into a configurable module
remote:  parameter, so users can determine how long to wait in this
remote:  pseudo-suspend state before resuming the system.
remote:
remote:  Example (wait 30 seconds);
remote:
remote:    # echo 30 > /sys/module/suspend/parameters/pm_test_delay
remote:    # echo core > /sys/power/pm_test
remote:    # time echo mem  > /sys/power/state
remote:    ...
remote:    [   17.583625] suspend debug: Waiting for 30 second(s).
remote:    ...
remote:    real	0m30.381s
remote:    user	0m0.017s
remote:    sys	0m0.080s
remote:
remote:  refs #SWLINUX-3603
remote:
remote:  Signed-off-by: Brian Norris <computersforpeace@gmail.com>
remote:  Acked-by: Pavel Machek <pavel@ucw.cz>
remote:  Reviewed-by: Kevin Cernekee <cernekee@chromium.org>
remote:  Acked-by: Florian Fainelli <f.fainelli@gmail.com>
remote:  Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
remote:  (cherry picked from commit 85e214411ccc9f6af0328a4b89f7fc19303688a8)
remote:
remote:
remote:   Documentation/kernel-parameters.txt     |  7 +++++++
remote:   .../power/basic-pm-debugging.txt        | 10 ++++++----
remote:   kernel/power/suspend.c                  | 13 +++++++++++--
remote:   3 files changed, 24 insertions(+), 6 deletions(-)
remote:  ;cernekee@broadcom.com;2016-05-24 15:15:46 -0400;3a4ee948b8d66906a8effa48d1755abcf865875d;spi-brcmstb: Fix BUG() when crossing 4MB boundaries;
remote:  On BSPI <= V3 controllers, the hardware remaps the address bits in a way
remote:  that can cause trouble for transfers that cross a 4MB boundary.  For such
remote:  transfers, we currently BUG() out.  Change the driver behavior so that it
remote:  falls back gracefully to MSPI instead.
remote:
remote:  On BSPI >= V4 controllers, the hardware allows us to disable the remapping
remote:  logic.  So disable remapping during initialization, and disable the driver
remote:  code that modified and checked the address.
remote:
remote:  fixes #SWLINUX-3589
remote:
remote:  Signed-off-by: Kevin Cernekee <cernekee@broadcom.com>
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit e2e6e49f6214571d043e3748b4095957cca204fb)
remote:
remote:
remote:   drivers/spi/spi-brcmstb.c | 34 +++++++++++++++------------
remote:   1 file changed, 19 insertions(+), 15 deletions(-)
remote:  ;gregory@broadcom.com;2016-05-24 15:15:45 -0400;32c4000e99be008e6f7798c8d5d85e604e5562b1;gitignore: ignore scripts/*.pyc;
remote:  Any .pyc files are generated and should be ignored.
remote:
remote:  refs #SWLINUX-3590
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit fb8b66d917bc7f0deee3dc7966a09f0f3a160773)
remote:
remote:
remote:   scripts/.gitignore | 1 +
remote:   1 file changed, 1 insertion(+)
remote:  ;gregory@broadcom.com;2016-05-24 15:15:45 -0400;65de82736ad7a91d5042b573eed6cb98b272033b;scripts: Add analyze_oom.py to give feedback on OOMs;
remote:  Takes in an OOM log, either from a file or on stdin, and tries to report info
remote:  on possible causes.
remote:
remote:  Example usage:
remote:
remote:    $ scripts/analyze_oom.py oopslog
remote:    gfp_flags: 0x2084d2
remote:    Decoded gfp_flags: ___GFP_HIGHMEM | ___GFP_WAIT | ___GFP_IO | ___GFP_FS | ___GFP_REPEAT | ___GFP_ZERO | ___GFP_NOTRACK
remote:    Free mem in ZONE_NORMAL: 89748 kB.
remote:    Free mem in ZONE_HIGHMEM: 544 kB.
remote:    Migrate type is MIGRATE_UNMOVABLE, cannot use CMA pages
remote:    Portion of ZONE_NORMAL which is CMA: 79952 kB.
remote:    Portion of ZONE_HIGHMEM which is CMA: 544 kB.
remote:    Total free: 89748 + 544 - 79952 - 544 = 9796 kB.
remote:    Minimum RAM allowed: 3484 kB
remote:    __GFP_HIGHMEM was set, must also exclude lowmem_reserve: 8320 kB
remote:
remote:    Did we have enough memory?
remote:    Test: my_free_kB - (PAGE_SIZE_kB << order) > min_kB + lowmem_reserve_kB
remote:          9796 - 4 > 3484 + 8320
remote:    *No*, not enough memory at time of OOM.
remote:
remote:    Possible causes of OOM:
remote:    - If this took some time to fail, could be a memory leak in a kernel module.
remote:    - lowmem_reserve might be too high. Try tweaking /proc/sys/vm/lowmem_reserve_ratio.
remote:    - May not have enough lowmem outside of a CMA region. You may need to decrease the size of a region in lowmem.
remote:
remote:  Passes pylint.
remote:
remote:  refs #SWLINUX-3590
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 83291cc17a487198945b9b397f21eec069ea8d25)
remote:
remote:
remote:   scripts/analyze_oom.py | 191 +++++++++++++++++++++++++++++
remote:   1 file changed, 191 insertions(+)
remote:  ;gregory@broadcom.com;2016-05-24 15:15:44 -0400;b2708f928126dbeab2c8b61afa4f4e0648b380a5;scripts: Add decode_gfpmask.py to get GFP flags from mask;
remote:  Takes in a GFP mask as from an OOM log message and decodes it into the GFP
remote:  flags.  Example usage:
remote:
remote:    $ scripts/decode_gfpmask.py 0x2084d2
remote:    ___GFP_HIGHMEM | ___GFP_WAIT | ___GFP_IO | ___GFP_FS | ___GFP_REPEAT | ___GFP_ZERO | ___GFP_NOTRACK
remote:
remote:  Passes pylint.
remote:
remote:  refs #SWLINUX-3590
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit f9ef5214db85193e17a067c17b70f024c3eafb57)
remote:
remote:
remote:   scripts/decode_gfpmask.py | 75 +++++++++++++++++++++++++++
remote:   1 file changed, 75 insertions(+)
remote:  ;fainelli@broadcom.com;2016-05-24 15:15:44 -0400;84e05c97d408b6a03758954f9dd41e21ed8984e8;ARM: B15: disable read-ahead cache by default;
remote:  Until our Set Top Box middleware has been fully migrated to a Linux
remote:  asm/cacheflush.h API, we cannot have the read-ahead cache enabled by default.
remote:
remote:  refs #SWLINUX-3422
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 5b15e9afd5c69f10163134d3138802b43798f36a)
remote:
remote:
remote:   arch/arm/mm/Kconfig | 1 -
remote:   1 file changed, 1 deletion(-)
remote:  ;gregory@broadcom.com;2016-05-24 15:15:43 -0400;86c249f9b16a0780d852b23fcfdf40ea86cc38a3;scripts/setlocalversion: fix false positive -dirty tag from ctime;
remote:  git-diff-index cannot detect that a file hasn't actually changed when the
remote:  file's ctime has changed (e.g. if chmod was used but didn't actually result in
remote:  any changes), which was causing setlocalversion to incorrectly add a -dirty
remote:  tag.  Run git-update-index beforehand to make sure that the index is correct.
remote:
remote:  fixes #SWLINUX-3596
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 8230b18e9ba2883a46d9b6782c5727db27660172)
remote:
remote:
remote:   scripts/setlocalversion | 2 ++
remote:   1 file changed, 2 insertions(+)
remote:  ;fainelli@broadcom.com;2016-05-24 15:15:32 -0400;bc076a79c89834920840b7a30cd88e470fcd85a5;Bump version to 3.14-1.5pre;
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit a7f76c81d153aac09b58f668bc7e94643be16cc4)
remote:
remote:
remote:   Makefile | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;fainelli@broadcom.com;2016-05-24 15:13:25 -0400;cb453cdd6fe04bdc57bc7c44beed1a286b77c64a;ARM: B15: Add suspend/resume hooks;
remote:  The Broadcom Brahma-B15 CPU readahead cache registers will be restored
remote:  to their Power-on-Reset values after a S3 suspend/resume cycles, so we
remote:  want to restore what we had enabled before.
remote:
remote:  Another thing we want to take care of is disabling the read-ahead cache
remote:  prior to suspending to avoid any sort of side effect with the spinlock
remote:  we need to grab to serialize register accesses.
remote:
remote:  refs #SWLINUX-3422
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 50b11c0d6b0cb8a0edcaaa194350261ea1647af6)
remote:
remote:
remote:   arch/arm/mm/cache-b15-rac.c | 48 +++++++++++++++++++++++++
remote:   1 file changed, 48 insertions(+)
remote:  ;fainelli@broadcom.com;2016-05-24 15:13:24 -0400;faa6be15aa94cc9e9fbb2ed6f4573cfef62a1769;ARM: B15: Add CPU hotplug awareness;
remote:  The Broadcom Brahma-B15 readahead cache needs to be disabled,
remote:  respectively re-enable during a CPU hotplug. In case we were not to do,
remote:  CPU hotplug would occasionally fail with random crashes when a given CPU
remote:  exits the coherency domain while the RAC is still enabled, as it would
remote:  get stale data from the RAC.
remote:
remote:  In order to avoid adding any specific B15 readahead-cache awareness to
remote:  arch/arm/mach-bcm/hotplug-brcmstb.c we use a CPU notifier which allows
remote:  us to catch CPU hotplug events and disable/flush enable the RAC
remote:  accordingly.
remote:
remote:  refs #SWLINUX-3422
remote:
remote:  Signed-off-by: Alamy Liu <alamyliu@broadcom.com>
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 70b04d8cab1fe6fb13efa983b8a5ca3a3768878e)
remote:
remote:
remote:   arch/arm/mm/cache-b15-rac.c | 100 ++++++++++++++++++++++++
remote:   1 file changed, 100 insertions(+)
remote:  ;fainelli@broadcom.com;2016-05-24 15:13:24 -0400;14df49d24a8f9243ad299033c20aec85bef87e38;ARM: Hook B15 readahead cache functions based on processor;
remote:  If we detect that we are running on a Broadcom Brahma-B15 CPU, and
remote:  CONFIG_CACHE_B15_RAC is enabled, make sure that we pick-up the
remote:  b15_cache_fns function operations.
remote:
remote:  If CONFIG_CACHE_B15_RAC is enabled, but we are not running on a Broadcom
remote:  Brahma-B15 CPU, we will fallback to calling into the regular
remote:  v7_cache_fns with the cost of a small test. If CONFIG_CACHE_B15_RAC is
remote:  disabled, there is no cost and we just use the regular v7_cache_fns.
remote:
remote:  refs #SWLINUX-3422
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit eeff62ea6eba308c72260f3cd3644f50902ba401)
remote:
remote:
remote:   arch/arm/mm/cache-v7.S | 21 +++++++++++++++++++++
remote:   arch/arm/mm/proc-v7.S  |  2 +-
remote:   2 files changed, 22 insertions(+), 1 deletion(-)
remote:  ;fainelli@broadcom.com;2016-05-24 15:13:23 -0400;4c93c3dc0fa1969730838984ae9d17032083bd90;RM: Add Broadcom Brahma-B15 readahead cache support;
remote:  This patch adds support for the Broadcom Brahma-B15 CPU readahead cache
remote:  controller. This cache controller sits between the L2 and the memory bus
remote:  and its purpose is to provide a friendler burst size towards the DDR
remote:  interface than the native cache line size.
remote:
remote:  The readahead cache is mostly transparent, except for
remote:  flush_kern_cache_all, flush_kern_cache_louis and flush_icache_all, which
remote:  is precisely what we are overriding here.
remote:
remote:  The readahead cache only intercepts reads, not writes, as such, some
remote:  data can remain stale in any of its buffers, such that we need to flush
remote:  it, which is an operation that needs to happen in a particular order:
remote:
remote:  - disable the readahead cache
remote:  - flush it
remote:  - call the appropriate cache-v7.S function
remote:  - re-enable
remote:
remote:  This patch tries to minimize the impact to the cache-v7.S file by only
remote:  providing a stub in case CONFIG_CACHE_B15_RAC is enabled (default for
remote:  ARCH_BRCMSTB since it is the current user).
remote:
remote:  refs #SWLINUX-3422
remote:
remote:  Signed-off-by: Alamy Liu <alamyliu@broadcom.com>
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 72f87752e80ee6cafb6a9f1aa8150d0e342d04aa)
remote:
remote:
remote:   arch/arm/include/asm/cacheflush.h      |   2 +-
remote:   arch/arm/include/asm/glue-cache.h      |   4 +
remote:   .../asm/hardware/cache-b15-rac.h       |  12 +
remote:   arch/arm/mm/Kconfig                    |   8 +
remote:   arch/arm/mm/Makefile                   |   1 +
remote:   arch/arm/mm/cache-b15-rac.c            | 182 +++++++++++++
remote:   6 files changed, 208 insertions(+), 1 deletion(-)
remote:  ;fainelli@broadcom.com;2016-05-24 15:13:23 -0400;a1e0f9ed1ce86795150a11f0009735c0a649e087;ARM: v7: allow setting different cache functions;
remote:  In preparation for adding support for the Broadcom Brahma-B15 read-ahead
remote:  cache which requires a different set of cache functions, allow the
remote:  __v7_proc macro to override the cache_fns settings, and default to
remote:  v7_cache_fns unless specified otherwise.
remote:
remote:  refs #SWLINUX-3422
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 938abbff4acb491a4115da9e1e53a7497ed13d72)
remote:
remote:
remote:   arch/arm/mm/proc-v7.S | 4 ++--
remote:   1 file changed, 2 insertions(+), 2 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 15:13:22 -0400;7e62e7a12f2a13ab6eef5ddc74e579eab6653e6c;BCMGENET: Properly disable password matching when requested;
remote:  Ever since the BCMGENET driver was introduced, we had a small issue in the
remote:  driver with enabling/disabling password matching for magic packets.
remote:
remote:  Once we ask the driver to match against a magic packet with a password, we will
remote:  never clear the MPD_PWD_EN bit again, which means that we leave the hardware
remote:  matching magic packets with password.
remote:
remote:  Fix this by clearing the bit when WAKE_MAGICSECURE is not set.
remote:
remote:  refs #SWLINUX-3585
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 62bcac06c4ae1b34bdfbdb448a7d64d53287d8e6)
remote:
remote:
remote:   .../net/ethernet/broadcom/genet/bcmgenet_wol.c  | 6 ++++--
remote:   1 file changed, 4 insertions(+), 2 deletions(-)
remote:  ;norris@broadcom.com;2016-05-24 15:13:22 -0400;abe0a8cc8a2b3f80ba70248ca9a18cf96bd3d36c;bsp: add guard macro for users of brcmstb_pm_mem_exclude();
remote:  By request from Nexus team.
remote:
remote:  refs #SWLINUX-3535
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit b0325d35c39622ff14a1b6984492ecd8dbdb08eb)
remote:
remote:
remote:   include/linux/brcmstb/brcmstb.h | 2 ++
remote:   1 file changed, 2 insertions(+)
remote:  ;norris@broadcom.com;2016-05-24 15:13:21 -0400;1cc3a9b69a356321e364d36b1a4a5400a5bd182f;PM: hack around a BSP race condition;
remote:  Changes to the PM code have uncovered that if the host is too fast at
remote:  submitting BSP commands (e.g., clock stop and gen_random_key), the BSP
remote:  might not ever respond properly, causing a timeout.
remote:
remote:  According to the BSP firmware team, a few milliseconds (~2-3) wait after
remote:  the clock stop command should be sufficient to fend of such races within
remote:  the BSP. Let's add the hack.
remote:
remote:  refs #SWLINUX-3535
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit ecd219c014afc2f37f9dc82bd6d04decaa2b007f)
remote:
remote:
remote:   arch/arm/mach-bcm/pm-brcmstb.c | 6 ++++++
remote:   1 file changed, 6 insertions(+)
remote:  ;norris@broadcom.com;2016-05-24 15:13:21 -0400;e61803c70fc8696e6320df4617ab92b90ae61c22;bsp: clean <linux/brcmstb/brcmstb.h> of old cruft;
remote:  None of this is used any more.
remote:
remote:  refs #SWLINUX-3535
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 0a951e509eb2c6d1ebde4b52d05cd5a0f0a1ab89)
remote:
remote:
remote:   include/linux/brcmstb/brcmstb.h | 152 --------------------
remote:   1 file changed, 152 deletions(-)
remote:  ;norris@broadcom.com;2016-05-24 15:13:20 -0400;a256b9076385a7a9623e64cd44b334e5e06e9d26;PM: add exclusion API;
remote:  refs #SWLINUX-3535
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit d69a8bbf253b20b6640917c61510b386e357bb98)
remote:
remote:
remote:   arch/arm/mach-bcm/pm-brcmstb.c  | 47 ++++++++++++++++-----
remote:   include/linux/brcmstb/brcmstb.h |  7 +++
remote:   2 files changed, 43 insertions(+), 11 deletions(-)
remote:  ;gregory@broadcom.com;2016-05-24 15:13:20 -0400;192e479df0e3f95162b47b8f164adca19be36b49;config: Add brcmstb_hardened_defconfig;
remote:  A fairly minimal defconfig that is will help to meet the NASC 3.0 requirements.
remote:
remote:  refs #SWLINUX-3578
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 2e6dc0ba1c33033767a86ec68bd8fb7c61c40133)
remote:
remote:
remote:   .../configs/brcmstb_hardened_defconfig | 175 +++++++++++++
remote:   1 file changed, 175 insertions(+)
remote:  ;arnd@arndb.de;2016-05-24 15:13:19 -0400;69a1d74d422364916fce11249be4dbfd640c859c;Always trap on BUG();
remote:  [Upstream submission (never merged): https://lkml.org/lkml/2013/7/5/222 ]
remote:
remote:  I've run some size analyis using the ARM 'multi_v7_defconfig'
remote:  and gcc-4.8, using various definitions for BUG() and BUG_ON(), to
remote:  see how big the size improvement actually gets
remote:
remote:  1. Baseline: normal bug plus CONFIG_BUG_VERBOSE
remote:     text    data     bss     dec     hex filename
remote:  3743196  224396  206812 4174404  3fb244 vmlinux-bugverbose
remote:
remote:  2. disabling CONFIG_BUG_VERBOSE, saving 0.6%
remote:  3716920  224380  206812 4148112  3f4b90 vmlinux-nobugverbose
remote:
remote:  3. #define BUG() panic(__func__), #define BUG_ON(c) if(c) BUG(), saving 1.0%
remote:  3701076  224384  206812 4132272  3f0db0 vmlinux-bug-panicfunc
remote:
remote:  3. #define BUG() panic(__func__), #define BUG_ON(c) if(c) BUG(), saving 1.5%
remote:  3678884  224400  206812 4110096  3eb710 vmlinux-bug-panic
remote:
remote:  4. #define BUG() unreachable(), saving 2.1%
remote:  3652636  224384  206812 4083832  3e5078 vmlinux-bug-unreachable
remote:
remote:  5. as 4, plus #define BUG_ON(c) if(c) unreachable(), saving 2.2%
remote:  3651108  224380  206812 4082300  3e4a7c vmlinux-bugon-unreachable
remote:
remote:  6. #define BUG() do{}while(0), saving 2.1%
remote:  3654264  224380  206812 4085456  3e56d0 vmlinux-nobug
remote:
remote:  7. as 6, plus #define BUG_ON if(0 && (c)) unreachable, saving 2.2%
remote:  3648392  223996  206748 4079136  3e3e20 vmlinux-no-bugon
remote:
remote:  8. my patch below, saving 1.8%
remote:  3666532  224380  206812 4097724  3e86bc obj-tmp/vmlinux
remote:
remote:  The gain of doing unreachable and letting the code run off whereever
remote:  is minimal compared to the current state of doing nothing, but it
remote:  avoids the warnings.
remote:
remote:  Same test using x86_defconfig:
remote:
remote:  1. CONFIG_BUG=y, CONFIG_BUGVERBOSE=n
remote:  10797859        1395648 1175552 13369059         cbfee3 vmlinux-x86-bug
remote:
remote:  2. CONFIG_BUG=n, saves 1.0%
remote:  10658553        1395584 1175552 13229689         c9de79 vmlinux-x86-nobug
remote:
remote:  3. with my patch, saves 0.8%
remote:  10684186        1395584 1175552 13255322         ca429a vmlinux-x86-archbug
remote:
remote:  Getting 1-2% savings in kernel size seems absolutely worth keeping the
remote:  option, but 0.2-0.4% left for getting reproducible behavior also seems
remote:  worthwhile. The result in the patch below.
remote:
remote:  This basically loses any of the BUG() reporting, but leaves the
remote:  logic to trap and kill the task in place when CONFIG_BUG is disabled.
remote:
remote:  refs #SWLINUX-3578
remote:
remote:  Signed-off-by: Arnd Bergmann <arnd@arndb.de>
remote:  Cc: linux-arch@vger.kernel.org
remote:  Cc: Chen Gang <gang.chen@asianux.com>
remote:  Cc: "H. Peter Anvin" <hpa@zytor.com>
remote:  Cc: Ingo Molnar <mingo@kernel.org>
remote:  Cc: "Eric W. Biederman" <ebiederm@xmission.com>
remote:  Cc: Geert Uytterhoeven <geert@linux-m68k.org>
remote:  Cc: Russell King - ARM Linux <linux@arm.linux.org.uk>
remote:  [gregory: Without this change, disabling CONFIG_BUG causes warnings everywhere
remote:  because of various uninitialized variables, etc. that are handled by BUG and
remote:  BUG_ON.  This should eliminate unpredictable behavior (unexpected return
remote:  values, etc.) when CONFIG_BUG=n.]
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:  (cherry picked from commit bf9361eaa76eeee78b942484ed271602ace30117)
remote:
remote:
remote:   arch/arm/include/asm/bug.h | 3 ---
remote:   arch/x86/include/asm/bug.h | 3 ---
remote:   include/asm-generic/bug.h  | 5 ++++-
remote:   3 files changed, 4 insertions(+), 7 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 15:13:19 -0400;4384853e3402984d89d2d39357c2ac42d50b771e;net: dsa: bcm_sf2: add hardware bridging support;
remote:  Implement the bridge join, leave and set_stp callbacks by making that we
remote:  do the following:
remote:
remote:  - when a port joins the bridge, all existing ports in the bridge get
remote:    their VLAN control register updated with that joining port
remote:  - the joining port is including all existing bridge ports in its own
remote:    VLAN control register
remote:
remote:  The leave operation is fairly similar, special care must be taken to
remote:  make sure that port leaving the bridging is not removing itself from its
remote:  own VLAN control register.
remote:
remote:  Since the various BR_* states apply directly to our HW semantics, we just
remote:  need to translate these constants into their corresponding HW settings,
remote:  and voila!
remote:
remote:  We make sure to trigger a fast-ageing process for ports that are
remote:  joining/leaving the bridge and transition from incompatible states, this
remote:  is equivalent to triggering an ARL flush for that port.
remote:
remote:  refs #SWLINUX-3356
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit d1adb695f919cc225216a136390b92da3b7edf74)
remote:
remote:
remote:   drivers/net/dsa/bcm_sf2.c      | 149 ++++++++++++++++++++-
remote:   drivers/net/dsa/bcm_sf2.h      |   2 +
remote:   drivers/net/dsa/bcm_sf2_regs.h |  15 +++
remote:   3 files changed, 165 insertions(+), 1 deletion(-)
remote:  ;fainelli@broadcom.com;2016-05-24 15:13:18 -0400;c15094b0142614e8c369352070939a35fd5c20eb;net: dsa: bcm_sf2: fix 64-bits register reads;
remote:  Reading 64-bits register was not working because we inverted the steps
remote:  between reading the lower 32-bits of the register and reading the upper
remote:  32-bits. Swapping these operations is how the HW guarantees that 64-bits
remote:  reads are latched correctly. We only have a handful of 64-bits registers
remote:  for now, mostly MIB counters, so the impact is low.
remote:
remote:  refs #SWLINUX-3356
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 0d4da83e5751687516b1b317e9ee0421e67c42b3)
remote:
remote:
remote:   drivers/net/dsa/bcm_sf2.h | 9 ++++++++-
remote:   1 file changed, 8 insertions(+), 1 deletion(-)
remote:  ;fainelli@broadcom.com;2016-05-24 15:13:18 -0400;656eeaf2e3f248d9a56273075886363e9e3dd784;net: dsa: allow switch drivers to implement bridge ndo operations;
remote:  Allows switch drivers to implement ndo_br_join, ndo_br_leave and
remote:  ndo_br_set_state network device operations and have those be propagated
remote:  down to the switch driver.
remote:
remote:  DSA will resolve which switch ports are currently bridge port members as
remote:  some Switch hardware/drivers need to know about that to limit the
remote:  register programming to just the relevant registers (especially for slow
remote:  MDIO buses).
remote:
remote:  We also take care of setting the correct STP state when slave network
remote:  devices are brought up/down while being bridge members.
remote:
remote:  Finally, when a port is leaving the bridge, we make sure we set in
remote:  BR_STATE_FORWARDING state, otherwise the bridge layer would leave it
remote:  disabled as a result of having left the bridge.
remote:
remote:  refs #SWLINUX-3356
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 23f5d55d0d68f58bed7a7f134c36be6f9921a1c8)
remote:
remote:
remote:   include/net/dsa.h  |  8 +++
remote:   net/dsa/dsa_priv.h |  2 +
remote:   net/dsa/slave.c    | 94 ++++++++++++++++++++++++++++++++++
remote:   3 files changed, 104 insertions(+)
remote:  ;fainelli@broadcom.com;2016-05-24 15:13:17 -0400;9d41e04608dc862454a1d58e756de146b5c5e650;net: bridge: add ndo operations to help with join, leave and stp state;
remote:  In order for switch drivers to get information about their respective
remote:  switch ports when they get added/removed to/from a bridge, as well as
remote:  when a given brigde port STP state changes, add 3 network device
remote:  operations and invoke them from the bridge code.
remote:
remote:  refs #SWLINUX-3356
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 89f8d6e37a9ef5f4120e758ba729871f5a79fb5d)
remote:
remote:
remote:   include/linux/netdevice.h | 9 +++++++++
remote:   net/bridge/br_if.c        | 6 ++++++
remote:   net/bridge/br_stp.c       | 4 ++++
remote:   3 files changed, 19 insertions(+)
remote:  ;fainelli@broadcom.com;2016-05-24 15:13:17 -0400;c6ba97b4ea9b06554d35faba67b07d1c25f90989;net: bridge: add a br_set_state helper function;
remote:  [Upstream commit 775dd692bd34f9201ed2aa775a0edcba4f973f3e]
remote:
remote:  In preparation for being able to propagate port states to e.g: notifiers
remote:  or other kernel parts, do not manipulate the port state directly, but
remote:  instead use a helper function which will allow us to do bit more than
remote:  setting the state.
remote:
remote:  refs #SWLINUX-3356
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 7414b4fbe3954533a4f4c9d07cb4a4cf277221bc)
remote:
remote:
remote:   net/bridge/br_if.c        |  2 +-
remote:   net/bridge/br_netlink.c   |  2 +-
remote:   net/bridge/br_private.h   |  1 +
remote:   net/bridge/br_stp.c       | 15 ++++++++++-----
remote:   net/bridge/br_stp_if.c    |  4 ++--
remote:   net/bridge/br_stp_timer.c |  4 ++--
remote:   6 files changed, 17 insertions(+), 11 deletions(-)
remote:  ;dpetigara@broadcom.com;2016-05-24 15:13:16 -0400;bc7af0862f0e99c013b9eb914c7b58d0135d578b;mm: cma: fix CMA aligned offset calculation;
remote:   [Upstream submission https://lkml.org/lkml/2015/2/24/745]
remote:
remote:  The CMA aligned offset calculation is incorrect for
remote:  non-zero order_per_bit values.
remote:
remote:  For example, if cma->order_per_bit=1, cma->base_pfn=
remote:  0x2f800000 and align_order=12, the function returns
remote:  a value of 0x17c00 instead of 0x400.
remote:
remote:  This patch fixes the CMA aligned offset calculation.
remote:
remote:  Cc: stable@vger.kernel.org
remote:  Signed-off-by: Danesh Petigara <dpetigara@broadcom.com>
remote:  Reviewed-by: Gregory Fong <gregory.0xf0@gmail.com>
remote:  Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:  (cherry picked from commit cc5bc1c06573b2240dd56344619d1737a22809b0)
remote:
remote:
remote:   mm/cma.c | 12 +++++++-----
remote:   1 file changed, 7 insertions(+), 5 deletions(-)
remote:  ;gregory@broadcom.com;2016-05-24 15:13:16 -0400;c7233043b986749f0d1bfaba0dc2d2d6a3b468c5;ARM: print cma-reserved pages from show_mem;
remote:  [Upstream submission https://lkml.org/lkml/2015/2/4/760 ]
remote:
remote:  Add cma reserved information to the ARM-specific show_mem.  It was
remote:  added to the generic implementation by commit
remote:  49abd8c28046adf77c5ce1949549aa64d7221881 "lib/show_mem.c: add cma
remote:  reserved information".
remote:
remote:  refs #SWLINUX-3547
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit f2b72d073d9f6b476b9b5467b33748a8ea7eb828)
remote:
remote:
remote:   arch/arm/mm/init.c | 4 ++++
remote:   1 file changed, 4 insertions(+)
remote:  ;vishnu.ps@samsung.com;2016-05-24 15:13:15 -0400;f71a844075a66e3542516ded9bea44b7a847dde3;lib/show_mem.c: add cma reserved information;
remote:  [Upstream commit 49abd8c28046adf77c5ce1949549aa64d7221881]
remote:
remote:  Add cma reserved information which is currently shown as a part of total
remote:  reserved only.  This patch is continuation of our previous cma patches
remote:  related to this.
remote:
remote:    https://lkml.org/lkml/2014/10/20/64
remote:    https://lkml.org/lkml/2014/10/22/383
remote:
remote:  refs #SWLINUX-3547
remote:
remote:  [akpm@linux-foundation.org: remove hopefully-unneeded ifdefs]
remote:  Signed-off-by: Vishnu Pratap Singh <vishnu.ps@samsung.com>
remote:  Cc: David Rientjes <rientjes@google.com>
remote:  Cc: KOSAKI Motohiro <kosaki.motohiro@jp.fujitsu.com>
remote:  Cc: Mel Gorman <mgorman@suse.de>
remote:  Cc: Xishi Qiu <qiuxishi@huawei.com>
remote:  Cc: Pintu Kumar <pintu.k@samsung.com>
remote:  Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:  Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:  (cherry picked from commit 13336988afab9326108b2679d05b32ceeae3d613)
remote:
remote:
remote:   lib/show_mem.c | 6 ++++++
remote:   1 file changed, 6 insertions(+)
remote:  ;pintu.k@samsung.com;2016-05-24 15:13:15 -0400;306114f8a8f7e09b0028826bedce7e68fd63b058;fs/proc/meminfo.c: include cma info in proc/meminfo;
remote:  [Upstream commit 47f8f9297d2247d65ee46d8403a73b30f8d0249b]
remote:
remote:  This patch include CMA info (CMATotal, CMAFree) in /proc/meminfo.
remote:  Currently, in a CMA enabled system, if somebody wants to know the total
remote:  CMA size declared, there is no way to tell, other than the dmesg or
remote:  /var/log/messages logs.
remote:
remote:  With this patch we are showing the CMA info as part of meminfo, so that it
remote:  can be determined at any point of time.  This will be populated only when
remote:  CMA is enabled.
remote:
remote:  Below is the sample output from a ARM based device with RAM:512MB and CMA:16MB.
remote:
remote:    MemTotal:         471172 kB
remote:    MemFree:          111712 kB
remote:    MemAvailable:     271172 kB
remote:    .
remote:    .
remote:    .
remote:    CmaTotal:          16384 kB
remote:    CmaFree:            6144 kB
remote:
remote:  This patch also fix below checkpatch errors that were found during these changes.
remote:
remote:    ERROR: space required after that ',' (ctx:ExV)
remote:    199: FILE: fs/proc/meminfo.c:199:
remote:    +       ,atomic_long_read(&num_poisoned_pages) << (PAGE_SHIFT - 10)
remote:            ^
remote:
remote:    ERROR: space required after that ',' (ctx:ExV)
remote:    202: FILE: fs/proc/meminfo.c:202:
remote:    +       ,K(global_page_state(NR_ANON_TRANSPARENT_HUGEPAGES) *
remote:            ^
remote:
remote:    ERROR: space required after that ',' (ctx:ExV)
remote:    206: FILE: fs/proc/meminfo.c:206:
remote:    +       ,K(totalcma_pages)
remote:            ^
remote:
remote:    total: 3 errors, 0 warnings, 2 checks, 236 lines checked
remote:
remote:  refs #SWLINUX-3547
remote:
remote:  Signed-off-by: Pintu Kumar <pintu.k@samsung.com>
remote:  Signed-off-by: Vishnu Pratap Singh <vishnu.ps@samsung.com>
remote:  Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:  Cc: Rafael Aquini <aquini@redhat.com>
remote:  Cc: Jerome Marchand <jmarchan@redhat.com>
remote:  Cc: Marek Szyprowski <m.szyprowski@samsung.com>
remote:  Cc: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:  Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:  Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit a6173d24176fbf53e9fda663896512239d0dbb60)
remote:
remote:
remote:   fs/proc/meminfo.c | 15 +++++++++++++--
remote:   1 file changed, 13 insertions(+), 2 deletions(-)
remote:  ;pintu.k@samsung.com;2016-05-24 15:13:14 -0400;f2a2d732bd51e9c5794d0c0030ff8ac3c5a8f1ea;mm: cma: split cma-reserved in dmesg log;
remote:  [Upstream commit e48322abb061d75096fe52d71886b237e7ae7bfb]
remote:
remote:  When the system boots up, in the dmesg logs we can see the memory
remote:  statistics along with total reserved as below.  Memory: 458840k/458840k
remote:  available, 65448k reserved, 0K highmem
remote:
remote:  When CMA is enabled, still the total reserved memory remains the same.
remote:  However, the CMA memory is not considered as reserved.  But, when we see
remote:  /proc/meminfo, the CMA memory is part of free memory.  This creates
remote:  confusion.  This patch corrects the problem by properly subtracting the
remote:  CMA reserved memory from the total reserved memory in dmesg logs.
remote:
remote:  Below is the dmesg snapshot from an arm based device with 512MB RAM and
remote:  12MB single CMA region.
remote:
remote:  Before this change:
remote:    Memory: 458840k/458840k available, 65448k reserved, 0K highmem
remote:
remote:  After this change:
remote:    Memory: 458840k/458840k available, 53160k reserved, 12288k cma-reserved, 0K highmem
remote:
remote:  refs #SWLINUX-3547
remote:
remote:  Signed-off-by: Pintu Kumar <pintu.k@samsung.com>
remote:  Signed-off-by: Vishnu Pratap Singh <vishnu.ps@samsung.com>
remote:  Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:  Cc: Rafael Aquini <aquini@redhat.com>
remote:  Cc: Jerome Marchand <jmarchan@redhat.com>
remote:  Cc: Marek Szyprowski <m.szyprowski@samsung.com>
remote:  Cc: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:  Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:  Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit a4d60f2af8562d873b05cbc4b276106a377f90fb)
remote:
remote:
remote:   include/linux/cma.h | 1 +
remote:   mm/cma.c            | 1 +
remote:   mm/page_alloc.c     | 6 ++++--
remote:   3 files changed, 6 insertions(+), 2 deletions(-)
remote:  ;kdasu@broadcom.com;2016-05-24 15:13:14 -0400;d800d13e2b8e71100a2947d7f461a72a4a45607f;bmoca: Pass contents of MOCA_L2_CPU_STATUS to mocad;
remote:  Add a message going to mocad in moca_send_pm_trap, that
remote:  will let MoCA know if the WATCHDOG_CPU_x_INTR is set.
remote:  We'll need to clear the WATCHDOG_CPU_x_INTR bits.
remote:  Handle the WATCHDOG_CPU_x_INTR. An MMP message is sent
remote:  to mocad. Also add MOCA_RESUMING_ASSERT and
remote:  MOCA_RESUMING_WDOG states to the resume logic.
remote:
remote:  refs #SWLINUX-3556
remote:
remote:  Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:  (cherry picked from commit 5d3fc45b6fe43e95067a467e7213a067a21b99fc)
remote:
remote:
remote:   drivers/char/bmoca.c  | 61 +++++++++++++++++++++++++++++--
remote:   include/linux/bmoca.h |  2 +
remote:   2 files changed, 59 insertions(+), 4 deletions(-)
remote:  ;kdasu@broadcom.com;2016-05-24 15:13:13 -0400;6857be2818033c9d576fe55475a9b64f74748a78;bmoca: Make per CPU ASSERT pending logic more readable;
remote:  Minor cleanup to make the pre CPU assert_pending for CPU0
remote:  and CPU1 code more readable.
remote:
remote:  refs #SWLINUX-3556
remote:
remote:  Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:  (cherry picked from commit c7a80d07ca86e87cced875192fb074f79102bd8e)
remote:
remote:
remote:   drivers/char/bmoca.c | 13 ++++++++-----
remote:   1 file changed, 8 insertions(+), 5 deletions(-)
remote:  ;kdasu@broadcom.com;2016-05-24 15:13:13 -0400;c9118eb450d1df46c9a69e5e59677857743151cb;bmoca: Enable moca as a wakeup source by default;
remote:  Enable moca as a wakeup source regardless of the
remote:  WoL setting. This is part of the change needed to resolve
remote:  CRMOCA20-5951: MoCA Exception and Assert interrupt
remote:  Reset of the changes in following commits.
remote:
remote:  refs #SWLINUX-3556
remote:
remote:  Signed-off-by: Kamal Dasu <kdasu@broadcom.com>
remote:  (cherry picked from commit c1c348895e56b8dcc626ec15dbd5630848542902)
remote:
remote:
remote:   drivers/char/bmoca.c | 21 ++++-----------------
remote:   1 file changed, 4 insertions(+), 17 deletions(-)
remote:  ;gregory.0xf0@gmail.com;2016-05-24 15:11:04 -0400;8f0967e2f2c255f7c790ebe50583aa30ac885485;mm: cma: align to physical address, not CMA region position;
remote:  [Upstream commit b5be83e308f70e16c63c4e520ea7bb03ef57c46f]
remote:
remote:  The alignment in cma_alloc() was done w.r.t. the bitmap.  This is a
remote:  problem when, for example:
remote:
remote:  - a device requires 16M (order 12) alignment
remote:  - the CMA region is not 16 M aligned
remote:
remote:  In such a case, can result with the CMA region starting at, say,
remote:  0x2f800000 but any allocation you make from there will be aligned from
remote:  there.  Requesting an allocation of 32 M with 16 M alignment will result
remote:  in an allocation from 0x2f800000 to 0x31800000, which doesn't work very
remote:  well if your strange device requires 16M alignment.
remote:
remote:  Change to use bitmap_find_next_zero_area_off() to account for the
remote:  difference in alignment at reserve-time and alloc-time.
remote:
remote:  refs #SWLINUX-2786
remote:
remote:  Signed-off-by: Gregory Fong <gregory.0xf0@gmail.com>
remote:  Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:  Cc: Marek Szyprowski <m.szyprowski@samsung.com>
remote:  Cc: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:  Cc: Kukjin Kim <kgene.kim@samsung.com>
remote:  Cc: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
remote:  Cc: Laura Abbott <lauraa@codeaurora.org>
remote:  Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:  Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:  [gregory: I accidentally dropped our local version of this change,
remote:  86ff4cb6f6d7d03b3d7a13aec9e0e40a9d24cfbb, in commit got lost in commit
remote:  20f856ba533003aa8eab7518c2a401706ef428cd "CMA: generalize CMA reserved area
remote:  management functionality".  We can just use the same as upstream now.]
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:  (cherry picked from commit e189cd3aa4ca5303d3d5e9d394a2e54e788cb6f3)
remote:
remote:
remote:   mm/cma.c | 19 ++++++++++++++++---
remote:   1 file changed, 16 insertions(+), 3 deletions(-)
remote:  ;mina86@mina86.com;2016-05-24 15:11:03 -0400;88010fbf62e01a81afe7fd9ea053d6c21bbf41d7;mm: alloc_contig_range: demote pages busy message from warn to info;
remote:  [Upstream commit dae803e165a11bc88ca8dbc07a11077caf97bbcb]
remote:
remote:  Having test_pages_isolated failure message as a warning confuses users
remote:  into thinking that it is more serious than it really is.  In reality, if
remote:  called via CMA, allocation will be retried so a single
remote:  test_pages_isolated failure does not prevent allocation from succeeding.
remote:
remote:  Demote the warning message to an info message and reformat it such that
remote:  the text "failed" does not appear and instead a less worrying "PFNS
remote:  busy" is used.
remote:
remote:  This message is trivially reproducible on a 10GB x86 machine on 3.16.y
remote:  kernels configured with CONFIG_DMA_CMA.
remote:
remote:  refs #SWLINUX-2786
remote:
remote:  Signed-off-by: Michal Nazarewicz <mina86@mina86.com>
remote:  Cc: Laurent Pinchart <laurent.pinchart@ideasonboard.com>
remote:  Cc: Peter Hurley <peter@hurleysoftware.com>
remote:  Cc: Minchan Kim <minchan@kernel.org>
remote:  Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:  Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 7f2492c261d0d6b82b874ee1a08b0212df7d9cd5)
remote:
remote:
remote:   mm/page_alloc.c | 5 ++---
remote:   1 file changed, 2 insertions(+), 3 deletions(-)
remote:  ;norris@broadcom.com;2016-05-24 15:11:03 -0400;520261d943db6b9c0cd3b8bbd400a1fb6a553031;tmon: makefile: export instead of overriding;
remote:  To avoid clobbering all 'Makefile' variables, let's just export these.
remote:  Then we don't have to specify as many things in the 'makefile'.
remote:
remote:  refs #SWLINUX-3288
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit a843b01c92daa5d3c595dc99018dbc8114516b9e)
remote:
remote:
remote:   tools/thermal/tmon/makefile | 9 ++++-----
remote:   1 file changed, 4 insertions(+), 5 deletions(-)
remote:  ;norris@broadcom.com;2016-05-24 15:11:02 -0400;c88ef54a7a666a947bcc8922f1c0131ac516473f;tmon: allow CFLAGS and CC to be specified externally;
remote:  Especially useful for cross-compiling.
remote:
remote:  refs #SWLINUX-3288
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit f30042c28a97b19765595bd619aedd2dd09ce804)
remote:
remote:
remote:   tools/thermal/tmon/Makefile | 4 ++--
remote:   1 file changed, 2 insertions(+), 2 deletions(-)
remote:  ;norris@broadcom.com;2016-05-24 15:11:01 -0400;eaf1fbcb33884fce9f0a3ec29a9c8c97f3a05f35;tmon: tui: fixup windowing calculations;
remote:  The number of rows in the dialog vary according to the number of cooling
remote:  devices. However, some of the windowing computations were assuming a
remote:  fixed number of rows. This computation is OK when we have between 4 and
remote:  9 cooling devices (and they wrap to the next column), but with fewer
remote:  devices, we end up printing off the end of the window.
remote:
remote:  This unifies the row computation into a single function and uses that
remote:  throughout the TUI code. This also accounts for increasing the number of
remote:  rows when there are more than 9 total cooling devices.
remote:
remote:  refs #SWLINUX-3288
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 0863801049efe5f28a5585686a5824ae8680d6a7)
remote:
remote:
remote:   tools/thermal/tmon/tui.c | 21 ++++++++++++++++-----
remote:   1 file changed, 16 insertions(+), 5 deletions(-)
remote:  ;norris@broadcom.com;2016-05-24 15:11:01 -0400;9b2412422fe0b3e8f1e8f1370a626b25f15b1acb;tmon: tui: don't hard-code dialog window size assumptions;
remote:  We can use the ncurses API to get the number of rows.
remote:
remote:  refs #SWLINUX-3288
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit cd3693f11b64ec2d7a4345bbae4624507c6cd356)
remote:
remote:
remote:   tools/thermal/tmon/tui.c | 9 +++++----
remote:   1 file changed, 5 insertions(+), 4 deletions(-)
remote:  ;norris@broadcom.com;2016-05-24 15:11:00 -0400;7a975daa079e9a67378ca9c34d1c93f9a45bc93e;tmon: add min/max macros;
remote:  refs #SWLINUX-3288
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 660e5e3d8ed5eec465603042e41bbabf3c1db8e4)
remote:
remote:
remote:   tools/thermal/tmon/tui.c | 12 ++++++++++++
remote:   1 file changed, 12 insertions(+)
remote:  ;fainelli@broadcom.com;2016-05-24 15:11:00 -0400;44f5323adce7ce41d4ec0664426a6ce95d18321d;tools/thermal: add a .gitignore file for tmon;
remote:  refs #SWLINUX-3288
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 53451abe031b137ee754abd0b207d7621f7b172c)
remote:
remote:
remote:   tools/thermal/tmon/.gitignore | 1 +
remote:   1 file changed, 1 insertion(+)
remote:  ;gregory@broadcom.com;2016-05-24 15:10:59 -0400;9d7ed76a4c4730492872a4912745302275d94c29;mm: page_alloc: add single retry to __choose_rmqueue_migratetype;
remote:  Rather assuming that exhaustion of both movable and cma try counters means we
remote:  should just go ahead and try using movable migratetype, try again after
remote:  resetting the counters.
remote:
remote:  refs #SWLINUX-2786
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 2fa12151c4f5173025bc0ae55d0cf279dbe0b511)
remote:
remote:
remote:   mm/page_alloc.c | 8 ++++++++
remote:   1 file changed, 8 insertions(+)
remote:  ;gregory@broadcom.com;2016-05-24 15:10:59 -0400;ea1bc75b1da9786f364ee9721fa95c020c8d9eed;mm: page_alloc: inline __choose_rmqueue_migratetype;
remote:  __rmqueue needs to be as fast as possible.  Since there's only one call site,
remote:  better to have this inlined.
remote:
remote:  refs #SWLINUX-2786
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit e9299a23c5a728bd90f8cb35367e5d824f3c99d6)
remote:
remote:
remote:   mm/page_alloc.c | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;gregory@broadcom.com;2016-05-24 15:10:58 -0400;05cc0cc09754dc908cb33b8680917b544f03a3f8;mm: page_alloc: Fix div by zero in adjust_managed_cma_page_count;
remote:  The commit by Joonsoo Kim <iamjoonsoo.kim@lge.com> "CMA: aggressively allocate
remote:  the pages on cma reserved memory when not used" introduced a div by zero when
remote:  there are no movable pages left but there are CMA pages left.  This can happen
remote:  under memory pressure when there are more total pages in CMA regions than not.
remote:
remote:  refs #SWLINUX-2786
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 8f79660751a7cb4347196cfc400a27d300dc80d3)
remote:
remote:
remote:   mm/page_alloc.c | 7 +++++++
remote:   1 file changed, 7 insertions(+)
remote:  ;gregory@broadcom.com;2016-05-24 15:10:58 -0400;1530757e788249be7f40486f2fc9c6d91b8f13f4;CMA: use total cma pages for adjust_managed_cma_page_count;
remote:  In the previous commit ("CMA: aggressively allocate the pages on CMA reserved
remote:  memory when not used" by Joonsoo Kim), CMA allocation is changed to be based on
remote:  the total number of "normal" managed pages and the number of managed (aka not
remote:  CMA-allocated) CMA pages.  This was intended to be used in conjunction with a
remote:  commit "CMA: always treat free cma pages as non-free on watermark checking"[1].
remote:  However, including that change results in a severe limitation that cannot be
remote:  used on brcmstb with the current setup: it restricts the amount of CMA region
remote:  memory to be less than or equal to to one-half of the system memory.
remote:
remote:  Rather than applying that change, this alters the heuristic from the
remote:  previous commit: we change the definition of "normal" manages in a zone from
remote:
remote:    total pages - managed (unallocated) CMA pages - high_wmark_pages(zone)
remote:
remote:  to
remote:
remote:    total pages - total CMA pages
remote:
remote:  This eliminates the need to handle determining whether an allocation should
remote:  succeed or fail based on the watermark check, and allows for memory in CMA
remote:  regions to be used for movable allocations even if there isn't any extra room
remote:  to migrate them out of the CMA region.
remote:
remote:  The obvious and rather large caveat is that in the event of a CMA allocation
remote:  actually requiring that space, there might not be enough space available to
remote:  which to move the used pages in the CMA region, resulting in potentially
remote:  catastrophic CMA allocation failures.  Whereas Joonsoo's commit prevents that
remote:  by design but restricts CMA usage, this maintains flexibility for CMA region
remote:  use but leaves it to the system designer to handle CMA allocation failure.
remote:
remote:  [1] https://github.com/JoonsooKim/linux/commit/166b4186d101b190cf50195d841e2189f2743649
remote:      or an older version at https://lkml.org/lkml/2014/5/28/110
remote:
remote:  refs #SWLINUX-2786
remote:
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit b5cbdb8b971a271cfa9f9679fc8713faf26079e9)
remote:
remote:
remote:   include/linux/gfp.h    | 6 ++++++
remote:   include/linux/mmzone.h | 1 +
remote:   mm/cma.c               | 2 +-
remote:   mm/page_alloc.c        | 2 +-
remote:   4 files changed, 9 insertions(+), 2 deletions(-)
remote:  ;iamjoonsoo.kim@lge.com;2016-05-24 15:10:57 -0400;81dc20c94e1d1a3533eda32a8495e5e6177f74ad;CMA: aggressively allocate the pages on CMA reserved memory when not used;
remote:  [Retrieved from
remote:  https://github.com/JoonsooKim/linux/commit/33a0416b3ac1cd7c88e6b35ee61b4a81a7a14afc]
remote:
remote:  CMA is introduced to provide physically contiguous pages at runtime.
remote:  For this purpose, it reserves memory at boot time. Although it reserve
remote:  memory, this reserved memory can be used for movable memory allocation
remote:  request. This usecase is beneficial to the system that needs this CMA
remote:  reserved memory infrequently and it is one of main purpose of
remote:  introducing CMA.
remote:
remote:  But, there is a problem in current implementation. The problem is that
remote:  it works like as just reserved memory approach. The pages on CMA reserved
remote:  memory are hardly used for movable memory allocation. This is caused by
remote:  combination of allocation and reclaim policy.
remote:
remote:  The pages on CMA reserved memory are allocated if there is no movable
remote:  memory, that is, as fallback allocation. So the time this fallback
remote:  allocation is started is under heavy memory pressure. Although it is under
remote:  memory pressure, movable allocation easily succeed, since there would be
remote:  many pages on CMA reserved memory. But this is not the case for unmovable
remote:  and reclaimable allocation, because they can't use the pages on CMA
remote:  reserved memory. These allocations regard system's free memory as
remote:  (free pages - free CMA pages) on watermark checking, that is, free
remote:  unmovable pages + free reclaimable pages + free movable pages. Because
remote:  we already exhausted movable pages, only free pages we have are unmovable
remote:  and reclaimable types and this would be really small amount. So watermark
remote:  checking would be failed. It will wake up kswapd to make enough free
remote:  memory for unmovable and reclaimable allocation and kswapd will do.
remote:  So before we fully utilize pages on CMA reserved memory, kswapd start to
remote:  reclaim memory and try to make free memory over the high watermark. This
remote:  watermark checking by kswapd doesn't take care free CMA pages so many
remote:  movable pages would be reclaimed. After then, we have a lot of movable
remote:  pages again, so fallback allocation doesn't happen again. To conclude,
remote:  amount of free memory on meminfo which includes free CMA pages is moving
remote:  around 512 MB if I reserve 512 MB memory for CMA.
remote:
remote:  I found this problem on following experiment.
remote:
remote:  4 CPUs, 1024 MB, VIRTUAL MACHINE
remote:  make -j16
remote:
remote:  CMA reserve:            0 MB            512 MB
remote:  Elapsed-time:           225.2           472.5
remote:  Average-MemFree:        322490 KB       630839 KB
remote:
remote:  To solve this problem, I can think following 2 possible solutions.
remote:  1. allocate the pages on CMA reserved memory first, and if they are
remote:     exhausted, allocate movable pages.
remote:  2. interleaved allocation: try to allocate specific amounts of memory
remote:     from CMA reserved memory and then allocate from free movable memory.
remote:
remote:  I tested #1 approach and found the problem. Although free memory on
remote:  meminfo can move around low watermark, there is large fluctuation on free
remote:  memory, because too many pages are reclaimed when kswapd is invoked.
remote:  Reason for this behaviour is that successive allocated CMA pages are
remote:  on the LRU list in that order and kswapd reclaim them in same order.
remote:  These memory doesn't help watermark checking from kwapd, so too many
remote:  pages are reclaimed, I guess.
remote:
remote:  So, I implement #2 approach.
remote:  One thing I should note is that we should not change allocation target
remote:  (movable list or CMA) on each allocation attempt, since this prevent
remote:  allocated pages to be in physically succession, so some I/O devices can
remote:  be hurt their performance. To solve this, I keep allocation target
remote:  in at least pageblock_nr_pages attempts and make this number reflect
remote:  ratio, free pages without free CMA pages to free CMA pages. With this
remote:  approach, system works very smoothly and fully utilize the pages on
remote:  CMA reserved memory.
remote:
remote:  Following is the experimental result of this patch.
remote:
remote:  4 CPUs, 1024 MB, VIRTUAL MACHINE
remote:  make -j16
remote:
remote:  <Before>
remote:  CMA reserve:            0 MB            512 MB
remote:  Elapsed-time:           225.2           472.5
remote:  Average-MemFree:        322490 KB       630839 KB
remote:  nr_free_cma:            0               131068
remote:  pswpin:                 0               261666
remote:  pswpout:                75              1241363
remote:
remote:  <After>
remote:  CMA reserve:            0 MB            512 MB
remote:  Elapsed-time:           222.7           224
remote:  Average-MemFree:        325595 KB       393033 KB
remote:  nr_free_cma:            0               61001
remote:  pswpin:                 0               6
remote:  pswpout:                44              502
remote:
remote:  There is no difference if we don't have CMA reserved memory (0 MB case).
remote:  But, with CMA reserved memory (512 MB case), we fully utilize these
remote:  reserved memory through this patch and the system behaves like as
remote:  it doesn't reserve any memory.
remote:
remote:  With this patch, we aggressively allocate the pages on CMA reserved memory
remote:  so latency of CMA can arise. Below is the experimental result about
remote:  latency.
remote:
remote:  4 CPUs, 1024 MB, VIRTUAL MACHINE
remote:  CMA reserve: 512 MB
remote:  Backgound Workload: make -jN
remote:  Real Workload: 8 MB CMA allocation/free 20 times with 5 sec interval
remote:
remote:  N:                    1        4       8        16
remote:  Elapsed-time(Before): 4309.75  9511.09 12276.1  77103.5
remote:  Elapsed-time(After):  5391.69 16114.1  19380.3  34879.2
remote:
remote:  So generally we can see latency increase. Ratio of this increase
remote:  is rather big - up to 70%. But, under the heavy workload, it shows
remote:  latency decrease - up to 55%. This may be worst-case scenario, but
remote:  reducing it would be important for some system, so, I can say that
remote:  this patch have advantages and disadvantages in terms of latency.
remote:
remote:  Although I think that this patch is right direction for CMA, there is
remote:  side-effect in following case. If there is small memory zone and CMA
remote:  occupys most of them, LRU for this zone would have many CMA pages. When
remote:  reclaim is started, these CMA pages would be reclaimed, but not counted
remote:  for watermark checking, so too many CMA pages could be reclaimed
remote:  unnecessarily. Until now, this can't happen because free CMA pages aren't
remote:  used easily. But, with this patch, free CMA pages are used easily so
remote:  this problem can be possible. I will handle it on another patchset
remote:  after some investigating.
remote:
remote:  v2:
remote:    - In fastpath, just replenish counters. Calculation is done whenver
remote:      CMA area is varied
remote:
remote:  v3:
remote:    - Use unsigned type in adjust_managed_cma_page_count() (per Gioh)
remote:    - Fix +/- count when calling adjust_managed_cma_page_count() (per Gioh)
remote:    - Instead of implementing __rmqueue_cma() which has another
remote:      __rmqueue_smallest(), choose_rmqueue_migratetype() is implemented to
remote:      change original migratetype to MIGRATE_CMA according to criteria. It
remote:      helps not to violate layering. (per Minchan in offline discussion)
remote:
remote:  refs #SWLINUX-2786
remote:
remote:  Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:  Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit d972a5082211262ddea3cc87ceac9e5f18b9ea73)
remote:
remote:
remote:   include/linux/gfp.h    |  1 +
remote:   include/linux/mmzone.h | 14 +++++
remote:   mm/cma.c               |  3 +
remote:   mm/page_alloc.c        | 98 +++++++++++++++++++++++++++++-
remote:   4 files changed, 114 insertions(+), 2 deletions(-)
remote:  ;iamjoonsoo.kim@lge.com;2016-05-24 15:10:56 -0400;2864519e0bf008640efaa760ff17c5ce169d43ac;CMA: remove redundant retrying code in __alloc_contig_migrate_range;
remote:  [Upstream submission (not yet accepted) https://lkml.org/lkml/2014/5/28/113]
remote:
remote:  We already have retry logic in migrate_pages(). It does retry 10 times.
remote:  So if we keep this retrying code in __alloc_contig_migrate_range(), we
remote:  would try to migrate some unmigratable page in 50 times. There is just one
remote:  small difference in -ENOMEM case. migrate_pages() don't do retry
remote:  in this case, however, current __alloc_contig_migrate_range() does. But,
remote:  I think that this isn't problem, because in this case, we may fail again
remote:  with same reason.
remote:
remote:  refs #SWLINUX-2786
remote:
remote:  Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:  Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:  [gregory: resolve minor merge conflict]
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:  Conflicts:
remote:  	mm/page_alloc.c
remote:
remote:  (cherry picked from commit 077285a0beac00f46c5922a4554a88c96153f08b)
remote:
remote:
remote:   mm/page_alloc.c | 9 ++++-----
remote:   1 file changed, 4 insertions(+), 5 deletions(-)
remote:  ;iamjoonsoo.kim@lge.com;2016-05-24 15:10:56 -0400;2f641829f5d6e0eb0744152900313eedadb74dc5;mm/page_alloc: restrict max order of merging on isolated pageblock;
remote:  [Upstream commit 3c605096d3158216ba9326a16266f6ba128c2c8d]
remote:
remote:  Current pageblock isolation logic could isolate each pageblock
remote:  individually.  This causes freepage accounting problem if freepage with
remote:  pageblock order on isolate pageblock is merged with other freepage on
remote:  normal pageblock.  We can prevent merging by restricting max order of
remote:  merging to pageblock order if freepage is on isolate pageblock.
remote:
remote:  A side-effect of this change is that there could be non-merged buddy
remote:  freepage even if finishing pageblock isolation, because undoing
remote:  pageblock isolation is just to move freepage from isolate buddy list to
remote:  normal buddy list rather than to consider merging.  So, the patch also
remote:  makes undoing pageblock isolation consider freepage merge.  When
remote:  un-isolation, freepage with more than pageblock order and it's buddy are
remote:  checked.  If they are on normal pageblock, instead of just moving, we
remote:  isolate the freepage and free it in order to get merged.
remote:
remote:  refs #SWLINUX-2786
remote:
remote:  Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:  Acked-by: Vlastimil Babka <vbabka@suse.cz>
remote:  Cc: "Kirill A. Shutemov" <kirill@shutemov.name>
remote:  Cc: Mel Gorman <mgorman@suse.de>
remote:  Cc: Johannes Weiner <hannes@cmpxchg.org>
remote:  Cc: Minchan Kim <minchan@kernel.org>
remote:  Cc: Yasuaki Ishimatsu <isimatu.yasuaki@jp.fujitsu.com>
remote:  Cc: Zhang Yanfei <zhangyanfei@cn.fujitsu.com>
remote:  Cc: Tang Chen <tangchen@cn.fujitsu.com>
remote:  Cc: Naoya Horiguchi <n-horiguchi@ah.jp.nec.com>
remote:  Cc: Bartlomiej Zolnierkiewicz <b.zolnierkie@samsung.com>
remote:  Cc: Wen Congyang <wency@cn.fujitsu.com>
remote:  Cc: Marek Szyprowski <m.szyprowski@samsung.com>
remote:  Cc: Michal Nazarewicz <mina86@mina86.com>
remote:  Cc: Laura Abbott <lauraa@codeaurora.org>
remote:  Cc: Heesub Shin <heesub.shin@samsung.com>
remote:  Cc: "Aneesh Kumar K.V" <aneesh.kumar@linux.vnet.ibm.com>
remote:  Cc: Ritesh Harjani <ritesh.list@gmail.com>
remote:  Cc: Gioh Kim <gioh.kim@lge.com>
remote:  Cc: <stable@vger.kernel.org>
remote:  Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:  Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 9e2f563659c605adfb0db3810494c9565f4436c8)
remote:
remote:
remote:   mm/internal.h       | 25 ++++++++++++++++++++
remote:   mm/page_alloc.c     | 41 +++++++++++----------------------
remote:   mm/page_isolation.c | 41 +++++++++++++++++++++++++++++++--
remote:   3 files changed, 78 insertions(+), 29 deletions(-)
remote:  ;iamjoonsoo.kim@lge.com;2016-05-24 15:10:55 -0400;b46a3b0017b2ac151b27d4b65a848a0c8c14b731;mm/page_alloc: move freepage counting logic to __free_one_page();
remote:  [Upstream commit 8f82b55dd558a74fc33d69a1f2c2605d0cd2c908]
remote:
remote:  All the caller of __free_one_page() has similar freepage counting logic,
remote:  so we can move it to __free_one_page().  This reduce line of code and
remote:  help future maintenance.
remote:
remote:  This is also preparation step for "mm/page_alloc: restrict max order of
remote:  merging on isolated pageblock" which fix the freepage counting problem
remote:  on freepage with more than pageblock order.
remote:
remote:  refs #SWLINUX-2786
remote:
remote:  Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:  Acked-by: Vlastimil Babka <vbabka@suse.cz>
remote:  Cc: "Kirill A. Shutemov" <kirill@shutemov.name>
remote:  Cc: Mel Gorman <mgorman@suse.de>
remote:  Cc: Johannes Weiner <hannes@cmpxchg.org>
remote:  Cc: Minchan Kim <minchan@kernel.org>
remote:  Cc: Yasuaki Ishimatsu <isimatu.yasuaki@jp.fujitsu.com>
remote:  Cc: Zhang Yanfei <zhangyanfei@cn.fujitsu.com>
remote:  Cc: Tang Chen <tangchen@cn.fujitsu.com>
remote:  Cc: Naoya Horiguchi <n-horiguchi@ah.jp.nec.com>
remote:  Cc: Bartlomiej Zolnierkiewicz <b.zolnierkie@samsung.com>
remote:  Cc: Wen Congyang <wency@cn.fujitsu.com>
remote:  Cc: Marek Szyprowski <m.szyprowski@samsung.com>
remote:  Cc: Michal Nazarewicz <mina86@mina86.com>
remote:  Cc: Laura Abbott <lauraa@codeaurora.org>
remote:  Cc: Heesub Shin <heesub.shin@samsung.com>
remote:  Cc: "Aneesh Kumar K.V" <aneesh.kumar@linux.vnet.ibm.com>
remote:  Cc: Ritesh Harjani <ritesh.list@gmail.com>
remote:  Cc: Gioh Kim <gioh.kim@lge.com>
remote:  Cc: <stable@vger.kernel.org>
remote:  Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:  Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 8c0fed7c9bd77c0f0b45e78d83c49a66b338b4cd)
remote:
remote:
remote:   mm/page_alloc.c | 14 +++-----------
remote:   1 file changed, 3 insertions(+), 11 deletions(-)
remote:  ;iamjoonsoo.kim@lge.com;2016-05-24 15:10:55 -0400;690f4aa1d6f27202d7d610b110913bf73955d4f8;mm/page_alloc: add freepage on isolate pageblock to correct buddy list;
remote:  [Upstream commit 51bb1a4093cc68bc16b282548d9cee6104be0ef1]
remote:
remote:  In free_pcppages_bulk(), we use cached migratetype of freepage to
remote:  determine type of buddy list where freepage will be added.  This
remote:  information is stored when freepage is added to pcp list, so if
remote:  isolation of pageblock of this freepage begins after storing, this
remote:  cached information could be stale.  In other words, it has original
remote:  migratetype rather than MIGRATE_ISOLATE.
remote:
remote:  There are two problems caused by this stale information.
remote:
remote:  One is that we can't keep these freepages from being allocated.
remote:  Although this pageblock is isolated, freepage will be added to normal
remote:  buddy list so that it could be allocated without any restriction.  And
remote:  the other problem is incorrect freepage accounting.  Freepages on
remote:  isolate pageblock should not be counted for number of freepage.
remote:
remote:  Following is the code snippet in free_pcppages_bulk().
remote:
remote:      /* MIGRATE_MOVABLE list may include MIGRATE_RESERVEs */
remote:      __free_one_page(page, page_to_pfn(page), zone, 0, mt);
remote:      trace_mm_page_pcpu_drain(page, 0, mt);
remote:      if (likely(!is_migrate_isolate_page(page))) {
remote:          __mod_zone_page_state(zone, NR_FREE_PAGES, 1);
remote:          if (is_migrate_cma(mt))
remote:              __mod_zone_page_state(zone, NR_FREE_CMA_PAGES, 1);
remote:      }
remote:
remote:  As you can see above snippet, current code already handle second
remote:  problem, incorrect freepage accounting, by re-fetching pageblock
remote:  migratetype through is_migrate_isolate_page(page).
remote:
remote:  But, because this re-fetched information isn't used for
remote:  __free_one_page(), first problem would not be solved.  This patch try to
remote:  solve this situation to re-fetch pageblock migratetype before
remote:  __free_one_page() and to use it for __free_one_page().
remote:
remote:  In addition to move up position of this re-fetch, this patch use
remote:  optimization technique, re-fetching migratetype only if there is isolate
remote:  pageblock.  Pageblock isolation is rare event, so we can avoid
remote:  re-fetching in common case with this optimization.
remote:
remote:  This patch also correct migratetype of the tracepoint output.
remote:
remote:  refs #SWLINUX-2786
remote:
remote:  Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:  Acked-by: Minchan Kim <minchan@kernel.org>
remote:  Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:  Acked-by: Vlastimil Babka <vbabka@suse.cz>
remote:  Cc: "Kirill A. Shutemov" <kirill@shutemov.name>
remote:  Cc: Mel Gorman <mgorman@suse.de>
remote:  Cc: Johannes Weiner <hannes@cmpxchg.org>
remote:  Cc: Yasuaki Ishimatsu <isimatu.yasuaki@jp.fujitsu.com>
remote:  Cc: Zhang Yanfei <zhangyanfei@cn.fujitsu.com>
remote:  Cc: Tang Chen <tangchen@cn.fujitsu.com>
remote:  Cc: Naoya Horiguchi <n-horiguchi@ah.jp.nec.com>
remote:  Cc: Bartlomiej Zolnierkiewicz <b.zolnierkie@samsung.com>
remote:  Cc: Wen Congyang <wency@cn.fujitsu.com>
remote:  Cc: Marek Szyprowski <m.szyprowski@samsung.com>
remote:  Cc: Laura Abbott <lauraa@codeaurora.org>
remote:  Cc: Heesub Shin <heesub.shin@samsung.com>
remote:  Cc: "Aneesh Kumar K.V" <aneesh.kumar@linux.vnet.ibm.com>
remote:  Cc: Ritesh Harjani <ritesh.list@gmail.com>
remote:  Cc: Gioh Kim <gioh.kim@lge.com>
remote:  Cc: <stable@vger.kernel.org>
remote:  Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:  Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 3e3fcb2934233728948179f01c345efcd36bd7ea)
remote:
remote:
remote:   mm/page_alloc.c | 13 ++++++++-----
remote:   1 file changed, 8 insertions(+), 5 deletions(-)
remote:  ;iamjoonsoo.kim@lge.com;2016-05-24 15:10:54 -0400;9755d7c23d76d5871d72819b6214de58fa459ae8;mm/page_alloc: fix incorrect isolation behavior by rechecking migratetype;
remote:  [Upstream commit ad53f92eb416d81e469fa8ea57153e59455e7175]
remote:
remote:  Before describing bugs itself, I first explain definition of freepage.
remote:
remote:   1. pages on buddy list are counted as freepage.
remote:   2. pages on isolate migratetype buddy list are *not* counted as freepage.
remote:   3. pages on cma buddy list are counted as CMA freepage, too.
remote:
remote:  Now, I describe problems and related patch.
remote:
remote:  Patch 1: There is race conditions on getting pageblock migratetype that
remote:  it results in misplacement of freepages on buddy list, incorrect
remote:  freepage count and un-availability of freepage.
remote:
remote:  Patch 2: Freepages on pcp list could have stale cached information to
remote:  determine migratetype of buddy list to go.  This causes misplacement of
remote:  freepages on buddy list and incorrect freepage count.
remote:
remote:  Patch 4: Merging between freepages on different migratetype of
remote:  pageblocks will cause freepages accouting problem.  This patch fixes it.
remote:
remote:  Without patchset [3], above problem doesn't happens on my CMA allocation
remote:  test, because CMA reserved pages aren't used at all.  So there is no
remote:  chance for above race.
remote:
remote:  With patchset [3], I did simple CMA allocation test and get below
remote:  result:
remote:
remote:   - Virtual machine, 4 cpus, 1024 MB memory, 256 MB CMA reservation
remote:   - run kernel build (make -j16) on background
remote:   - 30 times CMA allocation(8MB * 30 = 240MB) attempts in 5 sec interval
remote:   - Result: more than 5000 freepage count are missed
remote:
remote:  With patchset [3] and this patchset, I found that no freepage count are
remote:  missed so that I conclude that problems are solved.
remote:
remote:  On my simple memory offlining test, these problems also occur on that
remote:  environment, too.
remote:
remote:  This patch (of 4):
remote:
remote:  There are two paths to reach core free function of buddy allocator,
remote:  __free_one_page(), one is free_one_page()->__free_one_page() and the
remote:  other is free_hot_cold_page()->free_pcppages_bulk()->__free_one_page().
remote:  Each paths has race condition causing serious problems.  At first, this
remote:  patch is focused on first type of freepath.  And then, following patch
remote:  will solve the problem in second type of freepath.
remote:
remote:  In the first type of freepath, we got migratetype of freeing page
remote:  without holding the zone lock, so it could be racy.  There are two cases
remote:  of this race.
remote:
remote:   1. pages are added to isolate buddy list after restoring orignal
remote:      migratetype
remote:
remote:      CPU1                                   CPU2
remote:
remote:      get migratetype => return MIGRATE_ISOLATE
remote:      call free_one_page() with MIGRATE_ISOLATE
remote:
remote:                                  grab the zone lock
remote:                                  unisolate pageblock
remote:                                  release the zone lock
remote:
remote:      grab the zone lock
remote:      call __free_one_page() with MIGRATE_ISOLATE
remote:      freepage go into isolate buddy list,
remote:      although pageblock is already unisolated
remote:
remote:  This may cause two problems.  One is that we can't use this page anymore
remote:  until next isolation attempt of this pageblock, because freepage is on
remote:  isolate buddy list.  The other is that freepage accouting could be wrong
remote:  due to merging between different buddy list.  Freepages on isolate buddy
remote:  list aren't counted as freepage, but ones on normal buddy list are
remote:  counted as freepage.  If merge happens, buddy freepage on normal buddy
remote:  list is inevitably moved to isolate buddy list without any consideration
remote:  of freepage accouting so it could be incorrect.
remote:
remote:   2. pages are added to normal buddy list while pageblock is isolated.
remote:      It is similar with above case.
remote:
remote:  This also may cause two problems.  One is that we can't keep these
remote:  freepages from being allocated.  Although this pageblock is isolated,
remote:  freepage would be added to normal buddy list so that it could be
remote:  allocated without any restriction.  And the other problem is same as
remote:  case 1, that it, incorrect freepage accouting.
remote:
remote:  This race condition would be prevented by checking migratetype again
remote:  with holding the zone lock.  Because it is somewhat heavy operation and
remote:  it isn't needed in common case, we want to avoid rechecking as much as
remote:  possible.  So this patch introduce new variable, nr_isolate_pageblock in
remote:  struct zone to check if there is isolated pageblock.  With this, we can
remote:  avoid to re-check migratetype in common case and do it only if there is
remote:  isolated pageblock or migratetype is MIGRATE_ISOLATE.  This solve above
remote:  mentioned problems.
remote:
remote:  Changes from v3:
remote:  Add one more check in free_one_page() that checks whether migratetype is
remote:  MIGRATE_ISOLATE or not. Without this, abovementioned case 1 could happens.
remote:
remote:  refs #SWLINUX-2786
remote:
remote:  Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:  Acked-by: Minchan Kim <minchan@kernel.org>
remote:  Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:  Acked-by: Vlastimil Babka <vbabka@suse.cz>
remote:  Cc: "Kirill A. Shutemov" <kirill@shutemov.name>
remote:  Cc: Mel Gorman <mgorman@suse.de>
remote:  Cc: Johannes Weiner <hannes@cmpxchg.org>
remote:  Cc: Yasuaki Ishimatsu <isimatu.yasuaki@jp.fujitsu.com>
remote:  Cc: Zhang Yanfei <zhangyanfei@cn.fujitsu.com>
remote:  Cc: Tang Chen <tangchen@cn.fujitsu.com>
remote:  Cc: Naoya Horiguchi <n-horiguchi@ah.jp.nec.com>
remote:  Cc: Bartlomiej Zolnierkiewicz <b.zolnierkie@samsung.com>
remote:  Cc: Wen Congyang <wency@cn.fujitsu.com>
remote:  Cc: Marek Szyprowski <m.szyprowski@samsung.com>
remote:  Cc: Laura Abbott <lauraa@codeaurora.org>
remote:  Cc: Heesub Shin <heesub.shin@samsung.com>
remote:  Cc: "Aneesh Kumar K.V" <aneesh.kumar@linux.vnet.ibm.com>
remote:  Cc: Ritesh Harjani <ritesh.list@gmail.com>
remote:  Cc: Gioh Kim <gioh.kim@lge.com>
remote:  Cc: <stable@vger.kernel.org>
remote:  Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:  Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:  [gregory: minor backport changes for stblinux-3.14 which does not have
remote:  CONFIG_MEMORY_HOTPLUG]
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:  Conflicts:
remote:  	include/linux/mmzone.h
remote:
remote:  (cherry picked from commit 73912deb8a18c2a374eb3b40ad90fb8e84d828fa)
remote:
remote:
remote:   include/linux/mmzone.h         |  9 +++++++++
remote:   include/linux/page-isolation.h |  8 ++++++++
remote:   mm/page_alloc.c                | 11 +++++++++--
remote:   mm/page_isolation.c            |  2 ++
remote:   4 files changed, 28 insertions(+), 2 deletions(-)
remote:  ;mgorman@suse.de;2016-05-24 15:10:54 -0400;2666742c4813427aa43aed5adaafbec4ec31056d;mm: page_alloc: reduce number of times page_to_pfn is called;
remote:  [Upstream commit dc4b0caff24d9b2918e9f27bc65499ee63187eba]
remote:
remote:  In the free path we calculate page_to_pfn multiple times. Reduce that.
remote:
remote:  refs #SWLINUX-2786
remote:
remote:  Signed-off-by: Mel Gorman <mgorman@suse.de>
remote:  Acked-by: Rik van Riel <riel@redhat.com>
remote:  Cc: Johannes Weiner <hannes@cmpxchg.org>
remote:  Acked-by: Vlastimil Babka <vbabka@suse.cz>
remote:  Cc: Jan Kara <jack@suse.cz>
remote:  Cc: Michal Hocko <mhocko@suse.cz>
remote:  Cc: Hugh Dickins <hughd@google.com>
remote:  Cc: Dave Hansen <dave.hansen@intel.com>
remote:  Cc: Theodore Ts'o <tytso@mit.edu>
remote:  Cc: "Paul E. McKenney" <paulmck@linux.vnet.ibm.com>
remote:  Cc: Oleg Nesterov <oleg@redhat.com>
remote:  Cc: Peter Zijlstra <peterz@infradead.org>
remote:  Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:  Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit a35116c775d851b777ba9ba458ff5a3cd0ab98e5)
remote:
remote:
remote:   include/linux/mmzone.h          |  9 ++++--
remote:   include/linux/pageblock-flags.h | 33 ++++++++------------
remote:   mm/page_alloc.c                 | 34 ++++++++++++---------
remote:   3 files changed, 39 insertions(+), 37 deletions(-)
remote:  ;weijie.yang@samsung.com;2016-05-24 15:10:53 -0400;24f7e920efe0983a714fc406ce023ff4b88d7fda;mm, cma: make parameters order consistent in func declaration and definition;
remote:  [Upstream commit dda02fd6278d9e995850b3c1dba484f17cbe4de4]
remote:
remote:  In the current code, the base and size parameters order is not consistent
remote:  in functions declaration and definition. If someone calls these functions
remote:  according to the declaration parameters order in cma.h, he will run into
remote:  some bug and it's hard to find the reason.
remote:
remote:  This patch makes the parameters order consistent in functions declaration
remote:  and definition.
remote:
remote:  refs #SWLINUX-2786
remote:
remote:  Signed-off-by: Weijie Yang <weijie.yang@samsung.com>
remote:  Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:  Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 9cdadd68a5bd6799c15aa1a9f1b0475b102c3445)
remote:
remote:
remote:   include/linux/cma.h | 8 ++++----
remote:   1 file changed, 4 insertions(+), 4 deletions(-)
remote:  ;m.szyprowski@samsung.com;2016-05-24 15:10:52 -0400;043c2ed2a5a11217015a6fce997d00372efc1a04;drivers: dma-contiguous: add initialization from device tree;
remote:  [Upstream commit de9e14eebf33a60712a52a0bc6e08c043c0aba53]
remote:
remote:  Add a function to create CMA region from previously reserved memory and
remote:  add support for handling 'shared-dma-pool' reserved-memory device tree
remote:  nodes.
remote:
remote:  Based on previous code provided by Josh Cartwright <joshc@codeaurora.org>
remote:
remote:  refs #SWLINUX-2786
remote:
remote:  Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:  Cc: Arnd Bergmann <arnd@arndb.de>
remote:  Cc: Michal Nazarewicz <mina86@mina86.com>
remote:  Cc: Grant Likely <grant.likely@linaro.org>
remote:  Cc: Laura Abbott <lauraa@codeaurora.org>
remote:  Cc: Josh Cartwright <joshc@codeaurora.org>
remote:  Cc: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:  Cc: Kyungmin Park <kyungmin.park@samsung.com>
remote:  Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:  Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 4e5de077be29c2a5483342bcb5651d3f4c325c1b)
remote:
remote:
remote:   drivers/base/dma-contiguous.c | 66 +++++++++++++++++++++++
remote:   include/linux/cma.h           |  3 ++
remote:   mm/cma.c                      | 62 +++++++++++++++++----
remote:   3 files changed, 120 insertions(+), 11 deletions(-)
remote:  ;robh@kernel.org;2016-05-24 15:10:52 -0400;dc70ef66333eaf9781846c140c52ea6c03defd1e;of: align RESERVEDMEM_OF_DECLARE function callbacks to other callbacks;
remote:  [Upstream commit 9dd3107576c4bbd40e1c2c8b24d560abf9a7b991]
remote:
remote:  All the parameters for RESERVEDMEM_OF_DECLARE function callbacks are
remote:  members of struct reserved_mem, so just pass the struct ptr to callback
remote:  functions so the function callback is more in line with other OF match
remote:  table callbacks.
remote:
remote:  refs #SWLINUX-2786
remote:
remote:  Acked-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:  Acked-by: Grant Likely <grant.likely@linaro.org>
remote:  Signed-off-by: Rob Herring <robh@kernel.org>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit d0ea197730a9729756dfee4a41c83668f123b8b6)
remote:
remote:
remote:   drivers/of/of_reserved_mem.c    | 2 +-
remote:   include/linux/of_reserved_mem.h | 4 ++--
remote:   2 files changed, 3 insertions(+), 3 deletions(-)
remote:  ;m.szyprowski@samsung.com;2016-05-24 15:10:51 -0400;8c25002ccafe9b106f4063cfcb171943716d8085;drivers: of: add support for custom reserved memory drivers;
remote:  [Upstream commit f618c4703a14672d27bc2ca5d132a844363d6f5f]
remote:
remote:  Add support for custom reserved memory drivers. Call their init() function
remote:  for each reserved region and prepare for using operations provided by them
remote:  with by the reserved_mem->ops array.
remote:
remote:  Based on previous code provided by Josh Cartwright <joshc@codeaurora.org>
remote:
remote:  refs #SWLINUX-2786
remote:
remote:  Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:  Signed-off-by: Grant Likely <grant.likely@linaro.org>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit d2e30989a258501e2d52f0e9b41242fbea4c35de)
remote:
remote:
remote:   drivers/of/of_reserved_mem.c      | 29 +++++++++++++++++
remote:   include/asm-generic/vmlinux.lds.h | 11 +++++++
remote:   include/linux/of_reserved_mem.h   | 32 +++++++++++++++++++
remote:   3 files changed, 72 insertions(+)
remote:  ;laurent.pinchart+renesas@ideasonboard.com;2016-05-24 15:10:51 -0400;1e2113768e28692464981040fc40dceeca07e511;mm: cma: Use %pa to print physical addresses;
remote:  [Upstream commit 56fa4f609badbe442093409c3d3a051811e54f72]
remote:
remote:  Casting physical addresses to unsigned long and using %lu truncates the
remote:  values on systems where physical addresses are larger than 32 bits. Use
remote:  %pa and get rid of the cast instead.
remote:
remote:  refs #SWLINUX-2786
remote:
remote:  Signed-off-by: Laurent Pinchart <laurent.pinchart+renesas@ideasonboard.com>
remote:  Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:  Acked-by: Geert Uytterhoeven <geert+renesas@glider.be>
remote:  Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 858ba8fdfcbb299e178f070b6657b15ce792e3dd)
remote:
remote:
remote:   mm/cma.c | 13 ++++++-------
remote:   1 file changed, 6 insertions(+), 7 deletions(-)
remote:  ;laurent.pinchart+renesas@ideasonboard.com;2016-05-24 15:10:50 -0400;1ed53a2bf25afc319568a428a4d56814299010ed;mm: cma: Ensure that reservations never cross the low/high mem boundary;
remote:  [Upstream commit 16195ddd4ebcc10c30b2f232f8e400df8d464380]
remote:
remote:  Commit 95b0e655f914 ("ARM: mm: don't limit default CMA region only to
remote:  low memory") extended CMA memory reservation to allow usage of high
remote:  memory. It relied on commit f7426b983a6a ("mm: cma: adjust address limit
remote:  to avoid hitting low/high memory boundary") to ensure that the reserved
remote:  block never crossed the low/high memory boundary. While the
remote:  implementation correctly lowered the limit, it failed to consider the
remote:  case where the base..limit range crossed the low/high memory boundary
remote:  with enough space on each side to reserve the requested size on either
remote:  low or high memory.
remote:
remote:  Rework the base and limit adjustment to fix the problem. The function
remote:  now starts by rejecting the reservation altogether for fixed
remote:  reservations that cross the boundary, tries to reserve from high memory
remote:  first and then falls back to low memory.
remote:
remote:  refs #SWLINUX-2786
remote:
remote:  Signed-off-by: Laurent Pinchart <laurent.pinchart+renesas@ideasonboard.com>
remote:  Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 20ed5aedc85a032c8d0e3fbacd4ca16e3309394c)
remote:
remote:
remote:   mm/cma.c | 49 +++++++++++++++++++++++++++++---------------
remote:   1 file changed, 33 insertions(+), 16 deletions(-)
remote:  ;laurent.pinchart+renesas@ideasonboard.com;2016-05-24 15:10:50 -0400;4280b639e0fcf046809fd29b3262ac05cc7a6c21;mm: cma: Always consider a 0 base address reservation as dynamic;
remote:  [Upstream commit 800a85d3d286604b8c539ca7ee90b992316fd2a7]
remote:
remote:  The fixed parameter to cma_declare_contiguous() tells the function
remote:  whether the given base address must be honoured or should be considered
remote:  as a hint only. The API considers a zero base address as meaning any
remote:  base address, which must never be considered as a fixed value.
remote:
remote:  Part of the implementation correctly checks both fixed and base != 0,
remote:  but two locations check the fixed value only. Set fixed to false when
remote:  base is 0 to fix that and simplify the code.
remote:
remote:  refs #SWLINUX-2786
remote:
remote:  Signed-off-by: Laurent Pinchart <laurent.pinchart+renesas@ideasonboard.com>
remote:  Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:  Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit db6b5f24fdbc8d565010003ce70db9877d92ba27)
remote:
remote:
remote:   mm/cma.c | 5 ++++-
remote:   1 file changed, 4 insertions(+), 1 deletion(-)
remote:  ;laurent.pinchart+renesas@ideasonboard.com;2016-05-24 15:10:49 -0400;1a486b3ec5880fa4a7fa6512ec6810ed7fba1927;mm: cma: Don't crash on allocation if CMA area can't be activated;
remote:  [Upstream commit f022d8cb7ec70fe8edd56383d876001317ee76b1]
remote:
remote:  If activation of the CMA area fails its mutex won't be initialized,
remote:  leading to an oops at allocation time when trying to lock the mutex. Fix
remote:  this by setting the cma area count field to 0 when activation fails,
remote:  leading to allocation returning NULL immediately.
remote:
remote:  refs #SWLINUX-2786
remote:
remote:  Cc: <stable@vger.kernel.org>  # v3.17
remote:  Signed-off-by: Laurent Pinchart <laurent.pinchart+renesas@ideasonboard.com>
remote:  Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:  Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit c5a36cb40607750a565c4223d9aaef1dfa6036b9)
remote:
remote:
remote:   mm/cma.c | 1 +
remote:   1 file changed, 1 insertion(+)
remote:  ;weijie.yang@samsung.com;2016-05-24 15:10:48 -0400;ea4832f85e1ad0929c7583af738dbe2a49efa6f0;mm/cma: fix cma bitmap aligned mask computing;
remote:  [Upstream commit 68faed630fc151a7a1c4853df00fb3dcacf782b4]
remote:
remote:  The current cma bitmap aligned mask computation is incorrect.  It could
remote:  cause an unexpected alignment when using cma_alloc() if the wanted align
remote:  order is larger than cma->order_per_bit.
remote:
remote:  Take kvm for example (PAGE_SHIFT = 12), kvm_cma->order_per_bit is set to
remote:  6.  When kvm_alloc_rma() tries to alloc kvm_rma_pages, it will use 15 as
remote:  the expected align value.  After using the current implementation however,
remote:  we get 0 as cma bitmap aligned mask other than 511.
remote:
remote:  This patch fixes the cma bitmap aligned mask calculation.
remote:
remote:  refs #SWLINUX-2786
remote:
remote:  [akpm@linux-foundation.org: coding-style fixes]
remote:  Signed-off-by: Weijie Yang <weijie.yang@samsung.com>
remote:  Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:  Cc: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:  Cc: "Aneesh Kumar K.V" <aneesh.kumar@linux.vnet.ibm.com>
remote:  Cc: <stable@vger.kernel.org>	[3.17]
remote:  Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:  Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:  (cherry picked from commit 1f5fe3e4da6f752a16661f073ba29b828c534a2f)
remote:
remote:
remote:   mm/cma.c | 4 +++-
remote:   1 file changed, 3 insertions(+), 1 deletion(-)
remote:  ;jdelvare@suse.de;2016-05-24 15:10:48 -0400;f7353506ed034fa1a5e5fd20087d394b04d1d02f;CMA: document cma=0;
remote:  [Upstream commit f0d6d1f6ff6f8525cfa396ec1969b8f402391445]
remote:
remote:  It isn't obvious that CMA can be disabled on the kernel's command line, so
remote:  document it.
remote:
remote:  refs #SWLINUX-2786
remote:
remote:  Signed-off-by: Jean Delvare <jdelvare@suse.de>
remote:  Cc: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:  Cc: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
remote:  Cc: Akinobu Mita <akinobu.mita@gmail.com>
remote:  Cc: Chuck Ebbert <cebbert.lkml@gmail.com>
remote:  Cc: Marek Szyprowski <m.szyprowski@samsung.com>
remote:  Cc: Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>
remote:  Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:  Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit bb032b1461faf2a87f653a0ca2d9658ceb9b8a37)
remote:
remote:
remote:   Documentation/kernel-parameters.txt | 3 ++-
remote:   drivers/base/Kconfig                | 3 +++
remote:   2 files changed, 5 insertions(+), 1 deletion(-)
remote:  ;m.szyprowski@samsung.com;2016-05-24 15:10:47 -0400;e800270cbef5f5375ac8fa6ba79b02f9ae924c08;mm: cma: adjust address limit to avoid hitting low/high memory boundary;
remote:  [Upstream commit f7426b983a6a353cf21e5733e84458219c4a817e]
remote:
remote:  Russell King recently noticed that limiting default CMA region only to low
remote:  memory on ARM architecture causes serious memory management issues with
remote:  machines having a lot of memory (which is mainly available as high
remote:  memory).  More information can be found the following thread:
remote:  http://thread.gmane.org/gmane.linux.ports.arm.kernel/348441/
remote:
remote:  Those two patches removes this limit letting kernel to put default CMA
remote:  region into high memory when this is possible (there is enough high memory
remote:  available and architecture specific DMA limit fits).
remote:
remote:  This should solve strange OOM issues on systems with lots of RAM (i.e.
remote:  >1GiB) and large (>256M) CMA area.
remote:
remote:  This patch (of 2):
remote:
remote:  Automatically allocated regions should not cross low/high memory boundary,
remote:  because such regions cannot be later correctly initialized due to spanning
remote:  across two memory zones.  This patch adds a check for this case and a
remote:  simple code for moving region to low memory if automatically selected
remote:  address might not fit completely into high memory.
remote:
remote:  refs #SWLINUX-2786
remote:
remote:  Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:  Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:  Cc: Daniel Drake <drake@endlessm.com>
remote:  Cc: Minchan Kim <minchan@kernel.org>
remote:  Cc: Russell King <rmk@arm.linux.org.uk>
remote:  Cc: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:  Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:  Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 001476fa34fe9be8961869dd1a3605c06c59a3c3)
remote:
remote:
remote:   mm/cma.c | 21 +++++++++++++++++++++
remote:   1 file changed, 21 insertions(+)
remote:  ;iamjoonsoo.kim@lge.com;2016-05-24 15:10:47 -0400;89b1f17de5033087bb8d76daf80b516bf86cc4bf;mm, CMA: clean-up log message;
remote:  [Upstream commit 0de9d2ebe590f9203dac59d4b8e298c473764b92]
remote:
remote:  We don't need explicit 'CMA:' prefix, since we already define prefix
remote:  'cma:' in pr_fmt.  So remove it.
remote:
remote:  refs #SWLINUX-2786
remote:
remote:  Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:  Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:  Reviewed-by: Zhang Yanfei <zhangyanfei@cn.fujitsu.com>
remote:  Cc: "Aneesh Kumar K.V" <aneesh.kumar@linux.vnet.ibm.com>
remote:  Cc: Alexander Graf <agraf@suse.de>
remote:  Cc: Aneesh Kumar K.V <aneesh.kumar@linux.vnet.ibm.com>
remote:  Cc: Gleb Natapov <gleb@kernel.org>
remote:  Acked-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:  Tested-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:  Cc: Minchan Kim <minchan@kernel.org>
remote:  Cc: Paolo Bonzini <pbonzini@redhat.com>
remote:  Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
remote:  Cc: Paul Mackerras <paulus@samba.org>
remote:  Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:  Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 2a43c6796e88f0fd5f6ca2007d8d72851a293be9)
remote:
remote:
remote:   mm/cma.c | 4 ++--
remote:   1 file changed, 2 insertions(+), 2 deletions(-)
remote:  ;iamjoonsoo.kim@lge.com;2016-05-24 15:10:46 -0400;415968b4659bc73535083dffd4b36203677c67ee;mm, CMA: change cma_declare_contiguous() to obey coding convention;
remote:  [Upstream commit c1f733aaaf30a0068a3126d5aa9d5b4c25ba4c0c]
remote:
remote:  Conventionally, we put output param to the end of param list and put the
remote:  'base' ahead of 'size', but cma_declare_contiguous() doesn't look like
remote:  that, so change it.
remote:
remote:  Additionally, move down cma_areas reference code to the position where
remote:  it is really needed.
remote:
remote:  refs #SWLINUX-2786
remote:
remote:  Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:  Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:  Reviewed-by: Aneesh Kumar K.V <aneesh.kumar@linux.vnet.ibm.com>
remote:  Cc: Alexander Graf <agraf@suse.de>
remote:  Cc: Aneesh Kumar K.V <aneesh.kumar@linux.vnet.ibm.com>
remote:  Cc: Gleb Natapov <gleb@kernel.org>
remote:  Acked-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:  Tested-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:  Cc: Minchan Kim <minchan@kernel.org>
remote:  Cc: Paolo Bonzini <pbonzini@redhat.com>
remote:  Cc: Zhang Yanfei <zhangyanfei@cn.fujitsu.com>
remote:  Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
remote:  Cc: Paul Mackerras <paulus@samba.org>
remote:  Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:  Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:  [gregory: I didn't check very carefully whether the change to
remote:  resolve the conflict in arch/powerpc/kvm/book3s_hv_builtin.c is okay because we
remote:  don't use it]
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:  Conflicts:
remote:  	arch/powerpc/kvm/book3s_hv_builtin.c
remote:
remote:  (cherry picked from commit df085ec0e7089a191ad7e1f58c4b880f53c6c30d)
remote:
remote:
remote:   arch/powerpc/kvm/book3s_hv_builtin.c |  3 ++-
remote:   drivers/base/dma-contiguous.c        |  2 +-
remote:   include/linux/cma.h                  |  2 +-
remote:   mm/cma.c                             | 13 +++++++------
remote:   4 files changed, 11 insertions(+), 9 deletions(-)
remote:  ;iamjoonsoo.kim@lge.com;2016-05-24 15:10:46 -0400;60dc2c500e3c476bdea6226ff296b75cd6a0ebab;mm, CMA: clean-up CMA allocation error path;
remote:  [Upstream commit b7155e76a702d97553660828347b9f10858b4dd5]
remote:
remote:  We can remove one call sites for clear_cma_bitmap() if we first call it
remote:  before checking error number.
remote:
remote:  refs #SWLINUX-2786
remote:
remote:  Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:  Acked-by: Minchan Kim <minchan@kernel.org>
remote:  Reviewed-by: Michal Nazarewicz <mina86@mina86.com>
remote:  Reviewed-by: Zhang Yanfei <zhangyanfei@cn.fujitsu.com>
remote:  Reviewed-by: Aneesh Kumar K.V <aneesh.kumar@linux.vnet.ibm.com>
remote:  Cc: Alexander Graf <agraf@suse.de>
remote:  Cc: Aneesh Kumar K.V <aneesh.kumar@linux.vnet.ibm.com>
remote:  Cc: Gleb Natapov <gleb@kernel.org>
remote:  Acked-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:  Tested-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:  Cc: Paolo Bonzini <pbonzini@redhat.com>
remote:  Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
remote:  Cc: Paul Mackerras <paulus@samba.org>
remote:  Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:  Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit bbac9e42e8195976eac07690d2657cf4344d4174)
remote:
remote:
remote:   mm/cma.c | 7 ++++---
remote:   1 file changed, 4 insertions(+), 3 deletions(-)
remote:  ;iamjoonsoo.kim@lge.com;2016-05-24 15:10:45 -0400;224aa0cca1ac1d2cdabf9a3247e2d9c77d398fde;CMA: generalize CMA reserved area management functionality;
remote:  [Upstream commit a254129e8686bff7a340b58f35241b04927e81c0]
remote:
remote:  Currently, there are two users on CMA functionality, one is the DMA
remote:  subsystem and the other is the KVM on powerpc.  They have their own code
remote:  to manage CMA reserved area even if they looks really similar.  From my
remote:  guess, it is caused by some needs on bitmap management.  KVM side wants
remote:  to maintain bitmap not for 1 page, but for more size.  Eventually it use
remote:  bitmap where one bit represents 64 pages.
remote:
remote:  When I implement CMA related patches, I should change those two places
remote:  to apply my change and it seem to be painful to me.  I want to change
remote:  this situation and reduce future code management overhead through this
remote:  patch.
remote:
remote:  This change could also help developer who want to use CMA in their new
remote:  feature development, since they can use CMA easily without copying &
remote:  pasting this reserved area management code.
remote:
remote:  In previous patches, we have prepared some features to generalize CMA
remote:  reserved area management and now it's time to do it.  This patch moves
remote:  core functions to mm/cma.c and change DMA APIs to use these functions.
remote:
remote:  There is no functional change in DMA APIs.
remote:
remote:  refs #SWLINUX-2786
remote:
remote:  Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:  Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:  Acked-by: Zhang Yanfei <zhangyanfei@cn.fujitsu.com>
remote:  Acked-by: Minchan Kim <minchan@kernel.org>
remote:  Reviewed-by: Aneesh Kumar K.V <aneesh.kumar@linux.vnet.ibm.com>
remote:  Cc: Alexander Graf <agraf@suse.de>
remote:  Cc: Aneesh Kumar K.V <aneesh.kumar@linux.vnet.ibm.com>
remote:  Cc: Gleb Natapov <gleb@kernel.org>
remote:  Acked-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:  Tested-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:  Cc: Paolo Bonzini <pbonzini@redhat.com>
remote:  Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
remote:  Cc: Paul Mackerras <paulus@samba.org>
remote:  Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:  Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:  [gregory: backport to stblinux-3.14, which exports struct cma from header]
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:  Conflicts:
remote:  	drivers/base/dma-contiguous.c
remote:  	include/linux/dma-contiguous.h
remote:  	mm/Makefile
remote:
remote:  (cherry picked from commit 20f856ba533003aa8eab7518c2a401706ef428cd)
remote:
remote:
remote:   arch/arm/mach-bcm/cma_driver.c |   1 +
remote:   arch/arm/mm/dma-mapping.c      |   1 +
remote:   drivers/base/Kconfig           |  10 -
remote:   drivers/base/dma-contiguous.c  | 214 +-------------
remote:   include/linux/cma.h            |  33 +++
remote:   include/linux/dma-contiguous.h |  17 +-
remote:   mm/Kconfig                     |  11 +
remote:   mm/Makefile                    |   1 +
remote:   mm/cma.c                       | 325 +++++++++++++++++++++
remote:   9 files changed, 386 insertions(+), 227 deletions(-)
remote:  ;akinobu.mita@gmail.com;2016-05-24 15:10:45 -0400;0d154ea25a34877b522fff9fe5d34811896afa73;cma: add placement specifier for "cma=" kernel parameter;
remote:  [Upstream commit 5ea3b1b2f8ad9162684431ce6188102ca4c64b7a]
remote:
remote:  Currently, "cma=" kernel parameter is used to specify the size of CMA,
remote:  but we can't specify where it is located.  We want to locate CMA below
remote:  4GB for devices only supporting 32-bit addressing on 64-bit systems
remote:  without iommu.
remote:
remote:  This enables to specify the placement of CMA by extending "cma=" kernel
remote:  parameter.
remote:
remote:  Examples:
remote:   1. locate 64MB CMA below 4GB by "cma=64M@0-4G"
remote:   2. locate 64MB CMA exact at 512MB by "cma=64M@512M"
remote:
remote:  Note that the DMA contiguous memory allocator on x86 assumes that
remote:  page_address() works for the pages to allocate.  So this change requires
remote:  to limit end address of contiguous memory area upto max_pfn_mapped to
remote:  prevent from locating it on highmem area by the argument of
remote:  dma_contiguous_reserve().
remote:
remote:  refs #SWLINUX-2786
remote:
remote:  Signed-off-by: Akinobu Mita <akinobu.mita@gmail.com>
remote:  Cc: Marek Szyprowski <m.szyprowski@samsung.com>
remote:  Cc: Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>
remote:  Cc: David Woodhouse <dwmw2@infradead.org>
remote:  Cc: Don Dutile <ddutile@redhat.com>
remote:  Cc: Thomas Gleixner <tglx@linutronix.de>
remote:  Cc: Ingo Molnar <mingo@redhat.com>
remote:  Cc: "H. Peter Anvin" <hpa@zytor.com>
remote:  Cc: Andi Kleen <andi@firstfloor.org>
remote:  Cc: Yinghai Lu <yinghai@kernel.org>
remote:  Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:  Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit aaf796cbee20054039e2171c1dd2972a45d78a4f)
remote:
remote:
remote:   Documentation/kernel-parameters.txt |  7 ++-
remote:   arch/arm/mach-bcm/cma_driver.c      |  2 +-
remote:   arch/x86/kernel/setup.c             |  2 +-
remote:   drivers/base/dma-contiguous.c       | 42 +++++++++++++----
remote:   include/linux/dma-contiguous.h      |  9 ++--
remote:   5 files changed, 45 insertions(+), 17 deletions(-)
remote:  ;akinobu.mita@gmail.com;2016-05-24 15:10:44 -0400;8620f7c3f79b6126b52a99d4f6bbc293e3a1ba8b;memblock: introduce memblock_alloc_range()
remote:  [Upstream commit 2bfc2862c4fe38379a2fb2cfba33fad32ccb4ff4]
remote:
remote:  This introduces memblock_alloc_range() which allocates memblock from the
remote:  specified range of physical address.  I would like to use this function
remote:  to specify the location of CMA.
remote:
remote:  refs #SWLINUX-2786
remote:
remote:  Signed-off-by: Akinobu Mita <akinobu.mita@gmail.com>
remote:  Cc: Marek Szyprowski <m.szyprowski@samsung.com>
remote:  Cc: Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>
remote:  Cc: David Woodhouse <dwmw2@infradead.org>
remote:  Cc: Don Dutile <ddutile@redhat.com>
remote:  Cc: Thomas Gleixner <tglx@linutronix.de>
remote:  Cc: Ingo Molnar <mingo@redhat.com>
remote:  Cc: "H. Peter Anvin" <hpa@zytor.com>
remote:  Cc: Andi Kleen <andi@firstfloor.org>
remote:  Cc: Yinghai Lu <yinghai@kernel.org>
remote:  Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
remote:  Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
remote:  (cherry picked from commit 17615d567c0e8d8bfed76c00602c55a21aa284f9)
remote:
remote:
remote:   include/linux/memblock.h |  2 ++
remote:   mm/memblock.c            | 21 +++++++++++++++++----
remote:   2 files changed, 19 insertions(+), 4 deletions(-)
remote:  ;iamjoonsoo.kim@lge.com;2016-05-24 15:10:44 -0400;956d08d30d47acb602d6dcfb77dab3782147a646;CMA: correct unlock target;
remote:  [Upstream commit f70e3c4f8b6ab61f713e040822ec51f5de498146]
remote:
remote:  'cma: Remove potential deadlock situation' introduces per cma area mutex
remote:  for bitmap management. It is good, but there is one mistake. When we
remote:  can't find appropriate area in bitmap, we release cma_mutex global lock
remote:  rather than cma->lock and this is a bug. So fix it.
remote:
remote:  refs #SWLINUX-2786
remote:
remote:  Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:  Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 8778038de5acbb9eae2fac0e08a6aedcdb697e78)
remote:
remote:
remote:   drivers/base/dma-contiguous.c | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;gioh.kim@lge.com;2016-05-24 15:10:43 -0400;9cc399a97e3d3573ff4c2e4d0984631735f5fdf9;drivers/base/dma-contiguous.c: erratum of dev_get_cma_area;
remote:  [Upstream commit bb56d0dc23aa3428c0b1901414bfcf698eb693fb]
remote:
remote:  fix erratum get_dev_cma_area into dev_get_cma_area
remote:
remote:  refs #SWLINUX-2786
remote:
remote:  Signed-off-by: Gioh Kim <gioh.kim@lge.com>
remote:  Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:  (cherry picked from commit 6cf2b5a3c4fa83edf1d3f5e132324a4ee26c9ff9)
remote:
remote:
remote:   drivers/base/dma-contiguous.c | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;gioh.kim@lge.com;2016-05-24 15:10:42 -0400;9df3c5b6902b324913490086d53c528f9cd46452;arm: dma-mapping: add checking cma area initialized;
remote:  [Upstream commit e464ef16c4f080bb85ccf9085f92503b5b5b1e13]
remote:
remote:  If CMA is turned on and CMA size is set to zero, kernel should
remote:  behave as if CMA was not enabled at compile time.
remote:  Every dma allocation should check existence of cma area
remote:  before requesting memory.
remote:
remote:  refs #SWLINUX-2786
remote:
remote:  Signed-off-by: Gioh Kim <gioh.kim@lge.com>
remote:  Signed-off-by: Joonsoo Kim <iamjoonsoo.kim@lge.com>
remote:  Acked-by: Michal Nazarewicz <mina86@mina86.com>
remote:  [mszyprow: removed redundant empty line from the patch]
remote:  Signed-off-by: <m.szyprowski@samsung.com>
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:  (cherry picked from commit 3812bdd1822616ad9cd2db39a616e82a2fe4b51c)
remote:
remote:
remote:   arch/arm/mm/dma-mapping.c | 6 +++---
remote:   1 file changed, 3 insertions(+), 3 deletions(-)
remote:  ;lauraa@codeaurora.org;2016-05-24 15:10:42 -0400;4e7b27b84e2801d025e365c25eb64cd331af241b;cma: Remove potential deadlock situation;
remote:  [Upstream commit 7ee793a62fa8c544f8b844e6e87b2d8e8836b219]
remote:
remote:  CMA locking is currently very coarse. The cma_mutex protects both
remote:  the bitmap and avoids concurrency with alloc_contig_range. There
remote:  are several situations which may result in a deadlock on the CMA
remote:  mutex currently, mostly involving AB/BA situations with alloc and
remote:  free. Fix this issue by protecting the bitmap with a mutex per CMA
remote:  region and use the existing mutex for protecting against concurrency
remote:  with alloc_contig_range.
remote:
remote:  refs #SWLINUX-2786
remote:
remote:  Signed-off-by: Laura Abbott <lauraa@codeaurora.org>
remote:  Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com>
remote:  [gregory: Since we export struct cma right now, had to update that in
remote:  dma-contiguous.h instead]
remote:  Signed-off-by: Gregory Fong <gregory@broadcom.com>
remote:
remote:  Conflicts:
remote:  	drivers/base/dma-contiguous.c
remote:
remote:  (cherry picked from commit 248f48124788878b809819a5cecb3e43af104b9c)
remote:
remote:
remote:   drivers/base/dma-contiguous.c  | 31 +++++++++++++++++-----
remote:   include/linux/dma-contiguous.h |  1 +
remote:   2 files changed, 25 insertions(+), 7 deletions(-)
remote:  ;norris@broadcom.com;2016-05-24 15:10:41 -0400;4e62040380be14e6c5c09a7abc45bcaf9e807b46;brcmstb_defconfig: add Intel PowerClamp driver;
remote:  We may be using this for thermally-contrained applications. Let's enable
remote:  it by default so it's easier for people to test.
remote:
remote:  refs #SWLINUX-3288
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 8d6ff5f6ad1a3ed1242a3f2bd467d30f17446cc9)
remote:
remote:
remote:   arch/arm/configs/brcmstb_defconfig | 1 +
remote:   1 file changed, 1 insertion(+)
remote:  ;norris@broadcom.com;2016-05-24 15:10:41 -0400;192a56eee156586b862f49c91e07192db1775bac;Documentation: devicetree: add bindings doc for AVS TMON HW;
remote:  Notably, the interrupt is not yet used, but let's document it, since
remote:  it's in BOLT, and I have test code using it.
remote:
remote:  refs #SWLINUX-3288
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit ff43d89f747b9196da3adced6e45d386d97fcce4)
remote:
remote:
remote:   .../thermal/brcmstb-thermal.txt        | 20 ++++++++++++++
remote:   1 file changed, 20 insertions(+)
remote:  ;norris@broadcom.com;2016-05-24 15:10:40 -0400;1e8fa1ef0cd1460beda205b436a43c30e00f401b;tools/thermal: add --target-temp parameter to 'tmon' tool;
remote:  If we launch in daemon mode (--daemon), we don't have the ncurses UI,
remote:  but we might want to set the target temperature still. For example,
remote:  someone might stick the following in their boot script:
remote:
remote:    tmon --control intel_powerclamp --target-temp 90 --log --daemon
remote:
remote:  This would turn on CPU idle injection when we're around 90 degrees
remote:  celsius, and would log temperature and throttling info to
remote:  /var/tmp/tmon.log.
remote:
remote:  refs #SWLINUX-3288
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 68f6c879b5e54477128b341d83a2d3a2d9e0795b)
remote:
remote:
remote:   tools/thermal/tmon/tmon.c | 14 ++++++++++++--
remote:   1 file changed, 12 insertions(+), 2 deletions(-)
remote:  ;fainelli@broadcom.com;2016-05-24 15:10:40 -0400;c0d5bef4a31813a4ee427cdb76515b7788d8bc51;tools/thermal: add build system 'makefile';
remote:  Hooks tmon into our uclinux-rootfs build system by supplying a 'makefile' which
remote:  runs before the original 'Makefile'.
remote:
remote:  refs #SWLINUX-3288
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 5b3f511429b67cf7e460f7872bc5cb878013a893)
remote:
remote:
remote:   tools/thermal/tmon/makefile | 23 +++++++++++++++++++++++
remote:   1 file changed, 23 insertions(+)
remote:  ;fainelli@broadcom.com;2016-05-24 15:10:39 -0400;9ee3a42016586ee487b58bbf3b1cbe861fae903e;tools/thermal: allow switching between ncurses and ncursesw;
remote:  Factor the libraries in TMON_LIBS and allow an external Makefile to specify
remote:  whether we would want to use ncursesw or ncurses.
remote:
remote:  refs #SWLINUX-3288
remote:
remote:  Signed-off-by: Florian Fainelli <fainelli@broadcom.com>
remote:  (cherry picked from commit 0c843520856747b83a7ea7c97047639cb959d1c6)
remote:
remote:
remote:   tools/thermal/tmon/Makefile | 8 +++++++-
remote:   1 file changed, 7 insertions(+), 1 deletion(-)
remote:  ;jonghwa3.lee@samsung.com;2016-05-24 15:10:39 -0400;345540a0de3db14a9681b92155807a5865ff08a6;thermal: powerclamp: Add support for ARM machine to powerclamp driver.;
remote:  This patch modifies intel_powerclamp driver can be used in not only x86
remote:  but also ARM. Any ARM system can use intel_powerclamp driver for managing
remote:  thermal problem through injecting intentional idle cycle. The required
remote:  modification is only that it replaces x86's instruction, mwait, with arm
remote:  specific one, wfi and changes the way of calculation of idle rate of last
remote:  window. Other algorithm and codes can be shared without any amendment.
remote:
remote:  Signed-off-by: Jonghwa Lee <jonghwa3.lee@samsung.com>
remote:  Signed-off-by: Myungjoo Ham <myungjoo.ham@samsung.com>
remote:
remote:  Notes from Brian:
remote:
remote:  Pulled from http://marc.info/?l=linux-pm&m=137474779032661
remote:
remote:  Applied with small warning fixes. Note that there is some upstream
remote:  discussion about revamping this driver significantly. Not sure if we
remote:  want to enable this by default.
remote:
remote:  refs #SWLINUX-3288
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 4c1d2a761e5877a1809bc4cd94b15a04b1420a10)
remote:
remote:
remote:   drivers/thermal/Kconfig            |  3 +-
remote:   drivers/thermal/intel_powerclamp.c | 93 +++++++++++++-----
remote:   2 files changed, 71 insertions(+), 25 deletions(-)
remote:  ;norris@broadcom.com;2016-05-24 15:10:38 -0400;dc903d467c7ab5b593a7316a0fab8161f01c0a12;thermal: add brcmstb AVS TMON driver;
remote:  Working for basic temperature reads. Trip points and interrupt handling
remote:  will be added later, once we determine the best method for representing
remote:  them.
remote:
remote:  refs #SWLINUX-3288
remote:
remote:  Signed-off-by: Brian Norris <norris@broadcom.com>
remote:  (cherry picked from commit 6a85fe8b6434b4876bbf901615a76c938b4e6526)
remote:
remote:
remote:   arch/arm/configs/brcmstb_defconfig |   1 +
remote:   drivers/thermal/Kconfig            |   4 +
remote:   drivers/thermal/Makefile           |   1 +
remote:   drivers/thermal/brcmstb_thermal.c  | 155 +++++++++++++++++
remote:   4 files changed, 161 insertions(+)
remote:  ;tross@broadcom.com;2016-05-23 17:41:30 -0400;6a2f91730c5ccfd51e1396db5b38086c52df379a;SWRGROUTER-4730: PM: Linux powers itself off after boot on DCM boards;
remote:  Override BMU power state on DCM & PHYDVT boards because BMU reports
remote:  incorrect state.
remote:
remote:  refs #SWRGROUTER-4730
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi    |  2 +-
remote:   arch/arm/boot/dts/rg.3390a0.dts        |  1 +
remote:   arch/arm/boot/dts/rg.3390a2-dcm.dts    |  9 ++++++--
remote:   arch/arm/boot/dts/rg.3390a2-smwvg.dts  |  1 +
remote:   arch/arm/boot/dts/rg.3390a2-sv.dts     |  1 +
remote:   arch/arm/boot/dts/rg.3390a2-vms.dts    |  1 +
remote:   arch/arm/boot/dts/rg.3390a2.dts        |  3 ++-
remote:   arch/arm/boot/dts/rg.3390b0-dcm.dts    |  9 ++++++--
remote:   arch/arm/boot/dts/rg.3390b0-smwvg.dts  |  1 +
remote:   arch/arm/boot/dts/rg.3390b0-sv.dts     |  1 +
remote:   arch/arm/boot/dts/rg.3390b0-vcm.dts    |  1 +
remote:   arch/arm/boot/dts/rg.3390b0-vms.dts    |  1 +
remote:   arch/arm/boot/dts/rg.3390b0.dts        | 11 +++++-----
remote:   arch/arm/boot/dts/rg.3390z0.dts        | 11 +++++-----
remote:   drivers/bcm_media_gw/mbox/brcm_mbox.c  | 15 ++++++++++++++
remote:   drivers/bcm_media_gw/mbox/brcm_mbox.h  | 11 +++++++++-
remote:   .../bcm_media_gw/mbox/brcm_mbox_priv.h |  1 +
remote:   17 files changed, 63 insertions(+), 17 deletions(-)
remote:  ;tross@broadcom.com;2016-05-23 17:34:47 -0400;4a52346c821ce1eb87c2ab8679e35ba680392e02;SWRGROUTER-4730: PM: Linux powers itself off after boot on DCM boards;
remote:  Override BMU power state on DCM & PHYDVT boards because BMU reports
remote:  incorrect state.
remote:
remote:  refs #SWRGROUTER-4730
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi    |  2 +-
remote:   arch/arm/boot/dts/rg.3390a0.dts        |  1 +
remote:   arch/arm/boot/dts/rg.3390a2-dcm.dts    |  9 ++++++--
remote:   arch/arm/boot/dts/rg.3390a2-smwvg.dts  |  1 +
remote:   arch/arm/boot/dts/rg.3390a2-sv.dts     |  1 +
remote:   arch/arm/boot/dts/rg.3390a2-vms.dts    |  1 +
remote:   arch/arm/boot/dts/rg.3390a2.dts        |  3 ++-
remote:   arch/arm/boot/dts/rg.3390b0-dcm.dts    |  9 ++++++--
remote:   arch/arm/boot/dts/rg.3390b0-smwvg.dts  |  1 +
remote:   arch/arm/boot/dts/rg.3390b0-sv.dts     |  1 +
remote:   arch/arm/boot/dts/rg.3390b0-vcm.dts    |  1 +
remote:   arch/arm/boot/dts/rg.3390b0-vms.dts    |  1 +
remote:   arch/arm/boot/dts/rg.3390b0.dts        | 11 +++++-----
remote:   arch/arm/boot/dts/rg.3390z0.dts        | 11 +++++-----
remote:   drivers/bcm_media_gw/mbox/brcm_mbox.c  | 15 ++++++++++++++
remote:   drivers/bcm_media_gw/mbox/brcm_mbox.h  | 11 +++++++++-
remote:   .../bcm_media_gw/mbox/brcm_mbox_priv.h |  1 +
remote:   17 files changed, 63 insertions(+), 17 deletions(-)
remote:  ;czacker@cm-irv-1.irv.broadcom.com;2016-05-20 11:10:46 -0700;7d70446dd2dc822376a45eb1d9842e84da3849cd;Throughput is only 80 Mbps on a 100 Mbps link;
remote:  The pause registers were not getting setup for the IMP port so that if a cpe
remote:  was connected to a lan port at lower speed we would end up dropping packets
remote:  and getting lower throughput. Enabled the PAUSE register like it was in ecos
remote:  and the problem was fixed.
remote:
remote:  refs #SWRGROUTER-3894
remote:
remote:
remote:   drivers/bcm_media_gw/ethsw/ethsw_core.c | 9 +++++++++
remote:   1 file changed, 9 insertions(+)
remote:  ;czacker@cm-irv-1.irv.broadcom.com;2016-05-20 11:01:29 -0700;6988eb285efca8094c4f0d4bdd9eb210937e68ae;CPE 192.168.0.x via ethernet can not ping each other;
remote:  Make sure switch chip has defaults settings for lan ports being able to
remote:  communicate between other ports
remote:
remote:  refs #SWRGROUTER-4654
remote:
remote:
remote:   .../bcm_media_gw/ethsw/ethsw_core.c    | 24 +++++++++++---
remote:   .../bcm_media_gw/ethsw/ethsw_core.h    |  4 +++
remote:   .../ethsw/ethsw_init_plat.c            |  2 --
remote:   3 files changed, 24 insertions(+), 6 deletions(-)
remote:  ;tross@broadcom.com;2016-05-20 10:57:31 -0400;992fb69e809b14256ca1d32ddbe27d604a13257c;SWRGROUTER-3901 MODULE: Implement support for CPU division to save power;
remote:  Reduce CM-->RG ITC DQM level to a reasonable level that still allows
remote:  the CM side rProgramStore to TFTP 32KB size socket buffers without properly
remote:  implementing backpressure on it's ITC HAL interface when the DQM fills up.
remote:
remote:  refs #SWRGROUTER-3901
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi | 4 ++--
remote:   1 file changed, 2 insertions(+), 2 deletions(-)
remote:  ;tross@broadcom.com;2016-05-20 10:35:15 -0400;b95962886ce26c67db1f5d941770d42aac47b04a;SWRGROUTER-4697: Battery: Linux fails to set battery_mode_rules after CM comes up;
remote:  Only look at current battery state and not the state it was in when it started booting.
remote:
remote:  refs #SWRGROUTER-4697
remote:
remote:
remote:   drivers/bcm_media_gw/boot_assist/brcm_ba.c | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;tross@broadcom.com;2016-05-20 10:29:48 -0400;26213c5d897b429980f7512d60ac75db419bc159;SWRGROUTER-4697: Battery: Linux fails to set battery_mode_rules after CM comes up;
remote:  Only look at current battery state and not the state it was in when it started booting.
remote:
remote:  refs #SWRGROUTER-4697
remote:
remote:
remote:   drivers/bcm_media_gw/boot_assist/brcm_ba.c | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;skern@broadcom.com;2016-05-18 10:04:46 -0700;8a72a5d5bc57ad334415254c0ea94e0c06c5b853;SWRGROUTER-4679: Battery: Modem rebooted after a crash while in batteryi mode with wrong power state and RG not shutdown;
remote:  Add support for 3390B0 DDR phy to PM driver.
remote:  Enable access to all ARM CPU owned MBOX registers and L2 IRQ registers.
remote:
remote:  refs #SWRGROUTER-4679
remote:
remote:  (cherry picked from commit b60c0ed5a85723f833ccaa3c8f4955dd862da23f)
remote:
remote:
remote:   arch/arm/mach-bcm/pm-brcmstb.c             | 5 +++++
remote:   drivers/bcm_media_gw/mbox/brcm_mbox.c      | 3 +++
remote:   drivers/bcm_media_gw/mbox/brcm_mbox_priv.h | 3 +++
remote:   3 files changed, 11 insertions(+)
remote:  ;tross@broadcom.com;2016-05-17 17:03:46 -0400;47fa2be96ed4c7c2fe1baa8ab429bddc3a76bb83;SWRGROUTER-4668: Enable dynamic clock scaling on FPM & UniMAC blocks;
remote:  Modify BPCM driver to enable dynamic clocks scaling on device tree BPCM
remote:  nodes that contain clock divider values for low and high gear.
remote:
remote:  refs #SWRGROUTER-4668
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi   | 10 ++-
remote:   drivers/bcm_media_gw/bpcm/bpcm_core.c | 70 ++++++++++++---
remote:   drivers/bcm_media_gw/bpcm/bpcm_priv.h | 26 ++++--
remote:   drivers/bcm_media_gw/bpcm/bpcm_proc.c | 35 +++++++-
remote:   4 files changed, 113 insertions(+), 28 deletions(-)
remote:  ;enderby@lc-atl-221.atl.broadcom.com;2016-05-17 10:39:12 -0400;43519f8ed22ae2fde0bf8ba3ee8a456da718f4be;SWRGROUTER-4519:Add SPI driver for external Zigbee on 3390;
remote:  Added SPI master driver for MSPI SPI block.
remote:
remote:  refs #SWRGROUTER-4519
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390b0.dts |  10 +-
remote:   arch/arm/mach-bcm/Kconfig       |   7 +
remote:   drivers/spi/Makefile            |   1 +
remote:   drivers/spi/spi-brcmstb-mspi.c  | 806 ++++++++++++++++++++
remote:   include/linux/spi/spi.h         |   6 +
remote:   5 files changed, 829 insertions(+), 1 deletion(-)
remote:  ;czacker@cm-irv-1.irv.broadcom.com;2016-05-17 07:27:38 -0700;be9d4ac16034ded11a69ece02354db7c0c0bd08f;CPE 192.168.0.x via ethernet can not ping each other;
remote:  refs #SWRGROUTER-4654
remote:
remote:  Merge branch 'develop' of git-irv-08.irv.broadcom.com:gitRepo/erouter-linux-314 into develop
remote:
remote:  ;czacker@cm-irv-1.irv.broadcom.com;2016-05-17 06:43:08 -0700;a4ab5f014b7a1ea2414cebdf85353d5624144a3e;CPE 192.168.0.x via ethernet can not ping each other;
remote:  refs #SWRGROUTER-4654
remote:
remote:
remote:   drivers/bcm_media_gw/ethsw/ethsw.h     |  1 +
remote:   .../bcm_media_gw/ethsw/ethsw_core.c    | 73 +++++++++-----
remote:   .../ethsw/ethsw_init_plat.c            |  2 +
remote:   3 files changed, 49 insertions(+), 27 deletions(-)
remote:  ;czacker@cm-irv-1.irv.broadcom.com;2016-05-16 13:23:47 -0700;ad71071531fca56f5e96333c86670a12ddbed32a;CPE 192.168.0.x via ethernet can not ping each other;
remote:  refs #SWRGROUTER-4654
remote:
remote:
remote:   .../bcm_media_gw/ethsw/ethsw_core.c    | 31 +++++++++++++-
remote:   .../bcm_media_gw/ethsw/ethsw_core.h    |  7 +++
remote:   2 files changed, 36 insertions(+), 2 deletions(-)
remote:  ;akatre@broadcom.com;2016-05-12 14:41:23 -0700;894a0c44c1881443ee7372eeb801ebc055e24c8e;WiFi: "FPM Pool 0: pool full" errors while running concurrent traffic through both wifi radios.;
remote:  Updated console print message for FPM pool full interrupt.
remote:
remote:  refs #SWRGROUTER-4337
remote:
remote:
remote:   drivers/bcm_media_gw/fpm/fpm_core.c | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;ptimariu@broadcom.com;2016-05-12 10:07:19 -0700;fe75d04fe99aea99cc1848fa5f9150d4477c042c;SWRGROUTER-4133: WiFi performance optimizations;
remote:  Various TP optimizations for DHD/4366 3390 platforms:
remote:
remote:  - integrated interrupt coalescence for CPU utilization
remote:  - added PACKET_BUDGET batching of DQM reads in TX direction.
remote:  - tweaked structures for Cache line optimizations.
remote:  - added Branch prediction hints in DHD shim.
remote:  - additional inlining and BCM_FASTPATH additions.
remote:  - switched back to KTHREAD from tasklets in 3390
remote:  - introduced BUZZZ profiling framework in data path
remote:  - resolved WiFi: "FPM Pool 0: pool full" errors while running concurrent traffic
remote:  through both wifi radios.
remote:
remote:  Resolved Conflicts:
remote:  	arch/arm/boot/dts/rg.3390-base.dtsi
remote:
remote:  refs #SWRGROUTER-4133
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi |    6 +-
remote:   arch/arm/include/asm/buzzz.h        |  846 +++
remote:   arch/arm/mach-bcm/Kconfig           |   40 +
remote:   arch/arm/mach-bcm/Makefile          |    4 +
remote:   arch/arm/mach-bcm/buzzz.c           | 4000 +++++++++++++++
remote:   drivers/bcm_media_gw/fpm/fpm_core.c |   20 +
remote:   drivers/bcm_media_gw/fpm/fpm_priv.h |    2 +
remote:   kernel/irq/handle.c                 |   14 +
remote:   kernel/irq/resend.c                 |   10 +
remote:   kernel/irq/spurious.c               |    4 +
remote:   kernel/sched/core.c                 |   32 +
remote:   kernel/softirq.c                    |   10 +
remote:   kernel/workqueue.c                  |   10 +
remote:   scripts/kconfig/Makefile            |    2 +-
remote:   14 files changed, 4996 insertions(+), 4 deletions(-)
remote:  ;skern@broadcom.com;2016-05-10 11:55:00 -0700;fcc63646f0a23a854c247082b135c8062b2834ab;SWRGROUTER-3769: Perform periodic develop to feat_PowerManagement merges;
remote:  Perform periodic develop to feat_PowerManagement merges
remote:
remote:  refs #SWRGROUTER-3769
remote:
remote:  Conflicts:
remote:  	arch/arm/boot/dts/rg.3390-base.dtsi
remote:  	arch/arm/boot/dts/rg.3390-wifi.dtsi
remote:  	arch/arm/boot/dts/rg.3390b0-moca.dtsi
remote:  	arch/mips/boot/dts/bcm33843mwvg_mgw_zephyr.dtsi
remote:  	arch/mips/boot/dts/bcm3384_mgw_zephyr.dtsi
remote:  	drivers/bcm_media_gw/Kconfig
remote:  	drivers/bcm_media_gw/Makefile
remote:  	net/ipv6/netfilter/Kconfig
remote:
remote:
remote:   .../dts/bcm33843mwvg_mgw_zephyr.dtsi   |   6 +-
remote:   arch/mips/boot/dts/bcm93384mwvg.dts    |   6 +-
remote:   drivers/bcm_media_gw/unimac/bcmmbdma.h |  70 +++----
remote:   .../unimac/bcmmbdma_3384.c             | 121 ++++++++-----
remote:   drivers/char/bmoca_63xx_spi.c          |  65 +++++--
remote:   drivers/watchdog/bcm7038_wdt.c         |   6 +-
remote:   net/ipv6/netfilter/Makefile            |   1 +
remote:   7 files changed, 177 insertions(+), 98 deletions(-)
remote:  ;newcomer@broadcom.com;2016-05-06 12:38:32 -0700;8061ef106a5e5ef160a1d26450a9f0a4e6609e63;SWRGROUTER-4162: MoCA fails to boot and has silent assertions;
remote:  Since not all hardware and usage cases for 3384 platforms support usage
remote:  of a hardware interrupt, a polling mode has been added to poll for IRQ
remote:  status. This is timer based, and adjust polling frequency based on the
remote:  amount of speed needed for IRQ response. Polling mode is enabled by commenting
remote:  out the interrupt nodes in the bmoca device tree node.
remote:
remote:  refs #SWRGROUTER-4162
remote:
remote:
remote:   .../dts/bcm33843mwvg_mgw_zephyr.dtsi   |  6 +-
remote:   arch/mips/boot/dts/bcm93384mwvg.dts    |  6 +-
remote:   drivers/char/bmoca_63xx_spi.c          | 65 +++++++++++---
remote:   3 files changed, 60 insertions(+), 17 deletions(-)
remote:  ;newcomer@broadcom.com;2016-05-04 13:45:47 -0700;71ba95da7832a7bca0a76c12b963197830af42ef;SWRGROUTER-4040: 3384/33843 performance with RGLinux is worse than eCos during long term traffic testing;
remote:  Fixed build error introduced in previous commit.
remote:
remote:  refs #SWRGROUTER-4040
remote:
remote:
remote:   drivers/bcm_media_gw/unimac/bcmmbdma.h | 20 +++++++-------
remote:   .../unimac/bcmmbdma_3384.c             | 14 +++++-----
remote:   2 files changed, 17 insertions(+), 17 deletions(-)
remote:  ;newcomer@broadcom.com;2016-05-04 13:13:15 -0700;8848a6987df78aca07e03f6e33ac0d5bea12f71d;SWRGROUTER-4040: 3384/33843 performance with RGLinux is worse than eCos during long term traffic testing;
remote:  The UNIMAC MBDMA transmit channels were not being set up to optimally use
remote:  the UBUS multiple outstanding request feature. This feature allows the DMA
remote:  port to make multiple UBUS request at once. This was causing DMA transfers
remote:  to not be as fast as they could be and was affecting performance. This setting
remote:  has now been bumped to 4 outstanding requests.
remote:
remote:  refs #SWRGROUTER-4040
remote:
remote:
remote:   drivers/bcm_media_gw/unimac/bcmmbdma.h |  52 +++---
remote:   .../unimac/bcmmbdma_3384.c             | 111 ++++++++-----
remote:   2 files changed, 99 insertions(+), 64 deletions(-)
remote:  ;skern@broadcom.com;2016-05-04 09:55:31 -0700;688f589d68cb388cb0287a70b6b6d05389b6aa62;SWRGROUTER-3901 MODULE: Implement support for CPU division to save power;
remote:  Implement support for CPU division to save power
remote:
remote:  refs #SWRGROUTER-3901
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi | 6 +++---
remote:   drivers/cpufreq/Kconfig             | 2 +-
remote:   2 files changed, 4 insertions(+), 4 deletions(-)
remote:  ;petersu@broadcom.com;2016-05-03 10:24:48 -0400;8adbc9ff6a393b62e35676040981985af19a9a2b;SWRGROUTER-4215: Watchdog needs to have the option of setting nowayout at runtime.;
remote:  refs #SWRGROUTER-4215
remote:
remote:
remote:   drivers/watchdog/bcm7038_wdt.c | 6 +++---
remote:   1 file changed, 3 insertions(+), 3 deletions(-)
remote:  ;skern@broadcom.com;2016-05-02 14:05:35 -0700;6d235f76416b1824571b16181ad4a3e9e409db75;SWRGROUTER-4522 MODULE: 3390VCM: Modem is not able to complete any software downloads on feat_PowerManagement due to ItcNiTxCommon;
remote:  3390VCM: Modem is not able to complete any software downloads on feat_PowerManagement due to ItcNiTxCommon
remote:
remote:  refs #SWRGROUTER-4522
remote:
remote:
remote:   drivers/cpufreq/Kconfig | 2 +-
remote:   1 file changed, 1 insertion(+), 1 deletion(-)
remote:  ;skern@broadcom.com;2016-05-02 11:13:26 -0700;be3b3fe62a8374aee7f3c02794c9c1803bd6421d;SWRGROUTER-4514 MODULE: Perform periodic develop to feat_PowerManagement merges;
remote:  Perform periodic develop to feat_PowerManagement merges
remote:
remote:  refs #SWRGROUTER-4514
remote:
remote:  	arch/arm/boot/dts/rg.3390-wifi.dtsi
remote:  	arch/arm/boot/dts/rg.3390b0-moca.dtsi
remote:  	arch/mips/boot/dts/bcm33843mwvg_mgw_zephyr.dtsi
remote:  	arch/mips/boot/dts/bcm3384_mgw_zephyr.dtsi
remote:  	drivers/bcm_media_gw/Kconfig
remote:  	drivers/bcm_media_gw/Makefile
remote:  	drivers/bcm_media_gw/netfilter/xt_l2ogre_mt.c
remote:  	drivers/bcm_media_gw/netfilter/xt_l2ogre_tg.c
remote:  	net/ipv6/netfilter/Kconfig
remote:
remote:
remote:   drivers/bcm_media_gw/netfilter/xt_l2ogre_mt.c | 0
remote:   drivers/bcm_media_gw/netfilter/xt_l2ogre_tg.c | 0
remote:   net/ipv6/netfilter/Kconfig                    | 1 -
remote:   net/ipv6/netfilter/Makefile                   | 1 +
remote:   4 files changed, 1 insertion(+), 1 deletion(-)
remote:  ;ignatius@broadcom.com;2016-04-29 17:47:30 -0700;67921dc9505fe9a1f16fb1d8abb6f1b4fa2f27b5;SWRGROUTER-2686 Support for MAP-E/T per eRouter Specification;
remote:  IS_ENABLED() macro is undefined in userspace.
remote:  Remove IS_ENABLED() macro in uapi headers that get used by userspace app.
remote:
remote:  refs #SWRGROUTER-2686
remote:
remote:
remote:   include/uapi/linux/if.h | 2 --
remote:   1 file changed, 2 deletions(-)
remote:  ;ignatius@broadcom.com;2016-04-29 16:02:57 -0700;694d67df9d154842ed1678dd5a95b70d7b93a308;SWRGROUTER-2686 Support for MAP-E/T per eRouter Specification;
remote:  Integrated ASAMAP MAP device driver
remote:
remote:  refs #SWRGROUTER-2686
remote:
remote:
remote:   arch/arm/configs/brcmstb_defconfig  |    1 +
remote:   arch/mips/configs/bcm3384_defconfig |    1 +
remote:   include/linux/if_map.h              |    8 +
remote:   include/net/ip.h                    |    9 +
remote:   include/net/ip6_route.h             |    3 +
remote:   include/net/map.h                   |  403 +++
remote:   include/uapi/linux/if.h             |    3 +
remote:   include/uapi/linux/if_map.h         |  120 +
remote:   net/bridge/br_forward.c             |    7 +
remote:   net/bridge/br_netfilter.c           |    4 +
remote:   net/bridge/br_private.h             |    3 +
remote:   net/core/dev.c                      |    6 +
remote:   net/ipv4/ip_output.c                |   26 +-
remote:   net/ipv6/Kconfig                    |    6 +
remote:   net/ipv6/Makefile                   |    2 +
remote:   net/ipv6/map_defrag6.c              |  357 +++
remote:   net/ipv6/map_encap.c                |  553 ++++
remote:   net/ipv6/map_main.c                 | 1959 +++++++++++++++
remote:   net/ipv6/map_napt.c                 |  946 +++++++
remote:   net/ipv6/map_rule.c                 |  886 +++++++
remote:   net/ipv6/map_trans.c                | 1358 ++++++++++
remote:   net/ipv6/route.c                    |   10 +
remote:   22 files changed, 6669 insertions(+), 2 deletions(-)
remote:  ;tross@broadcom.com;2016-04-28 15:53:51 -0400;b60c0ed5a85723f833ccaa3c8f4955dd862da23f;SWRGROUTER-4459: Battery: Modem rebooted after a crash while in batteryi mode with wrong power state and RG not shutdown;
remote:  Add support for 3390B0 DDR phy to PM driver.
remote:  Enable access to all ARM CPU owned MBOX registers and L2 IRQ registers.
remote:
remote:  refs #SWRGROUTER-4459
remote:
remote:
remote:   arch/arm/mach-bcm/pm-brcmstb.c             | 5 +++++
remote:   drivers/bcm_media_gw/mbox/brcm_mbox.c      | 3 +++
remote:   drivers/bcm_media_gw/mbox/brcm_mbox_priv.h | 3 +++
remote:   3 files changed, 11 insertions(+)
remote:  ;skern@broadcom.com;2016-04-27 15:58:09 -0700;076dab272c97aafb59aac9bc2d5b0080113e9175;SWRGROUTER-4514 MODULE: Perform periodic develop to feat_PowerManagement merges;
remote:  Perform periodic develop to feat_PowerManagement merges
remote:
remote:  refs #SWRGROUTER-4514
remote:
remote:  	arch/arm/boot/dts/rg.3390-wifi.dtsi
remote:  	arch/arm/boot/dts/rg.3390b0-moca.dtsi
remote:  	arch/mips/boot/dts/bcm33843mwvg_mgw_zephyr.dtsi
remote:  	arch/mips/boot/dts/bcm3384_mgw_zephyr.dtsi
remote:  	drivers/bcm_media_gw/Kconfig
remote:  	drivers/bcm_media_gw/Makefile
remote:  	drivers/bcm_media_gw/netfilter/xt_l2ogre_mt.c
remote:  	drivers/bcm_media_gw/netfilter/xt_l2ogre_tg.c
remote:  	net/ipv6/netfilter/Kconfig
remote:
remote:
remote:   drivers/bcm_media_gw/netfilter/ebt_dhcpsnoop.c | 4 ++--
remote:   drivers/bcm_media_gw/netfilter/xt_l2ogre_mt.c  | 2 +-
remote:   drivers/bcm_media_gw/netfilter/xt_l2ogre_tg.c  | 2 +-
remote:   net/ipv6/netfilter/Makefile                    | 1 +
remote:   4 files changed, 5 insertions(+), 4 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-04-26 09:07:49 -0400;51243727b527e8dc1a39118b246b81d8d48ff139;SWRGROUTER-4485 3390: CLAB-GRE has endianness issue and is not working for 3390;
remote:  Fixed endianness issue in removing vlan tag logic.
remote:
remote:  refs #SWRGROUTER-4485
remote:
remote:
remote:   drivers/bcm_media_gw/netfilter/xt_l2ogre_mt.c | 2 +-
remote:   drivers/bcm_media_gw/netfilter/xt_l2ogre_tg.c | 2 +-
remote:   2 files changed, 2 insertions(+), 2 deletions(-)
remote:  ;twhite@cm-irv-1.irv.broadcom.com;2016-04-21 12:39:24 -0700;201a6b35f78673a15b9f4481bbd2794739c1c2db;SWRGROUTER-3972: Community WiFi/L2oGRE;
remote:  Added wlhhs to wlan Makefile, corrected call to wl assoclist,
remote:  fixed some errors in  netfilter ebt_dhcpsnoop module so that Agent Relay
remote:  DHCP option was inserted correctly into outgoing DHCP requests.
remote:
remote:  refs #SWRGROUTER-3972
remote:
remote:
remote:   drivers/bcm_media_gw/netfilter/ebt_dhcpsnoop.c | 4 ++--
remote:   1 file changed, 2 insertions(+), 2 deletions(-)
remote:  ;venky@cm-irv-1.irv.broadcom.com;2016-04-19 18:40:11 -0700;247d3542e1fd3a4f0581078f85bbbaacdde483dc;Wi-Fi: Active power savings - Linux - Disable WiFi block if radios disabled Added Radio Power Management Driver;
remote:  refs #SWRGROUTER-4069
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-wifi.dtsi    |  14 +-
remote:   arch/arm/boot/dts/rg.3390b0-smwvg.dts  |   3 +-
remote:   arch/arm/boot/dts/rg.3390b0-sv.dts     |   7 +-
remote:   arch/arm/boot/dts/rg.3390b0-vms.dts    |   3 +-
remote:   arch/arm/boot/dts/rg.3390b0.dts        |   3 +-
remote:   .../dts/bcm33843mwvg_mgw_zephyr.dtsi   |  14 +-
remote:   .../boot/dts/bcm3384_mgw_zephyr.dtsi   |  14 +-
remote:   drivers/bcm_media_gw/Kconfig           |   5 +
remote:   drivers/bcm_media_gw/Makefile          |   1 +
remote:   drivers/bcm_media_gw/wrfpwr/Makefile   |   4 +
remote:   .../bcm_media_gw/wrfpwr/wrfpwr_core.c  | 308 +++++++++++++
remote:   drivers/regulator/core.c               |   1 +
remote:   .../bcm_media_gw/wrfpwr/wrfpwr_api.h   |  35 ++
remote:   13 files changed, 391 insertions(+), 21 deletions(-)
remote:  ;skern@broadcom.com;2016-04-19 11:54:49 -0700;09d477f927f971648c8527f3188dc5b85d5dbb60;SWRGROUTER-4441 MODULE: Update feat_PowerManagement streams to latest - eRouter;
remote:  Update feat_PowerManagement streams to latest - eRouter
remote:
remote:  refs #SWRGROUTER-4441
remote:
remote:  Conflicts:
remote:  	arch/arm/boot/dts/rg.3390-base.dtsi
remote:  	arch/arm/boot/dts/rg.3390-wifi.dtsi
remote:  	arch/arm/boot/dts/rg.3390a2-dcm.dts
remote:  	arch/arm/boot/dts/rg.3390a2-smwvg.dts
remote:  	arch/arm/boot/dts/rg.3390a2-sv.dts
remote:  	arch/arm/boot/dts/rg.3390a2-vms.dts
remote:  	arch/arm/boot/dts/rg.3390a2.dts
remote:  	arch/arm/boot/dts/rg.3390b0-moca.dtsi
remote:  	arch/mips/boot/dts/bcm33843mwvg_mgw_zephyr.dtsi
remote:  	arch/mips/boot/dts/bcm3384_mgw_zephyr.dtsi
remote:  	drivers/bcm_media_gw/Makefile
remote:  	net/ipv6/netfilter/Kconfig
remote:
remote:
remote:   .../bindings/i2c/i2c-brcmwbid.txt      |  21 +
remote:   arch/arm/boot/dts/rg.3390-base.dtsi    | 104 ++--
remote:   arch/arm/boot/dts/rg.3390a2-dcm.dts    |  44 ++
remote:   arch/arm/boot/dts/rg.3390a2-smwvg.dts  |  44 ++
remote:   arch/arm/boot/dts/rg.3390a2-sv.dts     |  44 ++
remote:   arch/arm/boot/dts/rg.3390a2-vms.dts    |  44 ++
remote:   arch/arm/boot/dts/rg.3390a2.dts        |  44 ++
remote:   arch/arm/boot/dts/rg.3390b0-moca.dtsi  |   0
remote:   .../dts/bcm33843mwvg_mgw_zephyr.dtsi   |   6 +-
remote:   .../boot/dts/bcm3384_mgw_zephyr.dtsi   |   8 +-
remote:   drivers/bcm_media_gw/Kconfig           |   7 +
remote:   drivers/bcm_media_gw/Makefile          |   1 +
remote:   .../bcm_media_gw/boot_assist/brcm_ba.c |  49 +-
remote:   .../bcm_media_gw/boot_assist/brcm_ba.h |   3 +-
remote:   .../boot_assist/brcm_ba_priv.h         |   8 +-
remote:   drivers/bcm_media_gw/dqm/dqm.h         |   4 +-
remote:   drivers/bcm_media_gw/dqm/dqm_core.c    | 102 +++-
remote:   drivers/bcm_media_gw/dqm/dqm_dbg.c     |  39 +-
remote:   drivers/bcm_media_gw/dqm/dqm_dbg.h     |   4 +-
remote:   drivers/bcm_media_gw/dqm/dqm_dev.h     |  16 +-
remote:   drivers/bcm_media_gw/dqm/dqm_dt.c      | 106 +++-
remote:   drivers/bcm_media_gw/dqm/dqm_dt.h      |   4 +-
remote:   drivers/bcm_media_gw/dqm/dqm_hw.h      |  49 +-
remote:   drivers/bcm_media_gw/flowmgr/flowmgr.h |   9 +-
remote:   .../flowmgr/flowmgr_core.c             | 303 ++++-----
remote:   .../bcm_media_gw/flowmgr/flowmgr_fap.c | 228 ++++---
remote:   .../flowmgr/flowmgr_mcast.c            |  25 +-
remote:   .../flowmgr/flowmgr_tunnel.c           | 101 ++-
remote:   drivers/bcm_media_gw/i2c/Makefile      |   3 +
remote:   drivers/bcm_media_gw/i2c/wbid.c        | 134 ++++
remote:   drivers/bcm_media_gw/netfilter/Kconfig |  75 ++-
remote:   .../bcm_media_gw/netfilter/Makefile    |   5 +
remote:   .../nf_defrag_ipv6_hooks_notrack.c     | 116 ++++
remote:   .../netfilter/xt_l2ogre_mt.c           | 305 +++++++++
remote:   .../netfilter/xt_l2ogre_reg.c          |  65 ++
remote:   .../netfilter/xt_l2ogre_tg.c           | 407 +++++++++++++
remote:   include/linux/netfilter/xt_l2ogre_mt.h |  59 ++
remote:   include/linux/netfilter/xt_l2ogre_tg.h |  55 ++
remote:   include/linux/wbid.h                   |  43 ++
remote:   .../netfilter/nf_conntrack_offload.h   |  12 +-
remote:   net/bridge/br_igmp.c                   |  11 +
remote:   net/ipv6/netfilter/Kconfig             |   0
remote:   net/ipv6/netfilter/Makefile            |   1 +
remote:   net/netfilter/nf_conntrack_offload.c   |  37 +-
remote:   44 files changed, 2300 insertions(+), 445 deletions(-)
remote:  ;smuller@broadcom.com;2016-04-18 14:12:55 -0700;eabc1f7b77f33ad66a833c4708460a746c279c40;WiFi: Read WBID from WiFi daughter cards to load and insmod the correct WiFi driver;
remote:  Now checking the WBID via I2c to determine the daughter card type and wifi cards associated with it.
remote:
remote:  refs #SWRGROUTER-4152
remote:
remote:
remote:   drivers/bcm_media_gw/i2c/wbid.c | 1 +
remote:   1 file changed, 1 insertion(+)
remote:  ;snanda@broadcom.com;2016-04-18 11:30:37 -0700;da4995a6c10ec091b882c8153021254b0bbd3728;WiFi: use the correct assertlevel in the device tree for WPS pushbutton and LED;
remote:  refs #SWRGROUTER-4395
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-wifi.dtsi           | 6 +++---
remote:   .../boot/dts/bcm33843mwvg_mgw_zephyr.dtsi     | 6 +++---
remote:   arch/mips/boot/dts/bcm3384_mgw_zephyr.dtsi    | 8 ++++----
remote:   3 files changed, 10 insertions(+), 10 deletions(-)
remote:  ;yanhaih@broadcom.com;2016-04-14 10:11:56 +0800;1666b0ede1e5046f65b01f80240c4096ac356b6a;SWRGROUTER-4389: Move kernel module nf_defrag_ipv6_notrack;
remote:  Move nf_defrag_ipv6_notrack to drivers/bcm_media_gw/netfilter directory
remote:  and fix file header.Also when module is loaded/unloaded dump module
remote:  info (with name) to the console.
remote:
remote:  refs #SWRGROUTER-4389
remote:
remote:
remote:   drivers/bcm_media_gw/netfilter/Kconfig |   5 +
remote:   .../bcm_media_gw/netfilter/Makefile    |   3 +
remote:   .../nf_defrag_ipv6_hooks_notrack.c     | 116 +++++++++++++
remote:   net/ipv6/netfilter/Kconfig             |   5 -
remote:   net/ipv6/netfilter/Makefile            |   3 +-
remote:   .../nf_defrag_ipv6_hooks_notrack.c     |  96 ----------
remote:   6 files changed, 125 insertions(+), 103 deletions(-)
remote:  ;tross@broadcom.com;2016-04-13 09:58:29 -0400;ebbc8a46a965ae9c693be52d92524db5efb79b5f;SWRGROUTER-4384: DQM: Add interrupt coalescing support;
remote:  Add back support for 4 column Q allocation table to fix problem with 3390A2.
remote:
remote:  refs #SWRGROUTER-4384
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390a2-dcm.dts   | 44 +++++++++++++++
remote:   arch/arm/boot/dts/rg.3390a2-smwvg.dts | 44 +++++++++++++++
remote:   arch/arm/boot/dts/rg.3390a2-sv.dts    | 44 +++++++++++++++
remote:   arch/arm/boot/dts/rg.3390a2-vms.dts   | 44 +++++++++++++++
remote:   arch/arm/boot/dts/rg.3390a2.dts       | 44 +++++++++++++++
remote:   drivers/bcm_media_gw/dqm/dqm_dt.c     |  6 ++
remote:   6 files changed, 226 insertions(+)
remote:  ;tross@broadcom.com;2016-04-07 16:31:34 -0400;a4a448333cbf7fb60df16d71dcec5ac33b6e24c8;SWRGROUTER-4384: DQM: Add interrupt coalescing support;
remote:  Update SW license comments.
remote:
remote:  refs #SWRGROUTER-4384
remote:
remote:
remote:   drivers/bcm_media_gw/dqm/dqm.h      | 4 +++-
remote:   drivers/bcm_media_gw/dqm/dqm_core.c | 6 ++++--
remote:   drivers/bcm_media_gw/dqm/dqm_dbg.c  | 6 ++++--
remote:   drivers/bcm_media_gw/dqm/dqm_dbg.h  | 4 +++-
remote:   drivers/bcm_media_gw/dqm/dqm_dev.h  | 4 +++-
remote:   drivers/bcm_media_gw/dqm/dqm_dt.c   | 6 ++++--
remote:   drivers/bcm_media_gw/dqm/dqm_dt.h   | 4 +++-
remote:   drivers/bcm_media_gw/dqm/dqm_hw.h   | 4 +++-
remote:   8 files changed, 27 insertions(+), 11 deletions(-)
remote:  ;tross@broadcom.com;2016-04-07 15:43:46 -0400;31a3936fc66115684b20a477360ed9020a5f19d0;SWRGROUTER-4384: DQM: Add interrupt coalescing support;
remote:  Add support for HWM and timer interrupts from DQM's that support them.
remote:  Add support to DT and driver to specifiy LWM, HWM, and timeouts for each DQM.
remote:
remote:  refs #SWRGROUTER-4384
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi | 89 ++++++++-------
remote:   drivers/bcm_media_gw/dqm/dqm.h      |  2 +-
remote:   drivers/bcm_media_gw/dqm/dqm_core.c | 98 +++++++++++++----
remote:   drivers/bcm_media_gw/dqm/dqm_dbg.c  | 35 +++++-
remote:   drivers/bcm_media_gw/dqm/dqm_dbg.h  |  2 +-
remote:   drivers/bcm_media_gw/dqm/dqm_dev.h  | 14 ++-
remote:   drivers/bcm_media_gw/dqm/dqm_dt.c   | 96 ++++++++++++++--
remote:   drivers/bcm_media_gw/dqm/dqm_dt.h   |  2 +-
remote:   drivers/bcm_media_gw/dqm/dqm_hw.h   | 47 +++++++-
remote:   9 files changed, 305 insertions(+), 80 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-04-04 17:51:22 -0400;5ff3e44c10799fca2e9a3962e6d980993f21373a;SWRGROUTER-4362 - Runner: Upgrade to release 1.4;
remote:  Support for WiFi mulicast forwarding.
remote:
remote:  refs #SWRGROUTER-4362
remote:
remote:
remote:   drivers/bcm_media_gw/flowmgr/flowmgr.h |   2 +
remote:   .../bcm_media_gw/flowmgr/flowmgr_fap.c | 151 +++++++------
remote:   .../flowmgr/flowmgr_mcast.c            |  25 +-
remote:   net/bridge/br_igmp.c                   |  11 +
remote:   4 files changed, 113 insertions(+), 76 deletions(-)
remote:  ;tross@broadcom.com;2016-04-04 09:41:41 -0400;ca725504af2a0a50bfb648870fd334fbdf994a7b;SWRGROUTER-4363: Add proc interface to show current status of BPCM zones controlled by RG.;
remote:  Added proc interface to bpcm driver to show status.
remote:
remote:  refs #SWRGROUTER-4363
remote:
remote:
remote:   drivers/bcm_media_gw/bpcm/Makefile    |   2 +-
remote:   drivers/bcm_media_gw/bpcm/bpcm_core.c |  42 +----
remote:   drivers/bcm_media_gw/bpcm/bpcm_priv.h |  68 +++++++
remote:   drivers/bcm_media_gw/bpcm/bpcm_proc.c | 133 ++++++++++++++
remote:   drivers/bcm_media_gw/bpcm/bpcm_proc.h |  33 ++++
remote:   drivers/bcm_media_gw/pmb/pmb.h        |   2 +
remote:   6 files changed, 244 insertions(+), 36 deletions(-)
remote:  ;enderby@lc-atl-221.atl.broadcom.com;2016-04-04 09:19:31 -0400;d82d603161c1ba91ef544d9320b975ddfcb0ac67;SWRGROUTER-4359:BCM933843WVG BCM93384WVG nightly builds failed in develop on 2016-04-01;
remote:  Fix 3384 build issue generated by:
remote:  SWRGROUTER-4287:Creation of i2c WBID device/client and associated driver
remote:
remote:  refs #SWRGROUTER-4359
remote:
remote:
remote:   drivers/bcm_media_gw/Kconfig | 1 +
remote:   1 file changed, 1 insertion(+)
remote:  ;enderby@lc-atl-221.atl.broadcom.com;2016-04-01 16:24:00 -0400;26f6d948e713fef79076d7bf1fefa91faefaec0f;SWRGROUTER-4287:Creation of i2c WBID device/client and associated driver;
remote:  Added new WBID device/client driver for direct kernel access of the WBID value.
remote:
remote:  refs #SWRGROUTER-4287
remote:
remote:
remote:   .../bindings/i2c/i2c-brcmwbid.txt      |  21 ++
remote:   arch/arm/boot/dts/rg.3390-base.dtsi    |   7 +
remote:   drivers/bcm_media_gw/Kconfig           |   6 +
remote:   drivers/bcm_media_gw/Makefile          |   1 +
remote:   drivers/bcm_media_gw/i2c/Makefile      |   3 +
remote:   drivers/bcm_media_gw/i2c/wbid.c        | 133 +++++++++++++
remote:   include/linux/wbid.h                   |  43 ++++
remote:   7 files changed, 214 insertions(+)
remote:  ;jcyr@broadcom.com;2016-03-29 11:46:24 -0400;5ff349a7fe2bfbf2c45e3df9cde368688b287a6f;Fix typo;
remote:  refs #SWRGROUTER-4201
remote:
remote:
remote:   drivers/bcm_media_gw/boot_assist/brcm_ba.c | 5 ++++-
remote:   1 file changed, 4 insertions(+), 1 deletion(-)
remote:  ;jcyr@broadcom.com;2016-03-28 14:54:37 -0400;024f72dab955fdbe4480e443fb5892453ab060be;Rapid blink all LEDS on boot assist verification failure.;
remote:  refs #SWRGROUTER-4201
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi    |  6 ++-
remote:   .../bcm_media_gw/boot_assist/brcm_ba.c | 30 ++++++++++++--
remote:   .../boot_assist/brcm_ba_priv.h         |  4 +-
remote:   3 files changed, 33 insertions(+), 7 deletions(-)
remote:  ;czacker@cm-irv-1.irv.broadcom.com;2016-03-24 10:50:06 -0700;4143f8176cfa5aba278ee40f17eb07660bb0e286;WiFi:Implement support for ASPM feature and verify functionality;
remote:  refs #SWRGROUTER-3770
remote:
remote:
remote:   arch/arm/configs/brcmstb_defconfig | 3 +++
remote:   1 file changed, 3 insertions(+)
remote:  ;jayeshp@broadcom.com;2016-03-24 13:45:05 -0400;88a4db6d8fa66174b66cf75abb1f9fdffa1860bb;SWRGROUTER-4297: Bidirectional FTP breaks RG <-> CPE connectivity;
remote:  Fix issue when FTP data transfer exceeds 300s after which control
remote:  connection is released by netfilter.
remote:  Fix formating issues found by running checkpatch.pl
remote:
remote:  refs #SWRGROUTER-4297
remote:
remote:  (cherry picked from commit 8f96cd851892f1026f1f9397b40ec5ce82590680)
remote:
remote:
remote:   drivers/bcm_media_gw/flowmgr/flowmgr.h |   7 +-
remote:   .../flowmgr/flowmgr_core.c             | 303 +++++++------
remote:   .../bcm_media_gw/flowmgr/flowmgr_fap.c | 105 +++--
remote:   .../flowmgr/flowmgr_tunnel.c           | 101 ++---
remote:   .../netfilter/nf_conntrack_offload.h   |  12 +-
remote:   net/netfilter/nf_conntrack_offload.c   |  37 +-
remote:   6 files changed, 319 insertions(+), 246 deletions(-)
remote:  ;tross@broadcom.com;2016-03-23 17:09:07 -0400;69076a54f8a8ed2618b79f27177ee541cf6fee43;SWRGROUTER-4070: Active power savings - Linux - Disable all MOCA items when MOCA not present;
remote:  Add MoCA clock tree to devixce tree. bcmstb-clk driver turns off all clocks
remote:  until a driver acquires them and turns them on. Thus power is off to MoCA
remote:  block unless bmoca exists in the device tree.
remote:
remote:  refs #SWRGROUTER-4070
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390b0-bolt.dtsi | 169 ++++++++++++++
remote:   arch/arm/boot/dts/rg.3390b0-moca.dtsi |   4 +-
remote:   2 files changed, 172 insertions(+), 1 deletion(-)
remote:  ;jcyr@broadcom.com;2016-03-23 13:46:09 -0400;f250c36990d590d84c463c27b258dc7186d65165;Add IOCTL to rapid blink LEDS;
remote:  refs #SWRGROUTER-4201
remote:
remote:
remote:   drivers/bcm_media_gw/boot_assist/brcm_ba.c | 8 ++++++--
remote:   drivers/bcm_media_gw/boot_assist/brcm_ba.h | 3 ++-
remote:   2 files changed, 8 insertions(+), 3 deletions(-)
remote:  ;ignatius@broadcom.com;2016-03-22 14:48:27 -0700;18f749679ee3a6fc81bb6bdcf11091d7b4e28895;SWRGROUTER-3548 Comm WiFi: L2oGRE enhancements - Add Filter Support Including VLAN Tagging;
remote:  Create Netfilter module xt_L2OGRE, it inspects packets and add/remove VLAN and update DSCP.
remote:
remote:  refs #SWRGROUTER-3548
remote:
remote:
remote:   drivers/bcm_media_gw/netfilter/Kconfig |  70 ++-
remote:   .../bcm_media_gw/netfilter/Makefile    |   2 +
remote:   .../netfilter/xt_l2ogre_mt.c           | 305 +++++++++
remote:   .../netfilter/xt_l2ogre_reg.c          |  65 ++
remote:   .../netfilter/xt_l2ogre_tg.c           | 407 +++++++++++++
remote:   include/linux/netfilter/xt_l2ogre_mt.h |  59 ++
remote:   include/linux/netfilter/xt_l2ogre_tg.h |  55 ++
remote:   7 files changed, 933 insertions(+), 30 deletions(-)
remote:  ;jcyr@broadcom.com;2016-03-21 22:07:32 -0400;2e0f3744fa1f4cfd088f3de912543c863dc8052a;Boot assist driver. Map OTP register with the secure boot setting bits.;
remote:  refs #SWRGROUTER-4201
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi      |  2 +-
remote:   .../bcm_media_gw/boot_assist/brcm_ba.c   | 12 ++++++------
remote:   .../boot_assist/brcm_ba_priv.h           |  4 ++--
remote:   3 files changed, 9 insertions(+), 9 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-03-17 15:39:49 -0700;3bae0214606e9b09d712baeee095a0764cbd89d2;SWRGROUTER-4224 3390B0: Acceleration Support for 3rd WiFi Radio;
remote:  Use of DQM 60 for accelerating 3rd Radio.
remote:
remote:  refs #SWRGROUTER-4224
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi | 4 +++-
remote:   1 file changed, 3 insertions(+), 1 deletion(-)
remote:  ;yanhaih@broadcom.com;2016-03-17 15:39:49 -0700;530c7e92f2cbc43bdbf7d1430948d9eae8a7539c;HTTPD: ipv6 wan access;
remote:  IPv6 filter rules about the connection from wan:
remote:  When 'Enable Remote Management' is false, deault deny rule in ipv6
remote:  wan_http_local chain,and remove nat rule in ipv6 nat table for redirect
remote:  tcp dst port 8080 to 80.
remote:
remote:  When 'Enable Remote Management' is true, deault permit rule in ipv6
remote:  wan_http_local chain,and add nat rule in ipv6 nat table for redirect
remote:  tcp dst port 8080 to 80.
remote:
remote:  kernel: open ipv6 nat, CONFIG_NF_NAT_IPV6=m
remote:
remote:  refs #SWRGROUTER-3376
remote:
remote:
remote:   arch/arm/configs/brcmstb_defconfig  | 1 +
remote:   arch/mips/configs/bcm3384_defconfig | 2 +-
remote:   2 files changed, 2 insertions(+), 1 deletion(-)
remote:  ;tross@broadcom.com;2016-03-17 15:39:48 -0700;c5dd91043b0ca2ad6561f7f5b3dd9ea0d2d1aa13;SWRGROUTER-4232: Rename 3390R0 to 3390Z0 to match HW organization.;
remote:  Rename 3390R0 to 3390Z0 to match HW organization references to the chip.
remote:
remote:  refs #SWRGROUTER-4232
remote:
remote:
remote:   arch/arm/boot/dts/Makefile            |   2 +-
remote:   arch/arm/boot/dts/rg.3390r0-bolt.dtsi | 694 --------------
remote:   arch/arm/boot/dts/rg.3390r0.dts       |  44 -
remote:   arch/arm/boot/dts/rg.3390z0-bolt.dtsi | 694 ++++++++++++++
remote:   arch/arm/boot/dts/rg.3390z0.dts       |  44 +
remote:   5 files changed, 739 insertions(+), 739 deletions(-)
remote:  ;petersu@broadcom.com;2016-03-17 15:39:48 -0700;0492b58fe045699070acb7ece7178f94602547a9;SWRGROUTER-4004: 3390R: Update device tree selection process to use MFG_ID as well. 		Forgot to add rg3390r0-bolt.dtsi to the commit after adding pcie1;
remote:  refs #SWRGROUTER-4004
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390r0-bolt.dtsi | 31 ++++++++-------
remote:   1 file changed, 16 insertions(+), 15 deletions(-)
remote:  ;petersu@broadcom.com;2016-03-17 15:39:47 -0700;c919fbc5f4a24ba7cef5cfc26e35e7be2ee8f6bc;SWRGROUTER-4004: 3390R: Update device tree selection process to use MFG_ID as well.;
remote:  refs #SWRGROUTER-4004
remote:
remote:
remote:   arch/arm/boot/dts/Makefile            |   1 +
remote:   arch/arm/boot/dts/rg.3390b0-dcm.dts   |   6 +-
remote:   arch/arm/boot/dts/rg.3390b0-smwvg.dts |   6 +-
remote:   arch/arm/boot/dts/rg.3390b0-sv.dts    |   6 +-
remote:   arch/arm/boot/dts/rg.3390b0-vcm.dts   |   6 +-
remote:   arch/arm/boot/dts/rg.3390b0-vms.dts   |   6 +-
remote:   arch/arm/boot/dts/rg.3390b0.dts       |   6 +-
remote:   arch/arm/boot/dts/rg.3390r0-bolt.dtsi | 693 ++++++++++++++
remote:   arch/arm/boot/dts/rg.3390r0.dts       |  44 +
remote:   9 files changed, 756 insertions(+), 18 deletions(-)
remote:  ;wubei@broadcom.com;2016-03-17 15:39:47 -0700;752d2881e890f34910f2cb5f89450dd4773876f9;IPv6: Disable reassemble the ipv6 fragment when disabling ipv6 firewall.;
remote:  Don't reassemble the ipv6 fragment to
remote:  pass unh ipv6 ready logo Interoperability test 2.7 (B)
remote:
remote:  refs #SWRGROUTER-3991
remote:
remote:  (cherry picked from commit 467d11bfe7e4c641ea4166d65f7c1b93e4a5d025)
remote:
remote:
remote:   net/ipv6/netfilter/Kconfig             |  6 +
remote:   net/ipv6/netfilter/Makefile            |  2 +
remote:   .../nf_defrag_ipv6_hooks_notrack.c     | 96 ++++++++++++++
remote:   3 files changed, 104 insertions(+)
remote:  ;petersu@broadcom.com;2016-03-17 15:39:46 -0700;f5492d3607eaf33f6ddb6ddda0e6b4d612dbe687;SWRGROUTER-2970: Add optional 3390 RFAP acceleration to Intel e1000e driver;
remote:  refs #SWRGROUTER-2970
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-wifi.dtsi    |   20 +
remote:   drivers/bcm_media_gw/Kconfig           |    7 +
remote:   .../dqnet/dqnet_nethooks.c             |    1 -
remote:   .../bcm_media_gw/dqnet/dqnet_priv.h    |    1 +
remote:   .../bcm_media_gw/dqnet/dqnet_wifi.c    |    1 +
remote:   drivers/bcm_media_gw/fpm/fpm.h         |    3 +
remote:   drivers/bcm_media_gw/fpm/fpm_core.c    |   33 +
remote:   .../bcm_media_gw/include/netdev_rfap.h |   82 +
remote:   drivers/net/ethernet/intel/Kconfig     |    8 +
remote:   .../net/ethernet/intel/e1000e/Makefile |   13 +-
remote:   .../intel/e1000e/netdev_bcm3390.c      | 7215 ++++++++++++
remote:   11 files changed, 7380 insertions(+), 4 deletions(-)
remote:  ;enderby@lc-atl-221.atl.broadcom.com;2016-03-17 15:39:46 -0700;9100f1ff8e4d02389c1da3a5d5f9224aca2b647b;SWRGROUTER-3305:I2C driver for WBID;
remote:  Implemented I2C driver support for WBID access
remote:
remote:  refs #SWRGROUTER-3305
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi |   8 +-
remote:   arch/arm/mach-bcm/Kconfig           |   2 +
remote:   drivers/i2c/busses/i2c-brcmstb.c    | 301 +++++++++-------
remote:   3 files changed, 172 insertions(+), 139 deletions(-)
remote:  ;snanda@broadcom.com;2016-03-17 15:39:45 -0700;5e44f4b59d0b767014cfe216531268e58cf3af51;WiFi: WPS pushbutton and LED (this changes on each chip/board per GPIO);
remote:  refs #SWRGROUTER-1899
remote:
remote:
remote:   arch/mips/boot/dts/bcm33843mwvg_mgw_zephyr.dtsi | 4 ++++
remote:   arch/mips/boot/dts/bcm3384_mgw_zephyr.dtsi      | 4 ++++
remote:   2 files changed, 8 insertions(+)
remote:  ;snanda@broadcom.com;2016-03-17 15:39:45 -0700;c0ff92bc0a2f1e283195cd9d88cbf433f4679483;WiFi: WPS pushbutton and LED (this changes on each chip/board per GPIO);
remote:  refs #SWRGROUTER-1899
remote:
remote:
remote:   .../dts/bcm33843mwvg_mgw_zephyr.dtsi    | 12 +++++++++++-
remote:   .../boot/dts/bcm3384_mgw_zephyr.dtsi    | 13 ++++++++++++-
remote:   2 files changed, 23 insertions(+), 2 deletions(-)
remote:  ;tross@broadcom.com;2016-03-17 15:39:45 -0700;0c5c552f15739b52066052b494cf1b9ce1fa46f1;SWRGROUTER-4065: Update DQM device tree entries to reflect 3390B0 bug fixes.;
remote:  Update 3390 device tree files to reflect DQM bug fixes made by 3390B0.
remote:
remote:  refs #SWRGROUTER-4065
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi   | 4 ++--
remote:   arch/arm/boot/dts/rg.3390a0.dts       | 3 +++
remote:   arch/arm/boot/dts/rg.3390a2-dcm.dts   | 5 +++++
remote:   arch/arm/boot/dts/rg.3390a2-smwvg.dts | 4 ++++
remote:   arch/arm/boot/dts/rg.3390a2-sv.dts    | 5 +++++
remote:   arch/arm/boot/dts/rg.3390a2-vms.dts   | 5 +++++
remote:   arch/arm/boot/dts/rg.3390a2.dts       | 5 +++++
remote:   7 files changed, 29 insertions(+), 2 deletions(-)
remote:  ;jcyr@broadcom.com;2016-03-17 15:39:44 -0700;90aab11efae64c41ecddc5c250de307f2d0f1679;add DTB suport for 3390B0 VCM board;
remote:  refs #SWRGROUTER-4079
remote:
remote:
remote:   arch/arm/boot/dts/Makefile          |  1 +
remote:   arch/arm/boot/dts/rg.3390b0-vcm.dts | 34 +++++++++++++++++
remote:   2 files changed, 35 insertions(+)
remote:  ;snanda@broadcom.com;2016-03-17 15:39:44 -0700;be3c55581221552f092deb3f506cdc8807ba86be;WiFi: WPS pushbutton and LED (this changes on each chip/board per GPIO);
remote:  refs #SWRGROUTER-1899
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-wifi.dtsi    |  10 +
remote:   drivers/bcm_media_gw/Kconfig           |   5 +
remote:   drivers/bcm_media_gw/Makefile          |   1 +
remote:   drivers/bcm_media_gw/wps/Makefile      |   4 +
remote:   .../bcm_media_gw/wps/wps_gpio_core.c   | 339 +++++++++++++
remote:   .../bcm_media_gw/wps/wps_gpio_api.h    |  38 ++
remote:   6 files changed, 397 insertions(+)
remote:  ;natarajs@broadcom.com;2016-03-17 15:39:43 -0700;76cc264afb7663bd85fd66c6b1fdd4bf07182ca1;SWRGROUTER-3097 WIFI: DHD WL coexistence;
remote:  refs #SWRGROUTER-3097
remote:
remote:
remote:   .../bcm_media_gw/dqnet/dqnet_core.c    | 15 ++++++++++----
remote:   .../bcm_media_gw/dqnet/dqnet_wifi.c    |  5 ++---
remote:   .../bcm_media_gw/dqnet/dqnet_wifi.h    |  4 ++--
remote:   3 files changed, 15 insertions(+), 9 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-03-17 15:39:43 -0700;bf93943280ab226781a57ec99f5d8e0d5ecd99e4;SWRGROUTER-3381 - Web Server:Loading web pages leaks memory;
remote:  flowmgr
remote:  Free up socket reference in code added for checking connection
remote:  going to host without socket (SWRGROUTER-2728)
remote:
remote:  dqm
remote:  Fix minor memory leak in dt parameter handling
remote:
remote:  refs #SWRGROUTER-3381
remote:
remote:
remote:   drivers/bcm_media_gw/dqm/dqm_dt.c           | 1 +
remote:   drivers/bcm_media_gw/flowmgr/flowmgr_core.c | 3 ++-
remote:   2 files changed, 3 insertions(+), 1 deletion(-)
remote:  ;tross@broadcom.com;2016-03-17 15:39:42 -0700;3cdf274f848cf669b3c6dfdfbae4a37b4e7e05d8;SWRGROUTER-3967: Add 3390B0 PHYDVT board device tree support.;
remote:  Add 3390B0 PHYDVT board BID to rg.3390b0.dts "catchall" file.
remote:
remote:  refs #SWRGROUTER-3967
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390b0.dts | 4 ++--
remote:   1 file changed, 2 insertions(+), 2 deletions(-)
remote:  ;petersu@broadcom.com;2016-03-17 15:39:42 -0700;0565de2bf8c7958721854232ebde55ffa77cda32;SWRGROUTER-3936: add shutdown callback to nand driver;
remote:  refs #SWRGROUTER-3936
remote:
remote:
remote:   drivers/mtd/nand/brcmstb_nand_3384.c | 10 ++++++++++
remote:   1 file changed, 10 insertions(+)
remote:  ;tross@broadcom.com;2016-03-17 17:13:13 -0400;c7e2220dfc0da4c0dc3c768fa98b6f0c6ac2f60d;SWRGROUTER-4255: Implement SW to turn on/off the UniMAC block;
remote:  Modify bpcm driver to allow device tree to specify initial power state
remote:  of each zone for each bpcm device.
remote:  Modify device tree to set initial power state of UniMAC based on board.
remote:
remote:  refs #SWRGROUTER-4255
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi   | 18 ++---
remote:   arch/arm/boot/dts/rg.3390-ethwan.dtsi |  4 ++
remote:   drivers/bcm_media_gw/bpcm/bpcm_core.c | 54 ++++++++-------
remote:   3 files changed, 42 insertions(+), 34 deletions(-)
remote:  ;jayeshp@broadcom.com;2016-03-16 15:22:45 -0400;25d0921db50d24f3081be93b5d5395862ba5d1dd;SWRGROUTER-4224 3390B0: Acceleration Support for 3rd WiFi Radio;
remote:  Use of DQM 60 for accelerating 3rd Radio.
remote:
remote:  refs #SWRGROUTER-4224
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi | 4 +++-
remote:   1 file changed, 3 insertions(+), 1 deletion(-)
remote:  ;yanhaih@broadcom.com;2016-03-16 14:15:31 +0800;2086bc7b27a2c2032a1d891c5b0d3f7952b82be6;HTTPD: ipv6 wan access;
remote:  IPv6 filter rules about the connection from wan:
remote:  When 'Enable Remote Management' is false, deault deny rule in ipv6
remote:  wan_http_local chain,and remove nat rule in ipv6 nat table for redirect
remote:  tcp dst port 8080 to 80.
remote:
remote:  When 'Enable Remote Management' is true, deault permit rule in ipv6
remote:  wan_http_local chain,and add nat rule in ipv6 nat table for redirect
remote:  tcp dst port 8080 to 80.
remote:
remote:  kernel: open ipv6 nat, CONFIG_NF_NAT_IPV6=m
remote:
remote:  refs #SWRGROUTER-3376
remote:
remote:
remote:   arch/arm/configs/brcmstb_defconfig  | 1 +
remote:   arch/mips/configs/bcm3384_defconfig | 2 +-
remote:   2 files changed, 2 insertions(+), 1 deletion(-)
remote:  ;tross@broadcom.com;2016-03-15 19:00:25 -0400;c6d2bed9f2b4a38ad59a8308da7a813f6e9939a8;SWRGROUTER-4232: Rename 3390R0 to 3390Z0 to match HW organization.;
remote:  Rename 3390R0 to 3390Z0 to match HW organization references to the chip.
remote:
remote:  refs #SWRGROUTER-4232
remote:
remote:
remote:   arch/arm/boot/dts/Makefile            |   2 +-
remote:   arch/arm/boot/dts/rg.3390r0-bolt.dtsi | 694 --------------
remote:   arch/arm/boot/dts/rg.3390r0.dts       |  44 -
remote:   arch/arm/boot/dts/rg.3390z0-bolt.dtsi | 694 ++++++++++++++
remote:   arch/arm/boot/dts/rg.3390z0.dts       |  44 +
remote:   5 files changed, 739 insertions(+), 739 deletions(-)
remote:  ;petersu@broadcom.com;2016-03-15 14:43:04 -0400;42dc96db076c6fbb83b55094421fdceeb2c5fbe1;SWRGROUTER-4004: 3390R: Update device tree selection process to use MFG_ID as well. 		Forgot to add rg3390r0-bolt.dtsi to the commit after adding pcie1;
remote:  refs #SWRGROUTER-4004
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390r0-bolt.dtsi | 31 ++++++++-------
remote:   1 file changed, 16 insertions(+), 15 deletions(-)
remote:  ;petersu@broadcom.com;2016-03-14 15:26:03 -0400;0c41e7735c1fb09f0045f4b3295b9156f2bad44d;SWRGROUTER-4004: 3390R: Update device tree selection process to use MFG_ID as well.;
remote:  refs #SWRGROUTER-4004
remote:
remote:
remote:   arch/arm/boot/dts/Makefile            |   1 +
remote:   arch/arm/boot/dts/rg.3390b0-dcm.dts   |   6 +-
remote:   arch/arm/boot/dts/rg.3390b0-smwvg.dts |   6 +-
remote:   arch/arm/boot/dts/rg.3390b0-sv.dts    |   6 +-
remote:   arch/arm/boot/dts/rg.3390b0-vcm.dts   |   6 +-
remote:   arch/arm/boot/dts/rg.3390b0-vms.dts   |   6 +-
remote:   arch/arm/boot/dts/rg.3390b0.dts       |   6 +-
remote:   arch/arm/boot/dts/rg.3390r0-bolt.dtsi | 693 ++++++++++++++
remote:   arch/arm/boot/dts/rg.3390r0.dts       |  44 +
remote:   9 files changed, 756 insertions(+), 18 deletions(-)
remote:  ;wubei@broadcom.com;2016-03-11 17:16:59 +0800;5151c8f4f6f659a5e358ca1816a2d595f46e283d;IPv6: Disable reassemble the ipv6 fragment when disabling ipv6 firewall.;
remote:  Don't reassemble the ipv6 fragment to
remote:  pass unh ipv6 ready logo Interoperability test 2.7 (B)
remote:
remote:  refs #SWRGROUTER-3991
remote:
remote:  (cherry picked from commit 467d11bfe7e4c641ea4166d65f7c1b93e4a5d025)
remote:
remote:
remote:   net/ipv6/netfilter/Kconfig             |  6 +
remote:   net/ipv6/netfilter/Makefile            |  2 +
remote:   .../nf_defrag_ipv6_hooks_notrack.c     | 96 ++++++++++++++
remote:   3 files changed, 104 insertions(+)
remote:  ;enderby@lc-atl-221.atl.broadcom.com;2016-03-09 16:19:38 -0500;c58d15c828fb320d84f840a793df9d883f8de1bd;SWRGROUTER-3657:3390b0: Add switchable MoCA support for both 3390a0 and 3390b0 chips;
remote:  Now based on build target the proper MOCA driver will be compiled and setup.
remote:  Upgraded MOCA driver from 2.10.6.90 to 2.11.201.10.
remote:  Changed mocad version number to match 2.11.201.10.
remote:
remote:  refs #SWRGROUTER-3657
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-moca.dtsi   | 25 -------
remote:   arch/arm/boot/dts/rg.3390a0.dts       |  2 +-
remote:   arch/arm/boot/dts/rg.3390a2-moca.dtsi | 25 +++++++
remote:   arch/arm/boot/dts/rg.3390a2-smwvg.dts |  2 +-
remote:   arch/arm/boot/dts/rg.3390a2-sv.dts    |  2 +-
remote:   arch/arm/boot/dts/rg.3390a2-vms.dts   |  2 +-
remote:   arch/arm/boot/dts/rg.3390a2.dts       |  2 +-
remote:   arch/arm/boot/dts/rg.3390b0-moca.dtsi | 25 +++++++
remote:   arch/arm/boot/dts/rg.3390b0-smwvg.dts |  2 +-
remote:   arch/arm/boot/dts/rg.3390b0-sv.dts    |  2 +-
remote:   arch/arm/boot/dts/rg.3390b0-vms.dts   |  2 +-
remote:   arch/arm/boot/dts/rg.3390b0.dts       |  2 +-
remote:   drivers/char/bmoca.c                  | 54 ++++++++++++---
remote:   include/linux/bmoca.h                 |  1 +
remote:   14 files changed, 106 insertions(+), 42 deletions(-)
remote:  ;petersu@broadcom.com;2016-03-07 15:53:13 -0500;4c84282eff693eb95cb3972dad54c9ffc931f2cd;SWRGROUTER-2970: Add optional 3390 RFAP acceleration to Intel e1000e driver;
remote:  refs #SWRGROUTER-2970
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-wifi.dtsi    |   20 +
remote:   drivers/bcm_media_gw/Kconfig           |    7 +
remote:   .../dqnet/dqnet_nethooks.c             |    1 -
remote:   .../bcm_media_gw/dqnet/dqnet_priv.h    |    1 +
remote:   .../bcm_media_gw/dqnet/dqnet_wifi.c    |    1 +
remote:   drivers/bcm_media_gw/fpm/fpm.h         |    3 +
remote:   drivers/bcm_media_gw/fpm/fpm_core.c    |   33 +
remote:   .../bcm_media_gw/include/netdev_rfap.h |   82 +
remote:   drivers/net/ethernet/intel/Kconfig     |    8 +
remote:   .../net/ethernet/intel/e1000e/Makefile |   13 +-
remote:   .../intel/e1000e/netdev_bcm3390.c      | 7215 ++++++++++++
remote:   11 files changed, 7380 insertions(+), 4 deletions(-)
remote:  ;enderby@lc-atl-221.atl.broadcom.com;2016-03-07 14:47:37 -0500;a36e5a0cccf57533ff5e7b768d75c739037af381;SWRGROUTER-3305:I2C driver for WBID;
remote:  Implemented I2C driver support for WBID access
remote:
remote:  refs #SWRGROUTER-3305
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390-base.dtsi |   8 +-
remote:   arch/arm/mach-bcm/Kconfig           |   2 +
remote:   drivers/i2c/busses/i2c-brcmstb.c    | 301 +++++++++-------
remote:   3 files changed, 172 insertions(+), 139 deletions(-)
remote:  ;tross@broadcom.com;2016-02-18 18:53:04 -0500;52d7a4e088ff5a645e36152ce6abfbf5af0abb20;SWRGROUTER-3901: Implement support for CPU division to save power;
remote:  Make "ondemand" cpufreq governor the default.
remote:
remote:  refs #SWRGROUTER-3901
remote:
remote:
remote:   drivers/cpufreq/Kconfig | 14 +++++++-------
remote:   1 file changed, 7 insertions(+), 7 deletions(-)
remote:  ;tross@broadcom.com;2016-02-18 18:30:13 -0500;e4487892cc9f7852625713ce903e1a535e0f168a;SWRGROUTER-3901: Implement support for CPU division to save power;
remote:  Add properties to DT that are required for CPU frequency scaling.
remote:
remote:  refs #SWRGROUTER-3901
remote:
remote:
remote:   arch/arm/boot/dts/rg.3390b0-bolt.dtsi | 8 ++++++--
remote:   1 file changed, 6 insertions(+), 2 deletions(-)
remote:
remote: Author-sdunlap
remote: devId:sdunlap
remote: Author-rbbswbld
remote: devId:rbbswbld
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-sy888189
remote: devId:sy888189
remote: Author-robey
remote: devId:robey
remote: Author-xpl
remote: devId:xpl
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-jaszczur
remote: devId:jaszczur
remote: Author-jaszczur
remote: devId:jaszczur
remote: Author-rbbswbld
remote: devId:rbbswbld
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-petersu
remote: devId:petersu
remote: Author-rbbswbld
remote: devId:rbbswbld
remote: Author-rbbswbld
remote: devId:rbbswbld
remote: Author-chicaiza@lc-atl-221.atl.broadcom.com
remote: devId:chicaiza
remote: Author-natarajs
remote: devId:natarajs
remote: Author-venky@cm-irv-1.lvn.broadcom.net
remote: devId:venky
remote: Author-sy888189
remote: devId:sy888189
remote: Author-rbbswbld
remote: devId:rbbswbld
remote: Author-venky@cm-irv-1.lvn.broadcom.net
remote: devId:venky
remote: Author-sy888189
remote: devId:sy888189
remote: Author-sy888189
remote: devId:sy888189
remote: Author-sy888189
remote: devId:sy888189
remote: Author-rp888308
remote: devId:rp888308
remote: Author-sy888189
remote: devId:sy888189
remote: Author-venky@cm-irv-1.lvn.broadcom.net
remote: devId:venky
remote: Author-rbbswbld
remote: devId:rbbswbld
remote: Author-newcomer
remote: devId:newcomer
remote: Author-newcomer
remote: devId:newcomer
remote: Author-newcomer
remote: devId:newcomer
remote: Author-newcomer
remote: devId:newcomer
remote: Author-newcomer
remote: devId:newcomer
remote: Author-petersu
remote: devId:petersu
remote: Author-venky@cm-irv-1.lvn.broadcom.net
remote: devId:venky
remote: Author-ignatius
remote: devId:ignatius
remote: Author-ignatius
remote: devId:ignatius
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-xpl
remote: devId:xpl
remote: Author-rd888237
remote: devId:rd888237
remote: Author-newcomer
remote: devId:newcomer
remote: Author-dnguyen
remote: devId:dnguyen
remote: Author-dnguyen
remote: devId:dnguyen
remote: Author-ignatius
remote: devId:ignatius
remote: Author-enderby@lc-atl-221.atl.broadcom.com
remote: devId:enderby
remote: Author-xpl
remote: devId:xpl
remote: Author-rbbswbld
remote: devId:rbbswbld
remote: Author-rbbswbld
remote: devId:rbbswbld
remote: Author-rbbswbld
remote: devId:rbbswbld
remote: Author-rbbswbld
remote: devId:rbbswbld
remote: Author-rbbswbld
remote: devId:rbbswbld
remote: Author-rbbswbld
remote: devId:rbbswbld
remote: Author-rbbswbld
remote: devId:rbbswbld
remote: Author-rbbswbld
remote: devId:rbbswbld
remote: Author-rbbswbld
remote: devId:rbbswbld
remote: Author-rbbswbld
remote: devId:rbbswbld
remote: Author-czacker
remote: devId:czacker
remote: Author-czacker
remote: devId:czacker
remote: Author-robey
remote: devId:robey
remote: Author-rbbswbld
remote: devId:rbbswbld
remote: Author-rbbswbld
remote: devId:rbbswbld
remote: Author-tross
remote: devId:tross
remote: Author-czacker
remote: devId:czacker
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-avagin@openvz.org
remote: devId:avagin
remote: Author-edumazet@google.com
remote: devId:edumazet
remote: Author-brouer@redhat.com
remote: devId:brouer
remote: Author-rp888308
remote: devId:rp888308
remote: Author-brouer@redhat.com
remote: devId:brouer
remote: Author-brouer@redhat.com
remote: devId:brouer
remote: Author-brouer@redhat.com
remote: devId:brouer
remote: Author-czacker
remote: devId:czacker
remote: Author-czacker
remote: devId:czacker
remote: Author-robey
remote: devId:robey
remote: Author-tross
remote: devId:tross
remote: Author-tross
remote: devId:tross
remote: Author-tross
remote: devId:tross
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-czacker
remote: devId:czacker
remote: Author-robey
remote: devId:robey
remote: Author-tross
remote: devId:tross
remote: Author-tross
remote: devId:tross
remote: Author-skern
remote: devId:skern
remote: Author-skern
remote: devId:skern
remote: Author-tross
remote: devId:tross
remote: Author-tross
remote: devId:tross
remote: Author-skern
remote: devId:skern
remote: Author-skern
remote: devId:skern
remote: Author-skern
remote: devId:skern
remote: Author-skern
remote: devId:skern
remote: Author-skern
remote: devId:skern
remote: Author-tross
remote: devId:tross
remote: Author-tross
remote: devId:tross
remote: Author-tross
remote: devId:tross
remote: Author-petersu
remote: devId:petersu
remote: Author-petersu
remote: devId:petersu
remote: Author-wubei
remote: devId:wubei
remote: Author-enderby@lc-atl-221.atl.broadcom.com
remote: devId:enderby
remote: Author-jcyr
remote: devId:jcyr
remote: Author-tross
remote: devId:tross
remote: Author-rbbswbld
remote: devId:rbbswbld
remote: Author-rbbswbld
remote: devId:rbbswbld
remote: Author-rp888308
remote: devId:rp888308
remote: Author-skern
remote: devId:skern
remote: Author-tnobes
remote: devId:tnobes
remote: Author-twhite@cm-irv-1.irv.broadcom.com
remote: devId:twhite
remote: Author-tross
remote: devId:tross
remote: Author-twhite@cm-irv-1.irv.broadcom.com
remote: devId:twhite
remote: Author-tross
remote: devId:tross
remote: Author-ignatius
remote: devId:ignatius
remote: Author-czacker
remote: devId:czacker
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-twhite@cm-irv-1.irv.broadcom.com
remote: devId:twhite
remote: Author-czacker
remote: devId:czacker
remote: Author-czacker
remote: devId:czacker
remote: Author-tross
remote: devId:tross
remote: Author-tross
remote: devId:tross
remote: Author-czacker
remote: devId:czacker
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-venky@cm-irv-1.irv.broadcom.com
remote: devId:venky
remote: Author-avagin@openvz.org
remote: devId:avagin
remote: Author-edumazet@google.com
remote: devId:edumazet
remote: Author-brouer@redhat.com
remote: devId:brouer
remote: Author-rp888308
remote: devId:rp888308
remote: Author-brouer@redhat.com
remote: devId:brouer
remote: Author-brouer@redhat.com
remote: devId:brouer
remote: Author-brouer@redhat.com
remote: devId:brouer
remote: Author-rp888308
remote: devId:rp888308
remote: Author-czacker
remote: devId:czacker
remote: Author-czacker
remote: devId:czacker
remote: Author-robey
remote: devId:robey
remote: Author-tross
remote: devId:tross
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-tross
remote: devId:tross
remote: Author-tross
remote: devId:tross
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-ptimariu
remote: devId:ptimariu
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-czacker
remote: devId:czacker
remote: Author-robey
remote: devId:robey
remote: Author-tross
remote: devId:tross
remote: Author-akatre
remote: devId:akatre
remote: Author-tross
remote: devId:tross
remote: Author-rp888308
remote: devId:rp888308
remote: Author-tross
remote: devId:tross
remote: Author-skern
remote: devId:skern
remote: Author-skern
remote: devId:skern
remote: Author-skern
remote: devId:skern
remote: Author-tross
remote: devId:tross
remote: Author-tross
remote: devId:tross
remote: Author-tross
remote: devId:tross
remote: Author-tross
remote: devId:tross
remote: Author-skern
remote: devId:skern
remote: Author-skern
remote: devId:skern
remote: Author-skern
remote: devId:skern
remote: Author-skern
remote: devId:skern
remote: Author-ignatius
remote: devId:ignatius
remote: Author-ignatius
remote: devId:ignatius
remote: Author-skern
remote: devId:skern
remote: Author-venky@cm-irv-1.irv.broadcom.com
remote: devId:venky
remote: Author-skern
remote: devId:skern
remote: Author-tross
remote: devId:tross
remote: Author-tross
remote: devId:tross
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-tross
remote: devId:tross
remote: Author-petersu
remote: devId:petersu
remote: Author-petersu
remote: devId:petersu
remote: Author-wubei
remote: devId:wubei
remote: Author-petersu
remote: devId:petersu
remote: Author-enderby@lc-atl-221.atl.broadcom.com
remote: devId:enderby
remote: Author-snanda
remote: devId:snanda
remote: Author-snanda
remote: devId:snanda
remote: Author-tross
remote: devId:tross
remote: Author-jcyr
remote: devId:jcyr
remote: Author-snanda
remote: devId:snanda
remote: Author-tross
remote: devId:tross
remote: Author-tross
remote: devId:tross
remote: Author-enderby@lc-atl-221.atl.broadcom.com
remote: devId:enderby
remote: Author-czacker
remote: devId:czacker
remote: Author-akatre
remote: devId:akatre
remote: Author-tross
remote: devId:tross
remote: Author-tross
remote: devId:tross
remote: Author-tross
remote: devId:tross
remote: Author-tross
remote: devId:tross
remote: Author-rp888308
remote: devId:rp888308
remote: Author-tross
remote: devId:tross
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-dw888152
remote: devId:dw888152
remote: Author-rp888308
remote: devId:rp888308
remote: Author-skern
remote: devId:skern
remote: Author-tnobes
remote: devId:tnobes
remote: Author-twhite@cm-irv-1.irv.broadcom.com
remote: devId:twhite
remote: Author-tross
remote: devId:tross
remote: Author-twhite@cm-irv-1.irv.broadcom.com
remote: devId:twhite
remote: Author-tross
remote: devId:tross
remote: Author-ignatius
remote: devId:ignatius
remote: Author-czacker
remote: devId:czacker
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-twhite@cm-irv-1.irv.broadcom.com
remote: devId:twhite
remote: Author-tross
remote: devId:tross
remote: Author-czacker
remote: devId:czacker
remote: Author-czacker
remote: devId:czacker
remote: Author-tross
remote: devId:tross
remote: Author-tross
remote: devId:tross
remote: Author-czacker
remote: devId:czacker
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-venky@cm-irv-1.irv.broadcom.com
remote: devId:venky
remote: Author-avagin@openvz.org
remote: devId:avagin
remote: Author-edumazet@google.com
remote: devId:edumazet
remote: Author-brouer@redhat.com
remote: devId:brouer
remote: Author-rp888308
remote: devId:rp888308
remote: Author-brouer@redhat.com
remote: devId:brouer
remote: Author-brouer@redhat.com
remote: devId:brouer
remote: Author-brouer@redhat.com
remote: devId:brouer
remote: Author-rp888308
remote: devId:rp888308
remote: Author-czacker
remote: devId:czacker
remote: Author-czacker
remote: devId:czacker
remote: Author-robey
remote: devId:robey
remote: Author-tross
remote: devId:tross
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-tross
remote: devId:tross
remote: Author-tross
remote: devId:tross
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-ptimariu
remote: devId:ptimariu
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-czacker
remote: devId:czacker
remote: Author-robey
remote: devId:robey
remote: Author-tross
remote: devId:tross
remote: Author-akatre
remote: devId:akatre
remote: Author-tross
remote: devId:tross
remote: Author-rp888308
remote: devId:rp888308
remote: Author-tross
remote: devId:tross
remote: Author-skern
remote: devId:skern
remote: Author-skern
remote: devId:skern
remote: Author-skern
remote: devId:skern
remote: Author-tross
remote: devId:tross
remote: Author-tross
remote: devId:tross
remote: Author-tross
remote: devId:tross
remote: Author-tross
remote: devId:tross
remote: Author-skern
remote: devId:skern
remote: Author-skern
remote: devId:skern
remote: Author-skern
remote: devId:skern
remote: Author-skern
remote: devId:skern
remote: Author-ignatius
remote: devId:ignatius
remote: Author-ignatius
remote: devId:ignatius
remote: Author-skern
remote: devId:skern
remote: Author-venky@cm-irv-1.irv.broadcom.com
remote: devId:venky
remote: Author-skern
remote: devId:skern
remote: Author-tross
remote: devId:tross
remote: Author-tross
remote: devId:tross
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-tross
remote: devId:tross
remote: Author-petersu
remote: devId:petersu
remote: Author-petersu
remote: devId:petersu
remote: Author-wubei
remote: devId:wubei
remote: Author-petersu
remote: devId:petersu
remote: Author-enderby@lc-atl-221.atl.broadcom.com
remote: devId:enderby
remote: Author-snanda
remote: devId:snanda
remote: Author-snanda
remote: devId:snanda
remote: Author-tross
remote: devId:tross
remote: Author-jcyr
remote: devId:jcyr
remote: Author-snanda
remote: devId:snanda
remote: Author-natarajs
remote: devId:natarajs
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-tross
remote: devId:tross
remote: Author-tross
remote: devId:tross
remote: Author-enderby@lc-atl-221.atl.broadcom.com
remote: devId:enderby
remote: Author-tross
remote: devId:tross
remote: Author-ddjurovic
remote: devId:ddjurovic
remote: Author-czacker
remote: devId:czacker
remote: Author-venky@cm-irv-1.lvn.broadcom.net
remote: devId:venky
remote: Author-venky@cm-irv-1.lvn.broadcom.net
remote: devId:venky
remote: Author-czacker
remote: devId:czacker
remote: Author-enderby@lc-atl-221.atl.broadcom.com
remote: devId:enderby
remote: Author-ddjurovic
remote: devId:ddjurovic
remote: Author-natarajs
remote: devId:natarajs
remote: Author-akatre
remote: devId:akatre
remote: Author-tross
remote: devId:tross
remote: Author-tross
remote: devId:tross
remote: Author-tross
remote: devId:tross
remote: Author-tross
remote: devId:tross
remote: Author-rp888308
remote: devId:rp888308
remote: Author-tross
remote: devId:tross
remote: Author-ddjurovic
remote: devId:ddjurovic
remote: Author-ddjurovic
remote: devId:ddjurovic
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-ddjurovic
remote: devId:ddjurovic
remote: Author-dw888152
remote: devId:dw888152
remote: Author-rp888308
remote: devId:rp888308
remote: Author-ddjurovic
remote: devId:ddjurovic
remote: Author-skern
remote: devId:skern
remote: Author-ddjurovic
remote: devId:ddjurovic
remote: Author-natarajs
remote: devId:natarajs
remote: Author-tnobes
remote: devId:tnobes
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-enderby@lc-atl-221.atl.broadcom.com
remote: devId:enderby
remote: Author-twhite@cm-irv-1.irv.broadcom.com
remote: devId:twhite
remote: Author-tross
remote: devId:tross
remote: Author-yanhaih
remote: devId:yanhaih
remote: Author-twhite@cm-irv-1.irv.broadcom.com
remote: devId:twhite
remote: Author-skern
remote: devId:skern
remote: Author-tross
remote: devId:tross
remote: Author-ignatius
remote: devId:ignatius
remote: Author-czacker
remote: devId:czacker
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-twhite@cm-irv-1.irv.broadcom.com
remote: devId:twhite
remote: Author-tross
remote: devId:tross
remote: Author-czacker
remote: devId:czacker
remote: Author-czacker
remote: devId:czacker
remote: Author-tross
remote: devId:tross
remote: Author-tross
remote: devId:tross
remote: Author-apang
remote: devId:apang
remote: Author-czacker
remote: devId:czacker
remote: Author-skern
remote: devId:skern
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-venky@cm-irv-1.irv.broadcom.com
remote: devId:venky
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-avagin@openvz.org
remote: devId:avagin
remote: Author-edumazet@google.com
remote: devId:edumazet
remote: Author-brouer@redhat.com
remote: devId:brouer
remote: Author-rp888308
remote: devId:rp888308
remote: Author-brouer@redhat.com
remote: devId:brouer
remote: Author-brouer@redhat.com
remote: devId:brouer
remote: Author-brouer@redhat.com
remote: devId:brouer
remote: Author-rp888308
remote: devId:rp888308
remote: Author-enderby@lc-atl-221.atl.broadcom.com
remote: devId:enderby
remote: Author-czacker
remote: devId:czacker
remote: Author-czacker
remote: devId:czacker
remote: Author-apang
remote: devId:apang
remote: Author-robey
remote: devId:robey
remote: Author-tross
remote: devId:tross
remote: Author-ddjurovic
remote: devId:ddjurovic
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-tross
remote: devId:tross
remote: Author-tross
remote: devId:tross
remote: Author-petersu
remote: devId:petersu
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-ptimariu
remote: devId:ptimariu
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-robey
remote: devId:robey
remote: Author-czacker
remote: devId:czacker
remote: Author-czacker
remote: devId:czacker
remote: Author-skern
remote: devId:skern
remote: Author-robey
remote: devId:robey
remote: Author-tross
remote: devId:tross
remote: Author-akatre
remote: devId:akatre
remote: Author-tross
remote: devId:tross
remote: Author-rp888308
remote: devId:rp888308
remote: Author-skern
remote: devId:skern
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-czacker
remote: devId:czacker
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-skern
remote: devId:skern
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-czacker
remote: devId:czacker
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-csoto
remote: devId:csoto
remote: Author-twhite@cm-irv-1.irv.broadcom.com
remote: devId:twhite
remote: Author-twhite@cm-irv-1.irv.broadcom.com
remote: devId:twhite
remote: Author-twhite@cm-irv-1.irv.broadcom.com
remote: devId:twhite
remote: Author-enderby@lc-atl-221.atl.broadcom.com
remote: devId:enderby
remote: Author-enderby@lc-atl-221.atl.broadcom.com
remote: devId:enderby
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-skern
remote: devId:skern
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-jaydenku
remote: devId:jaydenku
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-tross
remote: devId:tross
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-czacker
remote: devId:czacker
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-tross
remote: devId:tross
remote: Author-tross
remote: devId:tross
remote: Author-tross
remote: devId:tross
remote: Author-tross
remote: devId:tross
remote: Author-jaydenku
remote: devId:jaydenku
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-tross
remote: devId:tross
remote: Author-tross
remote: devId:tross
remote: Author-tross
remote: devId:tross
remote: Author-tross
remote: devId:tross
remote: Author-petersu
remote: devId:petersu
remote: Author-czacker@cm-irv-1.irv.broadcom.com
remote: devId:czacker
remote: Author-czacker@cm-irv-1.irv.broadcom.com
remote: devId:czacker
remote: Author-tross
remote: devId:tross
remote: Author-tross
remote: devId:tross
remote: Author-doug.berger
remote: devId:doug.berger
remote: Author-doug.berger
remote: devId:doug.berger
remote: Author-skern
remote: devId:skern
remote: Author-petersu
remote: devId:petersu
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-skern
remote: devId:skern
remote: Author-yanhaih
remote: devId:yanhaih
remote: Author-skern
remote: devId:skern
remote: Author-tross
remote: devId:tross
remote: Author-yanhaih
remote: devId:yanhaih
remote: Author-tross
remote: devId:tross
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-skern
remote: devId:skern
remote: Author-skern
remote: devId:skern
remote: Author-ptimariu
remote: devId:ptimariu
remote: Author-skern
remote: devId:skern
remote: Author-tross
remote: devId:tross
remote: Author-ptimariu
remote: devId:ptimariu
remote: Author-csoto
remote: devId:csoto
remote: Author-alexchu
remote: devId:alexchu
remote: Author-doug.berger
remote: devId:doug.berger
remote: Author-florian.fainelli
remote: devId:florian.fainelli
remote: Author-florian.fainelli
remote: devId:florian.fainelli
remote: Author-florian.fainelli
remote: devId:florian.fainelli
remote: Author-florian.fainelli
remote: devId:florian.fainelli
remote: Author-dchinner@redhat.com
remote: devId:dchinner
remote: Author-kdasu
remote: devId:kdasu
remote: Author-florian.fainelli
remote: devId:florian.fainelli
remote: Author-edwin.chan
remote: devId:edwin.chan
remote: Author-florian.fainelli
remote: devId:florian.fainelli
remote: Author-florian.fainelli
remote: devId:florian.fainelli
remote: Author-doug.berger
remote: devId:doug.berger
remote: Author-florian.fainelli
remote: devId:florian.fainelli
remote: Author-zhang
remote: devId:zhang
remote: Author-al.cooper
remote: devId:al.cooper
remote: Author-florian.fainelli
remote: devId:florian.fainelli
remote: Author-yevgeny@perception-point.io
remote: devId:yevgeny
remote: Author-wsa@the-dreams.de
remote: devId:wsa
remote: Author-florian.fainelli
remote: devId:florian.fainelli
remote: Author-florian.fainelli
remote: devId:florian.fainelli
remote: Author-justin.chen
remote: devId:justin.chen
remote: Author-james.quinlan
remote: devId:james.quinlan
remote: Author-james.quinlan
remote: devId:james.quinlan
remote: Author-jquinlan
remote: devId:jquinlan
remote: Author-jquinlan
remote: devId:jquinlan
remote: Author-florian.fainelli
remote: devId:florian.fainelli
remote: Author-douglasb
remote: devId:douglasb
remote: Author-douglasb
remote: devId:douglasb
remote: Author-douglasb
remote: devId:douglasb
remote: Author-fainelli
remote: devId:fainelli
remote: Author-douglasb
remote: devId:douglasb
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-douglasb
remote: devId:douglasb
remote: Author-douglasb
remote: devId:douglasb
remote: Author-fainelli
remote: devId:fainelli
remote: Author-acooper
remote: devId:acooper
remote: Author-douglasb
remote: devId:douglasb
remote: Author-douglasb
remote: devId:douglasb
remote: Author-kdasu.kdev@gmail.com
remote: devId:kdasu.kdev
remote: Author-kdasu
remote: devId:kdasu
remote: Author-fainelli
remote: devId:fainelli
remote: Author-dpetigara
remote: devId:dpetigara
remote: Author-jquinlan
remote: devId:jquinlan
remote: Author-benzh@chromium.org
remote: devId:benzh
remote: Author-jquinlan
remote: devId:jquinlan
remote: Author-fainelli
remote: devId:fainelli
remote: Author-douglasb
remote: devId:douglasb
remote: Author-douglasb
remote: devId:douglasb
remote: Author-mmayer
remote: devId:mmayer
remote: Author-mmayer
remote: devId:mmayer
remote: Author-acooper
remote: devId:acooper
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-srae
remote: devId:srae
remote: Author-fainelli
remote: devId:fainelli
remote: Author-kdasu
remote: devId:kdasu
remote: Author-dpetigara
remote: devId:dpetigara
remote: Author-dpetigara
remote: devId:dpetigara
remote: Author-kdasu
remote: devId:kdasu
remote: Author-kdasu
remote: devId:kdasu
remote: Author-kdasu
remote: devId:kdasu
remote: Author-kdasu
remote: devId:kdasu
remote: Author-kdasu
remote: devId:kdasu
remote: Author-kdasu
remote: devId:kdasu
remote: Author-kdasu
remote: devId:kdasu
remote: Author-acooper
remote: devId:acooper
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-douglasb
remote: devId:douglasb
remote: Author-fainelli
remote: devId:fainelli
remote: Author-davem@davemloft.net
remote: devId:davem
remote: Author-acooper
remote: devId:acooper
remote: Author-acooper
remote: devId:acooper
remote: Author-adrian.hunter@intel.com
remote: devId:adrian.hunter
remote: Author-pgynther@google.com
remote: devId:pgynther
remote: Author-adrian.hunter@intel.com
remote: devId:adrian.hunter
remote: Author-adrian.hunter@intel.com
remote: devId:adrian.hunter
remote: Author-Justinc1
remote: devId:Justinc1
remote: Author-tross
remote: devId:tross
remote: Author-jquinlan
remote: devId:jquinlan
remote: Author-jquinlan
remote: devId:jquinlan
remote: Author-jquinlan
remote: devId:jquinlan
remote: Author-acooper
remote: devId:acooper
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-f.fainelli@gmail.com
remote: devId:f.fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-romain.izard.pro@gmail.com
remote: devId:romain.izard.pro
remote: Author-dmitry.torokhov@gmail.com
remote: devId:dmitry.torokhov
remote: Author-gregory
remote: devId:gregory
remote: Author-gregory
remote: devId:gregory
remote: Author-gregory
remote: devId:gregory
remote: Author-gregory
remote: devId:gregory
remote: Author-gregory
remote: devId:gregory
remote: Author-gregory
remote: devId:gregory
remote: Author-gregory
remote: devId:gregory
remote: Author-gregory
remote: devId:gregory
remote: Author-gregory
remote: devId:gregory
remote: Author-computersforpeace@gmail.com
remote: devId:computersforpeace
remote: Author-b.galvani@gmail.com
remote: devId:b.galvani
remote: Author-gregory
remote: devId:gregory
remote: Author-dpetigara
remote: devId:dpetigara
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-Justinc1
remote: devId:Justinc1
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-rmk+kernel@arm.linux.org.uk
remote: devId:rmk+kernel
remote: Author-arnd@arndb.de
remote: devId:arnd
remote: Author-gregory
remote: devId:gregory
remote: Author-fainelli
remote: devId:fainelli
remote: Author-gregory
remote: devId:gregory
remote: Author-gregory
remote: devId:gregory
remote: Author-Justinc1
remote: devId:Justinc1
remote: Author-ben.hutchings@codethink.co.uk
remote: devId:ben.hutchings
remote: Author-brian@houston-radar.com
remote: devId:brian
remote: Author-douglasb
remote: devId:douglasb
remote: Author-douglasb
remote: devId:douglasb
remote: Author-douglasb
remote: devId:douglasb
remote: Author-kdasu
remote: devId:kdasu
remote: Author-dpetigara
remote: devId:dpetigara
remote: Author-pgynther@google.com
remote: devId:pgynther
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-pgynther@google.com
remote: devId:pgynther
remote: Author-pgynther@google.com
remote: devId:pgynther
remote: Author-dpetigara
remote: devId:dpetigara
remote: Author-dpetigara
remote: devId:dpetigara
remote: Author-dpetigara
remote: devId:dpetigara
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-cernekee@gmail.com
remote: devId:cernekee
remote: Author-cernekee@gmail.com
remote: devId:cernekee
remote: Author-gregory
remote: devId:gregory
remote: Author-gregory
remote: devId:gregory
remote: Author-gregory
remote: devId:gregory
remote: Author-acooper
remote: devId:acooper
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-gregory
remote: devId:gregory
remote: Author-acooper
remote: devId:acooper
remote: Author-acooper
remote: devId:acooper
remote: Author-acooper
remote: devId:acooper
remote: Author-acooper
remote: devId:acooper
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-linville@tuxdriver.com
remote: devId:linville
remote: Author-dan.carpenter@oracle.com
remote: devId:dan.carpenter
remote: Author-fainelli
remote: devId:fainelli
remote: Author-gregory
remote: devId:gregory
remote: Author-fainelli
remote: devId:fainelli
remote: Author-acooper
remote: devId:acooper
remote: Author-gregory
remote: devId:gregory
remote: Author-acooper
remote: devId:acooper
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-zonque@gmail.com
remote: devId:zonque
remote: Author-zonque@gmail.com
remote: devId:zonque
remote: Author-f.fainelli@gmail.com
remote: devId:f.fainelli
remote: Author-zonque@gmail.com
remote: devId:zonque
remote: Author-acooper
remote: devId:acooper
remote: Author-acooper
remote: devId:acooper
remote: Author-shyi
remote: devId:shyi
remote: Author-shyi
remote: devId:shyi
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-gregory
remote: devId:gregory
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-acooper
remote: devId:acooper
remote: Author-gregory
remote: devId:gregory
remote: Author-gregory
remote: devId:gregory
remote: Author-gregory
remote: devId:gregory
remote: Author-jquinlan
remote: devId:jquinlan
remote: Author-jquinlan
remote: devId:jquinlan
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-gregory
remote: devId:gregory
remote: Author-gregory
remote: devId:gregory
remote: Author-gregory
remote: devId:gregory
remote: Author-gregory
remote: devId:gregory
remote: Author-gregory
remote: devId:gregory
remote: Author-gregory
remote: devId:gregory
remote: Author-jarkko.nikula@linux.intel.com
remote: devId:jarkko.nikula
remote: Author-pebolle@tiscali.nl
remote: devId:pebolle
remote: Author-treding@nvidia.com
remote: devId:treding
remote: Author-linus.walleij@linaro.org
remote: devId:linus.walleij
remote: Author-linus.walleij@linaro.org
remote: devId:linus.walleij
remote: Author-linus.walleij@linaro.org
remote: devId:linus.walleij
remote: Author-linus.walleij@linaro.org
remote: devId:linus.walleij
remote: Author-linus.walleij@linaro.org
remote: devId:linus.walleij
remote: Author-linus.walleij@linaro.org
remote: devId:linus.walleij
remote: Author-tglx@linutronix.de
remote: devId:tglx
remote: Author-mika.westerberg@linux.intel.com
remote: devId:mika.westerberg
remote: Author-linus.walleij@linaro.org
remote: devId:linus.walleij
remote: Author-richard.genoud@gmail.com
remote: devId:richard.genoud
remote: Author-acourbot@nvidia.com
remote: devId:acourbot
remote: Author-gregory
remote: devId:gregory
remote: Author-gregory
remote: devId:gregory
remote: Author-gregory
remote: devId:gregory
remote: Author-gregory
remote: devId:gregory
remote: Author-gregory
remote: devId:gregory
remote: Author-gregory
remote: devId:gregory
remote: Author-gregory
remote: devId:gregory
remote: Author-gregory
remote: devId:gregory
remote: Author-gregory
remote: devId:gregory
remote: Author-gregory
remote: devId:gregory
remote: Author-gregory
remote: devId:gregory
remote: Author-gregory
remote: devId:gregory
remote: Author-gregory
remote: devId:gregory
remote: Author-gregory
remote: devId:gregory
remote: Author-jquinlan
remote: devId:jquinlan
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-gregory
remote: devId:gregory
remote: Author-gregory
remote: devId:gregory
remote: Author-gregory
remote: devId:gregory
remote: Author-gregory
remote: devId:gregory
remote: Author-gregory
remote: devId:gregory
remote: Author-gregory
remote: devId:gregory
remote: Author-johan@kernel.org
remote: devId:johan
remote: Author-acourbot@nvidia.com
remote: devId:acourbot
remote: Author-tony@atomide.com
remote: devId:tony
remote: Author-treding@nvidia.com
remote: devId:treding
remote: Author-treding@nvidia.com
remote: devId:treding
remote: Author-acourbot@nvidia.com
remote: devId:acourbot
remote: Author-rahulbedarkar89@gmail.com
remote: devId:rahulbedarkar89
remote: Author-p.zabel@pengutronix.de
remote: devId:p.zabel
remote: Author-jquinlan
remote: devId:jquinlan
remote: Author-grmoore@altera.com
remote: devId:grmoore
remote: Author-acooper
remote: devId:acooper
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-bergo.torino@gmail.com
remote: devId:bergo.torino
remote: Author-rretanubun.work@gmail.com
remote: devId:rretanubun.work
remote: Author-thomas.petazzoni@free-electrons.com
remote: devId:thomas.petazzoni
remote: Author-thomas.petazzoni@free-electrons.com
remote: devId:thomas.petazzoni
remote: Author-thomas.petazzoni@free-electrons.com
remote: devId:thomas.petazzoni
remote: Author-gregory
remote: devId:gregory
remote: Author-jquinlan
remote: devId:jquinlan
remote: Author-gregory
remote: devId:gregory
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-norris
remote: devId:norris
remote: Author-tklauser@distanz.ch
remote: devId:tklauser
remote: Author-norris
remote: devId:norris
remote: Author-norris
remote: devId:norris
remote: Author-treding@nvidia.com
remote: devId:treding
remote: Author-norris
remote: devId:norris
remote: Author-ulf.hansson@linaro.org
remote: devId:ulf.hansson
remote: Author-gregory
remote: devId:gregory
remote: Author-gregory
remote: devId:gregory
remote: Author-gregory
remote: devId:gregory
remote: Author-heiko.stuebner@bqreaders.com
remote: devId:heiko.stuebner
remote: Author-acooper
remote: devId:acooper
remote: Author-norris
remote: devId:norris
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-f.fainelli@gmail.com
remote: devId:f.fainelli
remote: Author-norris
remote: devId:norris
remote: Author-norris
remote: devId:norris
remote: Author-computersforpeace@gmail.com
remote: devId:computersforpeace
remote: Author-computersforpeace@gmail.com
remote: devId:computersforpeace
remote: Author-computersforpeace@gmail.com
remote: devId:computersforpeace
remote: Author-s.hauer@pengutronix.de
remote: devId:s.hauer
remote: Author-s.hauer@pengutronix.de
remote: devId:s.hauer
remote: Author-s.hauer@pengutronix.de
remote: devId:s.hauer
remote: Author-s.hauer@pengutronix.de
remote: devId:s.hauer
remote: Author-s.hauer@pengutronix.de
remote: devId:s.hauer
remote: Author-s.hauer@pengutronix.de
remote: devId:s.hauer
remote: Author-s.hauer@pengutronix.de
remote: devId:s.hauer
remote: Author-s.hauer@pengutronix.de
remote: devId:s.hauer
remote: Author-s.hauer@pengutronix.de
remote: devId:s.hauer
remote: Author-nm@ti.com
remote: devId:nm
remote: Author-l.majewski@samsung.com
remote: devId:l.majewski
remote: Author-punit.agrawal@arm.com
remote: devId:punit.agrawal
remote: Author-l.majewski@samsung.com
remote: devId:l.majewski
remote: Author-l.majewski@samsung.com
remote: devId:l.majewski
remote: Author-l.majewski@samsung.com
remote: devId:l.majewski
remote: Author-l.majewski@samsung.com
remote: devId:l.majewski
remote: Author-l.majewski@samsung.com
remote: devId:l.majewski
remote: Author-l.majewski@samsung.com
remote: devId:l.majewski
remote: Author-javi.merino@arm.com
remote: devId:javi.merino
remote: Author-srinivas.pandruvada@linux.intel.com
remote: devId:srinivas.pandruvada
remote: Author-edubezval@gmail.com
remote: devId:edubezval
remote: Author-yaodongdong@huawei.com
remote: devId:yaodongdong
remote: Author-vz@mleia.com
remote: devId:vz
remote: Author-l.majewski@samsung.com
remote: devId:l.majewski
remote: Author-ldewangan@nvidia.com
remote: devId:ldewangan
remote: Author-punit.agrawal@arm.com
remote: devId:punit.agrawal
remote: Author-punit.agrawal@arm.com
remote: devId:punit.agrawal
remote: Author-punit.agrawal@arm.com
remote: devId:punit.agrawal
remote: Author-javi.merino@arm.com
remote: devId:javi.merino
remote: Author-punit.agrawal@arm.com
remote: devId:punit.agrawal
remote: Author-sboyd@codeaurora.org
remote: devId:sboyd
remote: Author-norris
remote: devId:norris
remote: Author-norris
remote: devId:norris
remote: Author-norris
remote: devId:norris
remote: Author-norris
remote: devId:norris
remote: Author-norris
remote: devId:norris
remote: Author-norris
remote: devId:norris
remote: Author-norris
remote: devId:norris
remote: Author-norris
remote: devId:norris
remote: Author-norris
remote: devId:norris
remote: Author-norris
remote: devId:norris
remote: Author-norris
remote: devId:norris
remote: Author-norris
remote: devId:norris
remote: Author-norris
remote: devId:norris
remote: Author-santosh.shilimkar@ti.com
remote: devId:santosh.shilimkar
remote: Author-norris
remote: devId:norris
remote: Author-norris
remote: devId:norris
remote: Author-norris
remote: devId:norris
remote: Author-norris
remote: devId:norris
remote: Author-norris
remote: devId:norris
remote: Author-sboyd@codeaurora.org
remote: devId:sboyd
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-gregory
remote: devId:gregory
remote: Author-gregory
remote: devId:gregory
remote: Author-gregory
remote: devId:gregory
remote: Author-gregory
remote: devId:gregory
remote: Author-jquinlan
remote: devId:jquinlan
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-acooper
remote: devId:acooper
remote: Author-jquinlan
remote: devId:jquinlan
remote: Author-jquinlan
remote: devId:jquinlan
remote: Author-jquinlan
remote: devId:jquinlan
remote: Author-jquinlan
remote: devId:jquinlan
remote: Author-jquinlan
remote: devId:jquinlan
remote: Author-jquinlan
remote: devId:jquinlan
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-gregory
remote: devId:gregory
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-norris
remote: devId:norris
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-norris
remote: devId:norris
remote: Author-fainelli
remote: devId:fainelli
remote: Author-acooper
remote: devId:acooper
remote: Author-norris
remote: devId:norris
remote: Author-computersforpeace@gmail.com
remote: devId:computersforpeace
remote: Author-cernekee
remote: devId:cernekee
remote: Author-gregory
remote: devId:gregory
remote: Author-gregory
remote: devId:gregory
remote: Author-gregory
remote: devId:gregory
remote: Author-fainelli
remote: devId:fainelli
remote: Author-gregory
remote: devId:gregory
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-norris
remote: devId:norris
remote: Author-norris
remote: devId:norris
remote: Author-norris
remote: devId:norris
remote: Author-norris
remote: devId:norris
remote: Author-gregory
remote: devId:gregory
remote: Author-arnd@arndb.de
remote: devId:arnd
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-dpetigara
remote: devId:dpetigara
remote: Author-gregory
remote: devId:gregory
remote: Author-vishnu.ps@samsung.com
remote: devId:vishnu.ps
remote: Author-pintu.k@samsung.com
remote: devId:pintu.k
remote: Author-pintu.k@samsung.com
remote: devId:pintu.k
remote: Author-kdasu
remote: devId:kdasu
remote: Author-kdasu
remote: devId:kdasu
remote: Author-kdasu
remote: devId:kdasu
remote: Author-gregory.0xf0@gmail.com
remote: devId:gregory.0xf0
remote: Author-mina86@mina86.com
remote: devId:mina86
remote: Author-norris
remote: devId:norris
remote: Author-norris
remote: devId:norris
remote: Author-norris
remote: devId:norris
remote: Author-norris
remote: devId:norris
remote: Author-norris
remote: devId:norris
remote: Author-fainelli
remote: devId:fainelli
remote: Author-gregory
remote: devId:gregory
remote: Author-gregory
remote: devId:gregory
remote: Author-gregory
remote: devId:gregory
remote: Author-gregory
remote: devId:gregory
remote: Author-iamjoonsoo.kim@lge.com
remote: devId:iamjoonsoo.kim
remote: Author-iamjoonsoo.kim@lge.com
remote: devId:iamjoonsoo.kim
remote: Author-iamjoonsoo.kim@lge.com
remote: devId:iamjoonsoo.kim
remote: Author-iamjoonsoo.kim@lge.com
remote: devId:iamjoonsoo.kim
remote: Author-iamjoonsoo.kim@lge.com
remote: devId:iamjoonsoo.kim
remote: Author-iamjoonsoo.kim@lge.com
remote: devId:iamjoonsoo.kim
remote: Author-mgorman@suse.de
remote: devId:mgorman
remote: Author-weijie.yang@samsung.com
remote: devId:weijie.yang
remote: Author-m.szyprowski@samsung.com
remote: devId:m.szyprowski
remote: Author-robh@kernel.org
remote: devId:robh
remote: Author-m.szyprowski@samsung.com
remote: devId:m.szyprowski
remote: Author-laurent.pinchart+renesas@ideasonboard.com
remote: devId:laurent.pinchart+renesas
remote: Author-laurent.pinchart+renesas@ideasonboard.com
remote: devId:laurent.pinchart+renesas
remote: Author-laurent.pinchart+renesas@ideasonboard.com
remote: devId:laurent.pinchart+renesas
remote: Author-laurent.pinchart+renesas@ideasonboard.com
remote: devId:laurent.pinchart+renesas
remote: Author-weijie.yang@samsung.com
remote: devId:weijie.yang
remote: Author-jdelvare@suse.de
remote: devId:jdelvare
remote: Author-m.szyprowski@samsung.com
remote: devId:m.szyprowski
remote: Author-iamjoonsoo.kim@lge.com
remote: devId:iamjoonsoo.kim
remote: Author-iamjoonsoo.kim@lge.com
remote: devId:iamjoonsoo.kim
remote: Author-iamjoonsoo.kim@lge.com
remote: devId:iamjoonsoo.kim
remote: Author-iamjoonsoo.kim@lge.com
remote: devId:iamjoonsoo.kim
remote: Author-akinobu.mita@gmail.com
remote: devId:akinobu.mita
remote: Author-akinobu.mita@gmail.com
remote: devId:akinobu.mita
remote: Author-iamjoonsoo.kim@lge.com
remote: devId:iamjoonsoo.kim
remote: Author-gioh.kim@lge.com
remote: devId:gioh.kim
remote: Author-gioh.kim@lge.com
remote: devId:gioh.kim
remote: Author-lauraa@codeaurora.org
remote: devId:lauraa
remote: Author-norris
remote: devId:norris
remote: Author-norris
remote: devId:norris
remote: Author-norris
remote: devId:norris
remote: Author-fainelli
remote: devId:fainelli
remote: Author-fainelli
remote: devId:fainelli
remote: Author-jonghwa3.lee@samsung.com
remote: devId:jonghwa3.lee
remote: Author-norris
remote: devId:norris
remote: Author-tross
remote: devId:tross
remote: Author-tross
remote: devId:tross
remote: Author-czacker@cm-irv-1.irv.broadcom.com
remote: devId:czacker
remote: Author-czacker@cm-irv-1.irv.broadcom.com
remote: devId:czacker
remote: Author-tross
remote: devId:tross
remote: Author-tross
remote: devId:tross
remote: Author-tross
remote: devId:tross
remote: Author-skern
remote: devId:skern
remote: Author-tross
remote: devId:tross
remote: Author-enderby@lc-atl-221.atl.broadcom.com
remote: devId:enderby
remote: Author-czacker@cm-irv-1.irv.broadcom.com
remote: devId:czacker
remote: Author-czacker@cm-irv-1.irv.broadcom.com
remote: devId:czacker
remote: Author-czacker@cm-irv-1.irv.broadcom.com
remote: devId:czacker
remote: Author-akatre
remote: devId:akatre
remote: Author-ptimariu
remote: devId:ptimariu
remote: Author-skern
remote: devId:skern
remote: Author-newcomer
remote: devId:newcomer
remote: Author-newcomer
remote: devId:newcomer
remote: Author-newcomer
remote: devId:newcomer
remote: Author-skern
remote: devId:skern
remote: Author-petersu
remote: devId:petersu
remote: Author-skern
remote: devId:skern
remote: Author-skern
remote: devId:skern
remote: Author-ignatius
remote: devId:ignatius
remote: Author-ignatius
remote: devId:ignatius
remote: Author-tross
remote: devId:tross
remote: Author-skern
remote: devId:skern
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-twhite@cm-irv-1.irv.broadcom.com
remote: devId:twhite
remote: Author-venky@cm-irv-1.irv.broadcom.com
remote: devId:venky
remote: Author-skern
remote: devId:skern
remote: Author-smuller
remote: devId:smuller
remote: Author-snanda
remote: devId:snanda
remote: Author-yanhaih
remote: devId:yanhaih
remote: Author-tross
remote: devId:tross
remote: Author-tross
remote: devId:tross
remote: Author-tross
remote: devId:tross
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-tross
remote: devId:tross
remote: Author-enderby@lc-atl-221.atl.broadcom.com
remote: devId:enderby
remote: Author-enderby@lc-atl-221.atl.broadcom.com
remote: devId:enderby
remote: Author-jcyr
remote: devId:jcyr
remote: Author-jcyr
remote: devId:jcyr
remote: Author-czacker@cm-irv-1.irv.broadcom.com
remote: devId:czacker
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-tross
remote: devId:tross
remote: Author-jcyr
remote: devId:jcyr
remote: Author-ignatius
remote: devId:ignatius
remote: Author-jcyr
remote: devId:jcyr
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-yanhaih
remote: devId:yanhaih
remote: Author-tross
remote: devId:tross
remote: Author-petersu
remote: devId:petersu
remote: Author-petersu
remote: devId:petersu
remote: Author-wubei
remote: devId:wubei
remote: Author-petersu
remote: devId:petersu
remote: Author-enderby@lc-atl-221.atl.broadcom.com
remote: devId:enderby
remote: Author-snanda
remote: devId:snanda
remote: Author-snanda
remote: devId:snanda
remote: Author-tross
remote: devId:tross
remote: Author-jcyr
remote: devId:jcyr
remote: Author-snanda
remote: devId:snanda
remote: Author-natarajs
remote: devId:natarajs
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-tross
remote: devId:tross
remote: Author-petersu
remote: devId:petersu
remote: Author-tross
remote: devId:tross
remote: Author-jayeshp
remote: devId:jayeshp
remote: Author-yanhaih
remote: devId:yanhaih
remote: Author-tross
remote: devId:tross
remote: Author-petersu
remote: devId:petersu
remote: Author-petersu
remote: devId:petersu
remote: Author-wubei
remote: devId:wubei
remote: Author-enderby@lc-atl-221.atl.broadcom.com
remote: devId:enderby
remote: Author-petersu
remote: devId:petersu
remote: Author-enderby@lc-atl-221.atl.broadcom.com
remote: devId:enderby
remote: Author-tross
remote: devId:tross
remote: Author-tross
remote: devId:tross
remote: -------------
remote: almost-e07b585a4bfe62cd3c49a82817fc5a10807f6697 bbc0ebee08537f1aade2e2deb4fa8da3581a6063 bbc0ebee08537f1aade2e2deb4fa8da3581a6063 86d3fd3dca70dba137accfcc20e0083441c3ba9c
remote: -------------
remote: list-3bf6a7cd9ff42bf36ca151b350a581f167d4705a 9d7d303f9fcea1cf10f500d92f02c6240c0f8947 895dd7f195c678d6fbcbc008dc3d29da68f6efc7 3792dadc91dd6afd9cf4931dd671dededfb866f4 f8173f2eb9fd55d8d3f26dddd4517270c2f05735 34d7e1dd790425cb454691630143b9ab5a250782 b9c17f8cd480e361b02530786f6c0f4f6fc75e21 855a814a0b7b8420031e7c61602d09eb485bb60f 19e8f65e37bd97e7873cb9da59fb883855a8298f 78fdf3dcbc5e05293d3fcbb256a9d29eec753b8f 98bb9be6eb15df18da4a65b0e92916abff6a09d2 75bc6868da1531cf5b152ca87dcc1ec825394740 4e4998622b47ec2b7ca70af33a61040a7f38cbe1 ba9a57b3fe6bb082a21145e377872605aff55683 53c1c746d8c51c1e005464112c3883c1c888d416 b7ac1d466993183253609d2f4de1f18bb46ed9dd 0aca476357310bc4f90c5d49729025f23e8e9dcb 89627efed5382705219eb7d387b2d4b0866cfe5b 6c98bb10e0b2a206fbdcc57213d2a019fdcb2706 4bf9616e6ce32037fc1dc3bb0961b4ea2dde3173 e0125145a2c517e68b418e9e6d73d3d37ad6ea6d 3f1025ab891489fac9b1358e2d6699562190dd6d 20d33b5b89336e266c65618844ab43b5a0f8fe04 bc6b30150d424043ce65afa1ed6c51414a5d0c98 bc8f975e03fdc5265fefa231c19a112bdd7070aa c32bb660cbcbeb5101571236b063753f833e7e21 daa41b87898c6dea15743d5a89f6a78bf4349da4 1e46a37f2a89798a030b1156e041d97ebe3d5470 fc395676ec396b2a1d00f59c48902b01e2e87f5c 5491ae68486e918283f0f32670dd1c9da1228afa 38475c96df3e4bf46749d72ebb121d9f38f01cb2 213fda7534f770c6f02a7cee2965e77846587120 2686f76256c5199354ed3c84d316349f359f022c 705fccac5079c89d3140ffe7a51534a97670ae66 6ca0aefc7d3d1a8c50bd0f90d2b25004571dec2e 7ae23b331e97a1be8025d325c6613b84208f077c 65f0792e05ea38e1bddc45bf91e3ec2ca98b6c95 2dd560c57673cee13281271f51fbb71f7639091f 57f565061400bf4a6e6503d596ff9a6ab4d4d1a6 4bb1218615d97a62d467398d1bd6c972c3357a26 ac2c754b9b3b164322a6ba157bd8a6e2079c32b5 0d40063d1e18daaff2a1be992caedb93dc9ca6de 9018036c60fb0a9371af9626927c26a0cb4cd5ad 20a6c7322be78f9913cc50fb4acd00d217959c27 0391b2a5d3ff24145a9bc83130b92e5a5bb17696 6b183af1847027179468693ecd606a81458f1456 2a768560ccd6fef69cb4e5c5166e4da1bbea1f05 f627ac826326c3d6e9f27236d77a6102c5cfe8fc 64ec9fb00bfecbc600ed691dd041f562b4914dd9 32c26759c9e537f6bb0ffc8be0f7670dfa70d72a 65bfbd01c754c88ba90c6bcf05b0e8cc8d280bae 9e7891efa85a706bda318fe7a38c008ca10a47ed ae5ad3a33622eb6f58cb6c3dae1194cad946caf3 a15076cc1cef750e77a6c80dc30537b73782a96c ab0df1aff516ba6bd6538c7a1fabe387c41157d6 fd97bafd876cca668daed14a771de3f574ccb0f5 48d2e16b8678b8bb5c96fe7edf300eaa09ffbc69 2f705c874aa0709917afbd35cf5638f09d4f7ec7 d08c14771e7b4f92ed78e6fa496b8dc45ab96d91 ff4fff6ed23a960885290450ba4f4d58baae0828 ea13a635ade747c02ce86b19d74215927c1e84c5 262d62e525dc5404b06f236db9871886e324fab1 674ce0a3e1f4d27e2471571abacea93386a61c30 0ce285ccaaf1b841ae7b756312b1270026341f84 b2bfb0ac0dd272db77c8b50de478628471e0919b 3bf4b3d894dff8440fb1769dffa3afc9689f4a40 3db2f6c177d26775e0ff5a126c47c1dbfa2af470 cf6e11c9662b8cfb189146c46748586ee5cdd40a 434a68fb298e473f3a55b8d5fded92768888efdc 8e9f92a5054c29212b35a9fbded0aca5069490a8 4e4d773fef23f18aec53f56ddd6e5f289982727c 5091d18854d701849d89e1fb4f4d37c1222e11af 044835fb79578187c03a7c2c06686358a3ac261e 79bbbb453bfb990a5bc245c335ee6e4671e0b653 42b97ea4da2f7ba5b0e6d3465db8ae2b194a3760 9d3fcac58ca7955e7522f7344978a9abfb37fc56 cb9158add35041f6bac936ec2f926ae2f233a871 775d345da995b3aeee2507516bc6898957786c9e 31c3340945c609ec70d833f1c6c875fb432571ec d0857bcd69e56b5695a4216db23c41a3141c6e36 71b871f1ff8f914675240df74270725896f5ae84 b296935597e7ccd73205d159d6e26a21d4f9fef1 a62b734ac2b1b7695dffb6b2c84b286737af311f 4affa951aa1111cac09d27139b57bf969463c140 ade1aa88f4ee002dfcd8c30a24187fc40c3b1c88 51f7464ee43afdce2e288160e000a96d6a7f1d84 ec56201bbe1221d02e7ad61f35f90ec963953fcb 2e88f3b33909a6d7193a1fb766a3ddd91cc6accb 3906080b13ae327b939e7efa0b7b4dc985185467 9b3cccd583876a1184fdacbd4b1f73ed44a4863c d80c70bb12846aa90ee521b64814966695ac67d9 a3445efa825abe33ee283e6c4897286f803a89f5 ce7e60a4fd843f23273eb674e354585a8ef91ca5 145d5ba5aff3bfe713593142a48f3a026e7ad2ed fb07490bfb5f874d577dddc90e7c51c2c06b8cae 92027977cc9bb179001a939e1cc5d106d9990920 ad46083f749c4646f3ab6d52c70c50ccaa455f8a 014737450f081ca44cf9b822b9a779754c9fec2a 07a7ea81439be76344fcc095a33750c2b754f4ac dc831cacf936967f9a4b03883cd5b6a39b793e34 953da0eccd3af01e929ed11fd8381330042eac78 463036f82a7a14bca2261c76067a6dd70f70952a 01c10f4865eb2863ad3444e424b088554b7c7981 7ea2461a4a204e1271aa60ab4dd5ee08a70fe653 9e2afa6ca28104ddcdc5b6dbea5517664bd58ccb 1e43b3fed0eacdd3b3834ea2d598ac6a3af2d17c b4e6a7f608aa32290ffa8231fc7bdda5fe64f000 17c708bad859330e5270e4b7eb4da175ad156cd1 dd216ba3e55a19e22fd7f8daacb0b93fcc36c2c0 75609788f1494130bb5243135c2f7ad40c76846d 2e8c42b77be6e3d884cc5fd7da25754eb8fb2bca bd785c578330a9ae32d1487cdfe4dccb33e4bc41 74c2fea48caf62f216e5707f1a30080a251e9ec7 ffe6d2df3f60b2871181c9d0f4e1302e2f1d315c 0fade1f34a89fad51ce13bcea6ae9869aa94f389 928c25828cbbdc5fd57e26f15608a45724d74018 316dc09b6d913c141a03fc3c9506995e612ba9b1 a9593412f7c7ec72cf74d7dcad66883845d79182 4a37f03615c4a917bba11aec259155c095e45fb8 7cfd071e51b759452d82486091a6a764a6ed9f78 50034be48df97e6427605b1b5ec48a76089c07e6 97533d6ee584a67b31400cc01b016217f55060dc 150932c5da4f2f0ecbc7bf4e2d8583a34b651254 bf6bb4c97028cd70ff8eedb72c23d7f4a837107c 7a9564c6d748210586dac169f8c7f0b4d21847eb 46499fc6a7f966e868a0a76548eff6e9c817a77f 7fcf1d1a1da69638ad0f104d563ae8d029be30c9 f92cc723f8586a9a5bc56b23410fb119ce59678e 3e4990cb804faba6407ac301c2964c805e5e0859 46369f700db7cc241bfd1f6f14e1ef41f7fedad5 ec7f7aa04fdb59849d00dfcf65ff01e0a57bb01b 3e273553fbda5f1776313e2b91f03a6e6ea659d3 98d7591c26ce17dbf4ea4d772f20ee0e24b65f89 634e1e12941a5b3b98cd9e07abeaf1c7dfa9114d 3bd281ce4480010cb9c1dc624fe9f6448b219a0c 19a47aa2d6314f467257cc90ce582db985183a45 6d63bb79fe13ff9c3527f340803c14477e12156c dc328112960c863f9c2c8ec57af3ced236bd1d32 9b923c0ef7f607be776233e13493b02c67346c7e b73ac7423735306d230832eb8078e16312d6442d e078581f4d82ed481967866208bb90b2883a0280 695dab9d415d7c4fe3adf05c995e9c65d47065f0 576b6c17840cbb7502a1189eaf29efdc88c4741d 91d7c4aecfca32d4504fd545297b48046ed04312 f963c0afcbfba6744b427ddce19700528aa607bc 5c6076a2946dff83194038cacafe0eb08e242bba 001b346e9cbcaf616e037208ab9714d3e6c39b80 5293568090698f4b32cb2958ed7d0e2e202340d2 9249b256fe95b38a48d3d42bca2c1ad23fdf852f 5d60b733cc4d63b2a46d0820f14dc37f3284489b a1e6167ccd22606351a0a43cb4c7e3a76b2562db 322f567fbe8f7f7273c6f4bfc81a302113a81391 7912299b65e10673692229c21d49d3ecd5099abe c07e7f29a4af2d84437a4f8a75f133dcee3a2b13 20a5e02490f45bd8f8de95c04ff1ad1e6991c345 1d0ca06bfdec16b6c13f8d99accbc505ea315a63 416211612ffd7e98b1ea7e0c0b6e5cfa541fc24b 4fe95e879674cf416ec981f7913dada6f4830d6d 462ea092d94bad047acc4c7b09d17a37ac0bd910 342f671455804ae90d11c9da8e1ea6678f814316 420213d385ba43c6e3c0d19ca1c95015cc557408 0dddf08b1d84e3530ed98e0170db83c5221ae906 6bf61b54866b03cddcb44312bfe52826ee62afc0 4e55b7bf37c582c2ce044ff7aba84f54b9f51172 e77547f07e3b8236f12ad73cc9105929e39181c4 98f3ca62d557007234f7ad0fe4d49fd22069ef60 dafafb7eaa498dd7f5f5c0625af06a0536db68a6 80b0aec988ca1c63e58214bb86f92d4752d72450 0ca5d111591f450e17395021adef4c3be3af3c9d 9ec93a56ee3e7b67ae8d2c3da285d1c814da2008 d6c2e043ca631cf7e22320c8860ebf2fcf785134 a2b0fe70396d564b94a42c743e0bbd04df550bf0 51d701c8c412005c54d2c7c4803a295603336869 2e898b9dfb3416e7ea1b139c3772cd8a556c8468 7bf795ad985c2c22f892983ac435e67fb7eee477 4206babd7a81495225870b90c5665c72331c8c69 0762d119abfa150ec7e068b2bf031a1bc57775bf 2f831ce931a198a256f7cc3cc95680e314747335 ecef02474df161c4f7bb992d6f607758f3cf9283 d2c28d10d80987e54fad1f93a761000b1de9eb43 4935967f006777e686e8177738786178deaafa6e c18b3d5654e34cc658ea6f0337359eb80850cf47 eefb4ab3149ec09c963e424e5cc006f3e5d96c1c 7a50dab43c3ccbf51f5d8f90fceb584d1f63ec73 1b5aa88b9c071f4717f961b6580219deb17ad6fd 5123e096a579680c045a3a53b9c8cc68a9f5fce3 0990509f8c4ba14aaa201a6c14b0a76b363b9b13 5416cd96f0345e5755eb4c1239d2423e74f1d15e b8e018f033dec833f993dd2a5d04dccd6724f5d6 e3648a6688b1d14ffb6ce4d1cbc85932f7e137f3 5124d08848cbc41e6f3f4dc492773c7f3dfbd69a a6571b37c18eb5a1e47c370d2cdfa1ccc4c80af8 8534e8ed361984aa2b7d096e5b15905c5ed64dea 7f1c998a749d3186a65233619ed75aef1751f2e7 d11f4d4bb378210488fa4d9327639a9857f592a0 81717852372cd4802d1d36f485d659a5d0814c5e 25588358b2b0b557807cfec10a84286f105087d0 165ef0fb1ca4666f0bb1bce91ecc86b11bcc2c8e ea3b51ada711a14e164ab88f6775ba39cc0476fb a2a344dc0791224eaf1595d15a1af17890dc7723 4805c7aecb941c823165818fbe6f79849b4277c3 020c504f939ffa1afcbfd10dc16b4639dcf97f1b ffac181f03def506a0390ac6ba723f203c426e0f efbf9f8ebada98f898529d6132c4f42a075c5afb 74617394c84768d943283da4f1b455d14225af30 5f726248df9221a0844f5f3913bbf287d9a228e4 e0102d9e21e78d42cecfd8ce718651381535b836 5ad26222076bdb96d5c545a6b145d2a7b200a6fe 6d245c61f0e064bc23672aea513c05884733b6d6 be515a4b4958f5ff26ad94291d62c6c24737d2a4 7ed4d4e228c5cefe474b5275d4cf30a24715be2a f3c74a967c6f05ef63282e0ddf78023ad1e0c45e c3f2ec0359acb4d00ffd912ade9ee7b6c8a93397 91eced7a3e7c19b46f725dd569b3a09d6dfbeb64 62529c7b2a412be183ddab70e77a91a0e39c2a76 a3573e09f8e0c927554c9826f775baa4e073d616 ed87a76df4a138a292424f3f7dab7cd680aad4e0 e44263e7d7fefc3f308710d6b337afc3feabf743 1f29b76d241fbe95f763b2bfdbe4eadd09213ed0 56aceff0314ae50b49e6d789189326744badd9e2 bf4f9c45944a69c39574617b4726b6b826bac0a0 fbeecd62d9fe5bc0e5c8d008aa70477ef9b48417 0e72095741afd027a349d9376c2e19452b563dbd 25ac94fc0a0deb7a887529644a8108209c7b0d34 9e69ebf9d5fa0b90b9f3a188a608ba3459a4870f 592bf7659ffdcde5f09bc1f1bcc9725183c407b4 75c0725a0c97a3acc55986ecbedfd03ceaf4347a 9037c4dd0c4406ad3cb191d5a830737d8104a0df 263ba915300c1854de3a691d936edcd844915be1 bb6e1934021a5d95e4c0071f0acccb05f16b4e6d 079d2135d5de23a3070c5118bc92f0b2daaf0c9d b4f601e01dd1e40d71bf26b6386f8d2c23d187bf 7b69b98d51b26c96008cca12a4e86d2e091b96d7 955002781e7a48ae8f57b8cce03bed7d90e7cb91 3f1b68871b9b385187f9382c19adc4b689dc4c68 4665b3008c7b9daf8194585971ce40a28056caf9 ea24fa276ebc2dbb72d5944ed26fce1972554c6c 408a1caacebb6c34f56e4a1bba346f8d0be28a0d 9b7e3f2704df8b59f994b9cbbed12e8172f4ea85 02c71b683b5af626602f30e26821fbe964951903 70b62d00dc7067f3033aeffa9b72f52e29884073 369009548266547d5962058df924c22987891bbe fa112d26dec1a1adea0f8b9a8fe87e7742202e0c 6416e26061e0e06d50aee2a0a5907d36fcab9b9c 29a2c0d62362bd13987fc53aa525677f94c74267 adf4230e54b5dd1461ce48feafaefc15255acd50 43b0a8f7cbfee6992b103e5fe2f66e879c5a1501 f6e1f1b91b07e8d60dff76905e95f772a99546ec 9c7c39e6d8a11607b05b1761d3708e88aa88e98e 1675363dededa43c5481a90cdbe5a5c87b952085 0802721b207371334633afa7c864a3a9481f2f0a 0bfcae83dd00ff3fd545a979a422a304d3070bf6 e1bbcaf510309673195d469196e173a7854d7622 7009c767f716ca41d01a038c5820423876b4b6ab 08bb52606deb61dbcf88aa3d0f7c9c3377166495 7525b99ee480bcff840dac2f42758cad38064053 cf59ea523ed4caae43ed171dce0de88f22172f2e 1628b46e05807b8249a6a214ff0db23e053404da c854fda1d36bf19c7c80b3c06174b1fdc457fb48 fa040bc1dfc1397fb925b93c99dc5bab95fce0af 29484c6938a058c7bd47d94930b3f029a8f0e5c0 8114b8ddd833d3b2dd411969d8a7fe5ca8d59730 7a315c06c6536532cd7bfde7fc9baa8b95e79424 8b2adb8d7cf1c27e35426db77ddf7c96455b1340 f446025a9b929102ca6030b5cbe7c53f5aa21553 7664a7ab3fc902abdacd4b70bbacdc09d63a1ed0 691e3c42fccde0027c7bd4f328390fd9b1f3bb35 bb6e1efc3c2d98915a1b6969c6e738b04f4c7a5f 7fdf48dfba8374213a3bad88b94ead609e38f538 2b600ec29016226bdb0788c1e24599591b00d730 149cc220fdefd1094350ae182b727f2de1237181 4f2b7a471bb7ec0867084fd4a025c5facf28eeff d68b4f8df89e249ac3a76733e8d66cbff4cca508 cb754f538a0dd9124c51e480b3de5a97e020d993 9fd074590829e869fd6ce8c711468d552e3b9e5d e1481b5b494bf8d8822af3737c9a69139e240a4e 9ce753a4e07f926599265e7213d021f9d42cdc77 47d7e2ac645a5379fe65c68441a2e4841974ad13 415deab9e1c2f1f1e95413e97fbf60ce3cfa801e d1c8c4d4414efbf1f2006bacef15a4b8c879f641 cee83f4400e443393bb88395634bb3df7fccc3cc d9d5ac6deeffe28e0eac130bd22ba56a957c889c 2fb741442b205a6e8a707b025172c4457b932337 55de505548f363ee0b36bd1b97b450a96f75da56 39ccfa09ee01354e4428d19a8df4eec658f251c9 787fded8b18c9e98f7bcd5effbaf319271e5c08b e043f4fd629ca6adb1b8ce16966dc8ad60988fc9 a358b44233c360a8da0c1b351bb953a6101761ca f1bd57100f98c335493e8619a6fbc4c8290733d6 9daf7c74d33a1009d7a494d68253f6cd8df86e48 2549a7242c30a96cf217830528f4ee239f785b4a 0003985147e99e93cbdbdc113432d42faa6fd6b9 c68abefed2d20d1910cece1ce5ef3a79e84d6b00 bff38baf0d0b7f3546b36ebc9df9bf50923e3e91 64326f0db27dc5618d845eb92d367363fa5eee72 b3d38aa9b8cb2c71040383bfa532076b81a57b99 eeb4127b1c4d05ba1964acb9fdc0c5231c1af40b 71bd2bab85b848d98cc5539552f5f2afdf5f5bcd ee0f94c55728bb6b440261350d32da66873876a1 45a1534a8eae425005f543fccd05ccdcfc416878 eabf63617fb7f9ed7d966c5f43cb0b3c32d811b7 f9a49dab2369d65b241a70bebed88bc200c3e51f 25a25591e2e93e9783640dd0944095ec7e036d46 c7e605326192495c82b02a9a35867158ed54b88c 9b49d66c38307211e8bf9e2e73b56e599ae4e041 3adac610cd38bc6ce94b6f52212827c390af067e 95786a1310e482938d947e8c76d1d169cf01c080 d1110b8222329f39584d02e06ae19f0c44918af8 cce1a8d8b9fb0a745cfbfc9a9db58a7ca7bc1ba4 13b57babad6457483b399ad08957ba545a8868dc 295a849b2c28223e7517ef28c267cd9c863515ae 9a20f6e6bd7adf338fed43588e07c47f88a75ee7 ed1ceb84e96b37023898bf8e26d885ad12463c56 63a27c799e2bd49fd52c25899e1be534115cd444 55b82dc412301acbc34896fb0b8ba63131475cf5 0580f6c4ebdec022236709e92fa0c65050ef3c2f f002359b7f84d42e72246bfcb61bf2f54cfe9d46 56332b59bd8418e31c876d540334a20a522ff9b2 91c1d8f97689fe39bdc1f0d413ee2dcd784c1fa8 8118bb22a59a7cf4aab415138c8bed3af780a836 ba5dfa6daccb293ad587392c65adb7365132833e 6138b8237beeb4b5866b435c0c06594f348a9ca8 21e9b295e87540ddeb0e052d21ca253e136660b2 51760852ac481356366b6752ce6088fd141da1cd d64ee41b3a6ac7d4d54423da031b53a3e253ffbc 4f81af53a582103715616280ff34838a25c10d16 1d3fad81b932184584281e2c2e01ca2805a0f974 5f0befd9492bfa8c4aaa81e64820aeacb56a2d44 ded217a6485b2b753eceba6b5e7d41f5a89541d3 be16f1dadef07927077e0a094d1db87051c6b27b 7d63c41ed9061e1be0708453aaff97bcde9d9a0d cb5e962ef6e95da0fe3f40778392b66eb5a02b78 51f01c29206abc10871f597bd693f8c466176253 d61f6cfee6030469f1a30b507018d08f66eba3c9 6eb030188d5196ba13fe25f536d0154acb97278e c35ed7d129787eb231ed298126d6191f086d12d3 01a086993585d1905720d2765ac2ff9dad708eec 62a991dd6ec270913273ad384096bbff957de38d 02820c6b9e23b04d6b7b4b2446a5eddd0d56d9b1 41dfe0519f26e79119a917d7660f83d84c95e063 d8fd7228adaa6e06c0f7717646cea726e3510ee9 8d10e435d9df5075fd2de3bbe2d5eed7547e1361 bfcbcd957a7f89da70e6c8cf5c722c9370deefdd a70b65f30d749941f19e04f19e5783200670eef3 e5f95aea26080513dbde1dfa43214c603b16c1d5 941edfbe909bf0118c42e54022beb809e14831c1 3c74d48a24e2e6706205254374fe87fff627b252 27b7a34d3668adca3319d4cbc3a1de307121b7ca cfd34cd2586f8c660000a841617cf2eece9dd844 e0cbf1e457f632dd980e1d1400bd96603d0b0bea fdafa516a1b81850203fac39d076407b7f7efde7 d62176eb2aa16b80ff12facc8974bb636d17c4d4 78fd28e985c209a2ae6db158232ecdee5f3c2ad7 727582aeebf883a4c24ec2a8359a35e79f488cc7 e80a498475d6f7d24f5fef5d1b6de902113f5a24 ef2fbd870fc286fbf930ce5543601b8c96d484e4 698f5e18cfed8a97f786185abb777a1a580bab25 4ad845bed3e54b81fa8a2702669822ce1b937d4e cbd4e4ac161d7327b1edf49918a8a8d5cea3c139 0a797baafcef2c925660bce1bfe300942a80d33d acc921a4725616c57dad2ee5a122c596c713d317 71d6b10b642ab215c4ec35fbd3a2e6e2ccfdce41 6efe2cb5ce74f6c7238f407b5ee3cb869c4dab4d a11be40e117804603c90427d57a8b45751f89725 b02b2d0ea211358cea2e412896e4452145049baa 6085f1e75583017f96b8a523fc490601a5557bbf 47d39ce5e8f2ad757fc284db94ebcb02907de53d 38354ead5403b98a305483e57c947ecd70ef159e 16ab96d98cee46d7beea3841129cab21f8397487 424920f51f144724b8b6eff56b999245e3423ee9 d8ad3e7e0fc10a17ba25972eeb19cde23f3f4e96 ccfdddabf57470a8bc09688ab3e636d28faaffc7 d1598bd08fa9edd373816e6d54cdb622b912440a e8bee955af7e1a9da10fd12eb41eed5d735d89f7 f2a7873518efb0bc84aef14e4b305582e95e122e 94d4ae1c0ee6bae34c4965bddbe7eb7268e3fb93 a6a306252b0612cd7fa8e2439d613e4c63d9e3fc 24fe5be650ced5ce73749a7d0f09e08d93e0d6b4 d6a04504a3cb31e1956f4911ccdb466644dd96c8 f595a32e3d210337da48af384c1a6988da34384f bcad11fe5181437003648daf2dcacae4d85fd2d5 3ff6da116cbb12741d4260cddead6edfd5f73c22 a623d84fef31b7e801ac15561ae14bc43a745770 84ad2660d35e952269d34f15825d1b9cd0b45a10 aa8f03b50b62f91601bf68f4053b997619525085 913926f068ebae6c808c83aa6147dd5573af33d4 0f84a31ebdf30dd50bb77b698769a691cb9f49b6 57181bdf3efac91de4f031b117e250606c8f50ff 696d8ead060aa7d6838a1e62f19042b74c587410 08e807f9cb65becfe7bce77ec06812383119aab5 e5ed5204e93fe377f738e21bbb16dc0e88210c30 685a0b3cecdf694a6f8ea0fff4b83ea341c28c83 ecd818810b9a31fadeac6c9d7b5c8aab8917dfc6 35091d36515fd552dd484371738932f6ffe8a54b 5a57e46fc28a207c2d9e987990dba2e9d2edae89 3cabb5689767b279423d297ac16571d08f2e96a3 ae72c5fee955561cab80473901bf655e685336ee 2b0c32606fb884bca793ff25354f3343fc43aa8b 2de0c45087f8d69b7d20961c400deea22ae3868e b3c641a5bcf18775bd8628d158b9bb74bf54340e 0b54d774b08f76e35f92017161d88a31463eae1c 05dc5040424b10278b71d37cf69dc62091b0eab2 a2eb1d0a9a0e7f3cd7dd88116730e2bb63a065f4 1a9de3d16e2cd4b287c5f726a05e14241fc46c8c f4e0c81a6bd46066b0e990419298ebdb88ca40ed 1b8e3b634cfe8021dccbf1a36cb9d1abfcf0245c dc4904d69957bd80918586b32611802e22ed7010 90219d5fd7023193411c5fdf201cb07592d959eb f352a982a5464248ff88c4a5fca1f4d7bdc7a2d9 9d8a18dad1567ab5e8b5ca89b63a4cc2e80d5bf8 7b7c6f968717589a51e498dd41b7abb799aeda87 e60759126f0e1b1987c2790d51f207f0b27910b7 cd4d68c1acfd31135621a0a29836e08cb29b37dd b2ba7cc78e8c0da62c85b0caa1d9f6c7d7d5943a 7a151291920b0e4e8c73dd341ac33d381714b446 09c574a47159ab3d1fc4b35eb4b72e6690456698 1f8e12410796db4bb45cb777cb28643d9b5aae4e dbb2d14ebd7c02d238acd18e8696913119974c6d 13857a1df5543d6393132dfb2d5c489d985e6b45 3b93f76c52456005f239bff354971c91a2f82776 f26f3557e80dc32b0e49b24b16cfe822c63e8b19 cfc41550bfb81f183e3a2c654cb95d8088480fee b026342b4683e6301ec7f28f38ea942a2c6c2ae0 b78174960ad16b7268c7b144061304bc64889799 8faa026097f16dfcdb84c36bc213b86d2960a010 b1975a524a9093e713115643addf75cd618e7d4f 42d4dfd91af993534006911065a3331958fc4878 814b8906a7a4315251b83a7179245180e79e4763 7a6f54883107e8ac471be60bb44930a94543d095 24715e3ece347c91e3ebbe9abde367b2021f9863 e11a2479a3590f957328bad7f8e182f39113670f 558195273c437bc50818080baa7962d050e18754 61885f434af839372f49072e04568fb7e547b0e8 4d3a88409f12f66d26945ffae7dd1234e9819f14 7aaa02c4c7209844c757f3c0d871482d1d773aca 8e2a80171f590d0fe29d94f3099f7e845ca4e36c bf429cebbe1c0ca902ec0875e7a2d48218691437 6f39dde6c4e9286f6fb2163544256acc7aa4fba3 b2393948e253235a20014d02cb408b21199717de 5946d41e2e38dd182a63e85f86eddc5bfb9c8034 b99ca3e74a4e309bd0a44ad6fcf327d305f17a25 feca8e2988af108fc0c11838d13d4212296e7049 d52343722816e8ae28f6b66ff752e5e9d4ce3f71 5fc45747d45be7e8d3dbd51dd4fe9ad020dbf488 d6fbffa994ee12a1ae4125ab61a2471b363e1088 569397d467e55a7962ebd5c8c449097e363281f4 6e322f4ae283d2e95bc50532c3678eaae9b1ac39 ddbbffe729fcd1dc6c7e0bd216ad5ac4131575c5 875c9c53ae6d045e727c50b160667e018e9518b1 265791e11a836fcef5afaeb87fb379c9e2a2caa0 1765076cba2d422f93f8aee6a037eb2e742fe865 8c17c3070c78c842b816efb3090634052aa407e2 bc5db38900e92e046db38c547e6046d715516e3a c44f72ddbe4c82da5f4192eca3aef56a1526d9ca cde6f9b12aa48d9e49e660613d4d22954f0f623b a27efa98933167a672efde7f759146d99ef7a691 8dd49b84a5d737cda08604dcffb52f04d1bc4037 26ea36f3da53f63ea642ac45ba027e701242b1cc b3771a905d5593993e79716dcc72f2bbf0306efe 134d98387ae969942f93d09a94cbc00e22168ab2 4ad474550a92a2f6869d92d96acfeec6956c8180 6484a6a041487ed8b31809682f78c3e007395e9c d0a7a70219020c06d964e3d836e0c6b0d1fb7955 7bfa3ca649a9c14cfe6eb3d5b6c9769509e48dc8 b66bedd51d0883c0c6f078e380a1018557ddb268 29e2ce40e86fb6447d9094802c4c16b85a802809 f1f233784ca27af29ed0774a169e719b313c1519 0798c502f23d9d08400eb17fe284d07ccbb0b93b 16b70de17ef162fdacb244dd72e9c30d615d5a79 49fae7f88389c2f5c246fb259ccb991d4557a0fc 351905d498f13ff7abd63833c3aae5b57426f797 9ac9421d274e1aab21e2583d4ff52cc8774acbd4 cae0660dc6938a01b7bd42b4db515cb82ebad53c c64a9ad3551c23a706313c7ef9cd52c2fc15a25d 949081c4592c813ba6e0d3dde467ded1711aef75 194911d971d40666a32d02b3dc7970ff4855b15e 96a21ba74fbf82847d5a4aa31ec9ad267817c1a6 0a187f448ee0dbe208a06481cbd5fcd2b35b6f4d 1980669c65d2ee265eb5c1ec0265b29a22cd8f6c af7e67df454a9433808026d01be067728596be37 6d64a0ddca4601446c3008f04912a6d0d6052ebc d806683e51223a2d7d8df663b7e793c834a1944d 83665c998e86947feeec96b6613090e5161104f4 82cbe3516a2ff1ad2f38fdfc5e593bf4154a7e62 fc7fea67b1e83b09e65a7879f38fa96760940781 dbd948dbc379e4894caf1fa245e406a13308cac0 bbc0ebee08537f1aade2e2deb4fa8da3581a6063 a2aa3a147cc89e9e7b4d70afea3adc3e665da4ee df01bd0a897d0f31dec77cc79af92fd67cd1f06e cc208b2b21d00c650b3ae2dcd14641597e897cb0 67fec65cfc39ada84676b0eac2ab70efecf94f16 468a10a0fa5461c70119d9065355bd215ec997e0 56e444fada0f8bbfefbb31b9d20e0275ffb0859b 6dc0837bf5817045be7b0979178898b01a7702af b2b0938124951ea73809ac9b0247242285c306c8 6876b61c4461328d35f4b140d9e281a9733e27cd 7bdb2148e9aafb4fd7c75a490c5d3628992f4f9e 89a922cd7d4fc48b37458bac6bbf4f8936ed902a af3b05289ad600425dc9d99b975319e442511471 baa470ec2462d8ddd902a5affbc9c95ab7f17b79 62cefe0072e9bb1df2caf99c9c64882f2771e37d 7048224738bf02eace4cfedddf7302fdac6fbce3 defa9767784bdc4ca610992fe8f301715eac6dc1 724c284dd8a2fecf9f0d1a36d6b79eae89633f75 d10ef318333825a409023232cc82ff8eb59b9715 ee6cf7f5c7c6ff53b77b1ec467f060798237b5cc 262767ce998eb52eb6cd58968b31371a4edbd8df 0982e487890f167e4ef4eb02399fc96ed335abf2 60885dc7e97741eb17fcdfcc52c7d10c2c1a609f 9041a96077990a5b71934221bbd512046f8f883b 1976fed6c9e8183f1176a6b8714bfa78bdf153ed 542a9e5956044a909b9685b3b20e83e51085b99b 4e6c165e7b85bc7b7c498b8c6edc1d50f8e1daa9 fa2cc3486d489bcf9462b3064f8f04e77d7fccf2 3f5ee7fd224b53dc513766444fb9ef1db3782381 24ff46f94dee1c1f2700310a0d49fb074b1d8ea2 de1342d7c69b2f332ace6354749099151714fd97 577907c4a5cd63ccb06f1dc8eccfcee508d1675c 982417ca5a75aab7fe6487383a69ccc8d6de3191 a2733d1dfc10cba1deba585e11061424faf29b77 3bafecebbcf402026d04d455ff6f49bb0ed8e28c 520a1ae86d6964d351f89c823a96bf2282d20db6 5c34b786645623317fe7bfc9b8b70534e1ce9061 748d4efdf1bdc1fe9c8e459d5b909f57dccd5fbd 4d8287cb8975c9e3ff3385fee563bb6a009885af e2cf2b190c6ce9562fd262c251e3f0fe7904ed60 e85c983b10fde75824cf6ce20521a4a77d7b0abb 91df4a4b7e058f40f948074b900c35a2ccc18b7a 6bd48682c86d048ac6f6730a3866c788421dd187 ec98255ffda17a805d51a71e29f6d5409cf26f9b 38a17a804102fefe87bead45743afe0fdbabfdb4 a5ee4859853e8a1a4529c0ec653a6f7b40ac69fa c3f901625bcd27ecea236697b9bfa66f4a6dcc68 714d185291fbd389bb4fd8b2c545983166d62b0b be4fd7fd46df1de18bd3472b609313b8f9491fec c98a2488d204efceb891ee8f385be2437ea6306f 6ca86c4e15a0e4e7da423e5d883d5a24b87c89af 123501c62645b6a0dba7cde894c8b92f85bc9a06 2976a8097c0839eb3076b499545a0f4b14eeaf4d d15dc0afbe57b876a15c0b224cbafff199056193 9299ecc4365d4800fc34f405faa1eb3ca424d640 0b750a7f98f9fa10c1c0ffe234d47899f9b50027 713e7071ca3454818e528eb7f20389ac32fb0111 a36639635a1c15ae7bf84bd76f7412202fd06c6a 8a2943d5af7bc80fac91a9178467cd0e853cd334 4cf80c5e57f7fa81f5f3426c0037cdde9d9e8bdf 54528351505e6b2a0b39fc511ca0e701cdf00e11 29e8384551f2d0caf337ab70d6ef6685963abc17 7b6f69d7669535d88b6d56efaf124c41255823c6 552528490df40c5bff8a3370e153cf1c9bc74e43 f86024647c7c79e02e1dc4287054c2cc6875176f 8ee6f43ff88811f0ec0d7d26f8560a04a6635ddc a0080894b07afb1a8810e7526270a2bb5e66e5dc 8d96ae09c9ba94b7b7b70d66113e62d026ce6ce5 6e9198d55f90741302d93113a584b84fa520327b 489c054dda54c16024c0537a3bd06200a422aecb 154469a0fd30d57448389ebef9cf8da6a864cabb bf2dd34e7eeb00cc36a60437de1298321706e879 51266fc3959c2283d25549295b7c89f72be4ddfb 31c036155105fd0d0412a24accae7f67ffadc350 227ac3c7abaaa7aea3773266b9b0272bd7f3059f efb51ce4f3b53346fd7c194127e1cc8a8cc6328d 7fd3ddacd797ce345710bf0224b36cc8c8faede8 bf5a1e73e066b6571a56c3f987276d7e9cc631e4 9e6474d2823ac845dbe04d9bca75566bdc814e55 996eb6579b80135397fcb4b2e235db885877753d c52a979dc7a33d409b8ddb9386d1c6603cc27dcc fb5ba779f2fc6bee4630d37974571fa9f65470ff 2fb3622542183ea37adc2f802afb7a1c78612ed6 ccec1782e60cc8a7f8f772af7edcaf059a57f289 3996e3208028c185a2771367e78559617304de77 c9424976df5425e77f004b5786af33b213d9af3b ae56714f97bfa4392863bf95cd94962c9e78ac1c 95c018426f3fc0ff3d5f83307298cead43e01cb3 2a0e01144059562bddf0a3e127276b9a9b29b643 cc240b7e8dfd65129c5c9cde2598d704fdfaa6e9 c78d52a396dc150e8a62154119d89caf16201136 d70e04fb176a66a76d4e614aabfe5ae23da7b53b ebecdffa99d4748524d311a0ba38845eb87b56c1 db4b478cf1e02d1e64478f9c4b7703b729a63055 b9577f103f12e9ebe37b72c57500d7ecfd6ea4dc ef02a1622ed64b3ade2396d5218cfb0a2bbc2021 91e74ab695553888ca43c4b5409986e01de67522 35b86185202ec2e50aababd87bf9adac14cbaed2 d5c92b893188bab5c93e08f5ec90cba9168adea3 2a379b7b48c975336d27518909e0ee639f19ea12 f40a3a4b87c68720f13bfc89c1ecfce48c6ddcaf d2dc9d30834d9ea858076abba945e715f7063088 3e1773226be12696891208e7ed7cc94c3d2a0c7e 6d8da89cdacdb42b1c249c69df71b1b4c4a6d3d7 1d23399fbac172e3b5f8a2159ab5b714b52a5a0e 780f24696e5e9f2c6114114025c654b54310fb96 db6ad47c825196103c6863ed3de7a87954236400 0d669d7e9c0da6e8ca4f0dea5007437bd51b6ab3 c1f8193c858618124e0948b251381de1725f8b45 37941d56b7216831bac56df07917474529d54635 7aa6f8164bbb326f54968ccc93cca26bf4d6a935 682473a472b4e017619304b8b74cb9dc407cbaf5 a0af8af67219ec6d78becb182bf23579e3f091e2 3ebc0a66d873112acaf9030a3a602603aff741f9 07d9e26222a3ae4150c58d8621ff934ab25b4b28 b8d163fb102b52854aa5b824ff66fa5a78f45d1f f4b8ca8305bbc0b9d4a441a40add70a0acfb5525 5205378f2f92d9742162e4ffe50afc26d43cfaae 0446e75742f218e2263cf277ff39a7d109ad5ab9 825881565770b4e5798f4c1d67236466b24b9c00 cbb740c79596ba9cc3bd6fe961c82f678fb66fc4 dc5d071fdf513c93addf5ceafa9eef7027f20d3b b41a796cdd86356bb033be2c6a6379e0252adf04 8fbc3dcd066002ff814c92eea4a5f3c1ecc3c690 697ec7f944116fed5a271bcd32e7dd190258cad0 3d712815623c55197feeeeb5c6c16aa8b79d504b 95085b4f94a51dd53d1a94b1123ae517f17ed803 921295c9cb440c0d5210957bc8568d864f31f5b0 9026bcf80ddaf976f016fffe1c1f46baca392181 acba179a68ef6853e2782296eed2bc993023404e d29f3419186ab3a8dfe909ab2a4e0def086415fe e0336cd031e3a642aec991dfc02d187c44213bf6 54464a1e93827190ac63802980a7112a0fd1b4ab 28fb74d573f6b067ce82f1d9733b420458399370 11428cdcdb0a2733fa79cb26d370c2bf4abf31d2 3a899c7135ef7706fc9e1cff629250bb53a452ff 4bb440271fb87bea35c141289862511fea9f217a fe446931a14190ae615eb642bfaaeee4be4901cb 867e5302deb87ae36296b48b018f90bee8b3e320 722eccbca53020f47fe9e77de566936caf05cc77 c72340f6d1e3ed4efcfd2074104e8ed6f98f666c e349df58bde5d5354040633e57b8d5a5c3c3ee8e e566ea8ee679a8da1d00ce744a5c8d44e1fd14c7 badde22c79c9f7f8911852d092beee19d24d78e3 cca139d3fb54d0a56277cd3e2caf05b4e7a5f4c9 30d929b5cf97760475dd94621f2f6efb25697474 9b8d755ab24d244f393c64ff290cfc7f43f7f324 87a2eadd092b292b26265b35fe65409c0bfed109 e44c42bd3215540e48a20e9b03a2d6c4a29a5897 dc8cf272820792f6c9266af2f03cb3824e076a10 22748012bbaf82b2a765507b1a3804fd7ea7c0eb 1c677ef2ff4406cdcd5d84d03f8ecc7fe4467ca4 5c26cf1c76917e37b61052a5c24ed130ec237ced 01642d0b3a94561cec8f2272ef233d287302532f fa4c97c122d76805034c7cb3caf71c47fa189bda bfbd01d8142cc205ac9d49690927ec9ce1ddc000 d78d76c9a3e58bdb029c77f758579215e8ec20d2 4ae6fa06fd9535d0e0542218d5d7921fe0ca23c3 67858446a7cb12a5b6ec65e697e40139f5fe86ba e550ad175f2639b760375040f30c28d240e1432a b182c2dc41123396b34eeb49c2cfa3a4667f4bc1 f39f776af91971af7eab12fd4a8e655ae43abd21 a1bc48164c7a05409db696633780f0f1445b930f 321b2618a550b42fbfdbc100a00e4aacdc9f126c 7c817d7ce47927e63108b2a3e50593bf12bd9406 53a317e5f430024452bf7a7b22d3889aee335565 d601eba4d2d8622d4d0c5fedd4c2f59a9df31791 b8f9d9b145e9c98cada4c5b65f3501da75e00965 ba3eb6f07e248304b5d85935a481774b04ad39aa 8c4d0ad834c3f403df591038cbf59e11573952c8 50f4a00113764c6d7ceba5c09b87f7bf42cf3c50 2d79c64b2ad9fb411996bdd240cfc93fd4f85530 de3eb0ad550f3e2d26be3f9dbd5af01324fe7003 af4726e8f62d9e31e9ad0fb090a849f7cc322981 25ba541660ff12a7667eebf05317110db48b9b0f 8ed500895539b9d2983d1dfb4001c00ce34f0e44 1a4e62fd90f18e4556da8e14f8b730093c2ff33d 79293ac42c9a2577fde6901a71dcc79afbd7a03e c83fda724ca45f01f6a935a1c702ff7c40ad3b60 cae7a4d450ff7ada0816e858a4d10724635b302a 42f2d306bd6de5b8aee01c52a4fd0725d4ea244e 0135b15a6620672a9cb081f3c86e2948b4f77229 3d3576f91c002ae71f8000a4ea1f1ac85301dfd0 614e65af47e09342ebeca8d0462efac0b69b5bb1 2173365b51eebe65001a06e16ff9655ad6be7cdc a7aae731f121987b1f33e22931f133010f28f977 d60eb3d3aa036381a709e8069f1f9d992728819e 1048d9d4a9d9c5ce7a9d5bd7a4969fec87df13a9 ce74f1f8e07a0ddae576f8d3bda693626775bd3d 4b677bcc2fb6b071dda922a4a8cd93cb92de015e e0949b1640a4b004a952c1b3cff543e99c11c1a8 860bbacf462b1e2fd486fc83c7b7442b2582d6ff 8778ab348f14d1bcb71ed20bcdccd297d8c604da 75b1d195a00e2e94172063186a2eba7e9e710f2e d5c7c393c5ff42344e71c18ae48f6dba3db2709e f63a42375beadae4efb8714ca688562d73642d0f a447d48760e7e99d52d4cdb1c257b5959a229b04 2adc6806f380ea107b4d8632f51312f54cca0070 aedb8310607bc8a3c6b56c46604bba37696a81f0 99acf81c622d883fc19bfef6b08f7746d110d2df 1516f97bc33d149655fccc93e4b2f31d0ff302e7 fe6bb2a01eedfdc1a6ce8e9224c61a2f7cab182b 39762e9e85cb938bf03ddb957a0546b18247aee3 fba2eb68a811a6814add1b455856ae6fd34fd7a2 585bb80a5e98fb2ce41865c5e7967c7d8d98bdd8 8f8d3d9d9f1711c50249960fd2e5b47ee0f8d1a9 34b0fd6307e8d7ffbc3a129705a603693f76a217 2bdbaefa3b5680428c205b1fdbdc8adc74b3888e d8883f50801ca08bddb37b69cd92028dfd520a4f b11ba395efe71a90ef9e75c92f93c805eed6b12d 8803f370749c7c762ea932c14208232e1621cf05 52970c030de04ce0c0573ebd3e2c74781fdb46f3 fb368e62154c57482a8c3124263bbc54bf1cdfe7 fdf04af2863569bfc8b3ecdba86b7a528b16dd9b d5e4aa6b07ebd2fef458677bb7815447195d616d 40d812c66f9987ac710edcbbe4700f756307c8bb cef024f546936a16763477b8704edc50c9fd52bd f2fe706f7ae63365fb7409f33ff8c6528ac0905d c13f46ece1460a41c10aed8f6dfa4af833469552 bb7fc2c88ae22c63e32e8dcb96ae37c60a473025 7f4f1708bf7351c12785d79243cb10361c46136f b77372762bc586d9a8c89288cc8cae1ccc9b3f99 0f30c197345dc4de9437c36cffe8b17823f1cd1b 269ddce30d68cb192d002d04dfa7f007b20df662 5fc287fca6b4667036a9377c47868ecf3a35a018 139d37399b546daf204229d7c5a2d62f4892a957 af5639a2e41922cdc84d61eafbf03534fb78374f f31d78c8cf92181478601f591144182195a48a8e be1f699a4419bc5519c1d206e0c6dd3624b7e7bf 20baf7a19edbc55cd12cc97d88d6e2111d679653 b265158fadd2185008ff7691322f2a209b2d1382 a231663b668fcc1b166c39bc3a88a219e7d29a23 5642a16565b7b5f0afe893933b0d265c096eafa1 bce42c78595217815ba4cacef4817f020ac21a16 4732709d808a2a0de81cbc5e10c159136d822a9e e78f447ee16d96866610aec3c06304d55c93c1a8 0e4cc8f5fd991e390202e498a3a9eefa41b51f7f 695233c94789d09c7d51d75c10ab02f4a9ed009e b65a5e091bfdf7c99fef3e0b631b5827b20fced8 0c5cded31df332de58cf70b5407a714db16c84c4 4ea223753cee2187ca8ab8965aa4e5c4b15fd564 c4a7b97c23fffbaef3a6f2484fff76d4186249d5 91c463ad83a03f967f66da8972a0f9bf58f4a78a a7b927f0541208a0c49afab955ab690a1cbc9041 8706c31c53d61644564b802d3e19c0f8ae83cd31 78f7681ea905af99bdf44e7cd4bbb5ae09843683 893cb50113ecb0f298ebedae4a36c2fc483f52f8 7cbd1bdded27d3b7a751affbe2c4aad87925cc3e 32bbefdae6da94bd242f77b6b50a040f751fe283 526bd667035b24990edccb66d22aacb8b9747b13 b19dc849b5de82c206192e32a8aa9e9364bab005 77ba6056e84aae80a6cb199dd74e773fa7c1ed71 97f0d05aadee076353770f73afa7e289b1c0af2a 75a69c88a4a3866072091d1bfc7b9f88feae8550 3db74834166d7c543058b18f71d9fbffc87cbda8 1e51740ebf696466fd38620135168738ef3b3cb7 a7d897946806c91f063e1fc7f9e6bd65f91fb8aa 8a123a373086268bd77c239c10ca224f2b460e85 00d1bcd363d345e1309ff44fe525fd78fc0415c9 25cdcf1ac0aa3d2442c94acb8b991ec7bb401841 0982b5f511eb9399fa7269edb332ab66357e902c 17d0cf1b62abe8f7dfe49795df18d224231e5ff6 c6f70dfbc4cca80172839d2e63c1a01f98f2640d 1dd505957c67d313b0bb29860a518270e6dd6582 fcad7d6142cdecd202aecfe3e96f1315909fed1e 97fb0b6485e8bfa78318f82b7183bfae154bad9c 931a3ed02acb6720203a546d814ea524a9bf684f c4b03e0f8b9baa84355052164e8baf02d410c8b1 de9be700667e90e5168f279017c4d475197d00ad feae3c5a4345b7f4f242afc881f962e61bed093f 2b7ca13df5bd9aed9d6b9683668abafe34db295d 2d985f88fd1a59ca83b72e50bad473b09591e9fb 7048a8943c4a7ab535a5cd25bb8ac733b5753c2f a0562add79dc76cda47a9561037077c9b6a002ec 73fed911300315aac955aa092cc4aa39a28d54ab 0cbcb294a9310f72cf0b1dd509f06f56027beb31 9db2f7d31570a078e74f5216869b45b889a62765 304df5433a286499e440e7ba6ef45a32ad935478 a2972de0055f7506b4bb65b03bb5c14388252765 6f2aa1636cb7284859bb9193467f16ba43ee964e 5d980590e9e534fb1aea73bbd4435489e534cbab 1d917f672b7c3257734a5b1da8e9183817bc3e1b d663f2ea2b14f851db67c712c8d9ff593f0a4290 9e7138b4e0c067675a64cceb2625bb9474811c93 59d5d1649d5f1a72ed9723c56fa95b5121ada1a6 2a132675c482819b23cab902660caeb27fbebfc3 ec868d8db6de3388d59b443fd139431275d7de4c 03db6daa2ae8c9f80d12f520a65fdf4827caec7d d9812945df900194391bac95a951c5e179327122 323d094a2b8ae53bbd0d71c152d010e78389f60a bcda8e6eba4477992449f58bdc0e0fff563bf99f ba227a72bc7a91fe313180f2774129d4bbfd7592 14ca80aeab88a290781ba516d22a3379665ec472 f437a788aa50ca21dbe3fc5a6519bb7bc1a6ce05 77e42c921d813caece9cf50ae4304421b5f268da 1288290cb8c42562503c47a1cfffdb1d18eb2e02 56bc5ae59abfeb826d66613f135ed9de66af1a7f f635de01837903343a6013045a3dfbeb85fd39cd 3310e464a0c30cec51c7c641e8fae11ca44717cf a11ebe79cee47aa55cfc3ea8d9407b3300610c01 ac76baa275ba25171b45979d112493deef58b945 abba12b9716736dbc6780efdfe59df6c2c14bf12 a4926f8656e0b8dc1e7a57451ed98175cc0e11f9 0745637d011492a9335e2443d4494e4edcb1480a e1cf9b316005e14ce2fc29fd4c43c020ef702cd5 a72718f4e37a7d7704666d8681155e18d7d2ea57 1b09d27a81e50d66ce253e7cfbe969b977e4f882 1138425a921ae82bce7d0543b78a65dcb26f30f0 3fc4eafd1f629ca7898817c568dff8531468f977 638b841b494fe09ea7f44d53626349366bd42ef5 ec4a940baf27c226361ea4f844830e0285b35c6b cfba89d7b1135c65be8c31508ac6d282177acb33 05ba968a592330f6be026b8e99b7783e6d81bb80 6ae0757b49d98c1f726f0d17302d32488efb883c 15c7afef77df3367bf51ae29a658aa77ce82b1e0 59b4592c5ec2f9f9721b343039c3d3322192c480 c1027f4414b6780543f8a0615600a7e9e5f7a946 080223d099b4b8fdaa0119cf96520bb994d28908 7d3ba6bcc3539f2f8bf486f51401074014032b8a ea45633d91501e20b09e3cd82076e8832254e988 5783a52b39b1b8b044fefb26140d342f6a94ffa9 a2d990d62d206ebf4242d083377aa38d1f5d1955 f80fdd95b9afaa6b24883018d301371b2866d765 7777f91bb7fe474215f54c9279b72d8e434025f2 194cb4267890d483ab8b838929fbb3bb65edfdbb 73185e1524aea656afa6c8f047dd762aa6e05fb4 bf44d5a6cb1878ae7f9f8d262fd9e96a7b12fac1 a521ec4774e23be0961b04afdfbaef5200b62faa 32c4000e99be008e6f7798c8d5d85e604e5562b1 65de82736ad7a91d5042b573eed6cb98b272033b b2708f928126dbeab2c8b61afa4f4e0648b380a5 84e05c97d408b6a03758954f9dd41e21ed8984e8 cb453cdd6fe04bdc57bc7c44beed1a286b77c64a faa6be15aa94cc9e9fbb2ed6f4573cfef62a1769 14df49d24a8f9243ad299033c20aec85bef87e38 4c93c3dc0fa1969730838984ae9d17032083bd90 a1e0f9ed1ce86795150a11f0009735c0a649e087 7e62e7a12f2a13ab6eef5ddc74e579eab6653e6c abe0a8cc8a2b3f80ba70248ca9a18cf96bd3d36c 1cc3a9b69a356321e364d36b1a4a5400a5bd182f e61803c70fc8696e6320df4617ab92b90ae61c22 a256b9076385a7a9623e64cd44b334e5e06e9d26 192e479df0e3f95162b47b8f164adca19be36b49 69a1d74d422364916fce11249be4dbfd640c859c 4384853e3402984d89d2d39357c2ac42d50b771e c15094b0142614e8c369352070939a35fd5c20eb 656eeaf2e3f248d9a56273075886363e9e3dd784 9d41e04608dc862454a1d58e756de146b5c5e650 c6ba97b4ea9b06554d35faba67b07d1c25f90989 c7233043b986749f0d1bfaba0dc2d2d6a3b468c5 f71a844075a66e3542516ded9bea44b7a847dde3 306114f8a8f7e09b0028826bedce7e68fd63b058 f2a2d732bd51e9c5794d0c0030ff8ac3c5a8f1ea d800d13e2b8e71100a2947d7f461a72a4a45607f 6857be2818033c9d576fe55475a9b64f74748a78 c9118eb450d1df46c9a69e5e59677857743151cb 8f0967e2f2c255f7c790ebe50583aa30ac885485 88010fbf62e01a81afe7fd9ea053d6c21bbf41d7 520261d943db6b9c0cd3b8bbd400a1fb6a553031 c88ef54a7a666a947bcc8922f1c0131ac516473f eaf1fbcb33884fce9f0a3ec29a9c8c97f3a05f35 9b2412422fe0b3e8f1e8f1370a626b25f15b1acb 7a975daa079e9a67378ca9c34d1c93f9a45bc93e 44f5323adce7ce41d4ec0664426a6ce95d18321d 9d7ed76a4c4730492872a4912745302275d94c29 ea1bc75b1da9786f364ee9721fa95c020c8d9eed 05cc0cc09754dc908cb33b8680917b544f03a3f8 1530757e788249be7f40486f2fc9c6d91b8f13f4 81dc20c94e1d1a3533eda32a8495e5e6177f74ad 2864519e0bf008640efaa760ff17c5ce169d43ac 2f641829f5d6e0eb0744152900313eedadb74dc5 b46a3b0017b2ac151b27d4b65a848a0c8c14b731 690f4aa1d6f27202d7d610b110913bf73955d4f8 9755d7c23d76d5871d72819b6214de58fa459ae8 2666742c4813427aa43aed5adaafbec4ec31056d 24f7e920efe0983a714fc406ce023ff4b88d7fda 043c2ed2a5a11217015a6fce997d00372efc1a04 dc70ef66333eaf9781846c140c52ea6c03defd1e 8c25002ccafe9b106f4063cfcb171943716d8085 1e2113768e28692464981040fc40dceeca07e511 1ed53a2bf25afc319568a428a4d56814299010ed 4280b639e0fcf046809fd29b3262ac05cc7a6c21 1a486b3ec5880fa4a7fa6512ec6810ed7fba1927 ea4832f85e1ad0929c7583af738dbe2a49efa6f0 f7353506ed034fa1a5e5fd20087d394b04d1d02f e800270cbef5f5375ac8fa6ba79b02f9ae924c08 89b1f17de5033087bb8d76daf80b516bf86cc4bf 415968b4659bc73535083dffd4b36203677c67ee 60dc2c500e3c476bdea6226ff296b75cd6a0ebab 224aa0cca1ac1d2cdabf9a3247e2d9c77d398fde 0d154ea25a34877b522fff9fe5d34811896afa73 8620f7c3f79b6126b52a99d4f6bbc293e3a1ba8b 956d08d30d47acb602d6dcfb77dab3782147a646 9cc399a97e3d3573ff4c2e4d0984631735f5fdf9 9df3c5b6902b324913490086d53c528f9cd46452 4e7b27b84e2801d025e365c25eb64cd331af241b 4e62040380be14e6c5c09a7abc45bcaf9e807b46 192a56eee156586b862f49c91e07192db1775bac 1e8fa1ef0cd1460beda205b436a43c30e00f401b c0d5bef4a31813a4ee427cdb76515b7788d8bc51 9ee3a42016586ee487b58bbf3b1cbe861fae903e 345540a0de3db14a9681b92155807a5865ff08a6 dc903d467c7ab5b593a7316a0fab8161f01c0a12 6a2f91730c5ccfd51e1396db5b38086c52df379a 4a52346c821ce1eb87c2ab8679e35ba680392e02 7d70446dd2dc822376a45eb1d9842e84da3849cd 6988eb285efca8094c4f0d4bdd9eb210937e68ae 992fb69e809b14256ca1d32ddbe27d604a13257c b95962886ce26c67db1f5d941770d42aac47b04a 26213c5d897b429980f7512d60ac75db419bc159 8a72a5d5bc57ad334415254c0ea94e0c06c5b853 47fa2be96ed4c7c2fe1baa8ab429bddc3a76bb83 43519f8ed22ae2fde0bf8ba3ee8a456da718f4be be9d4ac16034ded11a69ece02354db7c0c0bd08f a4ab5f014b7a1ea2414cebdf85353d5624144a3e ad71071531fca56f5e96333c86670a12ddbed32a 894a0c44c1881443ee7372eeb801ebc055e24c8e fe75d04fe99aea99cc1848fa5f9150d4477c042c fcc63646f0a23a854c247082b135c8062b2834ab 8061ef106a5e5ef160a1d26450a9f0a4e6609e63 71ba95da7832a7bca0a76c12b963197830af42ef 8848a6987df78aca07e03f6e33ac0d5bea12f71d 688f589d68cb388cb0287a70b6b6d05389b6aa62 8adbc9ff6a393b62e35676040981985af19a9a2b 6d235f76416b1824571b16181ad4a3e9e409db75 be3b3fe62a8374aee7f3c02794c9c1803bd6421d 67921dc9505fe9a1f16fb1d8abb6f1b4fa2f27b5 694d67df9d154842ed1678dd5a95b70d7b93a308 b60c0ed5a85723f833ccaa3c8f4955dd862da23f 076dab272c97aafb59aac9bc2d5b0080113e9175 51243727b527e8dc1a39118b246b81d8d48ff139 201a6b35f78673a15b9f4481bbd2794739c1c2db 247d3542e1fd3a4f0581078f85bbbaacdde483dc 09d477f927f971648c8527f3188dc5b85d5dbb60 eabc1f7b77f33ad66a833c4708460a746c279c40 da4995a6c10ec091b882c8153021254b0bbd3728 1666b0ede1e5046f65b01f80240c4096ac356b6a ebbc8a46a965ae9c693be52d92524db5efb79b5f a4a448333cbf7fb60df16d71dcec5ac33b6e24c8 31a3936fc66115684  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 54866    0 54866    0     0   110k      0 --:--:-- --:--:-- --:--:--  141k
remote: b20a477360ed9020a5f19d0 5ff3e44c10799fca2e9a3962e6d980993f21373a ca725504af2a0a50bfb648870fd334fbdf994a7b d82d603161c1ba91ef544d9320b975ddfcb0ac67 26f6d948e713fef79076d7bf1fefa91faefaec0f 5ff349a7fe2bfbf2c45e3df9cde368688b287a6f 024f72dab955fdbe4480e443fb5892453ab060be 4143f8176cfa5aba278ee40f17eb07660bb0e286 88a4db6d8fa66174b66cf75abb1f9fdffa1860bb 69076a54f8a8ed2618b79f27177ee541cf6fee43 f250c36990d590d84c463c27b258dc7186d65165 18f749679ee3a6fc81bb6bdcf11091d7b4e28895 2e0f3744fa1f4cfd088f3de912543c863dc8052a 3bae0214606e9b09d712baeee095a0764cbd89d2 530c7e92f2cbc43bdbf7d1430948d9eae8a7539c c5dd91043b0ca2ad6561f7f5b3dd9ea0d2d1aa13 0492b58fe045699070acb7ece7178f94602547a9 c919fbc5f4a24ba7cef5cfc26e35e7be2ee8f6bc 752d2881e890f34910f2cb5f89450dd4773876f9 f5492d3607eaf33f6ddb6ddda0e6b4d612dbe687 9100f1ff8e4d02389c1da3a5d5f9224aca2b647b 5e44f4b59d0b767014cfe216531268e58cf3af51 c0ff92bc0a2f1e283195cd9d88cbf433f4679483 0c5c552f15739b52066052b494cf1b9ce1fa46f1 90aab11efae64c41ecddc5c250de307f2d0f1679 be3c55581221552f092deb3f506cdc8807ba86be 76cc264afb7663bd85fd66c6b1fdd4bf07182ca1 bf93943280ab226781a57ec99f5d8e0d5ecd99e4 3cdf274f848cf669b3c6dfdfbae4a37b4e7e05d8 0565de2bf8c7958721854232ebde55ffa77cda32 c7e2220dfc0da4c0dc3c768fa98b6f0c6ac2f60d 25d0921db50d24f3081be93b5d5395862ba5d1dd 2086bc7b27a2c2032a1d891c5b0d3f7952b82be6 c6d2bed9f2b4a38ad59a8308da7a813f6e9939a8 42dc96db076c6fbb83b55094421fdceeb2c5fbe1 0c41e7735c1fb09f0045f4b3295b9156f2bad44d 5151c8f4f6f659a5e358ca1816a2d595f46e283d c58d15c828fb320d84f840a793df9d883f8de1bd 4c84282eff693eb95cb3972dad54c9ffc931f2cd a36e5a0cccf57533ff5e7b768d75c739037af381 52d7a4e088ff5a645e36152ce6abfbf5af0abb20 e4487892cc9f7852625713ce903e1a535e0f168a
remote: -------------
remote:
remote: Processing commit e4487892cc9f7852625713ce903e1a535e0f168a
remote: Jiras=>SWRGROUTER-3901
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-3901
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-3901
remote: JiraStatus-SWRGROUTER-3901-SWRGROUTER|Bug Closed|skern|feat_PowerManagement|feat_PowerManagement|Implement support for CPU division to save power|
remote:
remote: status-Bug Closed
remote: devId-tross
remote: summary-Implement support for CPU division to save power
remote: ##############################################################
remote: # Jira SWRGROUTER-3901 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: ##############################################################
remote: # Jira SWRGROUTER-3901 not assigned to tross.
remote: # Please make sure you are delivering correct jira.
remote: ##############################################################
remote: ##############################################################
remote: # Jira SWRGROUTER-3901 not in In Progress or Assigned status.
remote: # It is in Bug Closed status
remote: # Please make sure Jira is in correct status.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==tross
remote: =======================
remote: info--;tross@broadcom.com;2016-02-18 18:30:13 -0500;e4487892cc9f7852625713ce903e1a535e0f168a;SWRGROUTER-3901: Implement support for CPU division to save power;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-3901
remote: =======================
remote: UPDATE: SWRGROUTER-3901
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--arch/arm/boot/dts/rg.3390b0-bolt.dtsi
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--tross
remote: jid--SWRGROUTER-3901
remote: commitId--e4487892cc9f7852625713ce903e1a535e0f168a
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100  8381    0  8381    0     0  20237      0 --:--:-- --:--:-- --:--:-- 27211
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 12710    0     0  100 12710      0   8025  0:00:01  0:00:01 --:--:--  8587
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 64418    0 64418    0     0   130k      0 --:--:-- --:--:-- --:--:--  168k
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 12877    0 12877    0     0  28626      0 --:--:-- --:--:-- --:--:-- 37433
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 21280    0     0  100 21280      0  13375  0:00:01  0:00:01 --:--:-- 14329
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 67701    0 67701    0     0   139k      0 --:--:-- --:--:-- --:--:--  178k
remote:  Sanity Build.
remote: git log --format=%B -n 1 e4487892cc9f7852625713ce903e1a535e0f168a
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- arch/arm/boot/dts/rg.3390-base.dtsi arch/arm/boot/dts/rg.3390b0-bolt.dtsi drivers/cpufreq/Kconfig
remote: getGrep-
remote:
remote: Processing commit 52d7a4e088ff5a645e36152ce6abfbf5af0abb20
remote: Jiras=>SWRGROUTER-3901
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-3901
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-3901
remote: JiraStatus-SWRGROUTER-3901-SWRGROUTER|Bug Closed|skern|feat_PowerManagement|feat_PowerManagement|Implement support for CPU division to save power|
remote:
remote: status-Bug Closed
remote: devId-rbbswbld
remote: summary-Implement support for CPU division to save power
remote: ##############################################################
remote: # Jira SWRGROUTER-3901 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;tross@broadcom.com;2016-02-18 18:53:04 -0500;52d7a4e088ff5a645e36152ce6abfbf5af0abb20;SWRGROUTER-3901: Implement support for CPU division to save power;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-3901
remote: =======================
remote: UPDATE: SWRGROUTER-3901
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--drivers/cpufreq/Kconfig
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-3901
remote: commitId--52d7a4e088ff5a645e36152ce6abfbf5af0abb20
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 52d7a4e088ff5a645e36152ce6abfbf5af0abb20
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- arch/arm/boot/dts/rg.3390-base.dtsi arch/arm/boot/dts/rg.3390b0-bolt.dtsi drivers/cpufreq/Kconfig
remote: getGrep-
remote:
remote: Processing commit a36e5a0cccf57533ff5e7b768d75c739037af381
remote: Jiras=>SWRGROUTER-3305
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-3305
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-3305
remote: JiraStatus-SWRGROUTER-3305-SWRGROUTER|Port Patch to Branch Closed|robey|develop|develop|I2C driver for WBID - 3390|
remote:
remote: status-Port Patch to Branch Closed
remote: devId-rbbswbld
remote: summary-I2C driver for WBID - 3390
remote: ##############################################################
remote: # Jira SWRGROUTER-3305 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;enderby@lc-atl-221.atl.broadcom.com;2016-03-07 14:47:37 -0500;a36e5a0cccf57533ff5e7b768d75c739037af381;SWRGROUTER-3305:I2C driver for WBID;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-3305
remote: =======================
remote: UPDATE: SWRGROUTER-3305
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--arch/arm/boot/dts/rg.3390-base.dtsi
remote:  arch/arm/mach-bcm/Kconfig
remote:  drivers/i2c/busses/i2c-brcmstb.c
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-3305
remote: commitId--a36e5a0cccf57533ff5e7b768d75c739037af381
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 103  2598    0  2598    0     0   6226      0 --:--:-- --:--:-- --:--:--  8300
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 103  2782    0     0  103  2782      0   1608  0:00:01  0:00:01 --:--:--  1712
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 34944    0 34944    0     0  76710      0 --:--:-- --:--:-- --:--:-- 99840
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 102  2048    0  2048    0     0   4964      0 --:--:-- --:--:-- --:--:--  6692
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 101  2222    0     0  101  2222      0   1239  0:00:01  0:00:01 --:--:--  1315
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100  114k    0  114k    0     0   246k      0 --:--:-- --:--:-- --:--:--  316k
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 a36e5a0cccf57533ff5e7b768d75c739037af381
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- arch/arm/boot/dts/rg.3390-base.dtsi arch/arm/mach-bcm/Kconfig drivers/i2c/busses/i2c-brcmstb.c
remote: getGrep-
remote:
remote: Processing commit 4c84282eff693eb95cb3972dad54c9ffc931f2cd
remote: Jiras=>SWRGROUTER-2970
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-2970
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-2970
remote: JiraStatus-SWRGROUTER-2970-SWRGROUTER|Closed|robey|develop|develop|3rd party Runner acceleration example|
remote:
remote: status-Closed
remote: devId-rbbswbld
remote: summary-3rd party Runner acceleration example
remote: ##############################################################
remote: # Jira SWRGROUTER-2970 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;petersu@broadcom.com;2016-03-07 15:53:13 -0500;4c84282eff693eb95cb3972dad54c9ffc931f2cd;SWRGROUTER-2970: Add optional 3390 RFAP acceleration to Intel e1000e driver;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-2970
remote: =======================
remote: UPDATE: SWRGROUTER-2970
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--arch/arm/boot/dts/rg.3390-wifi.dtsi
remote:  drivers/bcm_media_gw/Kconfig
remote:  drivers/bcm_media_gw/dqnet/dqnet_nethooks.c
remote:  drivers/bcm_media_gw/dqnet/dqnet_priv.h
remote:  drivers/bcm_media_gw/dqnet/dqnet_wifi.c
remote:  drivers/bcm_media_gw/fpm/fpm.h
remote:  drivers/bcm_media_gw/fpm/fpm_core.c
remote:  drivers/bcm_media_gw/include/netdev_rfap.h
remote:  drivers/net/ethernet/intel/Kconfig
remote:  drivers/net/ethernet/intel/e1000e/Makefile
remote:  drivers/net/ethernet/intel/e1000e/netdev_bcm3390.c
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-2970
remote: commitId--4c84282eff693eb95cb3972dad54c9ffc931f2cd
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 4c84282eff693eb95cb3972dad54c9ffc931f2cd
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- .../bcm_media_gw/dqnet/dqnet_priv.h .../bcm_media_gw/dqnet/dqnet_wifi.c .../bcm_media_gw/include/netdev_rfap.h .../broadcom/netdev_rfap/Makefile .../dqnet/dqnet_nethooks.c .../intel/e1000e/netdev_bcm3390.c .../net/ethernet/intel/e1000e/Makefile .../netdev_rfap/netdev_rfap_ops.c arch/arm/boot/dts/rg.3390-wifi.dtsi bcmdrivers/broadcom/Makefile drivers/bcm_media_gw/Kconfig drivers/bcm_media_gw/fpm/fpm.h drivers/bcm_media_gw/fpm/fpm_core.c drivers/net/ethernet/intel/Kconfig
remote: getGrep-
remote:
remote: Processing commit c58d15c828fb320d84f840a793df9d883f8de1bd
remote: Jiras=>SWRGROUTER-3657
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-3657
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-3657
remote: JiraStatus-SWRGROUTER-3657-SWRGROUTER|Confirm|enderby|develop|develop|3390b0: Add switchable MoCA support for both 3390a0 and 3390b0 chips|
remote:
remote: status-Confirm
remote: devId-rbbswbld
remote: summary-3390b0: Add switchable MoCA support for both 3390a0 and 3390b0 chips
remote: ##############################################################
remote: # Jira SWRGROUTER-3657 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFl  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 101  3564    0  3564    0     0   8638      0 --:--:-- --:--:-- --:--:-- 11609
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100  3932    0     0  100  3932      0   2647  0:00:01  0:00:01 --:--:--  2847
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 84573    0 84573    0     0   172k      0 --:--:-- --:--:-- --:--:--  220k
remote: ag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;enderby@lc-atl-221.atl.broadcom.com;2016-03-09 16:19:38 -0500;c58d15c828fb320d84f840a793df9d883f8de1bd;SWRGROUTER-3657:3390b0: Add switchable MoCA support for both 3390a0 and 3390b0 chips;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-3657
remote: =======================
remote: UPDATE: SWRGROUTER-3657
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--arch/arm/boot/dts/rg.3390-moca.dtsi
remote:  arch/arm/boot/dts/rg.3390a0.dts
remote:  arch/arm/boot/dts/rg.3390a2-moca.dtsi
remote:  arch/arm/boot/dts/rg.3390a2-smwvg.dts
remote:  arch/arm/boot/dts/rg.3390a2-sv.dts
remote:  arch/arm/boot/dts/rg.3390a2-vms.dts
remote:  arch/arm/boot/dts/rg.3390a2.dts
remote:  arch/arm/boot/dts/rg.3390b0-moca.dtsi
remote:  arch/arm/boot/dts/rg.3390b0-smwvg.dts
remote:  arch/arm/boot/dts/rg.3390b0-sv.dts
remote:  arch/arm/boot/dts/rg.3390b0-vms.dts
remote:  arch/arm/boot/dts/rg.3390b0.dts
remote:  drivers/char/bmoca.c
remote:  include/linux/bmoca.h
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-3657
remote: commitId--c58d15c828fb320d84f840a793df9d883f8de1bd
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 c58d15c828fb320d84f840a793df9d883f8de1bd
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- .../bcm93390/moca20core-gen23.bin .../bcm93390/moca20core-gen24.bin .../include/linux/mocad-timer.h .../include/linux/mocalib-cli.h .../libs/mocactl/linux/Makefile .../libs/mocactl/linux/moca_linux.c .../libs/mocactl/linux/mocalib-cli.c .../libs/mocactl/linux/mocalib-gen.c .../libs/mocactl/linux/mocalib.c .../mocactl/linux/mocalib-cli-gen.c .../private/apps/mocad/CalcSignalY.c .../private/apps/mocad/CalcSignalY.h .../private/apps/mocad/mocad-crypto.c .../private/apps/mocad/mocad-gen.c .../private/apps/mocad/mocad-mps.c .../private/apps/mocad/mocad-timer.c .../private/include/linux/moca_os.h .../private/include/linux/mocad-gen.h .../private/include/linux/mocad-int.h .../private/include/linux/mocad-mps.h .../private/include/linux/mocad.h .../private/include/linux/mocaint.h .../private/include/linux/mocalib.h arch/arm/boot/dts/rg.3390-moca.dtsi arch/arm/boot/dts/rg.3390a0.dts arch/arm/boot/dts/rg.3390a2-moca.dtsi arch/arm/boot/dts/rg.3390a2-smwvg.dts arch/arm/boot/dts/rg.3390a2-sv.dts arch/arm/boot/dts/rg.3390a2-vms.dts arch/arm/boot/dts/rg.3390a2.dts arch/arm/boot/dts/rg.3390b0-moca.dtsi arch/arm/boot/dts/rg.3390b0-smwvg.dts arch/arm/boot/dts/rg.3390b0-sv.dts arch/arm/boot/dts/rg.3390b0-vms.dts arch/arm/boot/dts/rg.3390b0.dts arch/arm/boot/dts/rg.3390z0-smwvg.dts arch/arm/boot/dts/rg.3390z0-vms.dts drivers/char/bmoca.c include/linux/bmoca.h userspace/private/apps/mocad/Makefile userspace/private/apps/mocad/mocad.c userspace/private/apps/mocap/mocap.c
remote: getGrep-
remote:
remote: Processing commit 5151c8f4f6f659a5e358ca1816a2d595f46e283d
remote: Jiras=>SWRGROUTER-3991
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-3991
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-3991
remote: JiraStatus-SWRGROUTER-3991-SWRGROUTER|New Feature Generic Sub-task Closed|wubei|RLS_5.8.0~develop|RLS_5.8.0mp2 develop|UNH IPv6 Ready Logo: CE Router Interoperability 2.7 (B)|
remote:
remote: status-New Feature Generic Sub-task Closed
remote: devId-rbbswbld
remote: summary-UNH IPv6 Ready Logo: CE Router Interoperability 2.7 (B)
remote: ##############################################################
remote: # Jira SWRGROUTER-3991 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: ======================  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 102  3790    0  3790    0     0   9133      0 --:--:-- --:--:-- --:--:-- 12186
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100  4130    0     0  100  4130      0   2757  0:00:01  0:00:01 --:--:--  2964
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 42448    0 42448    0     0  90974      0 --:--:-- --:--:-- --:--:--  114k
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 101  4043    0  4043    0     0   9831      0 --:--:-- --:--:-- --:--:-- 13169
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 101  4563    0     0  101  4563      0   3081  0:00:01  0:00:01 --:--:--  3316
remote: =
remote: info--;wubei@broadcom.com;2016-03-11 17:16:59 +0800;5151c8f4f6f659a5e358ca1816a2d595f46e283d;IPv6: Disable reassemble the ipv6 fragment when disabling ipv6 firewall.;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-3991
remote: =======================
remote: UPDATE: SWRGROUTER-3991
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--net/ipv6/netfilter/Kconfig
remote:  net/ipv6/netfilter/Makefile
remote:  net/ipv6/netfilter/nf_defrag_ipv6_hooks_notrack.c
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-3991
remote: commitId--5151c8f4f6f659a5e358ca1816a2d595f46e283d
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 5151c8f4f6f659a5e358ca1816a2d595f46e283d
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- .../cms_core/linux/device2/rcl2_firewall.c .../libs/cms_core/linux/device2/rcl2_firewall.c .../libs/cms_core/linux/rut_iptables.c .../linux/device2/rcl2_firewall.c .../nf_defrag_ipv6_hooks_notrack.c net/ipv6/netfilter/Kconfig net/ipv6/netfilter/Makefile rg_apps/rg.version.make
remote: getGrep-
remote:
remote: Processing commit 0c41e7735c1fb09f0045f4b3295b9156f2bad44d
remote: Jiras=>SWRGROUTER-4004
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-4004
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-4004
remote: JiraStatus-SWRGROUTER-4004-SWRGROUTER|New Feature Closed|robey|develop|develop|3390R: Update device tree selection process to use MFG_ID as well.|
remote:
remote: status-New Feature Closed
remote: devId-rbbswbld
remote: summary-3390R: Update device tree selection process to use MFG_ID as well.
remote: ##############################################################
remote: # Jira SWRGROUTER-4004 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;petersu@broadcom.com;2016-03-14 15:26:03 -0400;0c41e7735c1fb09f0045f4b3295b9156f2bad44d;SWRGROUTER-4004: 3390R: Update device tree selection process to use MFG_ID as well.;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-4004
remote: =======================
remote: UPDATE: SWRGROUTER-4004
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--arch/arm/boot/dts/Makefile
remote:  arch/arm/boot/dts/rg.3390b0-dcm.dts
remote:  arch/arm/boot/dts/rg.3390b0-smwvg.dts
remote:  arch/arm/boot/dts/rg.3390b0-sv.dts
remote:  arch/arm/boot/dts/rg.3390b0-vcm.dts
remote:  arch/arm/boot/dts/rg.3390b0-vms.dts
remote:  arch/arm/boot/dts/rg.3390b0.dts
remote:  arch/arm/boot/dts/rg.3390r0-bolt.dtsi
remote:  arch/arm/boot/dts/rg.3390r0.dts
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-4004
remote: commitId--0c41e7735c1fb09f0045f4b3295b9156f2bad44d
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 0c41e7735c1fb09f0045f4b3295b9156f2bad44d
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- arch/arm/boot/dts/Makefile arch/arm/boot/dts/rg.3390b0-dcm.dts arch/arm/boot/dts/rg.3390b0-smwvg.dts arch/arm/boot/dts/rg.3390b0-sv.dts arch/arm/boot/dts/rg.3390b0-vcm.dts arch/arm/boot/dts/rg.3390b0-vms.  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 44408    0 44408    0     0  61166      0 --:--:-- --:--:-- --:--:--  117k
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100  4730    0  4730    0     0  11381      0 --:--:-- --:--:-- --:--:-- 15258
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 101  5659    0     0  101  5659      0   3566  0:00:01  0:00:01 --:--:--  3815
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 23105    0 23105    0     0  52916      0 --:--:-- --:--:-- --:--:-- 69593
remote: dts arch/arm/boot/dts/rg.3390b0.dts arch/arm/boot/dts/rg.3390r0-bolt.dtsi arch/arm/boot/dts/rg.3390r0.dts
remote: getGrep-
remote:
remote: Processing commit 42dc96db076c6fbb83b55094421fdceeb2c5fbe1
remote: Jiras=>SWRGROUTER-4004
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-4004
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-4004
remote: JiraStatus-SWRGROUTER-4004-SWRGROUTER|New Feature Closed|robey|develop|develop|3390R: Update device tree selection process to use MFG_ID as well.|
remote:
remote: status-New Feature Closed
remote: devId-rbbswbld
remote: summary-3390R: Update device tree selection process to use MFG_ID as well.
remote: ##############################################################
remote: # Jira SWRGROUTER-4004 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;petersu@broadcom.com;2016-03-15 14:43:04 -0400;42dc96db076c6fbb83b55094421fdceeb2c5fbe1;SWRGROUTER-4004: 3390R: Update device tree selection process to use MFG_ID as well. 		Forgot to add rg3390r0-bolt.dtsi to the commit after adding pcie1;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-4004
remote: =======================
remote: UPDATE: SWRGROUTER-4004
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--arch/arm/boot/dts/rg.3390r0-bolt.dtsi
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-4004
remote: commitId--42dc96db076c6fbb83b55094421fdceeb2c5fbe1
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 42dc96db076c6fbb83b55094421fdceeb2c5fbe1
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- arch/arm/boot/dts/Makefile arch/arm/boot/dts/rg.3390b0-dcm.dts arch/arm/boot/dts/rg.3390b0-smwvg.dts arch/arm/boot/dts/rg.3390b0-sv.dts arch/arm/boot/dts/rg.3390b0-vcm.dts arch/arm/boot/dts/rg.3390b0-vms.dts arch/arm/boot/dts/rg.3390b0.dts arch/arm/boot/dts/rg.3390r0-bolt.dtsi arch/arm/boot/dts/rg.3390r0.dts
remote: getGrep-
remote:
remote: Processing commit c6d2bed9f2b4a38ad59a8308da7a813f6e9939a8
remote: Jiras=>SWRGROUTER-4232
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-4232
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-4232
remote: JiraStatus-SWRGROUTER-4232-SWRGROUTER|Closed|tross|develop|develop|Rename 3390R0 to 3390Z0 to match HW organization.|
remote:
remote: status-Closed
remote: devId-rbbswbld
remote: summary-Rename 3390R0 to 3390Z0 to match HW organization.
remote: ##############################################################
remote: # Jira SWRGROUTER-4232 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;tross@broadcom.com;2016-03-15 19:00:25 -0400;c6d2bed9f2b4a38ad59a8308da7a813f6e9939a8;SWRGROUTER-4232: Rename 3390R0 to 3390Z0 to match HW organization.;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-4232
remote: =======================
remote: UPDATE: SWRGROUTER-4232
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--arch/arm/boot/dts/Makefile
remote:  arch/arm/boot/dts/rg.3390r0-bolt.dtsi
remote:  arch/arm/boot/dts/rg.3390r0.dts
remote:  arch/arm/boot/dts/rg.3390z0-bolt.dtsi
remote:  arch/arm/boot/dts/rg.3390z0.dts
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RG  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100  1508    0  1508    0     0   3691      0 --:--:-- --:--:-- --:--:--  4976
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 102  1749    0     0  102  1749      0   1185  0:00:01  0:00:01 --:--:--  1278
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100  104k    0  104k    0     0   221k      0 --:--:-- --:--:-- --:--:--  284k
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 101  3039    0  3039    0     0   7200      0 --:--:-- --:--:-- --:--:--  9586
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 102  3593    0     0  102  3593      0   2390  0:00:01  0:00:01 --:--:--  2570
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 41630    0 41630    0     0  82919      0 --:--:-- --:--:-- --:--:--  102k
remote: Linux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-4232
remote: commitId--c6d2bed9f2b4a38ad59a8308da7a813f6e9939a8
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 c6d2bed9f2b4a38ad59a8308da7a813f6e9939a8
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- arch/arm/boot/dts/Makefile arch/arm/boot/dts/rg.3390r0-bolt.dtsi arch/arm/boot/dts/rg.3390r0.dts arch/arm/boot/dts/rg.3390z0-bolt.dtsi arch/arm/boot/dts/rg.3390z0.dts
remote: getGrep-
remote:
remote: Processing commit 2086bc7b27a2c2032a1d891c5b0d3f7952b82be6
remote: Jiras=>SWRGROUTER-3376
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-3376
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-3376
remote: JiraStatus-SWRGROUTER-3376-SWRGROUTER|Summary Task Generic Sub-task Closed|jhimmele|RLS_5.8.0~develop|RLS_5.8.0mp2 develop|RG IPv6 web server does not obey 'Enable Remote Management' - Set to False|
remote:
remote: status-Summary Task Generic Sub-task Closed
remote: devId-rbbswbld
remote: summary-RG IPv6 web server does not obey 'Enable Remote Management' - Set to False
remote: ##############################################################
remote: # Jira SWRGROUTER-3376 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;yanhaih@broadcom.com;2016-03-16 14:15:31 +0800;2086bc7b27a2c2032a1d891c5b0d3f7952b82be6;HTTPD: ipv6 wan access;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-3376
remote: =======================
remote: UPDATE: SWRGROUTER-3376
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--arch/arm/configs/brcmstb_defconfig
remote:  arch/mips/configs/bcm3384_defconfig
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-3376
remote: commitId--2086bc7b27a2c2032a1d891c5b0d3f7952b82be6
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 2086bc7b27a2c2032a1d891c5b0d3f7952b82be6
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- .../libs/cms_core/linux/rut_iptables.c .../linux/device2/rut2_erouter.h arch/arm/configs/brcmstb_defconfig arch/mips/configs/bcm3384_defconfig
remote: getGrep-
remote:
remote: Processing commit 25d0921db50d24f3081be93b5d5395862ba5d1dd
remote: Jiras=>SWRGROUTER-4224
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-4224
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-4224
remote: JiraStatus-SWRGROUTER-4224-SWRGROUTER|Bug Closed|jayeshp|develop|develop|3390B0: Acceleration Support for 3rd WiFi Radio|
remote:
remote: status-Bug Closed
remote: devId-rbbswbld
remote: summary-3390B0: Acceleration Support for 3rd WiFi Radio
remote: ##############################################################
remote: # Jira SWRGROUTER-4224 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;jayeshp@broadcom.com;2016-03-16 15:22:45 -0400;25d0921db50d24f3081be93b5d5395862ba5d1dd;SWRGROUTER-4224 3390B0: Acceleration Support for 3rd WiFi Radio;
remote: login--b52814cb7f54822d52f0993ee39f7de5  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 101  1622    0  1622    0     0   3788      0 --:--:-- --:--:-- --:--:--  5021
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 101  1829    0     0  101  1829      0   1135  0:00:01  0:00:01 --:--:--  1215
remote: ce31dc53
remote: jid--SWRGROUTER-4224
remote: =======================
remote: UPDATE: SWRGROUTER-4224
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--arch/arm/boot/dts/rg.3390-base.dtsi
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-4224
remote: commitId--25d0921db50d24f3081be93b5d5395862ba5d1dd
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 25d0921db50d24f3081be93b5d5395862ba5d1dd
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- .../CM3390/firmware_bin/runner_fw_a.c .../CM3390/firmware_bin/runner_fw_b.c .../CM3390/firmware_bin/runner_fw_c.c .../CM3390/firmware_bin/runner_fw_d.c .../autogen/rdpa_ag_dscp_to_pbit.h .../autogen/rdpa_ag_egress_tm.h .../autogen/rdpa_ag_ingress_class.h .../autogen/rdpa_ag_pbit_to_gem.h .../autogen/rdpa_ag_pbit_to_queue.h .../autogen/rdpa_ag_tc_to_queue.h .../autogen/rdpa_ag_vlan_action.h .../autogen/rdpa_ag_wlan_mcast.h .../dhd/src/dhd/sys/wl_erouter.h .../dhd/src/dhd/sys/wl_erouter_rfap.c .../dqnet_rfap/dqnet_rfap_ops.c .../drivers/rdd/rdd_runner_a_labels.h .../drivers/rdd/rdd_runner_b_labels.h .../drivers/rdd/rdd_runner_c_labels.h .../drivers/rdd/rdd_runner_d_labels.h .../drivers/rdd/rdd_runner_defs_auto.h .../drivers/rdd/rdd_runner_reg_dump.c .../drivers/rdd/rdd_runner_reg_dump.h .../drivers/rdpa/gen_headers.bdmf .../drivers/rdpa/rdpa_ip_class.c .../drivers/rdpa_gpl/include/rdpa_tm.h .../drivers/rdpa_gpl/rdpa_gpl_bridge.c .../drivers/rdpa_gpl/rdpa_gpl_cpu.c .../drivers/rdpa_gpl/rdpa_gpl_filter.c .../drivers/rdpa_gpl/rdpa_gpl_gem.c .../drivers/rdpa_gpl/rdpa_gpl_iptv.c .../drivers/rdpa_gpl/rdpa_gpl_llid.c .../drivers/rdpa_gpl/rdpa_gpl_port.c .../drivers/rdpa_gpl/rdpa_gpl_system.c .../drivers/rdpa_gpl/rdpa_gpl_tcont.c .../drivers/rdpa_gpl/rdpa_gpl_vlan.c .../firmware_bin/predict_runner_fw_a.c .../firmware_bin/predict_runner_fw_b.c .../firmware_bin/predict_runner_fw_c.c .../firmware_bin/predict_runner_fw_d.c .../flowmgr_rfap/flowmgr_rfap_ops.c .../include/autogen/rdpa_ag_bridge.h .../include/autogen/rdpa_ag_cpu.h .../include/autogen/rdpa_ag_filter.h .../include/autogen/rdpa_ag_gem.h .../include/autogen/rdpa_ag_ip_class.h .../include/autogen/rdpa_ag_iptv.h .../include/autogen/rdpa_ag_llid.h .../include/autogen/rdpa_ag_policer.h .../include/autogen/rdpa_ag_port.h .../include/autogen/rdpa_ag_system.h .../include/autogen/rdpa_ag_tcont.h .../include/autogen/rdpa_ag_vlan.h .../include/rdpa_egress_tm_basic.h .../include/rdpa_ingress_class.h .../include/rdpa_ingress_class_basic.h .../include/rdpa_ip_class_basic.h .../include/rdpa_vlan_action.h .../rdd/rdd_data_structures_auto.h .../rdd/rdd_runner_reg_dump_addrs.c .../rdd/rdd_runner_reg_dump_addrs.h .../rdp_subsystem/BCM3390/rdp_init.h .../rdpa_gpl/include/rdpa_api.h .../rdpa_gpl/include/rdpa_bridge.h .../rdpa_gpl/include/rdpa_cmd_list.h .../rdpa_gpl/include/rdpa_common.h .../rdpa_gpl/include/rdpa_config.h .../rdpa_gpl/include/rdpa_cpu.h .../rdpa_gpl/include/rdpa_cpu_basic.h .../rdpa_gpl/include/rdpa_cpu_helper.h .../rdpa_gpl/include/rdpa_egress_tm.h .../rdpa_gpl/include/rdpa_filter.h .../rdpa_gpl/include/rdpa_gem.h .../rdpa_gpl/include/rdpa_ip_class.h .../rdpa_gpl/include/rdpa_iptv.h .../rdpa_gpl/include/rdpa_llid.h .../rdpa_gpl/include/rdpa_policer.h .../rdpa_gpl/include/rdpa_port.h .../rdpa_gpl/include/rdpa_qos_mapper.h .../rdpa_gpl/include/rdpa_system.h .../rdpa_gpl/include/rdpa_tcont.h .../rdpa_gpl/include/rdpa_types.h .../rdpa_gpl/include/rdpa_vlan.h .../rdpa_gpl/include/rdpa_wlan_mcast.h .../rdpa_gpl/rdpa_gpl_dscp_to_pbit.c .../rdpa_gpl/rdpa_gpl_egress_tm.c .../rdpa_gpl/rdpa_gpl_handwritten.c .../rdpa_gpl/rdpa_gpl_ingre  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 43664    0 43664    0     0  94371      0 --:--:-- --:--:-- --:--:--  118k
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 105  1365    0  1365    0     0   3273      0 --:--:-- --:--:-- --:--:--  4375
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100  1708    0     0  100  1708      0   1146  0:00:01  0:00:01 --:--:--  1233
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100  288k    0  288k    0     0   432k      0 --:--:-- --:--:-- --:--:--  517k
remote: ss_class.c .../rdpa_gpl/rdpa_gpl_ip_class.c .../rdpa_gpl/rdpa_gpl_pbit_to_gem.c .../rdpa_gpl/rdpa_gpl_pbit_to_queue.c .../rdpa_gpl/rdpa_gpl_policer.c .../rdpa_gpl/rdpa_gpl_tc_to_queue.c .../rdpa_gpl/rdpa_gpl_vlan_action.c .../runner/drivers/rdd/rdd_fc.c .../runner/drivers/rdd/rdd_natc_lkp.c .../runner/drivers/rdd/rdd_tm.c .../runner/drivers/rdpa/rdp_version.h .../runner/drivers/rdpa/rdpa_cm.c .../runner/drivers/rdpa/rdpa_rdd_map.c arch/arm/boot/dts/rg.3390-base.dtsi
remote: getGrep-
remote:
remote: Processing commit c7e2220dfc0da4c0dc3c768fa98b6f0c6ac2f60d
remote: Jiras=>SWRGROUTER-4255
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-4255
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-4255
remote: JiraStatus-SWRGROUTER-4255-SWRGROUTER|Bug Generic Sub-task Closed|tross|Prod_6.1.0|Prod_6.1.0|Implement SW to turn on/off the UniMAC block|
remote:
remote: status-Bug Generic Sub-task Closed
remote: devId-rbbswbld
remote: summary-Implement SW to turn on/off the UniMAC block
remote: ##############################################################
remote: # Jira SWRGROUTER-4255 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;tross@broadcom.com;2016-03-17 17:13:13 -0400;c7e2220dfc0da4c0dc3c768fa98b6f0c6ac2f60d;SWRGROUTER-4255: Implement SW to turn on/off the UniMAC block;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-4255
remote: =======================
remote: UPDATE: SWRGROUTER-4255
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--arch/arm/boot/dts/rg.3390-base.dtsi
remote:  arch/arm/boot/dts/rg.3390-ethwan.dtsi
remote:  drivers/bcm_media_gw/bpcm/bpcm_core.c
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-4255
remote: commitId--c7e2220dfc0da4c0dc3c768fa98b6f0c6ac2f60d
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 c7e2220dfc0da4c0dc3c768fa98b6f0c6ac2f60d
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- arch/arm/boot/dts/rg.3390-base.dtsi arch/arm/boot/dts/rg.3390-ethwan.dtsi drivers/bcm_media_gw/bpcm/bpcm_core.c
remote: getGrep-
remote:
remote: Processing commit 0565de2bf8c7958721854232ebde55ffa77cda32
remote: Jiras=>SWRGROUTER-3936
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-3936
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-3936
remote: JiraStatus-SWRGROUTER-3936-SWRGROUTER|Bug Closed|forscher|RLS_5.8.0~RLS_5.8.0_PON~develop|RLS_5.8.0 RLS_5.8.0_PON develop|CM stuck in NonVol Device Async Helper while attempting a secure software download|
remote:
remote: status-Bug Closed
remote: devId-rbbswbld
remote: summary-CM stuck in NonVol Device Async Helper while attempting a secure software download
remote: ##############################################################
remote: # Jira SWRGROUTER-3936 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;petersu@broadcom.com;2016-03-17 15:39:42 -0700;0565de2bf8c7958721854232ebde55ffa77cda32;SWRGROUTER-3936: add shutdown callback to nand driver;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-3936
remote: =======================
remote: UPDATE: SWRGROUTER-3936
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-3  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 110   886    0   886    0     0   2065      0 --:--:-- --:--:-- --:--:--  2743
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 103  1038    0     0  103  1038      0    688  0:00:01  0:00:01 --:--:--   739
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 22026    0 22026    0     0  50320      0 --:--:-- --:--:-- --:--:-- 66144
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 103  1036    0  1036    0     0   2439      0 --:--:-- --:--:-- --:--:--  3237
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 104  1259    0     0  104  1259      0    843  0:00:01  0:00:01 --:--:--   912
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100  299k    0  299k    0     0   446k      0 --:--:-- --:--:-- --:--:--  528k
remote: 14.git
remote: cSet--drivers/mtd/nand/brcmstb_nand_3384.c
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-3936
remote: commitId--0565de2bf8c7958721854232ebde55ffa77cda32
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 0565de2bf8c7958721854232ebde55ffa77cda32
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- \rbb_cm_src\CableModemBsp\bsp_common\BoardHal\ChipHal.c drivers/mtd/nand/brcmstb_nand_3384.c
remote: getGrep-
remote:
remote: Processing commit 3cdf274f848cf669b3c6dfdfbae4a37b4e7e05d8
remote: Jiras=>SWRGROUTER-3967
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-3967
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-3967
remote: JiraStatus-SWRGROUTER-3967-SWRGROUTER|Closed|tross|develop|develop|Add 3390B0 PHYDVT board device tree support.|
remote:
remote: status-Closed
remote: devId-rbbswbld
remote: summary-Add 3390B0 PHYDVT board device tree support.
remote: ##############################################################
remote: # Jira SWRGROUTER-3967 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;tross@broadcom.com;2016-03-17 15:39:42 -0700;3cdf274f848cf669b3c6dfdfbae4a37b4e7e05d8;SWRGROUTER-3967: Add 3390B0 PHYDVT board device tree support.;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-3967
remote: =======================
remote: UPDATE: SWRGROUTER-3967
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--arch/arm/boot/dts/rg.3390b0.dts
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-3967
remote: commitId--3cdf274f848cf669b3c6dfdfbae4a37b4e7e05d8
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 3cdf274f848cf669b3c6dfdfbae4a37b4e7e05d8
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- arch/arm/boot/dts/rg.3390b0.dts
remote: getGrep-
remote:
remote: Processing commit bf93943280ab226781a57ec99f5d8e0d5ecd99e4
remote: Jiras=>SWRGROUTER-3381
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-3381
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-3381
remote: JiraStatus-SWRGROUTER-3381-SWRGROUTER|Port Patch to Branch Port Patch to Branch Closed|jhimmele|RLS_5.8.0_PON~develop|RLS_5.8.0_PON develop|Web Server:Loading web pages leaks memory|
remote:
remote: status-Port Patch to Branch Port Patch to Branch Closed
remote: devId-rbbswbld
remote: summary-Web Server:Loading web pages leaks memory
remote: ##############################################################
remote: # Jira SWRGROUTER-3381 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;jayeshp@broadcom.com;2016-03-17 15:39:43 -0700;bf93943280ab226781a57ec99f5d8e0d5ecd99e4;SWRGROUTER-3381 - Web Server:Loading web pages leaks memory;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-3381
remote: =======================
remote: UPDATE: SWRGROUTER-3381
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 106  1485    0  1485    0     0   3603      0 --:--:-- --:--:-- --:--:--  4821
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 101  1821    0     0  101  1821      0   1006  0:00:01  0:00:01 --:--:--  1069
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 34190    0 34190    0     0  75849      0 --:--:-- --:--:-- --:--:-- 98815
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 103  1340    0  1340    0     0   3245      0 --:--:-- --:--:-- --:--:--  4350
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 105  1479    0     0  105  1479      0    876  0:00:01  0:00:01 --:--:--   933
remote: cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--drivers/bcm_media_gw/dqm/dqm_dt.c
remote:  drivers/bcm_media_gw/flowmgr/flowmgr_core.c
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-3381
remote: commitId--bf93943280ab226781a57ec99f5d8e0d5ecd99e4
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 bf93943280ab226781a57ec99f5d8e0d5ecd99e4
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- .../apps/httpd/device2/WebUiManager.c .../apps/httpd/device2/WebUiManager.h .../apps/httpd/device2/cgi_sts.c .../apps/httpd/device2/cgi_util.c .../apps/wlan/nvram/nvram_shared.c .../httpd/device2/WebUiHelperDocsis.c .../httpd/device2/WebUiHelperMta.c .../libs/cms_core/linux/rut_iptables.c .../private/apps/wlan/wlmngr/wlmngr.c .../private/apps/wlan/wlmngr/wlutil.c drivers/bcm_media_gw/dqm/dqm_dt.c drivers/bcm_media_gw/flowmgr/flowmgr_core.c skel/etc/init.d/rcS
remote: getGrep-
remote:
remote: Processing commit 76cc264afb7663bd85fd66c6b1fdd4bf07182ca1
remote: Jiras=>SWRGROUTER-3097
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-3097
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-3097
remote: JiraStatus-SWRGROUTER-3097-SWRGROUTER|Port Patch to Branch Confirm|ptimariu|develop|develop|3390 with mixed/combo 4366/4360 symbol clash|
remote:
remote: status-Port Patch to Branch Confirm
remote: devId-rbbswbld
remote: summary-3390 with mixed/combo 4366/4360 symbol clash
remote: ##############################################################
remote: # Jira SWRGROUTER-3097 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;natarajs@broadcom.com;2016-03-17 15:39:43 -0700;76cc264afb7663bd85fd66c6b1fdd4bf07182ca1;SWRGROUTER-3097 WIFI: DHD WL coexistence;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-3097
remote: =======================
remote: UPDATE: SWRGROUTER-3097
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--drivers/bcm_media_gw/dqnet/dqnet_core.c
remote:  drivers/bcm_media_gw/dqnet/dqnet_wifi.c
remote:  drivers/bcm_media_gw/dqnet/dqnet_wifi.h
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-3097
remote: commitId--76cc264afb7663bd85fd66c6b1fdd4bf07182ca1
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 76cc264afb7663bd85fd66c6b1fdd4bf07182ca1
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- .../apps/smd/linux/oal_system.c .../bcm_media_gw/dqnet/dqnet_core.c .../bcm_media_gw/dqnet/dqnet_wifi.c .../bcm_media_gw/dqnet/dqnet_wifi.h .../broadcom/net/wl/build-drv.sh .../dhd/src/dhd/sys/dhd_linux.c .../dhd/src/dhd/sys/wl_erouter.h .../dhd/src/dhd/sys/wl_erouter_gfap.c .../dhd/src/dhd/sys/wl_erouter_pktc.c .../dhd/src/dhd/sys/wl_erouter_rfap.c .../main/src/wl/sys/wl_erouter_rfap.c .../mixedap/dhd/src/shared/linux_osl.c .../mixedap/main/src/wl/config/wl.mk .../src/shared/wlan_bcg_cm_linux.c
remote: getGrep-
remote:
remote: Processing commit be3c55581221552f092deb3f506cdc8807ba86be
remote: Jiras=>SWRGROUTER-1899
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTE  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100  103k    0  103k    0     0   214k      0 --:--:-- --:--:-- --:--:--  272k
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100  2309    0  2309    0     0   5500      0 --:--:-- --:--:-- --:--:--  7330
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 103  2479    0     0  103  2479      0   1360  0:00:01  0:00:01 --:--:--  1444
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 15897    0 15897    0     0  36607      0 --:--:-- --:--:-- --:--:-- 48319
remote: R-1899
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-1899
remote: JiraStatus-SWRGROUTER-1899-SWRGROUTER|Port Patch to Branch Closed|robey|RLS_5.8.0~develop|RLS_5.8.0mp2 develop|WiFi: WPS pushbutton and LED (this changes on each chip/board per GPIO)|
remote:
remote: status-Port Patch to Branch Closed
remote: devId-rbbswbld
remote: summary-WiFi: WPS pushbutton and LED (this changes on each chip/board per GPIO)
remote: ##############################################################
remote: # Jira SWRGROUTER-1899 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;snanda@broadcom.com;2016-03-17 15:39:44 -0700;be3c55581221552f092deb3f506cdc8807ba86be;WiFi: WPS pushbutton and LED (this changes on each chip/board per GPIO);
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-1899
remote: =======================
remote: UPDATE: SWRGROUTER-1899
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--arch/arm/boot/dts/rg.3390-wifi.dtsi
remote:  drivers/bcm_media_gw/Kconfig
remote:  drivers/bcm_media_gw/Makefile
remote:  drivers/bcm_media_gw/wps/Makefile
remote:  drivers/bcm_media_gw/wps/wps_gpio_core.c
remote:  include/uapi/linux/bcm_media_gw/wps/wps_gpio_api.h
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-1899
remote: commitId--be3c55581221552f092deb3f506cdc8807ba86be
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 be3c55581221552f092deb3f506cdc8807ba86be
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- .../apps/erouterctld/erouterctld.c .../bcm_media_gw/wps/wps_gpio_api.h .../bcm_media_gw/wps/wps_gpio_core.c .../boot/dts/bcm3384_mgw_zephyr.dtsi .../brcm_apps/arch/bcm947xx/wps_gpio.c .../dts/bcm33843mwvg_mgw_zephyr.dtsi .../linux/device2/rut2_erouter.h arch/arm/boot/dts/rg.3390-wifi.dtsi arch/mips/boot/dts/bcm33843mwvg_mgw_zephyr.dtsi arch/mips/boot/dts/bcm3384_mgw_zephyr.dtsi drivers/bcm_media_gw/Kconfig drivers/bcm_media_gw/Makefile drivers/bcm_media_gw/wps/Makefile
remote: getGrep-
remote:
remote: Processing commit 90aab11efae64c41ecddc5c250de307f2d0f1679
remote: Jiras=>SWRGROUTER-4079
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-4079
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-4079
remote: JiraStatus-SWRGROUTER-4079-SWRGROUTER|Confirm|jcyr|develop|develop|Add DTS for 3390B0VCM|
remote:
remote: status-Confirm
remote: devId-rbbswbld
remote: summary-Add DTS for 3390B0VCM
remote: ##############################################################
remote: # Jira SWRGROUTER-4079 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;jcyr@broadcom.com;2016-03-17 15:39:44 -0700;90aab11efae64c41ecddc5c250de307f2d0f1679;add DTB suport for 3390B0 VCM board;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-4079
remote: =======================
remote: UPDATE: SWRGROUTER-4079
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--arch/arm/boot/dts/Makefile
remote:  arch/arm/boot/dts/rg.3390b0-vcm.dts
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: j  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 104   834    0   834    0     0   1975      0 --:--:-- --:--:-- --:--:--  2630
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote:   0     0    0     0    0   968      0    693 --:--:--  0:00:01 --:--:--     0
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 17418    0 17418    0     0  37331      0 --:--:-- --:--:-- --:--:-- 48249
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 101  1120    0  1120    0     0   2685      0 --:--:-- --:--:-- --:--:--  3589
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 105  1369    0     0  105  1369      0    916  0:00:01  0:00:01 --:--:--   987
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100  104k    0  104k    0     0   199k      0 --:--:-- --:--:-- --:--:--  250k
remote: id--SWRGROUTER-4079
remote: commitId--90aab11efae64c41ecddc5c250de307f2d0f1679
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 90aab11efae64c41ecddc5c250de307f2d0f1679
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- arch/arm/boot/dts/Makefile arch/arm/boot/dts/rg.3390b0-vcm.dts
remote: getGrep-
remote:
remote: Processing commit 0c5c552f15739b52066052b494cf1b9ce1fa46f1
remote: Jiras=>SWRGROUTER-4065
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-4065
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-4065
remote: JiraStatus-SWRGROUTER-4065-SWRGROUTER|Closed|tross|develop|develop|Update DQM device tree entries to reflect 3390B0 differences.|
remote:
remote: status-Closed
remote: devId-rbbswbld
remote: summary-Update DQM device tree entries to reflect 3390B0 differences.
remote: ##############################################################
remote: # Jira SWRGROUTER-4065 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;tross@broadcom.com;2016-03-17 15:39:45 -0700;0c5c552f15739b52066052b494cf1b9ce1fa46f1;SWRGROUTER-4065: Update DQM device tree entries to reflect 3390B0 bug fixes.;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-4065
remote: =======================
remote: UPDATE: SWRGROUTER-4065
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--arch/arm/boot/dts/rg.3390-base.dtsi
remote:  arch/arm/boot/dts/rg.3390a0.dts
remote:  arch/arm/boot/dts/rg.3390a2-dcm.dts
remote:  arch/arm/boot/dts/rg.3390a2-smwvg.dts
remote:  arch/arm/boot/dts/rg.3390a2-sv.dts
remote:  arch/arm/boot/dts/rg.3390a2-vms.dts
remote:  arch/arm/boot/dts/rg.3390a2.dts
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-4065
remote: commitId--0c5c552f15739b52066052b494cf1b9ce1fa46f1
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 0c5c552f15739b52066052b494cf1b9ce1fa46f1
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- arch/arm/boot/dts/rg.3390-base.dtsi arch/arm/boot/dts/rg.3390a0.dts arch/arm/boot/dts/rg.3390a2-dcm.dts arch/arm/boot/dts/rg.3390a2-smwvg.dts arch/arm/boot/dts/rg.3390a2-sv.dts arch/arm/boot/dts/rg.3390a2-vms.dts arch/arm/boot/dts/rg.3390a2.dts arch/arm/boot/dts/rg.3390c0-vcm.dts arch/arm/boot/dts/rg.3390z0-smwvg.dts arch/arm/boot/dts/rg.3390z0-vms.dts
remote: getGrep-
remote:
remote: Processing commit c0ff92bc0a2f1e283195cd9d88cbf433f4679483
remote: Jiras=>SWRGROUTER-1899
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-1899
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-1899
remote: JiraStatus-SWRGROUTER-1899-SWRGROUTER|Port Patch to Branch Closed|robey|RLS_5.8.0~develop|RLS_5.8.0mp2 develop|WiFi: WPS pushbutton and LED (this changes on each chip/board per GPIO)|
remote:
remote: status-Port Patch to Branch Closed
remote: devId-rbbswbld
remote: summary-WiFi: WPS pushbutton and LED (this changes on each chip/board per GPIO)
remote: ##############################################################
remote: # Jira SWRGROUTER-1899 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =================  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 101  2646    0  2646    0     0   5583      0 --:--:-- --:--:-- --:--:--  7170
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100  2816    0     0  100  2816      0   1560  0:00:01  0:00:01 --:--:--  1655
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100  105k    0  105k    0     0   209k      0 --:--:-- --:--:-- --:--:--  265k
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 102  2983    0  2983    0     0   7246      0 --:--:-- --:--:-- --:--:--  9716
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 101  3153    0     0  101  3153      0   1746  0:00:01  0:00:01 --:--:--  1854
remote: ======
remote: info--;snanda@broadcom.com;2016-03-17 15:39:45 -0700;c0ff92bc0a2f1e283195cd9d88cbf433f4679483;WiFi: WPS pushbutton and LED (this changes on each chip/board per GPIO);
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-1899
remote: =======================
remote: UPDATE: SWRGROUTER-1899
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--arch/mips/boot/dts/bcm33843mwvg_mgw_zephyr.dtsi
remote:  arch/mips/boot/dts/bcm3384_mgw_zephyr.dtsi
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-1899
remote: commitId--c0ff92bc0a2f1e283195cd9d88cbf433f4679483
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 c0ff92bc0a2f1e283195cd9d88cbf433f4679483
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- .../apps/erouterctld/erouterctld.c .../bcm_media_gw/wps/wps_gpio_api.h .../bcm_media_gw/wps/wps_gpio_core.c .../boot/dts/bcm3384_mgw_zephyr.dtsi .../brcm_apps/arch/bcm947xx/wps_gpio.c .../dts/bcm33843mwvg_mgw_zephyr.dtsi .../linux/device2/rut2_erouter.h arch/arm/boot/dts/rg.3390-wifi.dtsi arch/mips/boot/dts/bcm33843mwvg_mgw_zephyr.dtsi arch/mips/boot/dts/bcm3384_mgw_zephyr.dtsi drivers/bcm_media_gw/Kconfig drivers/bcm_media_gw/Makefile drivers/bcm_media_gw/wps/Makefile
remote: getGrep-
remote:
remote: Processing commit 5e44f4b59d0b767014cfe216531268e58cf3af51
remote: Jiras=>SWRGROUTER-1899
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-1899
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-1899
remote: JiraStatus-SWRGROUTER-1899-SWRGROUTER|Port Patch to Branch Closed|robey|RLS_5.8.0~develop|RLS_5.8.0mp2 develop|WiFi: WPS pushbutton and LED (this changes on each chip/board per GPIO)|
remote:
remote: status-Port Patch to Branch Closed
remote: devId-rbbswbld
remote: summary-WiFi: WPS pushbutton and LED (this changes on each chip/board per GPIO)
remote: ##############################################################
remote: # Jira SWRGROUTER-1899 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;snanda@broadcom.com;2016-03-17 15:39:45 -0700;5e44f4b59d0b767014cfe216531268e58cf3af51;WiFi: WPS pushbutton and LED (this changes on each chip/board per GPIO);
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-1899
remote: =======================
remote: UPDATE: SWRGROUTER-1899
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--arch/mips/boot/dts/bcm33843mwvg_mgw_zephyr.dtsi
remote:  arch/mips/boot/dts/bcm3384_mgw_zephyr.dtsi
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-1899
remote: commitId--5e44f4b59d0b767014cfe216531268e58cf3af51
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 5e44f4b59d0b767014cfe216531268e58cf3af51
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- .../apps/erouterctld/erouterctld.c .../bcm_media_gw/wps/wps_gpio_api.h .../bcm_media_gw/wps/wps_gpio_core.c .../boot/dts/bcm3384_mgw_zephyr.dtsi .../brcm_apps/arch/bcm947xx/wps_gpio.c .../dts/bcm33843mwvg_m  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 68919    0 68919    0     0   133k      0 --:--:-- --:--:-- --:--:--  185k
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 101  2949    0  2949    0     0   7160      0 --:--:-- --:--:-- --:--:--  9637
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 101  3133    0     0  101  3133      0   1822  0:00:01  0:00:01 --:--:--  1939
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 36154    0 36154    0     0  80112      0 --:--:-- --:--:-- --:--:--  101k
remote: gw_zephyr.dtsi .../linux/device2/rut2_erouter.h arch/arm/boot/dts/rg.3390-wifi.dtsi arch/mips/boot/dts/bcm33843mwvg_mgw_zephyr.dtsi arch/mips/boot/dts/bcm3384_mgw_zephyr.dtsi drivers/bcm_media_gw/Kconfig drivers/bcm_media_gw/Makefile drivers/bcm_media_gw/wps/Makefile
remote: getGrep-
remote:
remote: Processing commit 9100f1ff8e4d02389c1da3a5d5f9224aca2b647b
remote: Jiras=>SWRGROUTER-3305
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-3305
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-3305
remote: JiraStatus-SWRGROUTER-3305-SWRGROUTER|Port Patch to Branch Closed|robey|develop|develop|I2C driver for WBID - 3390|
remote:
remote: status-Port Patch to Branch Closed
remote: devId-rbbswbld
remote: summary-I2C driver for WBID - 3390
remote: ##############################################################
remote: # Jira SWRGROUTER-3305 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;enderby@lc-atl-221.atl.broadcom.com;2016-03-17 15:39:46 -0700;9100f1ff8e4d02389c1da3a5d5f9224aca2b647b;SWRGROUTER-3305:I2C driver for WBID;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-3305
remote: =======================
remote: UPDATE: SWRGROUTER-3305
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--arch/arm/boot/dts/rg.3390-base.dtsi
remote:  arch/arm/mach-bcm/Kconfig
remote:  drivers/i2c/busses/i2c-brcmstb.c
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-3305
remote: commitId--9100f1ff8e4d02389c1da3a5d5f9224aca2b647b
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 9100f1ff8e4d02389c1da3a5d5f9224aca2b647b
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- arch/arm/boot/dts/rg.3390-base.dtsi arch/arm/mach-bcm/Kconfig drivers/i2c/busses/i2c-brcmstb.c
remote: getGrep-
remote:
remote: Processing commit f5492d3607eaf33f6ddb6ddda0e6b4d612dbe687
remote: Jiras=>SWRGROUTER-2970
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-2970
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-2970
remote: JiraStatus-SWRGROUTER-2970-SWRGROUTER|Closed|robey|develop|develop|3rd party Runner acceleration example|
remote:
remote: status-Closed
remote: devId-rbbswbld
remote: summary-3rd party Runner acceleration example
remote: ##############################################################
remote: # Jira SWRGROUTER-2970 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;petersu@broadcom.com;2016-03-17 15:39:46 -0700;f5492d3607eaf33f6ddb6ddda0e6b4d612dbe687;SWRGROUTER-2970: Add optional 3390 RFAP acceleration to Intel e1000e driver;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-2970
remote: =======================
remote: UPDATE: SWRGROUTER-2970
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--arch/arm/boot/dts/rg.3390-wifi.dtsi
remote:  drivers/bcm_media_gw/Kconfig
remote:  drivers/bcm_media_gw/dqnet/dqnet_nethooks.c
remote:  drivers/bcm_media_gw/dqnet/dqnet_priv.h
remote:  drivers/bcm_media_gw/dqnet/dqnet_wifi.c
remote:  drivers/bcm_media_gw/fpm/fpm.h
remote:  drivers/bcm_media_gw/fpm/fpm_core.c
remote:  drivers/bcm_media_gw/include/netdev_rfap.h
remote:  drivers/net/ethernet/intel/Kconfig
remote:  drivers/net/ethernet/intel/e1000e/Makefile
remote:  drivers/net/eth  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 103  2389    0  2389    0     0   5856      0 --:--:-- --:--:-- --:--:--  7858
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 102  2563    0     0  102  2563      0   1793  0:00:01  0:00:01 --:--:--  1935
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 86001    0 86001    0     0   174k      0 --:--:-- --:--:-- --:--:--  223k
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 102  4297    0  4297    0     0   9805      0 --:--:-- --:--:-- --:--:-- 12903
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100  4637    0     0  100  4637      0   3132  0:00:01  0:00:01 --:--:--  3374
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 47191    0 47191    0     0  97280      0 --:--:-- --:--:-- --:--:--  121k
remote: ernet/intel/e1000e/netdev_bcm3390.c
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-2970
remote: commitId--f5492d3607eaf33f6ddb6ddda0e6b4d612dbe687
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 f5492d3607eaf33f6ddb6ddda0e6b4d612dbe687
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- .../bcm_media_gw/dqnet/dqnet_priv.h .../bcm_media_gw/dqnet/dqnet_wifi.c .../bcm_media_gw/include/netdev_rfap.h .../broadcom/netdev_rfap/Makefile .../dqnet/dqnet_nethooks.c .../intel/e1000e/netdev_bcm3390.c .../net/ethernet/intel/e1000e/Makefile .../netdev_rfap/netdev_rfap_ops.c arch/arm/boot/dts/rg.3390-wifi.dtsi bcmdrivers/broadcom/Makefile drivers/bcm_media_gw/Kconfig drivers/bcm_media_gw/fpm/fpm.h drivers/bcm_media_gw/fpm/fpm_core.c drivers/net/ethernet/intel/Kconfig
remote: getGrep-
remote:
remote: Processing commit 752d2881e890f34910f2cb5f89450dd4773876f9
remote: Jiras=>SWRGROUTER-3991
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-3991
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-3991
remote: JiraStatus-SWRGROUTER-3991-SWRGROUTER|New Feature Generic Sub-task Closed|wubei|RLS_5.8.0~develop|RLS_5.8.0mp2 develop|UNH IPv6 Ready Logo: CE Router Interoperability 2.7 (B)|
remote:
remote: status-New Feature Generic Sub-task Closed
remote: devId-rbbswbld
remote: summary-UNH IPv6 Ready Logo: CE Router Interoperability 2.7 (B)
remote: ##############################################################
remote: # Jira SWRGROUTER-3991 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;wubei@broadcom.com;2016-03-17 15:39:47 -0700;752d2881e890f34910f2cb5f89450dd4773876f9;IPv6: Disable reassemble the ipv6 fragment when disabling ipv6 firewall.;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-3991
remote: =======================
remote: UPDATE: SWRGROUTER-3991
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--net/ipv6/netfilter/Kconfig
remote:  net/ipv6/netfilter/Makefile
remote:  net/ipv6/netfilter/nf_defrag_ipv6_hooks_notrack.c
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-3991
remote: commitId--752d2881e890f34910f2cb5f89450dd4773876f9
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 752d2881e890f34910f2cb5f89450dd4773876f9
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- .../cms_core/linux/device2/rcl2_firewall.c .../libs/cms_core/linux/device2/rcl2_firewall.c .../libs/cms_core/linux/rut_iptables.c .../linux/device2/rcl2_firewall.c .../nf_defrag_ipv6_hooks_notrack.c net/ipv6/netfilter/Kconfig net/ipv6/netfilter/Makefile rg_apps/rg.version.make
remote: getGrep-
remote:
remote: Processing commit c919fbc5f4a24ba7cef5cfc26e35e7be2ee8f6bc
remote: Jiras=>SWRGROUTER-4004
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-4004
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-4004
remote: JiraStatus-SWRGROUTER-4004-SWRGROUTER|New Feature Closed|robey|develop|develop|3390R: Update device tree selection process to use MFG_ID as well.|
remote:
remote: status-New Feature Closed
remote: devId-rbbswbld
remote: summary-3390R: Update device tree selection pro  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100  5826    0  5826    0     0  13710      0 --:--:-- --:--:-- --:--:-- 18263
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100  7362    0     0  100  7362      0   4350  0:00:01  0:00:01 --:--:--  4641
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 51183    0 51183    0     0   100k      0 --:--:-- --:--:-- --:--:--  130k
remote: cess to use MFG_ID as well.
remote: ##############################################################
remote: # Jira SWRGROUTER-4004 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;petersu@broadcom.com;2016-03-17 15:39:47 -0700;c919fbc5f4a24ba7cef5cfc26e35e7be2ee8f6bc;SWRGROUTER-4004: 3390R: Update device tree selection process to use MFG_ID as well.;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-4004
remote: =======================
remote: UPDATE: SWRGROUTER-4004
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--arch/arm/boot/dts/Makefile
remote:  arch/arm/boot/dts/rg.3390b0-dcm.dts
remote:  arch/arm/boot/dts/rg.3390b0-smwvg.dts
remote:  arch/arm/boot/dts/rg.3390b0-sv.dts
remote:  arch/arm/boot/dts/rg.3390b0-vcm.dts
remote:  arch/arm/boot/dts/rg.3390b0-vms.dts
remote:  arch/arm/boot/dts/rg.3390b0.dts
remote:  arch/arm/boot/dts/rg.3390r0-bolt.dtsi
remote:  arch/arm/boot/dts/rg.3390r0.dts
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-4004
remote: commitId--c919fbc5f4a24ba7cef5cfc26e35e7be2ee8f6bc
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 c919fbc5f4a24ba7cef5cfc26e35e7be2ee8f6bc
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- arch/arm/boot/dts/Makefile arch/arm/boot/dts/rg.3390b0-dcm.dts arch/arm/boot/dts/rg.3390b0-smwvg.dts arch/arm/boot/dts/rg.3390b0-sv.dts arch/arm/boot/dts/rg.3390b0-vcm.dts arch/arm/boot/dts/rg.3390b0-vms.dts arch/arm/boot/dts/rg.3390b0.dts arch/arm/boot/dts/rg.3390r0-bolt.dtsi arch/arm/boot/dts/rg.3390r0.dts
remote: getGrep-
remote:
remote: Processing commit 0492b58fe045699070acb7ece7178f94602547a9
remote: Jiras=>SWRGROUTER-4004
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-4004
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-4004
remote: JiraStatus-SWRGROUTER-4004-SWRGROUTER|New Feature Closed|robey|develop|develop|3390R: Update device tree selection process to use MFG_ID as well.|
remote:
remote: status-New Feature Closed
remote: devId-rbbswbld
remote: summary-3390R: Update device tree selection process to use MFG_ID as well.
remote: ##############################################################
remote: # Jira SWRGROUTER-4004 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;petersu@broadcom.com;2016-03-17 15:39:48 -0700;0492b58fe045699070acb7ece7178f94602547a9;SWRGROUTER-4004: 3390R: Update device tree selection process to use MFG_ID as well. 		Forgot to add rg3390r0-bolt.dtsi to the commit after adding pcie1;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-4004
remote: =======================
remote: UPDATE: SWRGROUTER-4004
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--arch/arm/boot/dts/rg.3390r0-bolt.dtsi
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-4004
remote: commitId--0492b58fe045699070acb7ece7178f94602547a9
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100  7529    0  7529    0     0  16700      0 --:--:-- --:--:-- --:--:-- 21697
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 10490    0     0  100 10490      0   6653  0:00:01  0:00:01 --:--:--  7126
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 24483    0 24483    0     0  54413      0 --:--:-- --:--:-- --:--:-- 72649
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100  1916    0  1916    0     0   4450      0 --:--:-- --:--:-- --:--:--  5877
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 102  2157    0     0  102  2157      0   1506  0:00:01  0:00:01 --:--:--  1624
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100  106k    0  106k    0     0   219k      0 --:--:-- --:--:-- --:--:--  279k
remote: git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 0492b58fe045699070acb7ece7178f94602547a9
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- arch/arm/boot/dts/Makefile arch/arm/boot/dts/rg.3390b0-dcm.dts arch/arm/boot/dts/rg.3390b0-smwvg.dts arch/arm/boot/dts/rg.3390b0-sv.dts arch/arm/boot/dts/rg.3390b0-vcm.dts arch/arm/boot/dts/rg.3390b0-vms.dts arch/arm/boot/dts/rg.3390b0.dts arch/arm/boot/dts/rg.3390r0-bolt.dtsi arch/arm/boot/dts/rg.3390r0.dts
remote: getGrep-
remote:
remote: Processing commit c5dd91043b0ca2ad6561f7f5b3dd9ea0d2d1aa13
remote: Jiras=>SWRGROUTER-4232
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-4232
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-4232
remote: JiraStatus-SWRGROUTER-4232-SWRGROUTER|Closed|tross|develop|develop|Rename 3390R0 to 3390Z0 to match HW organization.|
remote:
remote: status-Closed
remote: devId-rbbswbld
remote: summary-Rename 3390R0 to 3390Z0 to match HW organization.
remote: ##############################################################
remote: # Jira SWRGROUTER-4232 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;tross@broadcom.com;2016-03-17 15:39:48 -0700;c5dd91043b0ca2ad6561f7f5b3dd9ea0d2d1aa13;SWRGROUTER-4232: Rename 3390R0 to 3390Z0 to match HW organization.;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-4232
remote: =======================
remote: UPDATE: SWRGROUTER-4232
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--arch/arm/boot/dts/Makefile
remote:  arch/arm/boot/dts/rg.3390r0-bolt.dtsi
remote:  arch/arm/boot/dts/rg.3390r0.dts
remote:  arch/arm/boot/dts/rg.3390z0-bolt.dtsi
remote:  arch/arm/boot/dts/rg.3390z0.dts
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-4232
remote: commitId--c5dd91043b0ca2ad6561f7f5b3dd9ea0d2d1aa13
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 c5dd91043b0ca2ad6561f7f5b3dd9ea0d2d1aa13
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- arch/arm/boot/dts/Makefile arch/arm/boot/dts/rg.3390r0-bolt.dtsi arch/arm/boot/dts/rg.3390r0.dts arch/arm/boot/dts/rg.3390z0-bolt.dtsi arch/arm/boot/dts/rg.3390z0.dts
remote: getGrep-
remote:
remote: Processing commit 530c7e92f2cbc43bdbf7d1430948d9eae8a7539c
remote: Jiras=>SWRGROUTER-3376
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-3376
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-3376
remote: JiraStatus-SWRGROUTER-3376-SWRGROUTER|Summary Task Generic Sub-task Closed|jhimmele|RLS_5.8.0~develop|RLS_5.8.0mp2 develop|RG IPv6 web server does not obey 'Enable Remote Management' - Set to False|
remote:
remote: status-Summary Task Generic Sub-task Closed
remote: devId-rbbswbld
remote: summary-RG IPv6 web server does not obey 'Enable Remote Management' - Set to False
remote: ##############################################################
remote: # Jira SWRGROUTER-3376 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;yanhaih@broadcom.com;2016-03-17 15:39:49 -0700;530c7e92f2cbc43bdbf7d1430948d9eae8a7539c;HTTPD: ipv6 wan access;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-3376
remote: =======================
remote: UPDATE: SWRGROUTER-3376
remote: --  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 101  3760    0  3760    0     0   9064      0 --:--:-- --:--:-- --:--:-- 12207
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100  4314    0     0  100  4314      0   2962  0:00:01  0:00:01 --:--:--  3190
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 42936    0 42936    0     0  92515      0 --:--:-- --:--:-- --:--:--  116k
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 105  1996    0  1996    0     0   4829      0 --:--:-- --:--:-- --:--:--  6480
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100  2203    0     0  100  2203      0   1424  0:00:01  0:00:01 --:--:--  1529
remote: ----------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--arch/arm/configs/brcmstb_defconfig
remote:  arch/mips/configs/bcm3384_defconfig
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-3376
remote: commitId--530c7e92f2cbc43bdbf7d1430948d9eae8a7539c
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 530c7e92f2cbc43bdbf7d1430948d9eae8a7539c
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- .../libs/cms_core/linux/rut_iptables.c .../linux/device2/rut2_erouter.h arch/arm/configs/brcmstb_defconfig arch/mips/configs/bcm3384_defconfig
remote: getGrep-
remote:
remote: Processing commit 3bae0214606e9b09d712baeee095a0764cbd89d2
remote: Jiras=>SWRGROUTER-4224
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-4224
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-4224
remote: JiraStatus-SWRGROUTER-4224-SWRGROUTER|Bug Closed|jayeshp|develop|develop|3390B0: Acceleration Support for 3rd WiFi Radio|
remote:
remote: status-Bug Closed
remote: devId-rbbswbld
remote: summary-3390B0: Acceleration Support for 3rd WiFi Radio
remote: ##############################################################
remote: # Jira SWRGROUTER-4224 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;jayeshp@broadcom.com;2016-03-17 15:39:49 -0700;3bae0214606e9b09d712baeee095a0764cbd89d2;SWRGROUTER-4224 3390B0: Acceleration Support for 3rd WiFi Radio;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-4224
remote: =======================
remote: UPDATE: SWRGROUTER-4224
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--arch/arm/boot/dts/rg.3390-base.dtsi
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-4224
remote: commitId--3bae0214606e9b09d712baeee095a0764cbd89d2
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 3bae0214606e9b09d712baeee095a0764cbd89d2
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- .../CM3390/firmware_bin/runner_fw_a.c .../CM3390/firmware_bin/runner_fw_b.c .../CM3390/firmware_bin/runner_fw_c.c .../CM3390/firmware_bin/runner_fw_d.c .../autogen/rdpa_ag_dscp_to_pbit.h .../autogen/rdpa_ag_egress_tm.h .../autogen/rdpa_ag_ingress_class.h .../autogen/rdpa_ag_pbit_to_gem.h .../autogen/rdpa_ag_pbit_to_queue.h .../autogen/rdpa_ag_tc_to_queue.h .../autogen/rdpa_ag_vlan_action.h .../autogen/rdpa_ag_wlan_mcast.h .../dhd/src/dhd/sys/wl_erouter.h .../dhd/src/dhd/sys/wl_erouter_rfap.c .../dqnet_rfap/dqnet_rfap_ops.c .../drivers/rdd/rdd_runner_a_labels.h .../drivers/rdd/rdd_runner_b_labels.h .../drivers/rdd/rdd_runner_c_labels.h .../drivers/rdd/rdd_runner_d_labels.h .../drivers/rdd/rdd_runner_defs_auto.h .../drivers/rdd/rdd_runner_reg_dump.c .../drivers/rdd/rdd_runner_reg_dump.h .../drivers/rdpa/gen_headers.bdmf .../drivers/rdpa/rdpa_ip_class.c .../drivers/rdpa_gpl/include/rdpa_tm.h .../drivers/rdpa_gpl/rdpa_gpl_bridge.c .../drivers/rdpa_gpl/rdpa_gpl_cpu.c .../drivers/rdpa_gpl/rdpa_gpl_filter.c   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 95728    0 95728    0     0   180k      0 --:--:-- --:--:-- --:--:--  226k
remote: .../drivers/rdpa_gpl/rdpa_gpl_gem.c .../drivers/rdpa_gpl/rdpa_gpl_iptv.c .../drivers/rdpa_gpl/rdpa_gpl_llid.c .../drivers/rdpa_gpl/rdpa_gpl_port.c .../drivers/rdpa_gpl/rdpa_gpl_system.c .../drivers/rdpa_gpl/rdpa_gpl_tcont.c .../drivers/rdpa_gpl/rdpa_gpl_vlan.c .../firmware_bin/predict_runner_fw_a.c .../firmware_bin/predict_runner_fw_b.c .../firmware_bin/predict_runner_fw_c.c .../firmware_bin/predict_runner_fw_d.c .../flowmgr_rfap/flowmgr_rfap_ops.c .../include/autogen/rdpa_ag_bridge.h .../include/autogen/rdpa_ag_cpu.h .../include/autogen/rdpa_ag_filter.h .../include/autogen/rdpa_ag_gem.h .../include/autogen/rdpa_ag_ip_class.h .../include/autogen/rdpa_ag_iptv.h .../include/autogen/rdpa_ag_llid.h .../include/autogen/rdpa_ag_policer.h .../include/autogen/rdpa_ag_port.h .../include/autogen/rdpa_ag_system.h .../include/autogen/rdpa_ag_tcont.h .../include/autogen/rdpa_ag_vlan.h .../include/rdpa_egress_tm_basic.h .../include/rdpa_ingress_class.h .../include/rdpa_ingress_class_basic.h .../include/rdpa_ip_class_basic.h .../include/rdpa_vlan_action.h .../rdd/rdd_data_structures_auto.h .../rdd/rdd_runner_reg_dump_addrs.c .../rdd/rdd_runner_reg_dump_addrs.h .../rdp_subsystem/BCM3390/rdp_init.h .../rdpa_gpl/include/rdpa_api.h .../rdpa_gpl/include/rdpa_bridge.h .../rdpa_gpl/include/rdpa_cmd_list.h .../rdpa_gpl/include/rdpa_common.h .../rdpa_gpl/include/rdpa_config.h .../rdpa_gpl/include/rdpa_cpu.h .../rdpa_gpl/include/rdpa_cpu_basic.h .../rdpa_gpl/include/rdpa_cpu_helper.h .../rdpa_gpl/include/rdpa_egress_tm.h .../rdpa_gpl/include/rdpa_filter.h .../rdpa_gpl/include/rdpa_gem.h .../rdpa_gpl/include/rdpa_ip_class.h .../rdpa_gpl/include/rdpa_iptv.h .../rdpa_gpl/include/rdpa_llid.h .../rdpa_gpl/include/rdpa_policer.h .../rdpa_gpl/include/rdpa_port.h .../rdpa_gpl/include/rdpa_qos_mapper.h .../rdpa_gpl/include/rdpa_system.h .../rdpa_gpl/include/rdpa_tcont.h .../rdpa_gpl/include/rdpa_types.h .../rdpa_gpl/include/rdpa_vlan.h .../rdpa_gpl/include/rdpa_wlan_mcast.h .../rdpa_gpl/rdpa_gpl_dscp_to_pbit.c .../rdpa_gpl/rdpa_gpl_egress_tm.c .../rdpa_gpl/rdpa_gpl_handwritten.c .../rdpa_gpl/rdpa_gpl_ingress_class.c .../rdpa_gpl/rdpa_gpl_ip_class.c .../rdpa_gpl/rdpa_gpl_pbit_to_gem.c .../rdpa_gpl/rdpa_gpl_pbit_to_queue.c .../rdpa_gpl/rdpa_gpl_policer.c .../rdpa_gpl/rdpa_gpl_tc_to_queue.c .../rdpa_gpl/rdpa_gpl_vlan_action.c .../runner/drivers/rdd/rdd_fc.c .../runner/drivers/rdd/rdd_natc_lkp.c .../runner/drivers/rdd/rdd_tm.c .../runner/drivers/rdpa/rdp_version.h .../runner/drivers/rdpa/rdpa_cm.c .../runner/drivers/rdpa/rdpa_rdd_map.c arch/arm/boot/dts/rg.3390-base.dtsi
remote: getGrep-
remote:
remote: Processing commit 2e0f3744fa1f4cfd088f3de912543c863dc8052a
remote: Jiras=>SWRGROUTER-4201
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-4201
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-4201
remote: JiraStatus-SWRGROUTER-4201-SWRGROUTER|Confirm|jcyr|Prod_6.1.0~develop|Prod_6.1.0 develop|Implement CM bootloader signature verification in boot assist|
remote:
remote: status-Confirm
remote: devId-rbbswbld
remote: summary-Implement CM bootloader signature verification in boot assist
remote: ##############################################################
remote: # Jira SWRGROUTER-4201 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;jcyr@broadcom.com;2016-03-21 22:07:32 -0400;2e0f3744fa1f4cfd088f3de912543c863dc8052a;Boot assist driver. Map OTP register with the secure boot setting bits.;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-4201
remote: =======================
remote: UPDATE: SWRGROUTER-4201
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--arch/arm/boot/dts/rg.3390-base.dtsi
remote:  drivers/bcm_media_gw/boot_assist/brcm_ba.c
remote:  drivers/bcm_media_gw/boot_assist/brcm_ba_priv.h
remote:
remote: Scanning change set..
remote: ecProject-----Pro  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 104  1460    0  1460    0     0   3573      0 --:--:-- --:--:-- --:--:--  4802
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 101  1630    0     0  101  1630      0   1001  0:00:01  0:00:01 --:--:--  1071
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 68296    0 68296    0     0   144k      0 --:--:-- --:--:-- --:--:--  186k
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 106   854    0   854    0     0   2076      0 --:--:-- --:--:-- --:--:--  2800
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 103  1138    0     0  103  1138      0    800  0:00:01  0:00:01 --:--:--   864
remote: d_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-4201
remote: commitId--2e0f3744fa1f4cfd088f3de912543c863dc8052a
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 2e0f3744fa1f4cfd088f3de912543c863dc8052a
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- .../bcm_media_gw/boot_assist/brcm_ba.c .../boot_assist/brcm_ba_priv.h .../user/brcm-boot_assist/ba_crypto.c .../user/brcm-boot_assist/ba_crypto.h arch/arm/boot/dts/rg.3390-base.dtsi drivers/bcm_media_gw/boot_assist/brcm_ba.c drivers/bcm_media_gw/boot_assist/brcm_ba.h rootfs/user/brcm-boot_assist/Makefile rootfs/user/brcm-boot_assist/ba.c rootfs/user/brcm-boot_assist/ba_cm.c rootfs/user/brcm-boot_assist/ba_vm.c user/brcm-boot_assist/Makefile user/brcm-boot_assist/ba_cm.c user/brcm-boot_assist/ba_crypto.c user/brcm-boot_assist/ba_crypto.h
remote: getGrep-
remote:
remote: Processing commit 18f749679ee3a6fc81bb6bdcf11091d7b4e28895
remote: Jiras=>SWRGROUTER-3548
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-3548
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-3548
remote: JiraStatus-SWRGROUTER-3548-SWRGROUTER|New Feature Closed|skern|develop|develop|Comm WiFi: L2oGRE enhancements - Add Filter Support Including VLAN Tagging|
remote:
remote: status-New Feature Closed
remote: devId-rbbswbld
remote: summary-Comm WiFi: L2oGRE enhancements - Add Filter Support Including VLAN Tagging
remote: ##############################################################
remote: # Jira SWRGROUTER-3548 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;ignatius@broadcom.com;2016-03-22 14:48:27 -0700;18f749679ee3a6fc81bb6bdcf11091d7b4e28895;SWRGROUTER-3548 Comm WiFi: L2oGRE enhancements - Add Filter Support Including VLAN Tagging;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-3548
remote: =======================
remote: UPDATE: SWRGROUTER-3548
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--drivers/bcm_media_gw/netfilter/Kconfig
remote:  drivers/bcm_media_gw/netfilter/Makefile
remote:  drivers/bcm_media_gw/netfilter/xt_l2ogre_mt.c
remote:  drivers/bcm_media_gw/netfilter/xt_l2ogre_reg.c
remote:  drivers/bcm_media_gw/netfilter/xt_l2ogre_tg.c
remote:  include/linux/netfilter/xt_l2ogre_mt.h
remote:  include/linux/netfilter/xt_l2ogre_tg.h
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-3548
remote: commitId--18f749679ee3a6fc81bb6bdcf11091d7b4e28895
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 18f749679ee3a6fc81bb6bdcf11091d7b4e28895
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- .../agent/mibgroup/broadcom/clabGRE.c .../agent/mibgroup/broadcom/clabGRE.h .../apps/grectl/greCtlPrivate.h .../bcm_media_gw/netfilter/Makefile .../extensions/libxt_l2ogre_mt.c .../extensions/libxt_l2ogre_tg.c .../libs/cms_core/linux/rut_iptables.c .../linux/device2/rcl2_clabgre.c .../netfilter/xt_l2ogre_mt.c .../netfilter/xt_l2ogre_reg.c .../netfilter/xt_l2ogre_tg.c .../private/apps/grectl/greCtl.c .../private/apps/grectl/greCtlUtil.c drivers/bcm_media_gw/netfilter/Kconfig include/linux/netfilter/xt_l2ogre_mt.h include/linux/netfilter/xt_l2o  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 96793    0 96793    0     0   193k      0 --:--:-- --:--:-- --:--:--  248k
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 105  1797    0  1797    0     0   4063      0 --:--:-- --:--:-- --:--:--  5316
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 101  1925    0     0  101  1925      0   1334  0:00:01  0:00:01 --:--:--  1439
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 46854    0 46854    0     0    98k      0 --:--:-- --:--:-- --:--:--  126k
remote: gre_tg.h rootfs/user/iptables-1.6.0/makefile
remote: getGrep-
remote:
remote: Processing commit f250c36990d590d84c463c27b258dc7186d65165
remote: Jiras=>SWRGROUTER-4201
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-4201
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-4201
remote: JiraStatus-SWRGROUTER-4201-SWRGROUTER|Confirm|jcyr|Prod_6.1.0~develop|Prod_6.1.0 develop|Implement CM bootloader signature verification in boot assist|
remote:
remote: status-Confirm
remote: devId-rbbswbld
remote: summary-Implement CM bootloader signature verification in boot assist
remote: ##############################################################
remote: # Jira SWRGROUTER-4201 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;jcyr@broadcom.com;2016-03-23 13:46:09 -0400;f250c36990d590d84c463c27b258dc7186d65165;Add IOCTL to rapid blink LEDS;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-4201
remote: =======================
remote: UPDATE: SWRGROUTER-4201
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--drivers/bcm_media_gw/boot_assist/brcm_ba.c
remote:  drivers/bcm_media_gw/boot_assist/brcm_ba.h
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-4201
remote: commitId--f250c36990d590d84c463c27b258dc7186d65165
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 f250c36990d590d84c463c27b258dc7186d65165
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- .../bcm_media_gw/boot_assist/brcm_ba.c .../boot_assist/brcm_ba_priv.h .../user/brcm-boot_assist/ba_crypto.c .../user/brcm-boot_assist/ba_crypto.h arch/arm/boot/dts/rg.3390-base.dtsi drivers/bcm_media_gw/boot_assist/brcm_ba.c drivers/bcm_media_gw/boot_assist/brcm_ba.h rootfs/user/brcm-boot_assist/Makefile rootfs/user/brcm-boot_assist/ba.c rootfs/user/brcm-boot_assist/ba_cm.c rootfs/user/brcm-boot_assist/ba_vm.c user/brcm-boot_assist/Makefile user/brcm-boot_assist/ba_cm.c user/brcm-boot_assist/ba_crypto.c user/brcm-boot_assist/ba_crypto.h
remote: getGrep-
remote:
remote: Processing commit 69076a54f8a8ed2618b79f27177ee541cf6fee43
remote: Jiras=>SWRGROUTER-4070
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-4070
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-4070
remote: JiraStatus-SWRGROUTER-4070-SWRGROUTER|Bug Generic Sub-task Closed|skern|feat_PowerManagement|feat_PowerManagement|Active power savings - Linux - Disable all MOCA items when MOCA not present|
remote:
remote: status-Bug Generic Sub-task Closed
remote: devId-rbbswbld
remote: summary-Active power savings - Linux - Disable all MOCA items when MOCA not present
remote: ##############################################################
remote: # Jira SWRGROUTER-4070 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;tross@broadcom.com;2016-03-23 17:09:07 -0400;69076a54f8a8ed2618b79f27177ee541cf6fee43;SWRGROUTER-4070: Active power savings - Linux - Disable all MOCA items when MOCA not present;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-4070
remote: =======================
remote: UPDATE: SWRGROUTER-4070
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--a  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 108   980    0   980    0     0   2351      0 --:--:-- --:--:-- --:--:--  3141
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 105  1372    0     0  105  1372      0    892  0:00:01  0:00:01 --:--:--   957
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 38366    0 38366    0     0  84582      0 --:--:-- --:--:-- --:--:--  107k
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 102   922    0   922    0     0   2243      0 --:--:-- --:--:-- --:--:--  3013
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 101  1318    0     0  101  1318      0    855  0:00:01  0:00:01 --:--:--   917
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 67792    0 67792    0     0   141k      0 --:--:-- --:--:-- --:--:--  181k
remote: rch/arm/boot/dts/rg.3390b0-bolt.dtsi
remote:  arch/arm/boot/dts/rg.3390b0-moca.dtsi
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-4070
remote: commitId--69076a54f8a8ed2618b79f27177ee541cf6fee43
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 69076a54f8a8ed2618b79f27177ee541cf6fee43
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- arch/arm/boot/dts/rg.3390b0-bolt.dtsi arch/arm/boot/dts/rg.3390b0-moca.dtsi
remote: getGrep-
remote:
remote: Processing commit 88a4db6d8fa66174b66cf75abb1f9fdffa1860bb
remote: Jiras=>SWRGROUTER-4297
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-4297
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-4297
remote: JiraStatus-SWRGROUTER-4297-SWRGROUTER|Bug Confirm|grsmith|develop|develop|Bidirectional FTP breaks RG <-> CPE connectivity|
remote:
remote: status-Bug Confirm
remote: devId-rbbswbld
remote: summary-Bidirectional FTP breaks RG <-> CPE connectivity
remote: ##############################################################
remote: # Jira SWRGROUTER-4297 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;jayeshp@broadcom.com;2016-03-24 13:45:05 -0400;88a4db6d8fa66174b66cf75abb1f9fdffa1860bb;SWRGROUTER-4297: Bidirectional FTP breaks RG <-> CPE connectivity;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-4297
remote: =======================
remote: UPDATE: SWRGROUTER-4297
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--drivers/bcm_media_gw/flowmgr/flowmgr.h
remote:  drivers/bcm_media_gw/flowmgr/flowmgr_core.c
remote:  drivers/bcm_media_gw/flowmgr/flowmgr_fap.c
remote:  drivers/bcm_media_gw/flowmgr/flowmgr_tunnel.c
remote:  include/net/netfilter/nf_conntrack_offload.h
remote:  net/netfilter/nf_conntrack_offload.c
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-4297
remote: commitId--88a4db6d8fa66174b66cf75abb1f9fdffa1860bb
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 88a4db6d8fa66174b66cf75abb1f9fdffa1860bb
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- .../bcm_media_gw/flowmgr/flowmgr_fap.c .../flowmgr/flowmgr_core.c .../flowmgr/flowmgr_tunnel.c .../netfilter/nf_conntrack_offload.h drivers/bcm_media_gw/flowmgr/flowmgr.h net/netfilter/nf_conntrack_offload.c
remote: getGrep-
remote:
remote: Processing commit 4143f8176cfa5aba278ee40f17eb07660bb0e286
remote: Jiras=>SWRGROUTER-3770
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-3770
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-3770
remote: JiraStatus-SWRGROUTER-3770-SWRGROUTER|Bug Closed|fway|feat_PowerManagement|feat_PowerManagement|Implement support for ASPM feature and verify functionality|
remote:
remote: status-Bug Closed
remote: devId-rbbswbld
remote: summary-Implement support for ASPM feature and verify functionality
remote: ##############################################################
remote: # Jira SWRGROUTER-3770 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overloo  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 104   834    0   834    0     0   2028      0 --:--:-- --:--:-- --:--:--  2725
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote:   0     0    0     0    0   997      0    752 --:--:--  0:00:01 --:--:--     0
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 97774    0 97774    0     0   197k      0 --:--:-- --:--:-- --:--:--  252k
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 104  2092    0  2092    0     0   5053      0 --:--:-- --:--:-- --:--:--  6770
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 102  2248    0     0  102  2248      0   1453  0:00:01  0:00:01 --:--:--  1560
remote: ked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;czacker@cm-irv-1.irv.broadcom.com;2016-03-24 10:50:06 -0700;4143f8176cfa5aba278ee40f17eb07660bb0e286;WiFi:Implement support for ASPM feature and verify functionality;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-3770
remote: =======================
remote: UPDATE: SWRGROUTER-3770
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--arch/arm/configs/brcmstb_defconfig
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-3770
remote: commitId--4143f8176cfa5aba278ee40f17eb07660bb0e286
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 4143f8176cfa5aba278ee40f17eb07660bb0e286
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- arch/arm/configs/brcmstb_defconfig
remote: getGrep-
remote:
remote: Processing commit 024f72dab955fdbe4480e443fb5892453ab060be
remote: Jiras=>SWRGROUTER-4201
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-4201
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-4201
remote: JiraStatus-SWRGROUTER-4201-SWRGROUTER|Confirm|jcyr|Prod_6.1.0~develop|Prod_6.1.0 develop|Implement CM bootloader signature verification in boot assist|
remote:
remote: status-Confirm
remote: devId-rbbswbld
remote: summary-Implement CM bootloader signature verification in boot assist
remote: ##############################################################
remote: # Jira SWRGROUTER-4201 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;jcyr@broadcom.com;2016-03-28 14:54:37 -0400;024f72dab955fdbe4480e443fb5892453ab060be;Rapid blink all LEDS on boot assist verification failure.;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-4201
remote: =======================
remote: UPDATE: SWRGROUTER-4201
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--arch/arm/boot/dts/rg.3390-base.dtsi
remote:  drivers/bcm_media_gw/boot_assist/brcm_ba.c
remote:  drivers/bcm_media_gw/boot_assist/brcm_ba_priv.h
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-4201
remote: commitId--024f72dab955fdbe4480e443fb5892453ab060be
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 024f72dab955fdbe4480e443fb5892453ab060be
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- .../bcm_media_gw/boot_assist/brcm_ba.c .../boot_assist/brcm_ba_priv.h .../user/brcm-boot_assist/ba_crypto.c .../user/brcm-boot_assist/ba_crypto.h arch/arm/boot/dts/rg.3390-base.dtsi drivers/bcm_media_gw/boot_assist/brcm_ba.c drivers/bcm_media_gw/boot_assist/brcm_ba.h rootfs/user/brcm-boot_assist/Makefile rootfs/user/brcm-boot_assist/ba.c rootfs/user/brcm-boot_assist/ba_cm.c rootfs/user/brcm-boot_assist/ba_vm.c user/brcm-boot_assist/Makefile user/brcm-boot_assist/ba_cm.c user/brcm-boot_assist/ba_crypto.c user/brcm-boot_assist/ba_crypto.h
remote: getGrep-
remote:
remote: Processing commit 5ff349a7fe2bfbf2c45e3df9cde368688b287a6f
remote: Jiras=>SWRGROUTER-4201
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND::   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 98811    0 98811    0     0   184k      0 --:--:-- --:--:-- --:--:--  230k
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100  2415    0  2415    0     0   5779      0 --:--:-- --:--:-- --:--:--  7715
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100  2522    0     0  100  2522      0   1610  0:00:01  0:00:01 --:--:--  1726
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 29254    0 29254    0     0  60155      0 --:--:-- --:--:-- --:--:-- 76581
remote: SWRGROUTER-4201
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-4201
remote: JiraStatus-SWRGROUTER-4201-SWRGROUTER|Confirm|jcyr|Prod_6.1.0~develop|Prod_6.1.0 develop|Implement CM bootloader signature verification in boot assist|
remote:
remote: status-Confirm
remote: devId-rbbswbld
remote: summary-Implement CM bootloader signature verification in boot assist
remote: ##############################################################
remote: # Jira SWRGROUTER-4201 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;jcyr@broadcom.com;2016-03-29 11:46:24 -0400;5ff349a7fe2bfbf2c45e3df9cde368688b287a6f;Fix typo;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-4201
remote: =======================
remote: UPDATE: SWRGROUTER-4201
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--drivers/bcm_media_gw/boot_assist/brcm_ba.c
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-4201
remote: commitId--5ff349a7fe2bfbf2c45e3df9cde368688b287a6f
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 5ff349a7fe2bfbf2c45e3df9cde368688b287a6f
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- .../bcm_media_gw/boot_assist/brcm_ba.c .../boot_assist/brcm_ba_priv.h .../user/brcm-boot_assist/ba_crypto.c .../user/brcm-boot_assist/ba_crypto.h arch/arm/boot/dts/rg.3390-base.dtsi drivers/bcm_media_gw/boot_assist/brcm_ba.c drivers/bcm_media_gw/boot_assist/brcm_ba.h rootfs/user/brcm-boot_assist/Makefile rootfs/user/brcm-boot_assist/ba.c rootfs/user/brcm-boot_assist/ba_cm.c rootfs/user/brcm-boot_assist/ba_vm.c user/brcm-boot_assist/Makefile user/brcm-boot_assist/ba_cm.c user/brcm-boot_assist/ba_crypto.c user/brcm-boot_assist/ba_crypto.h
remote: getGrep-
remote:
remote: Processing commit 26f6d948e713fef79076d7bf1fefa91faefaec0f
remote: Jiras=>SWRGROUTER-4287
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-4287
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-4287
remote: JiraStatus-SWRGROUTER-4287-SWRGROUTER|Port Patch to Branch Confirm|enderby|develop|develop|Creation of i2c WBID device/client and associated driver|
remote:
remote: status-Port Patch to Branch Confirm
remote: devId-rbbswbld
remote: summary-Creation of i2c WBID device/client and associated driver
remote: ##############################################################
remote: # Jira SWRGROUTER-4287 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;enderby@lc-atl-221.atl.broadcom.com;2016-04-01 16:24:00 -0400;26f6d948e713fef79076d7bf1fefa91faefaec0f;SWRGROUTER-4287:Creation of i2c WBID device/client and associated driver;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-4287
remote: =======================
remote: UPDATE: SWRGROUTER-4287
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--Documentation/devicetree/bindings/i2c/i2c-brcmwbid.txt
remote:  arch/arm/boot/dts/rg.3390-base.dtsi
remote:  drivers/bcm_media_gw/Kconfig
remote:  drivers/bcm_media_gw/Makefile
remote:  drivers/bcm_media_gw/i2c/Makefile
remote:  drivers/bcm_media_gw/i2c/wbid.c
remote:  include/linux/wbid.h
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 107  1285    0  1285    0     0   3102      0 --:--:-- --:--:-- --:--:--  4145
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 102  1539    0     0  102  1539      0    970  0:00:01  0:00:01 --:--:--  1039
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 24018    0 24018    0     0  53907      0 --:--:-- --:--:-- --:--:-- 70228
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 107  1078    0  1078    0     0   2565      0 --:--:-- --:--:-- --:--:--  3422
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 105  1376    0     0  105  1376      0    948  0:00:01  0:00:01 --:--:--  1023
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 16551    0 16551    0     0  37416      0 --:--:-- --:--:-- --:--:-- 49112
remote: home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-4287
remote: commitId--26f6d948e713fef79076d7bf1fefa91faefaec0f
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 26f6d948e713fef79076d7bf1fefa91faefaec0f
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- .../bindings/i2c/i2c-brcmwbid.txt arch/arm/boot/dts/rg.3390-base.dtsi drivers/bcm_media_gw/Kconfig drivers/bcm_media_gw/Makefile drivers/bcm_media_gw/i2c/Makefile drivers/bcm_media_gw/i2c/wbid.c include/linux/wbid.h
remote: getGrep-
remote:
remote: Processing commit d82d603161c1ba91ef544d9320b975ddfcb0ac67
remote: Jiras=>SWRGROUTER-4359
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-4359
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-4359
remote: JiraStatus-SWRGROUTER-4359-SWRGROUTER|Confirm|rbbswbld|develop|develop| BCM933843WVG BCM93384WVG nightly builds failed in develop on 2016-04-01|
remote:
remote: status-Confirm
remote: devId-rbbswbld
remote: summary- BCM933843WVG BCM93384WVG nightly builds failed in develop on 2016-04-01
remote: ##############################################################
remote: # Jira SWRGROUTER-4359 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;enderby@lc-atl-221.atl.broadcom.com;2016-04-04 09:19:31 -0400;d82d603161c1ba91ef544d9320b975ddfcb0ac67;SWRGROUTER-4359:BCM933843WVG BCM93384WVG nightly builds failed in develop on 2016-04-01;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-4359
remote: =======================
remote: UPDATE: SWRGROUTER-4359
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--drivers/bcm_media_gw/Kconfig
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-4359
remote: commitId--d82d603161c1ba91ef544d9320b975ddfcb0ac67
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 d82d603161c1ba91ef544d9320b975ddfcb0ac67
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- drivers/bcm_media_gw/Kconfig
remote: getGrep-
remote:
remote: Processing commit ca725504af2a0a50bfb648870fd334fbdf994a7b
remote: Jiras=>SWRGROUTER-4363
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-4363
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-4363
remote: JiraStatus-SWRGROUTER-4363-SWRGROUTER|Bug Closed|tross|feat_PowerManagement|feat_PowerManagement|Add proc interface to show current status of BPCM zones controlled by RG.|
remote:
remote: status-Bug Closed
remote: devId-rbbswbld
remote: summary-Add proc interface to show current status of BPCM zones controlled by RG.
remote: ##############################################################
remote: # Jira SWRGROUTER-4363 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;tross@broadcom.com;2016-04-04 09:41:41 -0400;ca725504af2a0a50bfb648870fd334fbdf994a7b;SWRGROUTER-4363: Add proc interface to show current status of BPCM zones controlled by RG.;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGR  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 116   696    0   696    0     0   1692      0 --:--:-- --:--:-- --:--:--  2274
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote:   0     0    0     0    0   940      0    704 --:--:--  0:00:01 --:--:--     0
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 31434    0 31434    0     0  70589      0 --:--:-- --:--:-- --:--:-- 92181
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 109   986    0   986    0     0   2366      0 --:--:-- --:--:-- --:--:--  3160
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 106  1174    0     0  106  1174      0    737  0:00:01  0:00:01 --:--:--   788
remote: OUTER-4363
remote: =======================
remote: UPDATE: SWRGROUTER-4363
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--drivers/bcm_media_gw/bpcm/Makefile
remote:  drivers/bcm_media_gw/bpcm/bpcm_core.c
remote:  drivers/bcm_media_gw/bpcm/bpcm_priv.h
remote:  drivers/bcm_media_gw/bpcm/bpcm_proc.c
remote:  drivers/bcm_media_gw/bpcm/bpcm_proc.h
remote:  drivers/bcm_media_gw/pmb/pmb.h
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-4363
remote: commitId--ca725504af2a0a50bfb648870fd334fbdf994a7b
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 ca725504af2a0a50bfb648870fd334fbdf994a7b
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- drivers/bcm_media_gw/bpcm/Makefile drivers/bcm_media_gw/bpcm/bpcm_core.c drivers/bcm_media_gw/bpcm/bpcm_priv.h drivers/bcm_media_gw/bpcm/bpcm_proc.c drivers/bcm_media_gw/bpcm/bpcm_proc.h drivers/bcm_media_gw/pmb/pmb.h
remote: getGrep-
remote:
remote: Processing commit 5ff3e44c10799fca2e9a3962e6d980993f21373a
remote: Jiras=>SWRGROUTER-4362
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-4362
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-4362
remote: JiraStatus-SWRGROUTER-4362-SWRGROUTER|Port Patch to Branch Closed|jayeshp|develop|develop|Runner: Upgrade to release 1.4|
remote:
remote: status-Port Patch to Branch Closed
remote: devId-rbbswbld
remote: summary-Runner: Upgrade to release 1.4
remote: ##############################################################
remote: # Jira SWRGROUTER-4362 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;jayeshp@broadcom.com;2016-04-04 17:51:22 -0400;5ff3e44c10799fca2e9a3962e6d980993f21373a;SWRGROUTER-4362 - Runner: Upgrade to release 1.4;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-4362
remote: =======================
remote: UPDATE: SWRGROUTER-4362
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--drivers/bcm_media_gw/flowmgr/flowmgr.h
remote:  drivers/bcm_media_gw/flowmgr/flowmgr_fap.c
remote:  drivers/bcm_media_gw/flowmgr/flowmgr_mcast.c
remote:  net/bridge/br_igmp.c
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-4362
remote: commitId--5ff3e44c10799fca2e9a3962e6d980993f21373a
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 5ff3e44c10799fca2e9a3962e6d980993f21373a
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- .../BCM3390/data_path_init.h .../BCM3390/drv_bbh_shell.c .../BCM3390/drv_bpm_shell.c .../BCM3390/drv_ih_shell.c .../BCM3390/drv_sbpm_shell.c .../CM3390/drivers/rdd/rdd_proj_init.c .../CM3390/drivers/rdpa/make.proj_objs .../CM3390/firmware_bin/runner_fw_a.c .../CM3390/firmware_bin/runner_fw_b.c .../CM3390/firmware_bin/runner_fw_c.c .../CM3390/firmware_bin/runner_fw_d.c .../autogen/rdpa_ag_dhd_helper.h .../autogen/rdpa_ag_dscp_to_pbit.h .../autogen/rdpa_ag_egress_tm.h .../bcm_media_gw/flowmgr/flowmgr_fap.c .../bcmdrivers/broadcom/rtf/Makefile .../bdmf/drivers/test_allocid.c .../bdmf/framework/bdmf_codegen.c .../bdmf/framework/bdmf_data_types.h .../bdmf/framework/bdmf_history.c .../bdmf/framework/bdmf_interface.h .../bdmf/framework/bdmf_memarea.c .../bdmf/framework/bdmf_object.c .../bdmf/framework/bdmf_trace.c .../bdmf/framework/bdmf_utils.c .../bdmf/shell/bdmf_shell_server.c .../bdmf/shell/bdmf_shell_server.h .../bdmf/system/linux/bdmf_chrdev.c .../bdmf/system/linux/bdmf_chrdev.h .../bdmf/system/linux/ce/bdmf_system.c .../bdmf/system/linux/ce/bdmf_system.h .../bdmf/system/linux/cm/bdmf_system.c .../bdmf/system/linux/cm/bdmf_system.h .../bdmf/system/sim/bdmf_system.c .../bdmf/system/sim/bdmf_system.h .../bdmf/userspace/bdmf_shell_client.c .../broadcom/dqnet_rfap/Makefile .../broadcom/flowmgr_rfap/Makefile .../broadcom/runner/Makefile .../broadcom/runner/drivers/rdd/rdd.h .../dhd_offload/rdd_dhd_helper.c .../dhd_offload/rdd_dhd_helper.h .../dhd_offload/rdd_dhd_helper_shell.c .../dhd_offload/rdd_wlan_mcast.c .../dhd_offload/rdd_wlan_mcast.h .../dqnet_rfap/dqnet_rfap_ops.c .../drivers/bdmf/db_engine/db_engine.c .../drivers/bdmf/db_engine/db_engine.h .../drivers/bdmf/drivers/test1_drv.c .../drivers/bdmf/drivers/test2_drv.c .../drivers/bdmf/framework/bdmf_attr.c .../drivers/bdmf/framework/bdmf_dev.h .../drivers/bdmf/framework/bdmf_fini.c .../drivers/bdmf/framework/bdmf_init.c .../drivers/bdmf/framework/bdmf_mon.c .../drivers/bdmf/framework/bdmf_type.c .../drivers/bdmf/shell/bdmf_shell.c .../drivers/bdmf/shell/bdmf_shell.h .../drivers/bdmf/system/bdmf_errno.c .../drivers/bdmf/system/bdmf_errno.h .../drivers/bdmf/system/bdmf_queue.h .../drivers/bdmf/system/bdmf_session.c .../drivers/bdmf/system/bdmf_session.h .../drivers/bdmf/system/sim/bdmf_buf.c .../drivers/bdmf/system/sim/bdmf_buf.h .../drivers/rdd/rdd_data_structures.h .../drivers/rdd/rdd_iptv_filter.c .../drivers/rdd/rdd_runner_a_labels.h .../drivers/rdd/rdd_runner_b_labels.h .../drivers/rdd/rdd_runner_c_labels.h .../drivers/rdd/rdd_runner_d_labels.h .../drivers/rdd/rdd_runner_defs.h .../drivers/rdd/rdd_runner_defs_auto.h .../drivers/rdd/rdd_runner_reg_dump.c .../drivers/rdd/rdd_runner_reg_dump.h .../drivers/rdd/rdd_tunnels_parsing.c .../drivers/rdd/rdd_tunnels_parsing.h .../drivers/rdp_subsystem/packing.h .../drivers/rdpa/rdpa_dhd_helper.c .../drivers/rdpa/rdpa_dscp_to_pbit.c .../drivers/rdpa/rdpa_egress_tm.c .../drivers/rdpa/rdpa_gpl_cpu_helper.c .../drivers/rdpa/rdpa_ingress_class.c .../drivers/rdpa/rdpa_ip_class.c .../drivers/rdpa/rdpa_module_fini.c .../drivers/rdpa/rdpa_pbit_to_gem.c .../drivers/rdpa/rdpa_pbit_to_queue.c .../drivers/rdpa/rdpa_qos_mapper.c .../drivers/rdpa/rdpa_rdd_inline.h .../drivers/rdpa/rdpa_tc_to_queue.c .../drivers/rdpa/rdpa_vlan_action.c .../drivers/rdpa/rdpa_wlan_mcast.c .../firmware/dhd_offload/dhd_defs.h .../firmware_bin/predict_runner_fw_a.c .../firmware_bin/predict_runner_fw_b.c .../firmware_bin/predict_runner_fw_c.c .../firmware_bin/predict_runner_fw_d.c .../flowmgr/flowmgr_mcast.c .../flowmgr_rfap/flowmgr_rfap_ops.c .../include/autogen/rdpa_ag_cpu.h .../include/autogen/rdpa_ag_ip_class.h .../include/rdpa_dhd_helper_basic.h .../include/rdpa_ingress_class.h .../include/rdpa_ingress_class_basic.h .../private/apps/smd/scripts/profile .../projects/CM3390/make.proj_flags .../projects/CM3390/sources.list .../rdd/rdd_data_structures_auto.h .../rdd/rdd_runner_reg_dump_addrs.c .../rdd/rdd_runner_reg_dump_addrs.h .../rdp_subsystem/BCM3390/drv_shell.h .../rdp_subsystem/access_macros.h .../rdp_subsystem_common.h .../rdpa/BCM3390/rdpa_platform.h .../rdpa/BCM3390/rdpa_system_hw_cfg.c .../rdpa/rdpa_egress_tm_inline.h .../rdpa_gpl/include/rdpa_api.h .../rdpa_gpl/include/rdpa_cpu.h .../rdpa_gpl/include/rdpa_cpu_basic.h .../rdpa_gpl/include/rdpa_cpu_helper.h .../rdpa_gpl/include/rdpa_dhd_helper.h .../rdpa_gpl/include/rdpa_egress_tm.h .../rdpa_gpl/include/rdpa_ip_class.h .../rdpa_gpl/include/rdpa_iptv.h .../rdpa_gpl/include/rdpa_policer.h .../rdpa_gpl/include/rdpa_port.h .../rdpa_gpl/include/rdpa_qos_mapper.h .../rdpa_gpl/include/rdpa_system.h .../rdpa_gpl/include/rdpa_types.h .../rdpa_gpl/include/rdpa_wlan_mcast.h .../rdpa_gpl/rdpa_gpl_dhd_helper.c .../rdpa_gpl/rdpa_gpl_handwr  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 46454    0 46454    0     0  97188      0 --:--:-- --:--:-- --:--:--  121k
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 101  1522    0  1522    0     0   3630      0 --:--:-- --:--:-- --:--:--  4847
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 101  1828    0     0  101  1828      0   1114  0:00:01  0:00:01 --:--:--  1189
remote: itten.c .../rdpa_gpl/rdpa_gpl_wlan_mcast.c .../runner/drivers/bdmf/main.c .../runner/drivers/rdd/Makefile .../runner/drivers/rdd/rdd_common.c .../runner/drivers/rdd/rdd_common.h .../runner/drivers/rdd/rdd_cpu.c .../runner/drivers/rdd/rdd_defs.h .../runner/drivers/rdd/rdd_fc.c .../runner/drivers/rdd/rdd_fc.h .../runner/drivers/rdd/rdd_init.c .../runner/drivers/rdd/rdd_shell.c .../runner/drivers/rdd/rdd_simulator.c .../runner/drivers/rdd/rdd_simulator.h .../runner/drivers/rdd/rdd_stubs.h .../runner/drivers/rdd/rdd_tm.c .../runner/drivers/rdpa/main.c .../runner/drivers/rdpa/misc_shell.c .../runner/drivers/rdpa/rdp_version.h .../runner/drivers/rdpa/rdpa_bridge.c .../runner/drivers/rdpa/rdpa_common.c .../runner/drivers/rdpa/rdpa_cpu.c .../runner/drivers/rdpa/rdpa_filter.c .../runner/drivers/rdpa/rdpa_gem.c .../runner/drivers/rdpa/rdpa_int.h .../runner/drivers/rdpa/rdpa_iptv.c .../runner/drivers/rdpa/rdpa_llid.c .../runner/drivers/rdpa/rdpa_module.c .../runner/drivers/rdpa/rdpa_policer.c .../runner/drivers/rdpa/rdpa_port.c .../runner/drivers/rdpa/rdpa_rdd_map.c .../runner/drivers/rdpa/rdpa_rdd_map.h .../runner/drivers/rdpa/rdpa_system.c .../runner/drivers/rdpa/rdpa_tcont.c .../runner/drivers/rdpa/rdpa_types.c .../runner/drivers/rdpa/rdpa_vlan.c .../system/linux/bdmf_system_common.c .../system/linux/bdmf_system_common.h drivers/bcm_media_gw/flowmgr/flowmgr.h net/bridge/br_igmp.c
remote: getGrep-
remote:
remote: Processing commit 31a3936fc66115684b20a477360ed9020a5f19d0
remote: Jiras=>SWRGROUTER-4384
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-4384
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-4384
remote: JiraStatus-SWRGROUTER-4384-SWRGROUTER|Confirm|tross|develop|develop|DQM: Add interrupt coalescing support|
remote:
remote: status-Confirm
remote: devId-rbbswbld
remote: summary-DQM: Add interrupt coalescing support
remote: ##############################################################
remote: # Jira SWRGROUTER-4384 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;tross@broadcom.com;2016-04-07 15:43:46 -0400;31a3936fc66115684b20a477360ed9020a5f19d0;SWRGROUTER-4384: DQM: Add interrupt coalescing support;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-4384
remote: =======================
remote: UPDATE: SWRGROUTER-4384
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--arch/arm/boot/dts/rg.3390-base.dtsi
remote:  drivers/bcm_media_gw/dqm/dqm.h
remote:  drivers/bcm_media_gw/dqm/dqm_core.c
remote:  drivers/bcm_media_gw/dqm/dqm_dbg.c
remote:  drivers/bcm_media_gw/dqm/dqm_dbg.h
remote:  drivers/bcm_media_gw/dqm/dqm_dev.h
remote:  drivers/bcm_media_gw/dqm/dqm_dt.c
remote:  drivers/bcm_media_gw/dqm/dqm_dt.h
remote:  drivers/bcm_media_gw/dqm/dqm_hw.h
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-4384
remote: commitId--31a3936fc66115684b20a477360ed9020a5f19d0
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 31a3936fc66115684b20a477360ed9020a5f19d0
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- arch/arm/boot/dts/rg.3390-base.dtsi arch/arm/boot/dts/rg.3390a2-dcm.dts arch/arm/boot/dts/rg.3390a2-smwvg.dts arch/arm/boot/dts/rg.3390a2-sv.dts arch/arm/boot/dts/rg.3390a2-vms.dts arch/arm/boot/dts/rg.3390a2.dts drivers/bcm_media_gw/dqm/dqm.h drivers/bcm_media_gw/dqm/dqm_core.c drivers/bcm_media_gw/dqm/dqm_dbg.c drivers/bcm_media_gw/dqm/dqm_dbg.h drivers/bcm_media_gw/dqm/dqm_dev.h drivers/bcm_media_gw/dqm/dqm_dt.c drivers/bcm_media_gw/dqm/dqm_  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 47947    0 47947    0     0   100k      0 --:--:-- --:--:-- --:--:--  129k
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 105  1995    0  1995    0     0   4852      0 --:--:-- --:--:-- --:--:--  6498
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 103  2179    0     0  103  2179      0   1520  0:00:01  0:00:01 --:--:--  1640
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 49187    0 49187    0     0   104k      0 --:--:-- --:--:-- --:--:--  134k
remote: dt.h drivers/bcm_media_gw/dqm/dqm_hw.h
remote: getGrep-
remote:
remote: Processing commit a4a448333cbf7fb60df16d71dcec5ac33b6e24c8
remote: Jiras=>SWRGROUTER-4384
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-4384
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-4384
remote: JiraStatus-SWRGROUTER-4384-SWRGROUTER|Confirm|tross|develop|develop|DQM: Add interrupt coalescing support|
remote:
remote: status-Confirm
remote: devId-rbbswbld
remote: summary-DQM: Add interrupt coalescing support
remote: ##############################################################
remote: # Jira SWRGROUTER-4384 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;tross@broadcom.com;2016-04-07 16:31:34 -0400;a4a448333cbf7fb60df16d71dcec5ac33b6e24c8;SWRGROUTER-4384: DQM: Add interrupt coalescing support;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-4384
remote: =======================
remote: UPDATE: SWRGROUTER-4384
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--drivers/bcm_media_gw/dqm/dqm.h
remote:  drivers/bcm_media_gw/dqm/dqm_core.c
remote:  drivers/bcm_media_gw/dqm/dqm_dbg.c
remote:  drivers/bcm_media_gw/dqm/dqm_dbg.h
remote:  drivers/bcm_media_gw/dqm/dqm_dev.h
remote:  drivers/bcm_media_gw/dqm/dqm_dt.c
remote:  drivers/bcm_media_gw/dqm/dqm_dt.h
remote:  drivers/bcm_media_gw/dqm/dqm_hw.h
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-4384
remote: commitId--a4a448333cbf7fb60df16d71dcec5ac33b6e24c8
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 a4a448333cbf7fb60df16d71dcec5ac33b6e24c8
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- arch/arm/boot/dts/rg.3390-base.dtsi arch/arm/boot/dts/rg.3390a2-dcm.dts arch/arm/boot/dts/rg.3390a2-smwvg.dts arch/arm/boot/dts/rg.3390a2-sv.dts arch/arm/boot/dts/rg.3390a2-vms.dts arch/arm/boot/dts/rg.3390a2.dts drivers/bcm_media_gw/dqm/dqm.h drivers/bcm_media_gw/dqm/dqm_core.c drivers/bcm_media_gw/dqm/dqm_dbg.c drivers/bcm_media_gw/dqm/dqm_dbg.h drivers/bcm_media_gw/dqm/dqm_dev.h drivers/bcm_media_gw/dqm/dqm_dt.c drivers/bcm_media_gw/dqm/dqm_dt.h drivers/bcm_media_gw/dqm/dqm_hw.h
remote: getGrep-
remote:
remote: Processing commit ebbc8a46a965ae9c693be52d92524db5efb79b5f
remote: Jiras=>SWRGROUTER-4384
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-4384
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-4384
remote: JiraStatus-SWRGROUTER-4384-SWRGROUTER|Confirm|tross|develop|develop|DQM: Add interrupt coalescing support|
remote:
remote: status-Confirm
remote: devId-rbbswbld
remote: summary-DQM: Add interrupt coalescing support
remote: ##############################################################
remote: # Jira SWRGROUTER-4384 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;tross@broadcom.com;2016-04-13 09:58:29 -0400;ebbc8a46a965ae9c693be52d92524db5efb79b5f;SWRGROUTER-4384: DQM: Add interrupt coalescing support;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-4384
remote: =======================
remote: UPDATE: SWRGROUTER-4384
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--arch/arm/boot/dts/rg.3390a2-dcm.dts
remote:  arch/arm/boot/dts/rg.3390a2-smwvg.dts
remote:  arch/arm/boot/dt  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 102  2346    0  2346    0     0   5670      0 --:--:-- --:--:-- --:--:--  7567
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 103  2579    0     0  103  2579      0   1799  0:00:01  0:00:01 --:--:--  1942
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 42823    0 42823    0     0  76134      0 --:--:-- --:--:-- --:--:-- 93500
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 103  1137    0  1137    0     0   2774      0 --:--:-- --:--:-- --:--:--  3740
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 105  1472    0     0  105  1472      0    948  0:00:01  0:00:01 --:--:--  1016
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 64779    0 64779    0     0   109k      0 --:--:-- --:--:-- --:--:--  133k
remote: s/rg.3390a2-sv.dts
remote:  arch/arm/boot/dts/rg.3390a2-vms.dts
remote:  arch/arm/boot/dts/rg.3390a2.dts
remote:  drivers/bcm_media_gw/dqm/dqm_dt.c
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-4384
remote: commitId--ebbc8a46a965ae9c693be52d92524db5efb79b5f
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 ebbc8a46a965ae9c693be52d92524db5efb79b5f
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- arch/arm/boot/dts/rg.3390-base.dtsi arch/arm/boot/dts/rg.3390a2-dcm.dts arch/arm/boot/dts/rg.3390a2-smwvg.dts arch/arm/boot/dts/rg.3390a2-sv.dts arch/arm/boot/dts/rg.3390a2-vms.dts arch/arm/boot/dts/rg.3390a2.dts drivers/bcm_media_gw/dqm/dqm.h drivers/bcm_media_gw/dqm/dqm_core.c drivers/bcm_media_gw/dqm/dqm_dbg.c drivers/bcm_media_gw/dqm/dqm_dbg.h drivers/bcm_media_gw/dqm/dqm_dev.h drivers/bcm_media_gw/dqm/dqm_dt.c drivers/bcm_media_gw/dqm/dqm_dt.h drivers/bcm_media_gw/dqm/dqm_hw.h
remote: getGrep-
remote:
remote: Processing commit 1666b0ede1e5046f65b01f80240c4096ac356b6a
remote: Jiras=>SWRGROUTER-4389
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-4389
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-4389
remote: JiraStatus-SWRGROUTER-4389-SWRGROUTER|Closed|yanhaih|develop|develop|Move kernel module nf_defrag_ipv6_notrack to directory /drivers/bcm_media_gw/netfilter/|
remote:
remote: status-Closed
remote: devId-rbbswbld
remote: summary-Move kernel module nf_defrag_ipv6_notrack to directory /drivers/bcm_media_gw/netfilter/
remote: ##############################################################
remote: # Jira SWRGROUTER-4389 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;yanhaih@broadcom.com;2016-04-14 10:11:56 +0800;1666b0ede1e5046f65b01f80240c4096ac356b6a;SWRGROUTER-4389: Move kernel module nf_defrag_ipv6_notrack;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-4389
remote: =======================
remote: UPDATE: SWRGROUTER-4389
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--drivers/bcm_media_gw/netfilter/Kconfig
remote:  drivers/bcm_media_gw/netfilter/Makefile
remote:  drivers/bcm_media_gw/netfilter/nf_defrag_ipv6_hooks_notrack.c
remote:  net/ipv6/netfilter/Kconfig
remote:  net/ipv6/netfilter/Makefile
remote:  net/ipv6/netfilter/nf_defrag_ipv6_hooks_notrack.c
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-4389
remote: commitId--1666b0ede1e5046f65b01f80240c4096ac356b6a
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 1666b0ede1e5046f65b01f80240c4096ac356b6a
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- .../bcm_media_gw/netfilter/Makefile .../nf_defrag_ipv6_hooks_notrack.c drivers/bcm_media_gw/netfilter/Kconfig net/ipv6/netfilter/Kconfig net/ipv6/netfilter/Makefile
remote: getGrep-
remote:
remote: Processing commit da4995a6c10ec091b882c8153021254b0bbd3728
remote: Jiras=>SWRGROUTER-4395
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-4395
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-4395
remote: JiraStatus-SWRGROUTER-4395-SWRGROUTER|Closed|snanda|RLS_5.8.0~RLS_5.8.0_PON~develop|RLS_5.8.0mp2 RLS_5.8.0_PON develop|WiFi: use the  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 101   608    0   608    0     0   1483      0 --:--:-- --:--:-- --:--:--  2000
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote:   0     0    0     0    0   786      0    543 --:--:--  0:00:01 --:--:--     0
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 97530    0 97530    0     0   194k      0 --:--:-- --:--:-- --:--:--  246k
remote:  correct assertlevel in the device tree for WPS pushbutton and LED|
remote:
remote: status-Closed
remote: devId-rbbswbld
remote: summary-WiFi: use the correct assertlevel in the device tree for WPS pushbutton and LED
remote: ##############################################################
remote: # Jira SWRGROUTER-4395 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;snanda@broadcom.com;2016-04-18 11:30:37 -0700;da4995a6c10ec091b882c8153021254b0bbd3728;WiFi: use the correct assertlevel in the device tree for WPS pushbutton and LED;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-4395
remote: =======================
remote: UPDATE: SWRGROUTER-4395
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--arch/arm/boot/dts/rg.3390-wifi.dtsi
remote:  arch/mips/boot/dts/bcm33843mwvg_mgw_zephyr.dtsi
remote:  arch/mips/boot/dts/bcm3384_mgw_zephyr.dtsi
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-4395
remote: commitId--da4995a6c10ec091b882c8153021254b0bbd3728
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 da4995a6c10ec091b882c8153021254b0bbd3728
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- .../boot/dts/bcm33843mwvg_mgw_zephyr.dtsi .../src/wps/brcm_apps/arch/bcm947xx/wps_gpio.c arch/arm/boot/dts/rg.3390-wifi.dtsi arch/mips/boot/dts/bcm3384_mgw_zephyr.dtsi
remote: getGrep-
remote:
remote: Processing commit eabc1f7b77f33ad66a833c4708460a746c279c40
remote: Jiras=>SWRGROUTER-4152
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-4152
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-4152
remote: JiraStatus-SWRGROUTER-4152-SWRGROUTER|Port Patch to Branch Confirm|dnguyen|develop|develop|WiFi: Read WBID from WiFi daughter cards to load and insmod the correct WiFi driver|
remote:
remote: status-Port Patch to Branch Confirm
remote: devId-rbbswbld
remote: summary-WiFi: Read WBID from WiFi daughter cards to load and insmod the correct WiFi driver
remote: ##############################################################
remote: # Jira SWRGROUTER-4152 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;smuller@broadcom.com;2016-04-18 14:12:55 -0700;eabc1f7b77f33ad66a833c4708460a746c279c40;WiFi: Read WBID from WiFi daughter cards to load and insmod the correct WiFi driver;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-4152
remote: =======================
remote: UPDATE: SWRGROUTER-4152
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--drivers/bcm_media_gw/i2c/wbid.c
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-4152
remote: commitId--eabc1f7b77f33ad66a833c4708460a746c279c40
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 eabc1f7b77f33ad  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100  6807    0  6807    0     0  16320      0 --:--:-- --:--:-- --:--:-- 21817
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 101  7093    0     0  101  7093      0   4170  0:00:01  0:00:01 --:--:--  4444
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 28644    0 28644    0     0  65116      0 --:--:-- --:--:-- --:--:-- 85504
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 105  1366    0  1366    0     0   3203      0 --:--:-- --:--:-- --:--:--  4268
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100  2100    0     0  100  2100      0   1377  0:00:01  0:00:01 --:--:--  1478
remote: 66a833c4708460a746c279c40
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- .../dhd/src/dhd/config/dhd_router.mk .../mixedap/dhd/src/dhd/sys/dhd_pcie.c drivers/bcm_media_gw/i2c/wbid.c
remote: getGrep-
remote:
remote: Processing commit 09d477f927f971648c8527f3188dc5b85d5dbb60
remote: Jiras=>SWRGROUTER-4441
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-4441
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-4441
remote: JiraStatus-SWRGROUTER-4441-SWRGROUTER|Bug Closed|skern|feat_PowerManagement|feat_PowerManagement|Update feat_PowerManagement streams to latest - eRouter|
remote:
remote: status-Bug Closed
remote: devId-rbbswbld
remote: summary-Update feat_PowerManagement streams to latest - eRouter
remote: ##############################################################
remote: # Jira SWRGROUTER-4441 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;skern@broadcom.com;2016-04-19 11:54:49 -0700;09d477f927f971648c8527f3188dc5b85d5dbb60;SWRGROUTER-4441 MODULE: Update feat_PowerManagement streams to latest - eRouter;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-4441
remote: =======================
remote: UPDATE: SWRGROUTER-4441
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--Documentation/devicetree/bindings/i2c/i2c-brcmwbid.txt
remote:  arch/arm/boot/dts/rg.3390-base.dtsi
remote:  arch/arm/boot/dts/rg.3390a2-dcm.dts
remote:  arch/arm/boot/dts/rg.3390a2-smwvg.dts
remote:  arch/arm/boot/dts/rg.3390a2-sv.dts
remote:  arch/arm/boot/dts/rg.3390a2-vms.dts
remote:  arch/arm/boot/dts/rg.3390a2.dts
remote:  arch/arm/boot/dts/rg.3390b0-moca.dtsi
remote:  arch/mips/boot/dts/bcm33843mwvg_mgw_zephyr.dtsi
remote:  arch/mips/boot/dts/bcm3384_mgw_zephyr.dtsi
remote:  drivers/bcm_media_gw/Kconfig
remote:  drivers/bcm_media_gw/Makefile
remote:  drivers/bcm_media_gw/boot_assist/brcm_ba.c
remote:  drivers/bcm_media_gw/boot_assist/brcm_ba.h
remote:  drivers/bcm_media_gw/boot_assist/brcm_ba_priv.h
remote:  drivers/bcm_media_gw/dqm/dqm.h
remote:  drivers/bcm_media_gw/dqm/dqm_core.c
remote:  drivers/bcm_media_gw/dqm/dqm_dbg.c
remote:  drivers/bcm_media_gw/dqm/dqm_dbg.h
remote:  drivers/bcm_media_gw/dqm/dqm_dev.h
remote:  drivers/bcm_media_gw/dqm/dqm_dt.c
remote:  drivers/bcm_media_gw/dqm/dqm_dt.h
remote:  drivers/bcm_media_gw/dqm/dqm_hw.h
remote:  drivers/bcm_media_gw/flowmgr/flowmgr.h
remote:  drivers/bcm_media_gw/flowmgr/flowmgr_core.c
remote:  drivers/bcm_media_gw/flowmgr/flowmgr_fap.c
remote:  drivers/bcm_media_gw/flowmgr/flowmgr_mcast.c
remote:  drivers/bcm_media_gw/flowmgr/flowmgr_tunnel.c
remote:  drivers/bcm_media_gw/i2c/Makefile
remote:  drivers/bcm_media_gw/i2c/wbid.c
remote:  drivers/bcm_media_gw/netfilter/Kconfig
remote:  drivers/bcm_media_gw/netfilter/Makefile
remote:  drivers/bcm_media_gw/netfilter/nf_defrag_ipv6_hooks_notrack.c
remote:  drivers/bcm_media_gw/netfilter/xt_l2ogre_mt.c
remote:  drivers/bcm_media_gw/netfilter/xt_l2ogre_reg.c
remote:  drivers/bcm_media_gw/netfilter/xt_l2ogre_tg.c
remote:  include/linux/netfilter/xt_l2ogre_mt.h
remote:  include/linux/netfilter/xt_l2ogre_tg.h
remote:  include/linux/wbid.h
remote:  include/net/netfilter/nf_conntrack_offload.h
remote:  net/bridge/br_igmp.c
remote:  net/ipv6/netfilter/Kconfig
remote:  net/ipv6/netfilter/Makefile
remote:  net/netfilter/nf_conntrack_offload.c
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-4441
remote: commitId--09d477f927f971648c8527f3188dc5b85d5dbb60
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 09d477f927f971648c8527f3188dc5b85d5dbb60
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- .../bcm_media_gw/boot_assist/brcm_ba.c .../bcm_media_gw/boot_assist/brcm_ba.h .../bcm_media_gw/flowmgr/flowmgr_fap.c .../bcm_media_gw/netfilter/Makefile .../b  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 54909    0 54909    0     0   119k      0 --:--:-- --:--:-- --:--:--  155k
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 111   666    0   666    0     0   1630      0 --:--:-- --:--:-- --:--:--  2198
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote:   0     0    0     0    0   877      0    666 --:--:--  0:00:01 --:--:--     0
remote: indings/i2c/i2c-brcmwbid.txt .../boot/dts/bcm3384_mgw_zephyr.dtsi .../boot_assist/brcm_ba_priv.h .../dts/bcm33843mwvg_mgw_zephyr.dtsi .../flowmgr/flowmgr_core.c .../flowmgr/flowmgr_mcast.c .../flowmgr/flowmgr_tunnel.c .../netfilter/nf_conntrack_offload.h .../netfilter/xt_l2ogre_mt.c .../netfilter/xt_l2ogre_reg.c .../netfilter/xt_l2ogre_tg.c .../nf_defrag_ipv6_hooks_notrack.c arch/arm/boot/dts/rg.3390-base.dtsi arch/arm/boot/dts/rg.3390a2-dcm.dts arch/arm/boot/dts/rg.3390a2-smwvg.dts arch/arm/boot/dts/rg.3390a2-sv.dts arch/arm/boot/dts/rg.3390a2-vms.dts arch/arm/boot/dts/rg.3390a2.dts arch/arm/boot/dts/rg.3390b0-moca.dtsi arch/arm/boot/dts/rg.3390c0-vcm.dts arch/arm/boot/dts/rg.3390z0-smwvg.dts arch/arm/boot/dts/rg.3390z0-vms.dts drivers/bcm_media_gw/Kconfig drivers/bcm_media_gw/Makefile drivers/bcm_media_gw/dqm/dqm.h drivers/bcm_media_gw/dqm/dqm_core.c drivers/bcm_media_gw/dqm/dqm_dbg.c drivers/bcm_media_gw/dqm/dqm_dbg.h drivers/bcm_media_gw/dqm/dqm_dev.h drivers/bcm_media_gw/dqm/dqm_dt.c drivers/bcm_media_gw/dqm/dqm_dt.h drivers/bcm_media_gw/dqm/dqm_hw.h drivers/bcm_media_gw/flowmgr/flowmgr.h drivers/bcm_media_gw/i2c/Makefile drivers/bcm_media_gw/i2c/wbid.c drivers/bcm_media_gw/netfilter/Kconfig include/linux/netfilter/xt_l2ogre_mt.h include/linux/netfilter/xt_l2ogre_tg.h include/linux/wbid.h net/bridge/br_igmp.c net/ipv6/netfilter/Kconfig net/ipv6/netfilter/Makefile net/netfilter/nf_conntrack_offload.c
remote: getGrep-
remote:
remote: Processing commit 247d3542e1fd3a4f0581078f85bbbaacdde483dc
remote: Jiras=>SWRGROUTER-4069
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-4069
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-4069
remote: JiraStatus-SWRGROUTER-4069-SWRGROUTER|Bug Generic Sub-task Closed|venky|feat_PowerManagement|feat_PowerManagement|Active power savings - Linux - Disable WiFi block if radios disabled|
remote:
remote: status-Bug Generic Sub-task Closed
remote: devId-rbbswbld
remote: summary-Active power savings - Linux - Disable WiFi block if radios disabled
remote: ##############################################################
remote: # Jira SWRGROUTER-4069 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;venky@cm-irv-1.irv.broadcom.com;2016-04-19 18:40:11 -0700;247d3542e1fd3a4f0581078f85bbbaacdde483dc;Wi-Fi: Active power savings - Linux - Disable WiFi block if radios disabled Added Radio Power Management Driver;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-4069
remote: =======================
remote: UPDATE: SWRGROUTER-4069
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--arch/arm/boot/dts/rg.3390-wifi.dtsi
remote:  arch/arm/boot/dts/rg.3390b0-smwvg.dts
remote:  arch/arm/boot/dts/rg.3390b0-sv.dts
remote:  arch/arm/boot/dts/rg.3390b0-vms.dts
remote:  arch/arm/boot/dts/rg.3390b0.dts
remote:  arch/mips/boot/dts/bcm33843mwvg_mgw_zephyr.dtsi
remote:  arch/mips/boot/dts/bcm3384_mgw_zephyr.dtsi
remote:  drivers/bcm_media_gw/Kconfig
remote:  drivers/bcm_media_gw/Makefile
remote:  drivers/bcm_media_gw/wrfpwr/Makefile
remote:  drivers/bcm_media_gw/wrfpwr/wrfpwr_core.c
remote:  drivers/regulator/core.c
remote:  include/uapi/linux/bcm_media_gw/wrfpwr/wrfpwr_api.h
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-4069
remote: commitId--247d3542e1fd3a4f0581078f85bbbaacdde483dc
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 247d3542e1fd3a4f0581078f85bbbaacdde483dc
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- .../apps/erouterctld/erouterctld.c .../a  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100  116k    0  116k    0     0   192k      0 --:--:-- --:--:-- --:--:--  232k
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 105  1162    0  1162    0     0   2817      0 --:--:-- --:--:-- --:--:--  3760
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100  1503    0     0  100  1503      0    929  0:00:01  0:00:01 --:--:--   994
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 38472    0 38472    0     0  84327      0 --:--:-- --:--:-- --:--:--  107k
remote: pps/wlan/wlmngr/wldaemon.c .../bcm_media_gw/wrfpwr/wrfpwr_api.h .../bcm_media_gw/wrfpwr/wrfpwr_core.c .../boot/dts/bcm3384_mgw_zephyr.dtsi .../dts/bcm33843mwvg_mgw_zephyr.dtsi .../private/apps/wlan/wlmngr/Makefile .../private/apps/wlan/wlmngr/wldaemon.c .../private/apps/wlan/wlmngr/wlmngr.c .../private/apps/wlan/wlmngr/wlmngr.h .../userspace/private/apps/wlan/wlmngr/wldaemon.c arch/arm/boot/dts/rg.3390-wifi.dtsi arch/arm/boot/dts/rg.3390b0-smwvg.dts arch/arm/boot/dts/rg.3390b0-sv.dts arch/arm/boot/dts/rg.3390b0-vms.dts arch/arm/boot/dts/rg.3390b0.dts drivers/bcm_media_gw/Kconfig drivers/bcm_media_gw/Makefile drivers/bcm_media_gw/wrfpwr/Makefile drivers/regulator/core.c rg_apps/userspace/private/apps/wlan/wlmngr/wlmngr.c
remote: getGrep-
remote:
remote: Processing commit 201a6b35f78673a15b9f4481bbd2794739c1c2db
remote: Jiras=>SWRGROUTER-3972
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-3972
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-3972
remote: JiraStatus-SWRGROUTER-3972-SWRGROUTER|New Feature Closed|skern|develop|develop|Comm WiFi: L2oGRE enhancements - wifiHotspotInsertDhcpOptionsMask doesn't work|
remote:
remote: status-New Feature Closed
remote: devId-rbbswbld
remote: summary-Comm WiFi: L2oGRE enhancements - wifiHotspotInsertDhcpOptionsMask doesn't work
remote: ##############################################################
remote: # Jira SWRGROUTER-3972 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;twhite@cm-irv-1.irv.broadcom.com;2016-04-21 12:39:24 -0700;201a6b35f78673a15b9f4481bbd2794739c1c2db;SWRGROUTER-3972: Community WiFi/L2oGRE;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-3972
remote: =======================
remote: UPDATE: SWRGROUTER-3972
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--drivers/bcm_media_gw/netfilter/ebt_dhcpsnoop.c
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-3972
remote: commitId--201a6b35f78673a15b9f4481bbd2794739c1c2db
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 201a6b35f78673a15b9f4481bbd2794739c1c2db
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- .../apps/wlan/homehotspot/homehotspot.c .../private/apps/wlan/Makefile .../private/apps/wlan/homehotspot/homehotspot.c drivers/bcm_media_gw/netfilter/ebt_dhcpsnoop.c
remote: getGrep-
remote:
remote: Processing commit 51243727b527e8dc1a39118b246b81d8d48ff139
remote: Jiras=>SWRGROUTER-4485
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-4485
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-4485
remote: JiraStatus-SWRGROUTER-4485-SWRGROUTER|New Feature Confirm|ignatius|develop|develop|3390: CLAB-GRE has endianness issue and is not working for 3390|
remote:
remote: status-New Feature Confirm
remote: devId-rbbswbld
remote: summary-3390: CLAB-GRE has endianness issue and is not working for 3390
remote: ##############################################################
remote: # Jira SWRGROUTER-4485 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;jayeshp@broadcom.com;2016-04-26 09:07:49 -0400;51243727b527e8dc1a39118b246b81d8d48ff139;SWRGROUTER-4485 3390: CLAB-GRE has endianness issue and is not working for 3390;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: j  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 106   742    0   742    0     0   1794      0 --:--:-- --:--:-- --:--:--  2416
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote:   0     0    0     0    0   974      0    735 --:--:--  0:00:01 --:--:--     0
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100  138k    0  138k    0     0   240k      0 --:--:-- --:--:-- --:--:--  293k
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 103  1856    0  1856    0     0   4302      0 --:--:-- --:--:-- --:--:--  5675
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 103  2492    0     0  103  2492      0   1460  0:00:01  0:00:01 --:--:--  1555
remote: id--SWRGROUTER-4485
remote: =======================
remote: UPDATE: SWRGROUTER-4485
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--drivers/bcm_media_gw/netfilter/xt_l2ogre_mt.c
remote:  drivers/bcm_media_gw/netfilter/xt_l2ogre_tg.c
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-4485
remote: commitId--51243727b527e8dc1a39118b246b81d8d48ff139
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 51243727b527e8dc1a39118b246b81d8d48ff139
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- drivers/bcm_media_gw/netfilter/xt_l2ogre_mt.c drivers/bcm_media_gw/netfilter/xt_l2ogre_tg.c
remote: getGrep-
remote:
remote: Processing commit 076dab272c97aafb59aac9bc2d5b0080113e9175
remote: Jiras=>SWRGROUTER-4514
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-4514
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-4514
remote: JiraStatus-SWRGROUTER-4514-SWRGROUTER|Bug Closed|skern|feat_PowerManagement|feat_PowerManagement|Perform periodic develop to feat_PowerManagement merges|
remote:
remote: status-Bug Closed
remote: devId-rbbswbld
remote: summary-Perform periodic develop to feat_PowerManagement merges
remote: ##############################################################
remote: # Jira SWRGROUTER-4514 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;skern@broadcom.com;2016-04-27 15:58:09 -0700;076dab272c97aafb59aac9bc2d5b0080113e9175;SWRGROUTER-4514 MODULE: Perform periodic develop to feat_PowerManagement merges;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-4514
remote: =======================
remote: UPDATE: SWRGROUTER-4514
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--drivers/bcm_media_gw/netfilter/ebt_dhcpsnoop.c
remote:  drivers/bcm_media_gw/netfilter/xt_l2ogre_mt.c
remote:  drivers/bcm_media_gw/netfilter/xt_l2ogre_tg.c
remote:  net/ipv6/netfilter/Makefile
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-4514
remote: commitId--076dab272c97aafb59aac9bc2d5b0080113e9175
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 076dab272c97aafb59aac9bc2d5b0080113e9175
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- .../4365/components/shared/proto/nan.h .../4365/src/include/bcmparams.h .../4365/src/include/epivers.sh .../4365/src/pciedev/pciedev_data.c .../4365/src/pciedev/pciedev_priv.h .../4365/src/wl/clm/include/wlc_clm.h .../4365/src/wl/clm/src/wlc_clm.c .../4365/src/wl/clm/src/wlc_clm_data.c .../4365/src/wl/phy/wlc_phy_ac.c .../4365/src/wl/phy/wlc_phy_cmn.c .../4365/src/wl/sys/d11ucode_2w.c .../4365/src/wl/sys/d11ucode_ge24.c .../4365/src/wl/sys/d11ucode_ge40.c .../4365/src/wl/sys/d11ucode_gt15.c .../4365/src/wl/sys/d11ucode_le15.c .../4365/src/wl/sys/d11ucode_mu.c .../4365/src/wl/sys/d11ucode_p2p.c .../4365/src/wl/sys/d11ucode_wlcx.c .../4365/src/wl/sys/d11ucode_wowl.c .../4365/src/wl/sys/wlc_ampdu.c .../4365/src/wl/sys/wlc_ampdu.h .../7145a0/bchp_hif_continuation.h .../7145a0/bchp_hif_cpubiuctrl.h .../7145a0/bchp_hif_spi_intr2.h .../7145a0/bchp_moca_hostmisc.h .../7145a0/bchp_natc_reg_gfap.h .../7145a0/bchp_pcie_0_ext_cfg.h .../7145a0/bchp_pcie_0_misc_perst.h .../7145a0/bchp_pcie_0_rc_cfg_pcie.h .../7145a0/bchp_pcie_0_rc_cfg_type1.h .../7145a0/bchp_pcie_0_rc_cfg_vendor.h .../7145a0/bchp_shimphy_addr_cntl_0.h .../7145a0/bchp_shimphy_addr_cntl_1.h .../7145a0/bchp_switch_indir_rw.h .../7145a0/bchp_switch_intrl2_0.h .../7145a0/bchp_switch_intrl2_1.h .../7145a0/bchp_unimac_core0_uni0.h .../7145a0/bchp_unimac_core0_uni1.h .../7145a0/bchp_unimac_core0_uni2.h .../7145a0/bchp_unimac_core0_uni3.h .../7145b0/bchp_hif_continuation.h .../7145b0/bchp_hif_cpubiuctrl.h .../7145b0/bchp_hif_spi_intr2.h .../7145b0/bchp_moca_hostmisc.h .../7145b0/bchp_pcie_0_ext_cfg.h .../7145b0/bchp_pcie_0_misc_perst.h .../7145b0/bchp_pcie_0_rc_cfg_pcie.h .../7145b0/bchp_pcie_0_rc_cfg_type1.h .../7145b0/bchp_pcie_0_rc_cfg_vendor.h .../7145b0/bchp_shimphy_addr_cntl_0.h .../7145b0/bchp_shimphy_addr_cntl_1.h .../7145b0/bchp_switch_indir_rw.h .../7145b0/bchp_switch_intrl2_0.h .../7145b0/bchp_switch_intrl2_1.h .../7145b0/bchp_unimac_core0_uni0.h .../7145b0/bchp_unimac_core0_uni1.h .../7145b0/bchp_unimac_core0_uni2.h .../7145b0/bchp_unimac_core0_uni3.h .../7250b0/bchp_hif_continuation.h .../7250b0/bchp_hif_cpubiuctrl.h .../7250b0/bchp_pcie_0_ext_cfg.h .../7250b0/bchp_pcie_0_misc_perst.h .../7250b0/bchp_pcie_0_rc_cfg_pcie.h .../7250b0/bchp_pcie_0_rc_cfg_type1.h .../7250b0/bchp_pcie_0_rc_cfg_vendor.h .../7250b0/bchp_shimphy_addr_cntl_0.h .../7364a0/bchp_hif_continuation.h .../7364a0/bchp_hif_cpubiuctrl.h .../7364a0/bchp_moca_hostmisc.h .../7364a0/bchp_shimphy_addr_cntl_0.h .../7366b0/bchp_hif_continuation.h .../7366b0/bchp_hif_cpubiuctrl.h .../7366b0/bchp_hif_spi_intr2.h .../7366b0/bchp_moca_hostmisc.h .../7366b0/bchp_pcie_0_ext_cfg.h .../7366b0/bchp_pcie_0_misc_perst.h .../7366b0/bchp_pcie_0_rc_cfg_pcie.h .../7366b0/bchp_pcie_0_rc_cfg_type1.h .../7366b0/bchp_pcie_0_rc_cfg_vendor.h .../7366b0/bchp_shimphy_addr_cntl_0.h .../7366b0/bchp_xpt_memdma_mcpb.h .../7366b0/bchp_xpt_memdma_mcpb_ch0.h .../7366b0/bchp_xpt_security_ns.h .../7366c0/bchp_hif_continuation.h .../7366c0/bchp_hif_cpubiuctrl.h .../7366c0/bchp_moca_hostmisc.h .../7366c0/bchp_pcie_0_ext_cfg.h .../7366c0/bchp_pcie_0_misc_perst.h .../7366c0/bchp_pcie_0_rc_cfg_pcie.h .../7366c0/bchp_pcie_0_rc_cfg_type1.h .../7366c0/bchp_pcie_0_rc_cfg_vendor.h .../7366c0/bchp_shimphy_addr_cntl_0.h .../74371a0/bchp_aon_pin_ctrl.h .../74371a0/bchp_hif_continuation.h .../74371a0/bchp_hif_cpubiuctrl.h .../74371a0/bchp_hif_top_ctrl.h .../74371a0/bchp_moca_hostmisc.h .../74371a0/bchp_pcie_0_ext_cfg.h .../74371a0/bchp_pcie_0_intr2.h .../74371a0/bchp_pcie_0_misc_perst.h .../74371a0/bchp_pcie_0_rc_cfg_pcie.h .../74371a0/bchp_pcie_0_rc_cfg_type1.h .../74371a0/bchp_shimphy_addr_cntl_0.h .../7439a0/bchp_hif_continuation.h .../7439a0/bchp_hif_cpubiuctrl.h .../7439a0/bchp_hif_spi_intr2.h .../7439a0/bchp_moca_hostmisc.h .../7439a0/bchp_pcie_0_ext_cfg.h .../7439a0/bchp_pcie_0_misc_perst.h .../7439a0/bchp_pcie_0_rc_cfg_pcie.h .../7439a0/bchp_pcie_0_rc_cfg_type1.h .../7439a0/bchp_pcie_0_rc_cfg_vendor.h .../7439a0/bchp_shimphy_addr_cntl_0.h .../7439b0/bchp_hif_continuation.h .../7439b0/bchp_hif_cpubiuctrl.h .../7439b0/bchp_moca_hostmisc.h .../7439b0/bchp_pcie_0_ext_cfg.h .../7439b0/bchp_pcie_0_misc_perst.h .../7439b0/bchp_pcie_0_rc_cfg_pcie.h .../7439b0/bchp_pcie_0_rc_cfg_type1.h .../7439b0/bchp_pcie_0_rc_cfg_vendor.h .../7439b0/bchp_shimphy_addr_cntl_0.h .../7445d0/bchp_hif_continuation.h .../7445d0/bchp_hif_cpubiuctrl.h .../7445d0/bchp_moca_hostmisc.h .../7445d0/bchp_pcie_0_ext_cfg.h .../7445d0/bchp_pcie_0_misc_perst.h .../7445d0/bchp_pcie_0_rc_cfg_pcie.h .../7445d0/bchp_pcie_0_rc_cfg_type1.h .../7445d0/bchp_pcie_0_rc_cfg_vendor.h .../7445d0/bchp_shimphy_addr_cntl_0.h .../7445d0/bchp_shimphy_addr_cntl_1.h .../7445d0/bchp_shimphy_addr_cntl_2.h .../LatticeEthSwitchDataModelTable.c .../LatticeExampleMtaEventLogGet.c .../LatticeFrameworkDataModelTool.pl .../LatticeSystemDataModelTable.c .../LatticeWiFiAccessPointWPSImpl.c .../LatticeWiFiAccessPointWPSImpl.h .../apps/erouterctld/erouterctld.c .../apps/grectl/greCtlPrivate.h .../apps/httpd/device2/cgi_cmd.c .../apps/httpd/device2/cgi_main.c .../apps/httpd/device2/cgi_seclog.c .../apps/httpd/device2/cgi_sts.c .../apps/httpd/device2/cgi_util.c .../apps/httpd/html/natcfg2.html .../apps/nonvolupgrade/nonvolupgrade.c .../apps/ssk/ssk2_connstatus6.c .../apps/wlan/181wlmngr/Makefile .../apps/wlan/181wlmngr/wldaemon.c .../apps/wlan/181wlmngr/wlevt.c .../apps/wlan/181wlmngr/wlmngr.c .../apps/wlan/181wlmngr/wlmngr.h .../apps/wlan/181wlmngr/wlmngr_specialvar_handlers.c .../apps/wlan/wlmngr/wldaemon.c .../arm_le/wl_server_dongle .../arm_le/wl_server_serial .../arm_le/wl_server_socket .../asm/hardware/cache-b15-rac.h .../bchp_ddr34_phy_byte_lane_0_0.h .../bchp_ddr34_phy_byte_lane_0_1.h .../bchp_ddr34_phy_byte_lane_0_2.h .../bchp_ddr34_phy_byte_lane_1_0.h .../bchp_ddr34_phy_byte_lane_1_1.h .../bchp_ddr34_phy_byte_lane_1_2.h .../bchp_ddr34_phy_byte_lane_2_0.h .../bchp_ddr34_phy_byte_lane_2_1.h .../bchp_ddr34_phy_byte_lane_2_2.h .../bchp_ddr34_phy_byte_lane_3_0.h .../bchp_ddr34_phy_byte_lane_3_1.h .../bchp_ddr34_phy_byte_lane_3_2.h .../bchp_ddr34_phy_control_regs_0.h .../bchp_ddr34_phy_control_regs_1.h .../bchp_ddr34_phy_control_regs_2.h .../bchp_pcie_0_rc_cfg_vendor.h .../bchp_unimac_interface0_uni0.h .../bchp_unimac_interface0_uni1.h .../bchp_unimac_interface0_uni2.h .../bchp_unimac_interface0_uni3.h .../bchp_xpt_security_ns_intr2_0.h .../bcm93384/moca20core-gen22.bin .../bcm93390/moca20core-gen23.bin .../bcm93390/moca20core-gen24.bin .../bcm93390v0_4366_2G_P223v0_vars.txt .../bcm_media_gw/ethsw/ethsw_core.c .../bcm_media_gw/ethsw/ethsw_core.h .../bindings/arm/brcm-brcmstb.txt .../bindings/i2c/i2c-brcmstb.txt .../bindings/net/fixed-link.txt .../bindings/pci/brcmstb-pci.txt .../bindings/pwm/brcm,bcm7038-pwm.txt .../bindings/usb/bdc-udc.txt .../brcmstb/3390b0/bchp_hif_intr2.h .../brcmstb/3390b0/bchp_hif_mspi.h .../brcmstb/3390b0/bchp_sdio_0_cfg.h .../brcmstb/3390b0/bchp_switch_acb.h .../brcmstb/3390b0/bchp_switch_fcb.h .../brcmstb/3390b0/bchp_switch_reg.h .../brcmstb/3390b0/bchp_usb_ctrl.h .../brcmstb/7145a0/bchp_aon_ctrl.h .../brcmstb/7145a0/bchp_aon_pin_ctrl.h .../brcmstb/7145a0/bchp_aon_pm_l2.h .../brcmstb/7145a0/bchp_bspi_raf.h .../brcmstb/7145a0/bchp_control_gfap.h .../brcmstb/7145a0/bchp_dmahi0_gfap.h .../brcmstb/7145a0/bchp_dpe_hw_gfap.h .../brcmstb/7145a0/bchp_fpm_ctrl_fpm.h .../brcmstb/7145a0/bchp_fpm_pool_fpm.h .../brcmstb/7145a0/bchp_gio_aon.h .../brcmstb/7145a0/bchp_hif_intr2.h .../brcmstb/7145a0/bchp_hif_mspi.h .../brcmstb/7145a0/bchp_hif_top_ctrl.h .../brcmstb/7145a0/bchp_mbdma_uni0.h .../brcmstb/7145a0/bchp_mbdma_uni1.h .../brcmstb/7145a0/bchp_mbdma_uni2.h .../brcmstb/7145a0/bchp_mbdma_uni3.h .../brcmstb/7145a0/bchp_memc_arb_1.h .../brcmstb/7145a0/bchp_memc_ddr_0.h .../brcmstb/7145a0/bchp_memc_ddr_1.h .../brcmstb/7145a0/bchp_memc_misc_1.h .../brcmstb/7145a0/bchp_pcie_0_dma.h .../brcmstb/7145a0/bchp_pcie_0_intr2.h .../brcmstb/7145a0/bchp_pcie_0_misc.h .../brcmstb/7145a0/bchp_pcie_0_rgr1.h .../brcmstb/7145a0/bchp_sun_top_ctrl.h .../brcmstb/7145a0/bchp_switch_acb.h .../brcmstb/7145a0/bchp_switch_core.h .../brcmstb/7145a0/bchp_switch_fcb.h .../brcmstb/7145a0/bchp_switch_mdio.h .../brcmstb/7145a0/bchp_switch_reg.h .../brcmstb/7145a0/bchp_token_gfap.h .../brcmstb/7145a0/bchp_usb_ctrl.h .../brcmstb/7145b0/bchp_aon_ctrl.h .../brcmstb/7145b0/bchp_aon_pin_ctrl.h .../brcmstb/7145b0/bchp_aon_pm_l2.h .../brcmstb/7145b0/bchp_bspi_raf.h .../brcmstb/7145b0/bchp_control_gfap.h .../brcmstb/7145b0/bchp_fpm_ctrl_fpm.h .../brcmstb/7145b0/bchp_fpm_pool_fpm.h .../brcmstb/7145b0/bchp_gio_aon.h .../brcmstb/7145b0/bchp_gpio_per.h .../brcmstb/7145b0/bchp_hif_intr2.h .../brcmstb/7145b0/bchp_hif_mspi.h .../brcmstb/7145b0/bchp_hif_top_ctrl.h .../brcmstb/7145b0/bchp_mbdma_uni0.h .../brcmstb/7145b0/bchp_mbdma_uni1.h .../brcmstb/7145b0/bchp_mbdma_uni2.h .../brcmstb/7145b0/bchp_mbdma_uni3.h .../brcmstb/7145b0/bchp_memc_arb_1.h .../brcmstb/7145b0/bchp_memc_ddr_0.h .../brcmstb/7145b0/bchp_memc_ddr_1.h .../brcmstb/7145b0/bchp_memc_misc_1.h .../brcmstb/7145b0/bchp_pcie_0_dma.h .../brcmstb/7145b0/bchp_pcie_0_intr2.h .../brcmstb/7145b0/bchp_pcie_0_misc.h .../brcmstb/7145b0/bchp_pcie_0_rgr1.h .../brcmstb/7145b0/bchp_sdio_0_cfg.h .../brcmstb/7145b0/bchp_sun_top_ctrl.h .../brcmstb/7145b0/bchp_switch_acb.h .../brcmstb/7145b0/bchp_switch_core.h .../brcmstb/7145b0/bchp_switch_fcb.h .../brcmstb/7145b0/bchp_switch_mdio.h .../brcmstb/7145b0/bchp_switch_reg.h .../brcmstb/7145b0/bchp_usb_ctrl.h .../brcmstb/7250b0/bchp_aon_ctrl.h .../brcmstb/7250b0/bchp_aon_pin_ctrl.h .../brcmstb/7250b0/bchp_aon_pm_l2.h .../brcmstb/7250b0/bchp_gio_aon.h .../brcmstb/7250b0/bchp_hif_top_ctrl.h .../brcmstb/7250b0/bchp_memc_ddr_0.h .../brcmstb/7250b0/bchp_pcie_0_dma.h .../brcmstb/7250b0/bchp_pcie_0_intr2.h .../brcmstb/7250b0/bchp_pcie_0_misc.h .../brcmstb/7250b0/bchp_pcie_0_rgr1.h .../brcmstb/7364a0/bchp_aon_ctrl.h .../brcmstb/7364a0/bchp_aon_pin_ctrl.h .../brcmstb/7364a0/bchp_aon_pm_l2.h .../brcmstb/7364a0/bchp_gio_aon.h .../brcmstb/7364a0/bchp_hif_top_ctrl.h .../brcmstb/7364a0/bchp_memc_ddr_0.h .../brcmstb/7366b0/bchp_aon_ctrl.h .../brcmstb/7366b0/bchp_aon_pin_ctrl.h .../brcmstb/7366b0/bchp_aon_pm_l2.h .../brcmstb/7366b0/bchp_bspi_raf.h .../brcmstb/7366b0/bchp_gio_aon.h .../brcmstb/7366b0/bchp_hif_intr2.h .../brcmstb/7366b0/bchp_hif_mspi.h .../brcmstb/7366b0/bchp_hif_top_ctrl.h .../brcmstb/7366b0/bchp_memc_ddr_0.h .../brcmstb/7366b0/bchp_pcie_0_dma.h .../brcmstb/7366b0/bchp_pcie_0_intr2.h .../brcmstb/7366b0/bchp_pcie_0_misc.h .../brcmstb/7366b0/bchp_pcie_0_rgr1.h .../brcmstb/7366b0/bchp_sdio_0_cfg.h .../brcmstb/7366b0/bchp_sun_top_ctrl.h .../brcmstb/7366b0/bchp_usb_ctrl.h .../brcmstb/7366b0/bchp_xpt_bus_if.h .../brcmstb/7366b0/bchp_xpt_pmu.h .../brcmstb/7366c0/bchp_aon_ctrl.h .../brcmstb/7366c0/bchp_aon_pin_ctrl.h .../brcmstb/7366c0/bchp_aon_pm_l2.h .../brcmstb/7366c0/bchp_gio_aon.h .../brcmstb/7366c0/bchp_hif_top_ctrl.h .../brcmstb/7366c0/bchp_memc_ddr_0.h .../brcmstb/7366c0/bchp_pcie_0_dma.h .../brcmstb/7366c0/bchp_pcie_0_intr2.h .../brcmstb/7366c0/bchp_pcie_0_misc.h .../brcmstb/7366c0/bchp_pcie_0_rgr1.h .../brcmstb/7366c0/bchp_usb_ctrl.h .../brcmstb/74371a0/bchp_aon_ctrl.h .../brcmstb/74371a0/bchp_aon_pm_l2.h .../brcmstb/74371a0/bchp_clkgen.h .../brcmstb/74371a0/bchp_gio_aon.h .../brcmstb/74371a0/bchp_memc_ddr_0.h .../brcmstb/74371a0/bchp_pcie_0_dma.h .../brcmstb/74371a0/bchp_pcie_0_misc.h .../brcmstb/74371a0/bchp_pcie_0_rgr1.h .../brcmstb/74371a0/bchp_usb_xhci_ec.h .../brcmstb/7439a0/bchp_aon_ctrl.h .../brcmstb/7439a0/bchp_aon_pin_ctrl.h .../brcmstb/7439a0/bchp_aon_pm_l2.h .../brcmstb/7439a0/bchp_bspi_raf.h .../brcmstb/7439a0/bchp_gio_aon.h .../brcmstb/7439a0/bchp_hif_intr2.h .../brcmstb/7439a0/bchp_hif_mspi.h .../brcmstb/7439a0/bchp_hif_top_ctrl.h .../brcmstb/7439a0/bchp_memc_ddr_0.h .../brcmstb/7439a0/bchp_pcie_0_dma.h .../brcmstb/7439a0/bchp_pcie_0_intr2.h .../brcmstb/7439a0/bchp_pcie_0_misc.h .../brcmstb/7439a0/bchp_pcie_0_rgr1.h .../brcmstb/7439a0/bchp_sun_top_ctrl.h .../brcmstb/7439a0/bchp_usb_ctrl.h .../brcmstb/7439b0/bchp_aon_ctrl.h .../brcmstb/7439b0/bchp_aon_pin_ctrl.h .../brcmstb/7439b0/bchp_aon_pm_l2.h .../brcmstb/7439b0/bchp_gio_aon.h .../brcmstb/7439b0/bchp_hif_top_ctrl.h .../brcmstb/7439b0/bchp_memc_ddr_0.h .../brcmstb/7439b0/bchp_pcie_0_dma.h .../brcmstb/7439b0/bchp_pcie_0_intr2.h .../brcmstb/7439b0/bchp_pcie_0_misc.h .../brcmstb/7439b0/bchp_pcie_0_rgr1.h .../brcmstb/7439b0/bchp_usb_ctrl.h .../brcmstb/7445d0/bchp_aon_ctrl.h .../brcmstb/7445d0/bchp_aon_pin_ctrl.h .../brcmstb/7445d0/bchp_aon_pm_l2.h .../brcmstb/7445d0/bchp_gio_aon.h .../brcmstb/7445d0/bchp_hif_top_ctrl.h .../brcmstb/7445d0/bchp_memc_arb_1.h .../brcmstb/7445d0/bchp_memc_ddr_0.h .../brcmstb/7445d0/bchp_memc_ddr_1.h .../brcmstb/7445d0/bchp_memc_ddr_2.h .../brcmstb/7445d0/bchp_memc_misc_1.h .../brcmstb/7445d0/bchp_pcie_0_dma.h .../brcmstb/7445d0/bchp_pcie_0_intr2.h .../brcmstb/7445d0/bchp_pcie_0_misc.h .../brcmstb/7445d0/bchp_pcie_0_rgr1.h .../brcmstb/gpio-api/test-gpio-api.c .../brcmstb/irq-api/test-irq-api.c .../brcmstb/memory-api/.gitignore .../brcmstb/memory-api/Makefile .../brcmstb/nexus_version_check.h .../brcmstb/reg-api/test-reg-api.c .../broadcom/genet/bcmgenet_wol.c .../broadcom/net/wl/build-drv.sh .../clock/multiplier-clock.txt .../cm/LatticeCmDataModelTable.c .../cms-dm-tr181-networking.xml .../cms_core/linux/device2/rcl2_erouter.c .../cms_core/linux/device2/rcl2_wifi.c .../cms_core/linux/device2/stl2_wifi.c .../components/shared/proto/802.11.h .../components/shared/proto/bcmevent.h .../config/lattice-config-3390b0.xml .../configs/brcmstb_hardened_defconfig .../core/LatticeFrameworkTypes.h .../data-model/cms-dm-tr181-wifi.xml .../data_access/interface_ioctl.c .../data_access/interface_linux.c .../datamodel/LatticeDataModelApi.c .../datamodel/LatticeDataModelApi.h .../datamodel/LatticeDataModelTable.h .../devicetree/bindings/net/phy.txt .../dhd/linux/Makefile_kbuild_opensrc .../dhd/linux/Makefile_kbuild_portsrc .../dhd/src/dhd/sys/wl_erouter.h .../dhd/src/dhd/sys/wl_erouter_rfap.c .../dhd/src/include/bcmparams.h .../dhd/src/shared/rtecdc_43602a1.h .../dhd/src/wl/phy/phy_version.h .../docs/LatticeWiFiFramework.html .../eCos_to_Linux_NonVolUpgrade.xlsx .../ethernet/broadcom/genet/bcmgenet.c .../ethernet/broadcom/genet/bcmgenet.h .../ethernet/broadcom/genet/bcmmii.c .../ethsw/ethsw_init_plat.c .../gpio/brcm,brcmstb-gpio.txt .../if-mib/ifTable/ifTable_constants.h .../lattice-config-3390b0-dcm.xml .../lattice/docs/MoCA_Framework.csv .../lattice/docs/System_Framework.csv .../lattice/docs/WiFi_Framework.csv .../lattice/wifi/LatticeWiFiRadio.c .../lattice/wifi/LatticeWiFiRadio.h .../libs/cms_core/linux/rcl_system.c .../libs/cms_core/linux/rut_iptables.c .../libs/cms_core/linux/rut_iptables.h .../libs/cms_core/mdm2_init_cm.c .../libs/cms_util/linux/oal_network.c .../libs/mocactl/linux/Makefile .../libs/mocactl/linux/moca_linux.c .../libs/mocactl/linux/mocalib-cli.c .../libs/mocactl/linux/mocalib-gen.c .../libs/mocactl/linux/mocalib.c .../libupnp/include/upnp_version.h .../libxml2/example/Makefile .../libxml2/include/Makefile .../libxml2/include/libxml/Makefile .../linux/brcmstb/3390b0/bchp_bspi.h .../linux/brcmstb/3390b0/bchp_ebi.h .../linux/brcmstb/3390b0/bchp_irq0.h .../linux/brcmstb/3390b0/bchp_nand.h .../linux/brcmstb/7145a0/bchp_bspi.h .../linux/brcmstb/7145a0/bchp_clkgen.h .../linux/brcmstb/7145a0/bchp_common.h .../linux/brcmstb/7145a0/bchp_ebi.h .../linux/brcmstb/7145a0/bchp_gio.h .../linux/brcmstb/7145a0/bchp_irq0.h .../linux/brcmstb/7145a0/bchp_irq1.h .../linux/brcmstb/7145a0/bchp_nand.h .../linux/brcmstb/7145b0/bchp_bspi.h .../linux/brcmstb/7145b0/bchp_clkgen.h .../linux/brcmstb/7145b0/bchp_common.h .../linux/brcmstb/7145b0/bchp_ebi.h .../linux/brcmstb/7145b0/bchp_gio.h .../linux/brcmstb/7145b0/bchp_irq0.h .../linux/brcmstb/7145b0/bchp_irq1.h .../linux/brcmstb/7145b0/bchp_nand.h .../linux/brcmstb/7250b0/bchp_clkgen.h .../linux/brcmstb/7250b0/bchp_gio.h .../linux/brcmstb/7250b0/bchp_irq1.h .../linux/brcmstb/7364a0/bchp_clkgen.h .../linux/brcmstb/7364a0/bchp_gio.h .../linux/brcmstb/7364a0/bchp_irq1.h .../linux/brcmstb/7366b0/bchp_bspi.h .../linux/brcmstb/7366b0/bchp_clkgen.h .../linux/brcmstb/7366b0/bchp_common.h .../linux/brcmstb/7366b0/bchp_ebi.h .../linux/brcmstb/7366b0/bchp_gio.h .../linux/brcmstb/7366b0/bchp_irq0.h .../linux/brcmstb/7366b0/bchp_irq1.h .../linux/brcmstb/7366b0/bchp_nand.h .../linux/brcmstb/7366b0/bchp_xpt_fe.h .../linux/brcmstb/7366c0/bchp_clkgen.h .../linux/brcmstb/7366c0/bchp_gio.h .../linux/brcmstb/7366c0/bchp_irq1.h .../linux/brcmstb/74371a0/bchp_gio.h .../linux/brcmstb/74371a0/bchp_irq1.h .../linux/brcmstb/7439a0/bchp_bspi.h .../linux/brcmstb/7439a0/bchp_clkgen.h .../linux/brcmstb/7439a0/bchp_common.h .../linux/brcmstb/7439a0/bchp_ebi.h .../linux/brcmstb/7439a0/bchp_gio.h .../linux/brcmstb/7439a0/bchp_irq0.h .../linux/brcmstb/7439a0/bchp_irq1.h .../linux/brcmstb/7439a0/bchp_nand.h .../linux/brcmstb/7439b0/bchp_clkgen.h .../linux/brcmstb/7439b0/bchp_gio.h .../linux/brcmstb/7439b0/bchp_irq1.h .../linux/brcmstb/7445d0/bchp_clkgen.h .../linux/brcmstb/7445d0/bchp_gio.h .../linux/brcmstb/7445d0/bchp_irq1.h .../linux/device2/rcl2_erouter.c .../linux/device2/rcl2_firewall.c .../linux/device2/rut2_erouter.c .../linux/device2/rut2_system.c .../linux/device2/rut2_system.h .../main/src/include/bcmparams.h .../main/src/include/linux_osl.h .../main/src/router/Makefile.fw .../main/src/router/buzzz/Makefile .../main/src/shared/bcmsromio.c .../main/src/wl/clm/include/wlc_clm.h .../main/src/wl/clm/src/wlc_clm.c .../main/src/wl/clm/src/wlc_clm_data.c .../main/src/wl/phy/phy_version.h .../memory-api/test-memory-api.c .../mibgroup/broadcom/clabWIFIMib.c .../mibgroup/broadcom/clabWIFIMib.h .../mibgroup/if-mib/ifTable/ifTable.c .../mixedap/4365/src/include/epivers.h .../mixedap/4365/src/pciedev/pciedev.c .../mixedap/4365/src/wl/sys/wl_rte.c .../mixedap/4365/src/wl/sys/wlc_apps.c .../mixedap/4365/src/wl/sys/wlc_mutx.c .../mixedap/4365/src/wl/sys/wlc_scb.h .../mixedap/4365/src/wl/sys/wlc_taf.c .../mixedap/4365/src/wl/sys/wlc_txbf.c .../mixedap/4365/src/wl/sys/wlc_vht.c .../mixedap/dhd/src/dhd/linux/wl.spec .../mixedap/dhd/src/dhd/sys/dhd_pcie.c .../mixedap/dhd/src/include/epivers.h .../mixedap/dhd/src/include/epivers.sh .../mixedap/main/src/include/epivers.h .../mixedap/main/src/router/bsd/bsd.c .../mixedap/main/src/shared/nvram_ro.c .../mixedap/main/src/wl/linux/Makefile .../moca/LatticeMoCADataModelTable.c .../moca/LatticeMoCAInterface.c .../moca/LatticeMoCAInterface.h .../moca/LatticeMoCAInterfaceImpl.c .../mocactl/linux/mocalib-cli-gen.c .../mta/LatticeMtaDataModelTable.c .../mta/LatticeMtaEndpointImpl.c .../mta/LatticeMtaEventLogTable.c .../mta/LatticeMtaEventLogTable.h .../mta/LatticeMtaEventLogTableImpl.c .../mta/LatticeMtaEventLogTableImpl.h .../net/ethernet/broadcom/bcmsysport.c .../net/ethernet/broadcom/bcmsysport.h .../netfilter/ebt_dhcpsnoop.c .../netfilter/xt_l2ogre_mt.c .../netfilter/xt_l2ogre_tg.c .../nf_defrag_ipv6_hooks_notrack.c .../opensource/libxml2/Makefile .../opensource/libxml2/libtool .../opensource/libxml2/libxml-2.0.pc .../opensource/libxml2/libxml2.spec .../opensource/libxml2/xml2-config .../opensource/libxml2/xstc/Makefile .../opensource/sqlite3/Makefile .../opensource/sqlite3/libtool .../opensource/sqlite3/sqlite3.pc .../power/basic-pm-debugging.txt .../private/apps/httpd/device2/httpd.c .../private/apps/httpd/device2/httpd.h .../private/apps/mocad/mocad-gen.c .../private/apps/mocad/mocad.c .../private/apps/nonvolupgrade/nonvolupgrade.c .../private/apps/ssk/ssk2_connstatus.c .../private/apps/telnetd/telnetd.c .../private/apps/wlan/181wlmngr/wlevt.c .../private/apps/wlan/Makefile .../private/apps/wlan/wlmngr/wldefs.h .../private/apps/wlan/wlmngr/wlmdm.c .../private/apps/wlan/wlmngr/wlmdm.h .../private/apps/wlan/wlmngr/wlmngr.c .../private/apps/wlan/wlmngr/wlmngr.h .../private/apps/wlan/wlmngr/wlutil.c .../private/include/cms_dal.h .../private/include/linux/mocad-gen.h .../private/include/linux/mocad-int.h .../private/include/linux/mocad.h .../private/include/linux/mocaint.h .../private/include/linux/mocalib.h .../private/libs/cms_cli/cli_cmd.c .../private/libs/cms_core/management.c .../private/libs/cms_dal/dal2_wan.c .../private/libs/cms_dal/dal_auth.c .../private/libs/cms_dal/dal_main.c .../public/libs/cms_util/network.c .../shared/devctrl_if/wlioctl_defs.h .../shared/rtecdc_4366b1_nondebug.h .../shared/rtecdc_4366c0_nondebug.h .../shared/rtecdc_router_nondebug.h .../spi/brcm,spi-brcmstb-mspi.txt .../src/router/shared/router_version.h .../src/shared/rtecdc_4366b1_debug.h .../src/shared/rtecdc_4366c0_debug.h .../src/shared/rtecdc_router_debug.h .../src/wl/clm/include/wlc_clm_data.h .../testing/brcmstb/gpio-api/Makefile .../testing/brcmstb/memory-api/Kbuild .../testing/brcmstb/memory-api/README .../thermal/brcmstb-thermal.txt .../ti-soc-thermal/ti-thermal-common.c .../unittest/cm/TestSuite_CM.vbs .../usb/host/usb-brcm-common-init.c .../usb/host/usb-brcm-common-init.h .../userspace/private/apps/sntp/sntp.c .../userspace/private/apps/ssk/ssk.c .../userspace/private/libs/Makefile .../wifi/LatticeWiFiAccessPointWPS.c .../wifi/LatticeWiFiAccessPointWPS.h .../wifi/LatticeWiFiDataModelTable.c .../wifi/LatticeWiFiRadioImpl.c .../wifi/LatticeWiFiRadioImpl.h .../wifi_noasd/arm_le/wl_server_wifi .../wl/mixedap/4365/src/include/d11.h .../wl/mixedap/4365/src/wl/sys/wlc.c .../wl/mixedap/main/src/router/.config .../wl/mixedap/main/src/router/Makefile.fw .../wlan/homehotspot/homehotspot.c .../wlmngr_specialvar_handlers.c .../wlmngr_wps_var_handlers.c .../wps/common/include/wps_version.h ...3390v0_4366_5G_P103v0_high_vars.txt ...93390v0_4366_5G_P103v0_wl1_vars.txt ...93390v0_4366_5G_P145v0_wl0_vars.txt ...93390v0_4366_5G_P145v0_wl1_vars.txt ...ticePktAccelerationDataModelTable.c .gitignore Documentation/kernel-parameters.txt arch/arm/Kconfig.debug arch/arm/boot/dts/rg.3390b0.dts arch/arm/boot/dts/rg.7145a0.dts arch/arm/boot/dts/rg.7145b0.dts arch/arm/boot/dts/rgvm.7145a0.dts arch/arm/boot/dts/rgvm.7145b0.dts arch/arm/boot/dts/stbvm.7145a0.dts arch/arm/boot/dts/stbvm.7145b0.dts arch/arm/boot/dts/svm.7145a0.dts arch/arm/boot/dts/svm.7145b0.dts arch/arm/configs/brcmstb_defconfig arch/arm/include/asm/bug.h arch/arm/include/asm/buzzz.h arch/arm/include/asm/cacheflush.h arch/arm/include/asm/glue-cache.h arch/arm/include/asm/hardirq.h arch/arm/include/asm/smp.h arch/arm/kernel/devtree.c arch/arm/kernel/smp.c arch/arm/mach-bcm/Kconfig arch/arm/mach-bcm/Makefile arch/arm/mach-bcm/aon_defs.h arch/arm/mach-bcm/brcmstb.c arch/arm/mach-bcm/brcmstb.h arch/arm/mach-bcm/buzzz.c arch/arm/mach-bcm/cma_driver.c arch/arm/mach-bcm/gisb-brcmstb.c arch/arm/mach-bcm/headsmp-brcmstb.S arch/arm/mach-bcm/headsmp-brcmstb.h arch/arm/mach-bcm/hotplug-brcmstb.c arch/arm/mach-bcm/pci-brcmstb.c arch/arm/mach-bcm/platsmp-brcmstb.c arch/arm/mach-bcm/pm-brcmstb.c arch/arm/mach-bcm/pm-brcmstb.h arch/arm/mach-bcm/regsave.c arch/arm/mach-bcm/s2-brcmstb.S arch/arm/mach-bcm/srpd-brcmstb.c arch/arm/mach-bcm/wktmr-brcmstb.c arch/arm/mach-bcm/xpt_dma.c arch/arm/mach-bcm/xpt_dma.h arch/arm/mach-imx/headsmp.S arch/arm/mach-prima2/headsmp.S arch/arm/mach-shmobile/headsmp-scu.S arch/arm/mach-shmobile/headsmp.S arch/arm/mach-shmobile/platsmp-apmu.c arch/arm/mach-socfpga/core.h arch/arm/mach-socfpga/headsmp.S arch/arm/mach-socfpga/platsmp.c arch/arm/mach-sunxi/Makefile arch/arm/mach-sunxi/headsmp.S arch/arm/mach-sunxi/platsmp.c arch/arm/mach-tegra/Makefile arch/arm/mach-tegra/headsmp.S arch/arm/mach-tegra/reset.c arch/arm/mach-tegra/reset.h arch/arm/mach-zynq/common.h arch/arm/mach-zynq/headsmp.S arch/arm/mach-zynq/platsmp.c arch/arm/mm/Kconfig arch/arm/mm/Makefile arch/arm/mm/cache-b15-rac.c arch/arm/mm/cache-v7.S arch/arm/mm/dma-mapping.c arch/arm/mm/init.c arch/arm/mm/mmu.c arch/arm/mm/proc-macros.S arch/arm/mm/proc-v7-2level.S arch/arm/mm/proc-v7.S arch/powerpc/kvm/book3s_hv_builtin.c arch/x86/include/asm/bug.h arch/x86/kernel/setup.c drivers/Kconfig drivers/Makefile drivers/ata/ahci.h drivers/ata/ahci_platform.c drivers/ata/libahci.c drivers/ata/libata-core.c drivers/ata/sata_brcmstb.c drivers/ata/sata_brcmstb.h drivers/ata/sata_brcmstb_phy.c drivers/base/Kconfig drivers/base/dma-contiguous.c drivers/bcm_media_gw/ethsw/ethsw.h drivers/bcm_media_gw/fpm/fpm_core.c drivers/bcm_media_gw/fpm/fpm_priv.h drivers/bcm_media_gw/netfilter/ebt_dhcpsnoop.c drivers/bcm_media_gw/netfilter/xt_l2ogre_mt.c drivers/bcm_media_gw/netfilter/xt_l2ogre_tg.c drivers/bus/Kconfig drivers/bus/Makefile drivers/bus/brcmstb_gisb.c drivers/char/bmoca.c drivers/clk/Makefile drivers/clk/clk-brcmstb.c drivers/clk/clk-divider.c drivers/clk/clk-multiplier.c drivers/clk/clk.c drivers/gpio/Kconfig drivers/gpio/gpiolib.c drivers/gpio/gpiolib.h drivers/hwmon/lm75.c drivers/hwmon/tmp102.c drivers/i2c/busses/i2c-brcmstb.c drivers/input/input.c drivers/irqchip/irq-bcm7120-l2.c drivers/mmc/card/block.c drivers/mmc/core/core.c drivers/mmc/core/mmc.c drivers/mmc/core/sd.c drivers/mmc/core/sdio.c drivers/mmc/host/sdhci-brcmstb.c drivers/mmc/host/sdhci.c drivers/mmc/host/sdhci.h drivers/mtd/devices/m25p80.c drivers/mtd/nand/brcmstb_nand.c drivers/net/dsa/bcm_sf2.c drivers/net/dsa/bcm_sf2.h drivers/net/dsa/bcm_sf2_regs.h drivers/net/phy/bcm7xxx.c drivers/net/phy/ethsw.c drivers/net/phy/mdio-bitbang.c drivers/net/phy/mdio-unimac.c drivers/net/phy/mdio_bus.c drivers/net/phy/phy.c drivers/net/phy/phy_device.c drivers/of/fdt.c drivers/of/of_mdio.c drivers/of/of_reserved_mem.c drivers/phy/Makefile drivers/phy/phy-brcm-usb.c drivers/pwm/pwm-brcmstb.c drivers/soc/Kconfig drivers/soc/Makefile drivers/soc/brcmstb/Kconfig drivers/soc/brcmstb/Makefile drivers/soc/brcmstb/biuctrl.c drivers/soc/brcmstb/bmem.c drivers/soc/brcmstb/cma_driver.c drivers/soc/brcmstb/common.c drivers/soc/brcmstb/irq0-stub.c drivers/soc/brcmstb/memory.c drivers/soc/brcmstb/nexus/Makefile drivers/soc/brcmstb/nexus/gpio.c drivers/soc/brcmstb/nexus/gpio.h drivers/soc/brcmstb/nexus/irq.c drivers/soc/brcmstb/nexus/reg.c drivers/soc/brcmstb/pm/Makefile drivers/soc/brcmstb/pm/aon_defs.h drivers/soc/brcmstb/pm/pm.c drivers/soc/brcmstb/pm/pm.h drivers/soc/brcmstb/pm/regsave.c drivers/soc/brcmstb/pm/s2.S drivers/soc/brcmstb/pm/xpt_dma.c drivers/soc/brcmstb/pm/xpt_dma.h drivers/soc/brcmstb/srpd.c drivers/soc/brcmstb/wktmr.c drivers/spi/Kconfig drivers/spi/Makefile drivers/spi/spi-brcmstb-mspi.c drivers/spi/spi-brcmstb.c drivers/thermal/Kconfig drivers/thermal/Makefile drivers/thermal/brcmstb_thermal.c drivers/thermal/fair_share.c drivers/thermal/intel_powerclamp.c drivers/thermal/of-thermal.c drivers/thermal/step_wise.c drivers/thermal/thermal_core.c drivers/thermal/thermal_core.h drivers/thermal/user_space.c drivers/tty/serial/8250/8250_core.c drivers/tty/serial/of_serial.c drivers/usb/core/hub.c drivers/usb/gadget/Kconfig drivers/usb/gadget/Makefile drivers/usb/gadget/bdc/Kconfig drivers/usb/gadget/bdc/Makefile drivers/usb/gadget/bdc/bdc.h drivers/usb/gadget/bdc/bdc_cmd.c drivers/usb/gadget/bdc/bdc_cmd.h drivers/usb/gadget/bdc/bdc_core.c drivers/usb/gadget/bdc/bdc_dbg.c drivers/usb/gadget/bdc/bdc_dbg.h drivers/usb/gadget/bdc/bdc_ep.c drivers/usb/gadget/bdc/bdc_ep.h drivers/usb/gadget/bdc/bdc_pci.c drivers/usb/gadget/bdc/bdc_udc.c drivers/usb/gadget/udc-core.c drivers/usb/host/ehci-brcm.c drivers/usb/host/ohci-brcm.c drivers/usb/host/usb-brcm.c drivers/usb/host/xhci-brcm.c drivers/watchdog/bcm7038_wdt.c fs/proc/meminfo.c fs/pstore/ram.c fs/xfs/xfs_attr.c fs/xfs/xfs_attr_leaf.c fs/xfs/xfs_attr_list.c fs/xfs/xfs_attr_remote.c fs/xfs/xfs_da_btree.h include/asm-generic/bug.h include/asm-generic/vmlinux.lds.h include/dt-bindings/thermal/thermal.h include/linux/bmoca.h include/linux/brcmphy.h include/linux/brcmstb/bmem.h include/linux/brcmstb/brcmstb.h include/linux/brcmstb/cma_driver.h include/linux/brcmstb/gpio_api.h include/linux/brcmstb/irq_api.h include/linux/brcmstb/memory_api.h include/linux/brcmstb/reg_api.h include/linux/clk-provider.h include/linux/cma.h include/linux/dma-contiguous.h include/linux/gfp.h include/linux/gpio.h include/linux/gpio/consumer.h include/linux/gpio/driver.h include/linux/irq.h include/linux/libata.h include/linux/memblock.h include/linux/mmc/card.h include/linux/mmc/host.h include/linux/mmzone.h include/linux/netdevice.h include/linux/of_mdio.h include/linux/of_reserved_mem.h include/linux/page-isolation.h include/linux/pageblock-flags.h include/linux/phy.h include/linux/serial_core.h include/linux/soc/brcmstb/brcmstb.h include/linux/spi/spi.h include/linux/thermal.h include/linux/usb/gadget.h include/net/dsa.h include/soc/brcmstb/common.h include/trace/events/thermal.h include/uapi/linux/Kbuild include/uapi/linux/brcmstb/Kbuild include/uapi/linux/serial_core.h kernel/irq/handle.c kernel/irq/manage.c kernel/irq/resend.c kernel/irq/spurious.c kernel/power/suspend.c kernel/sched/core.c kernel/softirq.c kernel/workqueue.c lib/show_mem.c mm/Kconfig mm/Makefile mm/cma.c mm/internal.h mm/memblock.c mm/memory.c mm/page_alloc.c mm/page_isolation.c net/bridge/br_if.c net/bridge/br_netlink.c net/bridge/br_private.h net/bridge/br_stp.c net/bridge/br_stp_if.c net/bridge/br_stp_timer.c net/dsa/dsa.c net/dsa/dsa_priv.h net/dsa/slave.c net/dsa/tag_brcm.c net/dsa/tag_dsa.c net/dsa/tag_edsa.c net/dsa/tag_trailer.c net/ipv4/ping.c net/ipv6/netfilter/Kconfig net/ipv6/netfilter/Makefile packaging/Makefile packaging/linux-src-rpmlintrc packaging/linux-src.spec rg_apps/Makefile rg_apps/lattice/apps/cli/LatticeCli.c rg_apps/lattice/apps/example/Makefile rg_apps/lattice/  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 47692    0 47692    0     0  85303      0 --:--:-- --:--:-- --:--:--  102k
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 111   895    0   895    0     0   2136      0 --:--:-- --:--:-- --:--:--  2859
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 103  1236    0     0  103  1236      0    854  0:00:01  0:00:01 --:--:--   921
remote: cm/LatticeCmBpi.c rg_apps/lattice/cm/LatticeCmBpi.h rg_apps/lattice/cm/LatticeCmBpiImpl.c rg_apps/lattice/cm/LatticeCmBpiImpl.h rg_apps/lattice/cm/LatticeCmImpl.c rg_apps/lattice/cm/LatticeCmInternal.h rg_apps/lattice/docs/Cm_Framework.csv rg_apps/lattice/docs/Mta_Framework.csv rg_apps/lattice/moca/LatticeMoCA.c rg_apps/lattice/moca/LatticeMoCA.h rg_apps/lattice/moca/LatticeMoCAImpl.c rg_apps/lattice/moca/LatticeMoCAImpl.h rg_apps/lattice/wifi/LatticeWiFi.c rg_apps/lattice/wifi/LatticeWiFi.h rg_apps/lattice/wifi/LatticeWiFiAccessPointWPSImpl.c rg_apps/lattice/wifi/LatticeWiFiImpl.c rg_apps/lattice/wifi/LatticeWiFiImpl.h rg_apps/make.common rg_apps/make.lattice rg_apps/userspace/public/apps/Makefile rootfs/skel/bin/dload rootfs/skel/etc/init.d/rcS.util rootfs/skel/root/rc.user.forsanity rootfs/user/wdmd/main.c scripts/.gitignore scripts/analyze_oom.py scripts/decode_gfpmask.py scripts/kconfig/Makefile scripts/kconfig/menu.c scripts/setlocalversion security/keys/process_keys.c tools/testing/brcmstb/gpio-api/Kbuild tools/testing/brcmstb/gpio-api/README tools/testing/brcmstb/irq-api/Kbuild tools/testing/brcmstb/irq-api/Makefile tools/testing/brcmstb/irq-api/README tools/testing/brcmstb/reg-api/Kbuild tools/testing/brcmstb/reg-api/Makefile tools/testing/brcmstb/reg-api/README tools/thermal/tmon/.gitignore tools/thermal/tmon/Makefile tools/thermal/tmon/makefile tools/thermal/tmon/tmon.c tools/thermal/tmon/tui.c
remote: getGrep-
remote:
remote: Processing commit b60c0ed5a85723f833ccaa3c8f4955dd862da23f
remote: Jiras=>SWRGROUTER-4459
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-4459
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-4459
remote: JiraStatus-SWRGROUTER-4459-SWRGROUTER|Bug Generic Sub-task Closed|skern|feat_PowerManagement|feat_PowerManagement|Update Linux to check battery status and begin shutdown process on startup using MBOX|
remote:
remote: status-Bug Generic Sub-task Closed
remote: devId-rbbswbld
remote: summary-Update Linux to check battery status and begin shutdown process on startup using MBOX
remote: ##############################################################
remote: # Jira SWRGROUTER-4459 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;tross@broadcom.com;2016-04-28 15:53:51 -0400;b60c0ed5a85723f833ccaa3c8f4955dd862da23f;SWRGROUTER-4459: Battery: Modem rebooted after a crash while in batteryi mode with wrong power state and RG not shutdown;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-4459
remote: =======================
remote: UPDATE: SWRGROUTER-4459
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--arch/arm/mach-bcm/pm-brcmstb.c
remote:  drivers/bcm_media_gw/mbox/brcm_mbox.c
remote:  drivers/bcm_media_gw/mbox/brcm_mbox_priv.h
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-4459
remote: commitId--b60c0ed5a85723f833ccaa3c8f4955dd862da23f
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 b60c0ed5a85723f833ccaa3c8f4955dd862da23f
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- arch/arm/mach-bcm/pm-brcmstb.c drivers/bcm_media_gw/mbox/brcm_mbox.c drivers/bcm_media_gw/mbox/brcm_mbox_priv.h rootfs/user/brcm-boot_assist/ba.c rootfs/user/brcm-mbox_assist/ma.c
remote: getGrep-
remote:
remote: Processing commit 694d67df9d154842ed1678dd5a95b70d7b93a308
remote: Jiras=>SWRGROUTER-2686
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-2686
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWR  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 83246    0 83246    0     0   158k      0 --:--:-- --:--:-- --:--:--  198k
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 108  1087    0  1087    0     0   2622      0 --:--:-- --:--:-- --:--:--  3506
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 107  1286    0     0  107  1286      0    514  0:00:02  0:00:02 --:--:--   536
remote: GROUTER-2686
remote: JiraStatus-SWRGROUTER-2686-SWRGROUTER|Generic Sub-task Confirm|jmcqueen|feat_MAP|feat_MAP|Support for MAP-E/T per eRouter Specification - Parent Ticket|
remote:
remote: status-Generic Sub-task Confirm
remote: devId-rbbswbld
remote: summary-Support for MAP-E/T per eRouter Specification - Parent Ticket
remote: ##############################################################
remote: # Jira SWRGROUTER-2686 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;ignatius@broadcom.com;2016-04-29 16:02:57 -0700;694d67df9d154842ed1678dd5a95b70d7b93a308;SWRGROUTER-2686 Support for MAP-E/T per eRouter Specification;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-2686
remote: =======================
remote: UPDATE: SWRGROUTER-2686
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--arch/arm/configs/brcmstb_defconfig
remote:  arch/mips/configs/bcm3384_defconfig
remote:  include/linux/if_map.h
remote:  include/net/ip.h
remote:  include/net/ip6_route.h
remote:  include/net/map.h
remote:  include/uapi/linux/if.h
remote:  include/uapi/linux/if_map.h
remote:  net/bridge/br_forward.c
remote:  net/bridge/br_netfilter.c
remote:  net/bridge/br_private.h
remote:  net/core/dev.c
remote:  net/ipv4/ip_output.c
remote:  net/ipv6/Kconfig
remote:  net/ipv6/Makefile
remote:  net/ipv6/map_defrag6.c
remote:  net/ipv6/map_encap.c
remote:  net/ipv6/map_main.c
remote:  net/ipv6/map_napt.c
remote:  net/ipv6/map_rule.c
remote:  net/ipv6/map_trans.c
remote:  net/ipv6/route.c
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-2686
remote: commitId--694d67df9d154842ed1678dd5a95b70d7b93a308
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 694d67df9d154842ed1678dd5a95b70d7b93a308
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- .../apps/iproute2-patch/ip/Makefile .../apps/iproute2-patch/ip/ip_common.h .../apps/mapctl/mapCtlPrivate.h .../apps/ssk/ssk2_connstatus6.c .../cms_core/linux/device2/Makefile .../cms_core/linux/device2/rcl2_map.c .../cms_core/linux/device2/rut2_map.c .../cms_core/linux/device2/rut2_map.h .../cms_core/linux/device2/stl2_map.c .../data-model/cms-dm-tr181-map.xml .../gpl/apps/iproute2-patch/ip/ip.c .../gpl/apps/iproute2-patch/ip/ipmap.c .../include/linux/if_map.h .../libs/cms_core/linux/rut_util.c .../mapctl/scripts/eid_bcm_mapctl.txt .../merge-dev2.d/1910-tr181-map.txt .../private/apps/mapctl/.autodetect .../private/apps/mapctl/Makefile .../private/apps/mapctl/mapCtl.c .../private/apps/mapctl/mapCtl.h .../private/apps/mapctl/mapCtlUtil.c .../private/apps/mapctl/mapCtlUtil.h .../public/apps/dhcpv6-patch/Makefile .../public/apps/dhcpv6-patch/common.c .../public/apps/dhcpv6-patch/common.h .../public/apps/dhcpv6-patch/dhcp6.h .../public/apps/dhcpv6-patch/dhcp6c.c .../public/apps/dhcpv6-patch/dhcp6s.c .../public/apps/dhcpv6-patch/timer.c .../public/apps/dhcpv6-patch/timer.h .../userspace/public/include/cms_eid.h .../userspace/public/include/cms_msg.h arch/arm/configs/brcmstb_defconfig arch/mips/configs/bcm3384_defconfig include/linux/if_map.h include/net/ip.h include/net/ip6_route.h include/net/map.h include/uapi/linux/if.h include/uapi/linux/if_map.h net/bridge/br_forward.c net/bridge/br_netfilter.c net/bridge/br_private.h net/core/dev.c net/ipv4/ip_output.c net/ipv6/Kconfig net/ipv6/Makefile net/ipv6/map_defrag6.c net/ipv6/map_encap.c net/ipv6/map_main.c net/ipv6/map_napt.c net/ipv6/map_rule.c net/ipv6/map_trans.c net/ipv6/route.c rg_apps/make.common rg_apps/targets/93384/93384 rg_apps/targets/93390DCM/93390DCM rg_apps/targets/93390MWVG  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 84564    0 84564    0     0   166k      0 --:--:-- --:--:-- --:--:--  211k
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 103  1453    0  1453    0     0   3483      0 --:--:-- --:--:-- --:--:--  4672
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 102  1737    0     0  102  1737      0    699  0:00:02  0:00:02 --:--:--   732
remote: /93390MWVG rg_apps/targets/config.in
remote: getGrep-
remote:
remote: Processing commit 67921dc9505fe9a1f16fb1d8abb6f1b4fa2f27b5
remote: Jiras=>SWRGROUTER-2686
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-2686
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-2686
remote: JiraStatus-SWRGROUTER-2686-SWRGROUTER|Generic Sub-task Confirm|jmcqueen|feat_MAP|feat_MAP|Support for MAP-E/T per eRouter Specification - Parent Ticket|
remote:
remote: status-Generic Sub-task Confirm
remote: devId-rbbswbld
remote: summary-Support for MAP-E/T per eRouter Specification - Parent Ticket
remote: ##############################################################
remote: # Jira SWRGROUTER-2686 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;ignatius@broadcom.com;2016-04-29 17:47:30 -0700;67921dc9505fe9a1f16fb1d8abb6f1b4fa2f27b5;SWRGROUTER-2686 Support for MAP-E/T per eRouter Specification;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-2686
remote: =======================
remote: UPDATE: SWRGROUTER-2686
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--include/uapi/linux/if.h
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-2686
remote: commitId--67921dc9505fe9a1f16fb1d8abb6f1b4fa2f27b5
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 67921dc9505fe9a1f16fb1d8abb6f1b4fa2f27b5
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- .../apps/iproute2-patch/ip/Makefile .../apps/iproute2-patch/ip/ip_common.h .../apps/mapctl/mapCtlPrivate.h .../apps/ssk/ssk2_connstatus6.c .../cms_core/linux/device2/Makefile .../cms_core/linux/device2/rcl2_map.c .../cms_core/linux/device2/rut2_map.c .../cms_core/linux/device2/rut2_map.h .../cms_core/linux/device2/stl2_map.c .../data-model/cms-dm-tr181-map.xml .../gpl/apps/iproute2-patch/ip/ip.c .../gpl/apps/iproute2-patch/ip/ipmap.c .../include/linux/if_map.h .../libs/cms_core/linux/rut_util.c .../mapctl/scripts/eid_bcm_mapctl.txt .../merge-dev2.d/1910-tr181-map.txt .../private/apps/mapctl/.autodetect .../private/apps/mapctl/Makefile .../private/apps/mapctl/mapCtl.c .../private/apps/mapctl/mapCtl.h .../private/apps/mapctl/mapCtlUtil.c .../private/apps/mapctl/mapCtlUtil.h .../public/apps/dhcpv6-patch/Makefile .../public/apps/dhcpv6-patch/common.c .../public/apps/dhcpv6-patch/common.h .../public/apps/dhcpv6-patch/dhcp6.h .../public/apps/dhcpv6-patch/dhcp6c.c .../public/apps/dhcpv6-patch/dhcp6s.c .../public/apps/dhcpv6-patch/timer.c .../public/apps/dhcpv6-patch/timer.h .../userspace/public/include/cms_eid.h .../userspace/public/include/cms_msg.h arch/arm/configs/brcmstb_defconfig arch/mips/configs/bcm3384_defconfig include/linux/if_map.h include/net/ip.h include/net/ip6_route.h include/net/map.h include/uapi/linux/if.h include/uapi/linux/if_map.h net/bridge/br_forward.c net/bridge/br_netfilter.c net/bridge/br_private.h net/core/dev.c net/ipv4/ip_output.c net/ipv6/Kconfig net/ipv6/Makefile net/ipv6/map_defrag6.c net/ipv6/map_encap.c net/ipv6/map_main.c net/ipv6/map_napt.c net/ipv6/map_rule.c net/ipv6/map_trans.c net/ipv6/route.c rg_apps/make.common rg_apps/targets/93384/93384 rg_apps/targets/93390DCM/93390DCM rg_apps/targets/93390MWVG/93390MWVG rg_apps/targets/config.in
remote: getGrep-
remote:
remote: Processing commit be3b3fe62a8374aee7f3c02794c9c1803bd6421d
remote: Jiras=>SWRGROUTER-4514
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-4514
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.p  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100  141k    0  141k    0     0   297k      0 --:--:-- --:--:-- --:--:--  382k
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 102  2659    0  2659    0     0   6374      0 --:--:-- --:--:-- --:--:--  8495
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100  3331    0     0  100  3331      0   2300  0:00:01  0:00:01 --:--:--  2480
remote: l SWRGROUTER-4514
remote: JiraStatus-SWRGROUTER-4514-SWRGROUTER|Bug Closed|skern|feat_PowerManagement|feat_PowerManagement|Perform periodic develop to feat_PowerManagement merges|
remote:
remote: status-Bug Closed
remote: devId-rbbswbld
remote: summary-Perform periodic develop to feat_PowerManagement merges
remote: ##############################################################
remote: # Jira SWRGROUTER-4514 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;skern@broadcom.com;2016-05-02 11:13:26 -0700;be3b3fe62a8374aee7f3c02794c9c1803bd6421d;SWRGROUTER-4514 MODULE: Perform periodic develop to feat_PowerManagement merges;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-4514
remote: =======================
remote: UPDATE: SWRGROUTER-4514
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--drivers/bcm_media_gw/netfilter/xt_l2ogre_mt.c
remote:  drivers/bcm_media_gw/netfilter/xt_l2ogre_tg.c
remote:  net/ipv6/netfilter/Kconfig
remote:  net/ipv6/netfilter/Makefile
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-4514
remote: commitId--be3b3fe62a8374aee7f3c02794c9c1803bd6421d
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 be3b3fe62a8374aee7f3c02794c9c1803bd6421d
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- .../4365/components/shared/proto/nan.h .../4365/src/include/bcmparams.h .../4365/src/include/epivers.sh .../4365/src/pciedev/pciedev_data.c .../4365/src/pciedev/pciedev_priv.h .../4365/src/wl/clm/include/wlc_clm.h .../4365/src/wl/clm/src/wlc_clm.c .../4365/src/wl/clm/src/wlc_clm_data.c .../4365/src/wl/phy/wlc_phy_ac.c .../4365/src/wl/phy/wlc_phy_cmn.c .../4365/src/wl/sys/d11ucode_2w.c .../4365/src/wl/sys/d11ucode_ge24.c .../4365/src/wl/sys/d11ucode_ge40.c .../4365/src/wl/sys/d11ucode_gt15.c .../4365/src/wl/sys/d11ucode_le15.c .../4365/src/wl/sys/d11ucode_mu.c .../4365/src/wl/sys/d11ucode_p2p.c .../4365/src/wl/sys/d11ucode_wlcx.c .../4365/src/wl/sys/d11ucode_wowl.c .../4365/src/wl/sys/wlc_ampdu.c .../4365/src/wl/sys/wlc_ampdu.h .../7145a0/bchp_hif_continuation.h .../7145a0/bchp_hif_cpubiuctrl.h .../7145a0/bchp_hif_spi_intr2.h .../7145a0/bchp_moca_hostmisc.h .../7145a0/bchp_natc_reg_gfap.h .../7145a0/bchp_pcie_0_ext_cfg.h .../7145a0/bchp_pcie_0_misc_perst.h .../7145a0/bchp_pcie_0_rc_cfg_pcie.h .../7145a0/bchp_pcie_0_rc_cfg_type1.h .../7145a0/bchp_pcie_0_rc_cfg_vendor.h .../7145a0/bchp_shimphy_addr_cntl_0.h .../7145a0/bchp_shimphy_addr_cntl_1.h .../7145a0/bchp_switch_indir_rw.h .../7145a0/bchp_switch_intrl2_0.h .../7145a0/bchp_switch_intrl2_1.h .../7145a0/bchp_unimac_core0_uni0.h .../7145a0/bchp_unimac_core0_uni1.h .../7145a0/bchp_unimac_core0_uni2.h .../7145a0/bchp_unimac_core0_uni3.h .../7145b0/bchp_hif_continuation.h .../7145b0/bchp_hif_cpubiuctrl.h .../7145b0/bchp_hif_spi_intr2.h .../7145b0/bchp_moca_hostmisc.h .../7145b0/bchp_pcie_0_ext_cfg.h .../7145b0/bchp_pcie_0_misc_perst.h .../7145b0/bchp_pcie_0_rc_cfg_pcie.h .../7145b0/bchp_pcie_0_rc_cfg_type1.h .../7145b0/bchp_pcie_0_rc_cfg_vendor.h .../7145b0/bchp_shimphy_addr_cntl_0.h .../7145b0/bchp_shimphy_addr_cntl_1.h .../7145b0/bchp_switch_indir_rw.h .../7145b0/bchp_switch_intrl2_0.h .../7145b0/bchp_switch_intrl2_1.h .../7145b0/bchp_unimac_core0_uni0.h .../7145b0/bchp_unimac_core0_uni1.h .../7145b0/bchp_unimac_core0_uni2.h .../7145b0/bchp_unimac_core0_uni3.h .../7250b0/bchp_hif_continuation.h .../7250b0/bchp_hif_cpubiuctrl.h .../7250b0/bchp_pcie_0_ext_cfg.h .../7250b0/bchp_pcie_0_misc_perst.h .../7250b0/bchp_pcie_0_rc_cfg_pcie.h .../7250b0/bchp_pcie_0_rc_cfg_type1.h .../7250b0/bchp_pcie_0_rc_cfg_vendor.h .../7250b0/bchp_shimphy_addr_cntl_0.h .../7364a0/bchp_hif_continuation.h .../7364a0/bchp_hif_cpubiuctrl.h .../7364a0/bchp_moca_hostmisc.h .../7364a0/bchp_shimphy_addr_cntl_0.h .../7366b0/bchp_hif_continuation.h .../7366b0/bchp_hif_cpubiuctrl.h .../7366b0/bchp_hif_spi_intr2.h .../7366b0/bchp_moca_hostmisc.h .../7366b0/bchp_pcie_0_ext_cfg.h .../7366b0/bchp_pcie_0_misc_perst.h .../7366b0/bchp_pcie_0_rc_cfg_pcie.h .../7366b0/bchp_pcie_0_rc_cfg_type1.h .../7366b0/bchp_pcie_0_rc_cfg_vendor.h .../7366b0/bchp_shimphy_addr_cntl_0.h .../7366b0/bchp_xpt_memdma_mcpb.h .../7366b0/bchp_xpt_memdma_mcpb_ch0.h .../7366b0/bchp_xpt_security_ns.h .../7366c0/bchp_hif_continuation.h .../7366c0/bchp_hif_cpubiuctrl.h .../7366c0/bchp_moca_hostmisc.h .../7366c0/bchp_pcie_0_ext_cfg.h .../7366c0/bchp_pcie_0_misc_perst.h .../7366c0/bchp_pcie_0_rc_cfg_pcie.h .../7366c0/bchp_pcie_0_rc_cfg_type1.h .../7366c0/bchp_pcie_0_rc_cfg_vendor.h .../7366c0/bchp_shimphy_addr_cntl_0.h .../74371a0/bchp_aon_pin_ctrl.h .../74371a0/bchp_hif_continuation.h .../74371a0/bchp_hif_cpubiuctrl.h .../74371a0/bchp_hif_top_ctrl.h .../74371a0/bchp_moca_hostmisc.h .../74371a0/bchp_pcie_0_ext_cfg.h .../74371a0/bchp_pcie_0_intr2.h .../74371a0/bchp_pcie_0_misc_perst.h .../74371a0/bchp_pcie_0_rc_cfg_pcie.h .../74371a0/bchp_pcie_0_rc_cfg_type1.h .../74371a0/bchp_shimphy_addr_cntl_0.h .../7439a0/bchp_hif_continuation.h .../7439a0/bchp_hif_cpubiuctrl.h .../7439a0/bchp_hif_spi_intr2.h .../7439a0/bchp_moca_hostmisc.h .../7439a0/bchp_pcie_0_ext_cfg.h .../7439a0/bchp_pcie_0_misc_perst.h .../7439a0/bchp_pcie_0_rc_cfg_pcie.h .../7439a0/bchp_pcie_0_rc_cfg_type1.h .../7439a0/bchp_pcie_0_rc_cfg_vendor.h .../7439a0/bchp_shimphy_addr_cntl_0.h .../7439b0/bchp_hif_continuation.h .../7439b0/bchp_hif_cpubiuctrl.h .../7439b0/bchp_moca_hostmisc.h .../7439b0/bchp_pcie_0_ext_cfg.h .../7439b0/bchp_pcie_0_misc_perst.h .../7439b0/bchp_pcie_0_rc_cfg_pcie.h .../7439b0/bchp_pcie_0_rc_cfg_type1.h .../7439b0/bchp_pcie_0_rc_cfg_vendor.h .../7439b0/bchp_shimphy_addr_cntl_0.h .../7445d0/bchp_hif_continuation.h .../7445d0/bchp_hif_cpubiuctrl.h .../7445d0/bchp_moca_hostmisc.h .../7445d0/bchp_pcie_0_ext_cfg.h .../7445d0/bchp_pcie_0_misc_perst.h .../7445d0/bchp_pcie_0_rc_cfg_pcie.h .../7445d0/bchp_pcie_0_rc_cfg_type1.h .../7445d0/bchp_pcie_0_rc_cfg_vendor.h .../7445d0/bchp_shimphy_addr_cntl_0.h .../7445d0/bchp_shimphy_addr_cntl_1.h .../7445d0/bchp_shimphy_addr_cntl_2.h .../LatticeEthSwitchDataModelTable.c .../LatticeExampleMtaEventLogGet.c .../LatticeFrameworkDataModelTool.pl .../LatticeSystemDataModelTable.c .../LatticeWiFiAccessPointWPSImpl.c .../LatticeWiFiAccessPointWPSImpl.h .../apps/erouterctld/erouterctld.c .../apps/grectl/greCtlPrivate.h .../apps/httpd/device2/cgi_cmd.c .../apps/httpd/device2/cgi_main.c .../apps/httpd/device2/cgi_seclog.c .../apps/httpd/device2/cgi_sts.c .../apps/httpd/device2/cgi_util.c .../apps/httpd/html/natcfg2.html .../apps/nonvolupgrade/nonvolupgrade.c .../apps/ssk/ssk2_connstatus6.c .../apps/wlan/181wlmngr/Makefile .../apps/wlan/181wlmngr/wldaemon.c .../apps/wlan/181wlmngr/wlevt.c .../apps/wlan/181wlmngr/wlmngr.c .../apps/wlan/181wlmngr/wlmngr.h .../apps/wlan/181wlmngr/wlmngr_specialvar_handlers.c .../apps/wlan/wlmngr/wldaemon.c .../arm_le/wl_server_dongle .../arm_le/wl_server_serial .../arm_le/wl_server_socket .../asm/hardware/cache-b15-rac.h .../bchp_ddr34_phy_byte_lane_0_0.h .../bchp_ddr34_phy_byte_lane_0_1.h .../bchp_ddr34_phy_byte_lane_0_2.h .../bchp_ddr34_phy_byte_lane_1_0.h .../bchp_ddr34_phy_byte_lane_1_1.h .../bchp_ddr34_phy_byte_lane_1_2.h .../bchp_ddr34_phy_byte_lane_2_0.h .../bchp_ddr34_phy_byte_lane_2_1.h .../bchp_ddr34_phy_byte_lane_2_2.h .../bchp_ddr34_phy_byte_lane_3_0.h .../bchp_ddr34_phy_byte_lane_3_1.h .../bchp_ddr34_phy_byte_lane_3_2.h .../bchp_ddr34_phy_control_regs_0.h .../bchp_ddr34_phy_control_regs_1.h .../bchp_ddr34_phy_control_regs_2.h .../bchp_pcie_0_rc_cfg_vendor.h .../bchp_unimac_interface0_uni0.h .../bchp_unimac_interface0_uni1.h .../bchp_unimac_interface0_uni2.h .../bchp_unimac_interface0_uni3.h .../bchp_xpt_security_ns_intr2_0.h .../bcm93384/moca20core-gen22.bin .../bcm93390/moca20core-gen23.bin .../bcm93390/moca20core-gen24.bin .../bcm93390v0_4366_2G_P223v0_vars.txt .../bcm_media_gw/ethsw/ethsw_core.c .../bcm_media_gw/ethsw/ethsw_core.h .../bindings/arm/brcm-brcmstb.txt .../bindings/i2c/i2c-brcmstb.txt .../bindings/net/fixed-link.txt .../bindings/pci/brcmstb-pci.txt .../bindings/pwm/brcm,bcm7038-pwm.txt .../bindings/usb/bdc-udc.txt .../brcmstb/3390b0/bchp_hif_intr2.h .../brcmstb/3390b0/bchp_hif_mspi.h .../brcmstb/3390b0/bchp_sdio_0_cfg.h .../brcmstb/3390b0/bchp_switch_acb.h .../brcmstb/3390b0/bchp_switch_fcb.h .../brcmstb/3390b0/bchp_switch_reg.h .../brcmstb/3390b0/bchp_usb_ctrl.h .../brcmstb/7145a0/bchp_aon_ctrl.h .../brcmstb/7145a0/bchp_aon_pin_ctrl.h .../brcmstb/7145a0/bchp_aon_pm_l2.h .../brcmstb/7145a0/bchp_bspi_raf.h .../brcmstb/7145a0/bchp_control_gfap.h .../brcmstb/7145a0/bchp_dmahi0_gfap.h .../brcmstb/7145a0/bchp_dpe_hw_gfap.h .../brcmstb/7145a0/bchp_fpm_ctrl_fpm.h .../brcmstb/7145a0/bchp_fpm_pool_fpm.h .../brcmstb/7145a0/bchp_gio_aon.h .../brcmstb/7145a0/bchp_hif_intr2.h .../brcmstb/7145a0/bchp_hif_mspi.h .../brcmstb/7145a0/bchp_hif_top_ctrl.h .../brcmstb/7145a0/bchp_mbdma_uni0.h .../brcmstb/7145a0/bchp_mbdma_uni1.h .../brcmstb/7145a0/bchp_mbdma_uni2.h .../brcmstb/7145a0/bchp_mbdma_uni3.h .../brcmstb/7145a0/bchp_memc_arb_1.h .../brcmstb/7145a0/bchp_memc_ddr_0.h .../brcmstb/7145a0/bchp_memc_ddr_1.h .../brcmstb/7145a0/bchp_memc_misc_1.h .../brcmstb/7145a0/bchp_pcie_0_dma.h .../brcmstb/7145a0/bchp_pcie_0_intr2.h .../brcmstb/7145a0/bchp_pcie_0_misc.h .../brcmstb/7145a0/bchp_pcie_0_rgr1.h .../brcmstb/7145a0/bchp_sun_top_ctrl.h .../brcmstb/7145a0/bchp_switch_acb.h .../brcmstb/7145a0/bchp_switch_core.h .../brcmstb/7145a0/bchp_switch_fcb.h .../brcmstb/7145a0/bchp_switch_mdio.h .../brcmstb/7145a0/bchp_switch_reg.h .../brcmstb/7145a0/bchp_token_gfap.h .../brcmstb/7145a0/bchp_usb_ctrl.h .../brcmstb/7145b0/bchp_aon_ctrl.h .../brcmstb/7145b0/bchp_aon_pin_ctrl.h .../brcmstb/7145b0/bchp_aon_pm_l2.h .../brcmstb/7145b0/bchp_bspi_raf.h .../brcmstb/7145b0/bchp_control_gfap.h .../brcmstb/7145b0/bchp_fpm_ctrl_fpm.h .../brcmstb/7145b0/bchp_fpm_pool_fpm.h .../brcmstb/7145b0/bchp_gio_aon.h .../brcmstb/7145b0/bchp_gpio_per.h .../brcmstb/7145b0/bchp_hif_intr2.h .../brcmstb/7145b0/bchp_hif_mspi.h .../brcmstb/7145b0/bchp_hif_top_ctrl.h .../brcmstb/7145b0/bchp_mbdma_uni0.h .../brcmstb/7145b0/bchp_mbdma_uni1.h .../brcmstb/7145b0/bchp_mbdma_uni2.h .../brcmstb/7145b0/bchp_mbdma_uni3.h .../brcmstb/7145b0/bchp_memc_arb_1.h .../brcmstb/7145b0/bchp_memc_ddr_0.h .../brcmstb/7145b0/bchp_memc_ddr_1.h .../brcmstb/7145b0/bchp_memc_misc_1.h .../brcmstb/7145b0/bchp_pcie_0_dma.h .../brcmstb/7145b0/bchp_pcie_0_intr2.h .../brcmstb/7145b0/bchp_pcie_0_misc.h .../brcmstb/7145b0/bchp_pcie_0_rgr1.h .../brcmstb/7145b0/bchp_sdio_0_cfg.h .../brcmstb/7145b0/bchp_sun_top_ctrl.h .../brcmstb/7145b0/bchp_switch_acb.h .../brcmstb/7145b0/bchp_switch_core.h .../brcmstb/7145b0/bchp_switch_fcb.h .../brcmstb/7145b0/bchp_switch_mdio.h .../brcmstb/7145b0/bchp_switch_reg.h .../brcmstb/7145b0/bchp_usb_ctrl.h .../brcmstb/7250b0/bchp_aon_ctrl.h .../brcmstb/7250b0/bchp_aon_pin_ctrl.h .../brcmstb/7250b0/bchp_aon_pm_l2.h .../brcmstb/7250b0/bchp_gio_aon.h .../brcmstb/7250b0/bchp_hif_top_ctrl.h .../brcmstb/7250b0/bchp_memc_ddr_0.h .../brcmstb/7250b0/bchp_pcie_0_dma.h .../brcmstb/7250b0/bchp_pcie_0_intr2.h .../brcmstb/7250b0/bchp_pcie_0_misc.h .../brcmstb/7250b0/bchp_pcie_0_rgr1.h .../brcmstb/7364a0/bchp_aon_ctrl.h .../brcmstb/7364a0/bchp_aon_pin_ctrl.h .../brcmstb/7364a0/bchp_aon_pm_l2.h .../brcmstb/7364a0/bchp_gio_aon.h .../brcmstb/7364a0/bchp_hif_top_ctrl.h .../brcmstb/7364a0/bchp_memc_ddr_0.h .../brcmstb/7366b0/bchp_aon_ctrl.h .../brcmstb/7366b0/bchp_aon_pin_ctrl.h .../brcmstb/7366b0/bchp_aon_pm_l2.h .../brcmstb/7366b0/bchp_bspi_raf.h .../brcmstb/7366b0/bchp_gio_aon.h .../brcmstb/7366b0/bchp_hif_intr2.h .../brcmstb/7366b0/bchp_hif_mspi.h .../brcmstb/7366b0/bchp_hif_top_ctrl.h .../brcmstb/7366b0/bchp_memc_ddr_0.h .../brcmstb/7366b0/bchp_pcie_0_dma.h .../brcmstb/7366b0/bchp_pcie_0_intr2.h .../brcmstb/7366b0/bchp_pcie_0_misc.h .../brcmstb/7366b0/bchp_pcie_0_rgr1.h .../brcmstb/7366b0/bchp_sdio_0_cfg.h .../brcmstb/7366b0/bchp_sun_top_ctrl.h .../brcmstb/7366b0/bchp_usb_ctrl.h .../brcmstb/7366b0/bchp_xpt_bus_if.h .../brcmstb/7366b0/bchp_xpt_pmu.h .../brcmstb/7366c0/bchp_aon_ctrl.h .../brcmstb/7366c0/bchp_aon_pin_ctrl.h .../brcmstb/7366c0/bchp_aon_pm_l2.h .../brcmstb/7366c0/bchp_gio_aon.h .../brcmstb/7366c0/bchp_hif_top_ctrl.h .../brcmstb/7366c0/bchp_memc_ddr_0.h .../brcmstb/7366c0/bchp_pcie_0_dma.h .../brcmstb/7366c0/bchp_pcie_0_intr2.h .../brcmstb/7366c0/bchp_pcie_0_misc.h .../brcmstb/7366c0/bchp_pcie_0_rgr1.h .../brcmstb/7366c0/bchp_usb_ctrl.h .../brcmstb/74371a0/bchp_aon_ctrl.h .../brcmstb/74371a0/bchp_aon_pm_l2.h .../brcmstb/74371a0/bchp_clkgen.h .../brcmstb/74371a0/bchp_gio_aon.h .../brcmstb/74371a0/bchp_memc_ddr_0.h .../brcmstb/74371a0/bchp_pcie_0_dma.h .../brcmstb/74371a0/bchp_pcie_0_misc.h .../brcmstb/74371a0/bchp_pcie_0_rgr1.h .../brcmstb/74371a0/bchp_usb_xhci_ec.h .../brcmstb/7439a0/bchp_aon_ctrl.h .../brcmstb/7439a0/bchp_aon_pin_ctrl.h .../brcmstb/7439a0/bchp_aon_pm_l2.h .../brcmstb/7439a0/bchp_bspi_raf.h .../brcmstb/7439a0/bchp_gio_aon.h .../brcmstb/7439a0/bchp_hif_intr2.h .../brcmstb/7439a0/bchp_hif_mspi.h .../brcmstb/7439a0/bchp_hif_top_ctrl.h .../brcmstb/7439a0/bchp_memc_ddr_0.h .../brcmstb/7439a0/bchp_pcie_0_dma.h .../brcmstb/7439a0/bchp_pcie_0_intr2.h .../brcmstb/7439a0/bchp_pcie_0_misc.h .../brcmstb/7439a0/bchp_pcie_0_rgr1.h .../brcmstb/7439a0/bchp_sun_top_ctrl.h .../brcmstb/7439a0/bchp_usb_ctrl.h .../brcmstb/7439b0/bchp_aon_ctrl.h .../brcmstb/7439b0/bchp_aon_pin_ctrl.h .../brcmstb/7439b0/bchp_aon_pm_l2.h .../brcmstb/7439b0/bchp_gio_aon.h .../brcmstb/7439b0/bchp_hif_top_ctrl.h .../brcmstb/7439b0/bchp_memc_ddr_0.h .../brcmstb/7439b0/bchp_pcie_0_dma.h .../brcmstb/7439b0/bchp_pcie_0_intr2.h .../brcmstb/7439b0/bchp_pcie_0_misc.h .../brcmstb/7439b0/bchp_pcie_0_rgr1.h .../brcmstb/7439b0/bchp_usb_ctrl.h .../brcmstb/7445d0/bchp_aon_ctrl.h .../brcmstb/7445d0/bchp_aon_pin_ctrl.h .../brcmstb/7445d0/bchp_aon_pm_l2.h .../brcmstb/7445d0/bchp_gio_aon.h .../brcmstb/7445d0/bchp_hif_top_ctrl.h .../brcmstb/7445d0/bchp_memc_arb_1.h .../brcmstb/7445d0/bchp_memc_ddr_0.h .../brcmstb/7445d0/bchp_memc_ddr_1.h .../brcmstb/7445d0/bchp_memc_ddr_2.h .../brcmstb/7445d0/bchp_memc_misc_1.h .../brcmstb/7445d0/bchp_pcie_0_dma.h .../brcmstb/7445d0/bchp_pcie_0_intr2.h .../brcmstb/7445d0/bchp_pcie_0_misc.h .../brcmstb/7445d0/bchp_pcie_0_rgr1.h .../brcmstb/gpio-api/test-gpio-api.c .../brcmstb/irq-api/test-irq-api.c .../brcmstb/memory-api/.gitignore .../brcmstb/memory-api/Makefile .../brcmstb/nexus_version_check.h .../brcmstb/reg-api/test-reg-api.c .../broadcom/genet/bcmgenet_wol.c .../broadcom/net/wl/build-drv.sh .../clock/multiplier-clock.txt .../cm/LatticeCmDataModelTable.c .../cms-dm-tr181-networking.xml .../cms_core/linux/device2/rcl2_erouter.c .../cms_core/linux/device2/rcl2_wifi.c .../cms_core/linux/device2/stl2_wifi.c .../components/shared/proto/802.11.h .../components/shared/proto/bcmevent.h .../config/lattice-config-3390b0.xml .../configs/brcmstb_hardened_defconfig .../core/LatticeFrameworkTypes.h .../data-model/cms-dm-tr181-wifi.xml .../data_access/interface_ioctl.c .../data_access/interface_linux.c .../datamodel/LatticeDataModelApi.c .../datamodel/LatticeDataModelApi.h .../datamodel/LatticeDataModelTable.h .../devicetree/bindings/net/phy.txt .../dhd/linux/Makefile_kbuild_opensrc .../dhd/linux/Makefile_kbuild_portsrc .../dhd/src/dhd/sys/wl_erouter.h .../dhd/src/dhd/sys/wl_erouter_rfap.c .../dhd/src/include/bcmparams.h .../dhd/src/shared/rtecdc_43602a1.h .../dhd/src/wl/phy/phy_version.h .../docs/LatticeWiFiFramework.html .../eCos_to_Linux_NonVolUpgrade.xlsx .../ethernet/broadcom/genet/bcmgenet.c .../ethernet/broadcom/genet/bcmgenet.h .../ethernet/broadcom/genet/bcmmii.c .../ethsw/ethsw_init_plat.c .../gpio/brcm,brcmstb-gpio.txt .../if-mib/ifTable/ifTable_constants.h .../lattice-config-3390b0-dcm.xml .../lattice/docs/MoCA_Framework.csv .../lattice/docs/System_Framework.csv .../lattice/docs/WiFi_Framework.csv .../lattice/wifi/LatticeWiFiRadio.c .../lattice/wifi/LatticeWiFiRadio.h .../libs/cms_core/linux/rcl_system.c .../libs/cms_core/linux/rut_iptables.c .../libs/cms_core/linux/rut_iptables.h .../libs/cms_core/mdm2_init_cm.c .../libs/cms_util/linux/oal_network.c .../libs/mocactl/linux/Makefile .../libs/mocactl/linux/moca_linux.c .../libs/mocactl/linux/mocalib-cli.c .../libs/mocactl/linux/mocalib-gen.c .../libs/mocactl/linux/mocalib.c .../libupnp/include/upnp_version.h .../libxml2/example/Makefile .../libxml2/include/Makefile .../libxml2/include/libxml/Makefile .../linux/brcmstb/3390b0/bchp_bspi.h .../linux/brcmstb/3390b0/bchp_ebi.h .../linux/brcmstb/3390b0/bchp_irq0.h .../linux/brcmstb/3390b0/bchp_nand.h .../linux/brcmstb/7145a0/bchp_bspi.h .../linux/brcmstb/7145a0/bchp_clkgen.h .../linux/brcmstb/7145a0/bchp_common.h .../linux/brcmstb/7145a0/bchp_ebi.h .../linux/brcmstb/7145a0/bchp_gio.h .../linux/brcmstb/7145a0/bchp_irq0.h .../linux/brcmstb/7145a0/bchp_irq1.h .../linux/brcmstb/7145a0/bchp_nand.h .../linux/brcmstb/7145b0/bchp_bspi.h .../linux/brcmstb/7145b0/bchp_clkgen.h .../linux/brcmstb/7145b0/bchp_common.h .../linux/brcmstb/7145b0/bchp_ebi.h .../linux/brcmstb/7145b0/bchp_gio.h .../linux/brcmstb/7145b0/bchp_irq0.h .../linux/brcmstb/7145b0/bchp_irq1.h .../linux/brcmstb/7145b0/bchp_nand.h .../linux/brcmstb/7250b0/bchp_clkgen.h .../linux/brcmstb/7250b0/bchp_gio.h .../linux/brcmstb/7250b0/bchp_irq1.h .../linux/brcmstb/7364a0/bchp_clkgen.h .../linux/brcmstb/7364a0/bchp_gio.h .../linux/brcmstb/7364a0/bchp_irq1.h .../linux/brcmstb/7366b0/bchp_bspi.h .../linux/brcmstb/7366b0/bchp_clkgen.h .../linux/brcmstb/7366b0/bchp_common.h .../linux/brcmstb/7366b0/bchp_ebi.h .../linux/brcmstb/7366b0/bchp_gio.h .../linux/brcmstb/7366b0/bchp_irq0.h .../linux/brcmstb/7366b0/bchp_irq1.h .../linux/brcmstb/7366b0/bchp_nand.h .../linux/brcmstb/7366b0/bchp_xpt_fe.h .../linux/brcmstb/7366c0/bchp_clkgen.h .../linux/brcmstb/7366c0/bchp_gio.h .../linux/brcmstb/7366c0/bchp_irq1.h .../linux/brcmstb/74371a0/bchp_gio.h .../linux/brcmstb/74371a0/bchp_irq1.h .../linux/brcmstb/7439a0/bchp_bspi.h .../linux/brcmstb/7439a0/bchp_clkgen.h .../linux/brcmstb/7439a0/bchp_common.h .../linux/brcmstb/7439a0/bchp_ebi.h .../linux/brcmstb/7439a0/bchp_gio.h .../linux/brcmstb/7439a0/bchp_irq0.h .../linux/brcmstb/7439a0/bchp_irq1.h .../linux/brcmstb/7439a0/bchp_nand.h .../linux/brcmstb/7439b0/bchp_clkgen.h .../linux/brcmstb/7439b0/bchp_gio.h .../linux/brcmstb/7439b0/bchp_irq1.h .../linux/brcmstb/7445d0/bchp_clkgen.h .../linux/brcmstb/7445d0/bchp_gio.h .../linux/brcmstb/7445d0/bchp_irq1.h .../linux/device2/rcl2_erouter.c .../linux/device2/rcl2_firewall.c .../linux/device2/rut2_erouter.c .../linux/device2/rut2_system.c .../linux/device2/rut2_system.h .../main/src/include/bcmparams.h .../main/src/include/linux_osl.h .../main/src/router/Makefile.fw .../main/src/router/buzzz/Makefile .../main/src/shared/bcmsromio.c .../main/src/wl/clm/include/wlc_clm.h .../main/src/wl/clm/src/wlc_clm.c .../main/src/wl/clm/src/wlc_clm_data.c .../main/src/wl/phy/phy_version.h .../memory-api/test-memory-api.c .../mibgroup/broadcom/clabWIFIMib.c .../mibgroup/broadcom/clabWIFIMib.h .../mibgroup/if-mib/ifTable/ifTable.c .../mixedap/4365/src/include/epivers.h .../mixedap/4365/src/pciedev/pciedev.c .../mixedap/4365/src/wl/sys/wl_rte.c .../mixedap/4365/src/wl/sys/wlc_apps.c .../mixedap/4365/src/wl/sys/wlc_mutx.c .../mixedap/4365/src/wl/sys/wlc_scb.h .../mixedap/4365/src/wl/sys/wlc_taf.c .../mixedap/4365/src/wl/sys/wlc_txbf.c .../mixedap/4365/src/wl/sys/wlc_vht.c .../mixedap/dhd/src/dhd/linux/wl.spec .../mixedap/dhd/src/dhd/sys/dhd_pcie.c .../mixedap/dhd/src/include/epivers.h .../mixedap/dhd/src/include/epivers.sh .../mixedap/main/src/include/epivers.h .../mixedap/main/src/router/bsd/bsd.c .../mixedap/main/src/shared/nvram_ro.c .../mixedap/main/src/wl/linux/Makefile .../moca/LatticeMoCADataModelTable.c .../moca/LatticeMoCAInterface.c .../moca/LatticeMoCAInterface.h .../moca/LatticeMoCAInterfaceImpl.c .../mocactl/linux/mocalib-cli-gen.c .../mta/LatticeMtaDataModelTable.c .../mta/LatticeMtaEndpointImpl.c .../mta/LatticeMtaEventLogTable.c .../mta/LatticeMtaEventLogTable.h .../mta/LatticeMtaEventLogTableImpl.c .../mta/LatticeMtaEventLogTableImpl.h .../net/ethernet/broadcom/bcmsysport.c .../net/ethernet/broadcom/bcmsysport.h .../netfilter/ebt_dhcpsnoop.c .../netfilter/xt_l2ogre_mt.c .../netfilter/xt_l2ogre_tg.c .../nf_defrag_ipv6_hooks_notrack.c .../opensource/libxml2/Makefile .../opensource/libxml2/libtool .../opensource/libxml2/libxml-2.0.pc .../opensource/libxml2/libxml2.spec .../opensource/libxml2/xml2-config .../opensource/libxml2/xstc/Makefile .../opensource/sqlite3/Makefile .../opensource/sqlite3/libtool .../opensource/sqlite3/sqlite3.pc .../power/basic-pm-debugging.txt .../private/apps/httpd/device2/httpd.c .../private/apps/httpd/device2/httpd.h .../private/apps/mocad/mocad-gen.c .../private/apps/mocad/mocad.c .../private/apps/nonvolupgrade/nonvolupgrade.c .../private/apps/ssk/ssk2_connstatus.c .../private/apps/telnetd/telnetd.c .../private/apps/wlan/181wlmngr/wlevt.c .../private/apps/wlan/Makefile .../private/apps/wlan/wlmngr/wldefs.h .../private/apps/wlan/wlmngr/wlmdm.c .../private/apps/wlan/wlmngr/wlmdm.h .../private/apps/wlan/wlmngr/wlmngr.c .../private/apps/wlan/wlmngr/wlmngr.h .../private/apps/wlan/wlmngr/wlutil.c .../private/include/cms_dal.h .../private/include/linux/mocad-gen.h .../private/include/linux/mocad-int.h .../private/include/linux/mocad.h .../private/include/linux/mocaint.h .../private/include/linux/mocalib.h .../private/libs/cms_cli/cli_cmd.c .../private/libs/cms_core/management.c .../private/libs/cms_dal/dal2_wan.c .../private/libs/cms_dal/dal_auth.c .../private/libs/cms_dal/dal_main.c .../public/libs/cms_util/network.c .../shared/devctrl_if/wlioctl_defs.h .../shared/rtecdc_4366b1_nondebug.h .../shared/rtecdc_4366c0_nondebug.h .../shared/rtecdc_router_nondebug.h .../spi/brcm,spi-brcmstb-mspi.txt .../src/router/shared/router_version.h .../src/shared/rtecdc_4366b1_debug.h .../src/shared/rtecdc_4366c0_debug.h .../src/shared/rtecdc_router_debug.h .../src/wl/clm/include/wlc_clm_data.h .../testing/brcmstb/gpio-api/Makefile .../testing/brcmstb/memory-api/Kbuild .../testing/brcmstb/memory-api/README .../thermal/brcmstb-thermal.txt .../ti-soc-thermal/ti-thermal-common.c .../unittest/cm/TestSuite_CM.vbs .../usb/host/usb-brcm-common-init.c .../usb/host/usb-brcm-common-init.h .../userspace/private/apps/sntp/sntp.c .../userspace/private/apps/ssk/ssk.c .../userspace/private/libs/Makefile .../wifi/LatticeWiFiAccessPointWPS.c .../wifi/LatticeWiFiAccessPointWPS.h .../wifi/LatticeWiFiDataModelTable.c .../wifi/LatticeWiFiRadioImpl.c .../wifi/LatticeWiFiRadioImpl.h .../wifi_noasd/arm_le/wl_server_wifi .../wl/mixedap/4365/src/include/d11.h .../wl/mixedap/4365/src/wl/sys/wlc.c .../wl/mixedap/main/src/router/.config .../wl/mixedap/main/src/router/Makefile.fw .../wlan/homehotspot/homehotspot.c .../wlmngr_specialvar_handlers.c .../wlmngr_wps_var_handlers.c .../wps/common/include/wps_version.h ...3390v0_4366_5G_P103v0_high_vars.txt ...93390v0_4366_5G_P103v0_wl1_vars.txt ...93390v0_4366_5G_P145v0_wl0_vars.txt ...93390v0_4366_5G_P145v0_wl1_vars.txt ...ticePktAccelerationDataModelTable.c .gitignore Documentation/kernel-parameters.txt arch/arm/Kconfig.debug arch/arm/boot/dts/rg.3390b0.dts arch/arm/boot/dts/rg.7145a0.dts arch/arm/boot/dts/rg.7145b0.dts arch/arm/boot/dts/rgvm.7145a0.dts arch/arm/boot/dts/rgvm.7145b0.dts arch/arm/boot/dts/stbvm.7145a0.dts arch/arm/boot/dts/stbvm.7145b0.dts arch/arm/boot/dts/svm.7145a0.dts arch/arm/boot/dts/svm.7145b0.dts arch/arm/configs/brcmstb_defconfig arch/arm/include/asm/bug.h arch/arm/include/asm/buzzz.h arch/arm/include/asm/cacheflush.h arch/arm/include/asm/glue-cache.h arch/arm/include/asm/hardirq.h arch/arm/include/asm/smp.h arch/arm/kernel/devtree.c arch/arm/kernel/smp.c arch/arm/mach-bcm/Kconfig arch/arm/mach-bcm/Makefile arch/arm/mach-bcm/aon_defs.h arch/arm/mach-bcm/brcmstb.c arch/arm/mach-bcm/brcmstb.h arch/arm/mach-bcm/buzzz.c arch/arm/mach-bcm/cma_driver.c arch/arm/mach-bcm/gisb-brcmstb.c arch/arm/mach-bcm/headsmp-brcmstb.S arch/arm/mach-bcm/headsmp-brcmstb.h arch/arm/mach-bcm/hotplug-brcmstb.c arch/arm/mach-bcm/pci-brcmstb.c arch/arm/mach-bcm/platsmp-brcmstb.c arch/arm/mach-bcm/pm-brcmstb.c arch/arm/mach-bcm/pm-brcmstb.h arch/arm/mach-bcm/regsave.c arch/arm/mach-bcm/s2-brcmstb.S arch/arm/mach-bcm/srpd-brcmstb.c arch/arm/mach-bcm/wktmr-brcmstb.c arch/arm/mach-bcm/xpt_dma.c arch/arm/mach-bcm/xpt_dma.h arch/arm/mach-imx/headsmp.S arch/arm/mach-prima2/headsmp.S arch/arm/mach-shmobile/headsmp-scu.S arch/arm/mach-shmobile/headsmp.S arch/arm/mach-shmobile/platsmp-apmu.c arch/arm/mach-socfpga/core.h arch/arm/mach-socfpga/headsmp.S arch/arm/mach-socfpga/platsmp.c arch/arm/mach-sunxi/Makefile arch/arm/mach-sunxi/headsmp.S arch/arm/mach-sunxi/platsmp.c arch/arm/mach-tegra/Makefile arch/arm/mach-tegra/headsmp.S arch/arm/mach-tegra/reset.c arch/arm/mach-tegra/reset.h arch/arm/mach-zynq/common.h arch/arm/mach-zynq/headsmp.S arch/arm/mach-zynq/platsmp.c arch/arm/mm/Kconfig arch/arm/mm/Makefile arch/arm/mm/cache-b15-rac.c arch/arm/mm/cache-v7.S arch/arm/mm/dma-mapping.c arch/arm/mm/init.c arch/arm/mm/mmu.c arch/arm/mm/proc-macros.S arch/arm/mm/proc-v7-2level.S arch/arm/mm/proc-v7.S arch/powerpc/kvm/book3s_hv_builtin.c arch/x86/include/asm/bug.h arch/x86/kernel/setup.c drivers/Kconfig drivers/Makefile drivers/ata/ahci.h drivers/ata/ahci_platform.c drivers/ata/libahci.c drivers/ata/libata-core.c drivers/ata/sata_brcmstb.c drivers/ata/sata_brcmstb.h drivers/ata/sata_brcmstb_phy.c drivers/base/Kconfig drivers/base/dma-contiguous.c drivers/bcm_media_gw/ethsw/ethsw.h drivers/bcm_media_gw/fpm/fpm_core.c drivers/bcm_media_gw/fpm/fpm_priv.h drivers/bcm_media_gw/netfilter/ebt_dhcpsnoop.c drivers/bcm_media_gw/netfilter/xt_l2ogre_mt.c drivers/bcm_media_gw/netfilter/xt_l2ogre_tg.c drivers/bus/Kconfig drivers/bus/Makefile drivers/bus/brcmstb_gisb.c drivers/char/bmoca.c drivers/clk/Makefile drivers/clk/clk-brcmstb.c drivers/clk/clk-divider.c drivers/clk/clk-multiplier.c drivers/clk/clk.c drivers/gpio/Kconfig drivers/gpio/gpiolib.c drivers/gpio/gpiolib.h drivers/hwmon/lm75.c drivers/hwmon/tmp102.c drivers/i2c/busses/i2c-brcmstb.c drivers/input/input.c drivers/irqchip/irq-bcm7120-l2.c drivers/mmc/card/block.c drivers/mmc/core/core.c drivers/mmc/core/mmc.c drivers/mmc/core/sd.c drivers/mmc/core/sdio.c drivers/mmc/host/sdhci-brcmstb.c drivers/mmc/host/sdhci.c drivers/mmc/host/sdhci.h drivers/mtd/devices/m25p80.c drivers/mtd/nand/brcmstb_nand.c drivers/net/dsa/bcm_sf2.c drivers/net/dsa/bcm_sf2.h drivers/net/dsa/bcm_sf2_regs.h drivers/net/phy/bcm7xxx.c drivers/net/phy/ethsw.c drivers/net/phy/mdio-bitbang.c drivers/net/phy/mdio-unimac.c drivers/net/phy/mdio_bus.c drivers/net/phy/phy.c drivers/net/phy/phy_device.c drivers/of/fdt.c drivers/of/of_mdio.c drivers/of/of_reserved_mem.c drivers/phy/Makefile drivers/phy/phy-brcm-usb.c drivers/pwm/pwm-brcmstb.c drivers/soc/Kconfig drivers/soc/Makefile drivers/soc/brcmstb/Kconfig drivers/soc/brcmstb/Makefile drivers/soc/brcmstb/biuctrl.c drivers/soc/brcmstb/bmem.c drivers/soc/brcmstb/cma_driver.c drivers/soc/brcmstb/common.c drivers/soc/brcmstb/irq0-stub.c drivers/soc/brcmstb/memory.c drivers/soc/brcmstb/nexus/Makefile drivers/soc/brcmstb/nexus/gpio.c drivers/soc/brcmstb/nexus/gpio.h drivers/soc/brcmstb/nexus/irq.c drivers/soc/brcmstb/nexus/reg.c drivers/soc/brcmstb/pm/Makefile drivers/soc/brcmstb/pm/aon_defs.h drivers/soc/brcmstb/pm/pm.c drivers/soc/brcmstb/pm/pm.h drivers/soc/brcmstb/pm/regsave.c drivers/soc/brcmstb/pm/s2.S drivers/soc/brcmstb/pm/xpt_dma.c drivers/soc/brcmstb/pm/xpt_dma.h drivers/soc/brcmstb/srpd.c drivers/soc/brcmstb/wktmr.c drivers/spi/Kconfig drivers/spi/Makefile drivers/spi/spi-brcmstb-mspi.c drivers/spi/spi-brcmstb.c drivers/thermal/Kconfig drivers/thermal/Makefile drivers/thermal/brcmstb_thermal.c drivers/thermal/fair_share.c drivers/thermal/intel_powerclamp.c drivers/thermal/of-thermal.c drivers/thermal/step_wise.c drivers/thermal/thermal_core.c drivers/thermal/thermal_core.h drivers/thermal/user_space.c drivers/tty/serial/8250/8250_core.c drivers/tty/serial/of_serial.c drivers/usb/core/hub.c drivers/usb/gadget/Kconfig drivers/usb/gadget/Makefile drivers/usb/gadget/bdc/Kconfig drivers/usb/gadget/bdc/Makefile drivers/usb/gadget/bdc/bdc.h drivers/usb/gadget/bdc/bdc_cmd.c drivers/usb/gadget/bdc/bdc_cmd.h drivers/usb/gadget/bdc/bdc_core.c drivers/usb/gadget/bdc/bdc_dbg.c drivers/usb/gadget/bdc/bdc_dbg.h drivers/usb/gadget/bdc/bdc_ep.c drivers/usb/gadget/bdc/bdc_ep.h drivers/usb/gadget/bdc/bdc_pci.c drivers/usb/gadget/bdc/bdc_udc.c drivers/usb/gadget/udc-core.c drivers/usb/host/ehci-brcm.c drivers/usb/host/ohci-brcm.c drivers/usb/host/usb-brcm.c drivers/usb/host/xhci-brcm.c drivers/watchdog/bcm7038_wdt.c fs/proc/meminfo.c fs/pstore/ram.c fs/xfs/xfs_attr.c fs/xfs/xfs_attr_leaf.c fs/xfs/xfs_attr_list.c fs/xfs/xfs_attr_remote.c fs/xfs/xfs_da_btree.h include/asm-generic/bug.h include/asm-generic/vmlinux.lds.h include/dt-bindings/thermal/thermal.h include/linux/bmoca.h include/linux/brcmphy.h include/linux/brcmstb/bmem.h include/linux/brcmstb/brcmstb.h include/linux/brcmstb/cma_driver.h include/linux/brcmstb/gpio_api.h include/linux/brcmstb/irq_api.h include/linux/brcmstb/memory_api.h include/linux/brcmstb/reg_api.h include/linux/clk-provider.h include/linux/cma.h include/linux/dma-contiguous.h include/linux/gfp.h include/linux/gpio.h include/linux/gpio/consumer.h include/linux/gpio/driver.h include/linux/irq.h include/linux/libata.h include/linux/memblock.h include/linux/mmc/card.h include/linux/mmc/host.h include/linux/mmzone.h include/linux/netdevice.h include/linux/of_mdio.h include/linux/of_reserved_mem.h include/linux/page-isolation.h include/linux/pageblock-flags.h include/linux/phy.h include/linux/serial_core.h include/linux/soc/brcmstb/brcmstb.h include/linux/spi/spi.h include/linux/thermal.h include/linux/usb/gadget.h include/net/dsa.h include/soc/brcmstb/common.h include/trace/events/thermal.h include/uapi/linux/Kbuild include/uapi/linux/brcmstb/Kbuild include/uapi/linux/serial_core.h kernel/irq/handle.c kernel/irq/manage.c kernel/irq/resend.c kernel/irq/spurious.c kernel/power/suspend.c kernel/sched/core.c kernel/softirq.c kernel/workqueue.c lib/show_mem.c mm/Kconfig mm/Makefile mm/cma.c mm/internal.h mm/memblock.c mm/memory.c mm/page_alloc.c mm/page_isolation.c net/bridge/br_if.c net/bridge/br_netlink.c net/bridge/br_private.h net/bridge/br_stp.c net/bridge/br_stp_if.c net/bridge/br_stp_timer.c net/dsa/dsa.c net/dsa/dsa_priv.h net/dsa/slave.c net/dsa/tag_brcm.c net/dsa/tag_dsa.c net/dsa/tag_edsa.c net/dsa/tag_trailer.c net/ipv4/ping.c net/ipv6/netfilter/Kconfig net/ipv6/netfilter/Makefile packaging/Makefile packaging/linux-src-rpmlintrc packaging/linux-src.spec rg_apps/Makefile rg_apps/lattice/apps/cli/LatticeCli.c rg_apps/lattice/apps/example/Makefile rg_apps/lattice/cm/LatticeCmBpi.c rg_apps/lattice/cm/LatticeCmBpi.h rg_apps/lattice/cm/LatticeCmBpiImpl.c rg_apps/lattice/cm/LatticeCmBpiImpl.h rg_apps/lattice/cm/LatticeCmImpl.c rg_apps/lattice/cm/LatticeCmInternal.h rg_apps/lattice/docs/Cm_Framework.csv rg_apps/lattice/docs/Mta_Framework.csv rg_apps/lattice/moca/LatticeMoCA.c rg_apps/lattice/moca/LatticeMoCA.h rg_apps/lattice/moca/LatticeMoCAImpl.c rg_apps/lattice/moca/LatticeMoCAImpl.h rg_apps/lattice/wifi/LatticeWiFi.c rg_apps/lattice/wifi/LatticeWiFi.h rg_apps/lattice/wifi/LatticeWiFiAccessPointWPSImpl.c rg_apps/lattice/wifi/LatticeWiFiImpl.c rg_apps/lattice/wifi/LatticeWiFiImpl.h rg_apps/make.common rg_apps/make.lattice rg_apps/userspace/public/apps/Makefile rootfs/skel/bin/dload rootfs/skel/etc/init.d/rcS.util rootfs/skel/root/rc.user.forsanity rootfs/user/wdmd/main.c scripts/.gitignore scripts/analyze_oom.py scripts/decode_gfpmask.py scripts/kconfig/Makefile scripts/kconfig/menu.c scripts/setlocalversion security/keys/process_keys.c tools/testing/brcmstb/gpio-api/Kbuild tools/testing/brcmstb/gpio-api/README tools/testing/brcmstb/irq-api/Kbuild tools/testing/brcmstb/irq-api/Makefile tools/testing/brcmstb/irq-api/README tools/testing/brcmstb/reg-api/Kbuild tools/testing/brcmstb/reg-api/Makefile tools/testing/brcmstb/reg-api/README tools/thermal/tmon/.gitignore tools/thermal  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100  366k    0  366k    0     0   595k      0 --:--:-- --:--:-- --:--:--  716k
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 108   866    0   866    0     0   2095      0 --:--:-- --:--:-- --:--:--  2820
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100  1205    0     0  100  1205      0    795  0:00:01  0:00:01 --:--:--   853
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 35726    0 35726    0     0  79753      0 --:--:-- --:--:-- --:--:--  101k
remote: /tmon/Makefile tools/thermal/tmon/makefile tools/thermal/tmon/tmon.c tools/thermal/tmon/tui.c
remote: getGrep-
remote:
remote: Processing commit 6d235f76416b1824571b16181ad4a3e9e409db75
remote: Jiras=>SWRGROUTER-4522
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-4522
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-4522
remote: JiraStatus-SWRGROUTER-4522-SWRGROUTER|Closed|choub|feat_PowerManagement|feat_PowerManagement|3390VCM: Modem is not able to complete any software downloads on feat_PowerManagement due to ItcNiTxCommon sendHostDqmMessage() failure|
remote:
remote: status-Closed
remote: devId-rbbswbld
remote: summary-3390VCM: Modem is not able to complete any software downloads on feat_PowerManagement due to ItcNiTxCommon sendHostDqmMessage() failure
remote: ##############################################################
remote: # Jira SWRGROUTER-4522 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;skern@broadcom.com;2016-05-02 14:05:35 -0700;6d235f76416b1824571b16181ad4a3e9e409db75;SWRGROUTER-4522 MODULE: 3390VCM: Modem is not able to complete any software downloads on feat_PowerManagement due to ItcNiTxCommon;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-4522
remote: =======================
remote: UPDATE: SWRGROUTER-4522
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--drivers/cpufreq/Kconfig
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-4522
remote: commitId--6d235f76416b1824571b16181ad4a3e9e409db75
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CMLinux
remote:
remote: hostname-git-atl-01.ash.broadcom.net
remote: ------------------------
remote: Note: One Consolidated Sanity Build will be fired for this push.
remote: Submiting Consolidated Sanity Build.
remote: git log --format=%B -n 1 6d235f76416b1824571b16181ad4a3e9e409db75
remote: Comming send_email.
remote: Looking for MIBFiles
remote: files-- drivers/cpufreq/Kconfig
remote: getGrep-
remote:
remote: Processing commit 8adbc9ff6a393b62e35676040981985af19a9a2b
remote: Jiras=>SWRGROUTER-4215
remote: ref-refs/heads/Prod_6.1.1mp1_Netgear
remote: FOUND:: SWRGROUTER-4215
remote: /home/gitcmand/.gitolite/local/VREF/getJiraStatus.pl SWRGROUTER-4215
remote: JiraStatus-SWRGROUTER-4215-SWRGROUTER|New Feature Confirm|petersu|develop|develop|6.1.1: RG Health Monitor update|
remote:
remote: status-New Feature Confirm
remote: devId-rbbswbld
remote: summary-6.1.1: RG Health Monitor update
remote: ##############################################################
remote: # Jira SWRGROUTER-4215 not marked to be delivered to Prod_6.1.1mp1_Netgear.
remote: # Please make sure you are on correct branch or
remote: # Jira is attached to correct fixVersion.
remote: ##############################################################
remote: Note: All sanity checks and builds will be overlooked.
remote: sanitySkipFlag==Y
remote: devId==rbbswbld
remote: =======================
remote: info--;petersu@broadcom.com;2016-05-03 10:24:48 -0400;8adbc9ff6a393b62e35676040981985af19a9a2b;SWRGROUTER-4215: Watchdog needs to have the option of setting nowayout at runtime.;
remote: login--b52814cb7f54822d52f0993ee39f7de5ce31dc53
remote: jid--SWRGROUTER-4215
remote: =======================
remote: UPDATE: SWRGROUTER-4215
remote: ------------------------
remote: cloneInfo--/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cloneInfo-/projects/gitrbbatl/cm_repositories/gitRepo/erouter-linux-314.git
remote: cSet--drivers/watchdog/bcm7038_wdt.c
remote:
remote: Scanning change set..
remote: ecProject-----Prod_6.1.1mp1_Netgear-RGLinux
remote: /home/gitcmand/.gitolite/local/VREF/getProjAttributes.pl Prod_6.1.1mp1_Netgear-RGLinux
remote: autoLibFlag--
remote: devId--rbbswbld
remote: jid--SWRGROUTER-4215
remote: commitId--8adbc9ff6a393b62e35676040981985af19a9a2b
remote: bfcFlag--
remote: pc15Flag--
remote: pc20Flag--
remote: ecProject->Prod_6.1.1mp1_Netgear-RGLinux
remote: SanityBuild-1
remote: sanitySkipFlag-Y
remote: JiraCheck-
remote:
remote: ProjectLine-CM  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 119   598    0   598    0     0   1461      0 --:--:-- --:--:-- --:--:--  1967
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote:   0     0    0     0    0   779      0    531 --:--:--  0:00:01 --:--:--     0
remote:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
remote:                                  Dload  Upload   Total   Spent    Left  Speed
remote: 100 82118    0 82118    0     0   163k      0 --:--:-- --:--:-- --:--:--  208k
^C
sdunlap@lc-atl-235:/projects/bfc_work1/sdunlap/erouter-linux-314(Prod_6.1.1mp1_Netgear)$
